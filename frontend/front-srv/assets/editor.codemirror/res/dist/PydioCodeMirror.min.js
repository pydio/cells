(()=>{"use strict";var e,n,r,t,o={1760:e=>{e.exports=function(e){var n=[];return n.toString=function(){return this.map((function(n){var r="",t=void 0!==n[5];return n[4]&&(r+="@supports (".concat(n[4],") {")),n[2]&&(r+="@media ".concat(n[2]," {")),t&&(r+="@layer".concat(n[5].length>0?" ".concat(n[5]):""," {")),r+=e(n),t&&(r+="}"),n[2]&&(r+="}"),n[4]&&(r+="}"),r})).join("")},n.i=function(e,r,t,o,i){"string"==typeof e&&(e=[[null,e,void 0]]);var a={};if(t)for(var c=0;c<this.length;c++){var l=this[c][0];null!=l&&(a[l]=!0)}for(var s=0;s<e.length;s++){var d=[].concat(e[s]);t&&a[d[0]]||(void 0!==i&&(void 0===d[5]||(d[1]="@layer".concat(d[5].length>0?" ".concat(d[5]):""," {").concat(d[1],"}")),d[5]=i),r&&(d[2]?(d[1]="@media ".concat(d[2]," {").concat(d[1],"}"),d[2]=r):d[2]=r),o&&(d[4]?(d[1]="@supports (".concat(d[4],") {").concat(d[1],"}"),d[4]=o):d[4]="".concat(o)),n.push(d))}},n}},156:e=>{e.exports=function(e){return e[1]}},1322:(e,n,r)=>{r.d(n,{Z:()=>c});var t=r(156),o=r.n(t),i=r(1760),a=r.n(i)()(o());a.push([e.id,".CodeMirror {\n  height: 100% !important;\n}\n.CodeMirror-line-numbers {\n  width: 2.2em;\n  color: #aaa;\n  background-color: #eee;\n  text-align: right;\n  padding-right: 0.3em;\n  font-size: 10pt;\n  font-family: monospace !important;\n  padding-top: 0.4em;\n  line-height: normal;\n}\n.CodeMirror-line-numbers > div {\n  font-family: monospace !important;\n}\n",""]);const c=a},457:(e,n,r)=>{r.d(n,{Z:()=>c});var t=r(156),o=r.n(t),i=r(1760),a=r.n(i)()(o());a.push([e.id,".ReactCodeMirror.CMEditor {\n  width: 100%;\n  flex: 1;\n}\n.react-mui-context .mdviewer {\n  flex: 1;\n  border-left: 2px solid #e0e0e0;\n  padding: 20px;\n  background-color: #fafafa;\n  overflow-y: auto;\n}\n.react-mui-context .mdviewer ul,\n.react-mui-context .mdviewer ol {\n  margin-left: 15px;\n}\n.react-mui-context .mdviewer code {\n  margin: 10px 0;\n  border-radius: 2px;\n  padding: 5px 10px;\n  background-color: #CFD8DC;\n}\n.react-mui-context .mdviewer pre code {\n  display: block;\n}\n",""]);const c=a},8392:(e,n,r)=>{r.d(n,{Z:()=>c});var t=r(156),o=r.n(t),i=r(1760),a=r.n(i)()(o());a.push([e.id,"/* BASICS */\n.CodeMirror {\n  /* Set height, width, borders, and global font properties here */\n  font-family: monospace;\n  height: 300px;\n  color: black;\n  direction: ltr;\n}\n/* PADDING */\n.CodeMirror-lines {\n  padding: 4px 0;\n  /* Vertical padding around content */\n}\n.CodeMirror pre.CodeMirror-line,\n.CodeMirror pre.CodeMirror-line-like {\n  padding: 0 4px;\n  /* Horizontal padding of content */\n}\n.CodeMirror-scrollbar-filler,\n.CodeMirror-gutter-filler {\n  background-color: white;\n  /* The little square between H and V scrollbars */\n}\n/* GUTTER */\n.CodeMirror-gutters {\n  border-right: 1px solid #ddd;\n  background-color: #f7f7f7;\n  white-space: nowrap;\n}\n.CodeMirror-linenumber {\n  padding: 0 3px 0 5px;\n  min-width: 20px;\n  text-align: right;\n  color: #999;\n  white-space: nowrap;\n}\n.CodeMirror-guttermarker {\n  color: black;\n}\n.CodeMirror-guttermarker-subtle {\n  color: #999;\n}\n/* CURSOR */\n.CodeMirror-cursor {\n  border-left: 1px solid black;\n  border-right: none;\n  width: 0;\n}\n/* Shown when moving in bi-directional text */\n.CodeMirror div.CodeMirror-secondarycursor {\n  border-left: 1px solid silver;\n}\n.cm-fat-cursor .CodeMirror-cursor {\n  width: auto;\n  border: 0 !important;\n  background: #7e7;\n}\n.cm-fat-cursor div.CodeMirror-cursors {\n  z-index: 1;\n}\n.cm-fat-cursor-mark {\n  background-color: rgba(20, 255, 20, 0.5);\n  -webkit-animation: blink 1.06s steps(1) infinite;\n  -moz-animation: blink 1.06s steps(1) infinite;\n  animation: blink 1.06s steps(1) infinite;\n}\n.cm-animate-fat-cursor {\n  width: auto;\n  border: 0;\n  -webkit-animation: blink 1.06s steps(1) infinite;\n  -moz-animation: blink 1.06s steps(1) infinite;\n  animation: blink 1.06s steps(1) infinite;\n  background-color: #7e7;\n}\n@-moz-keyframes blink {\n  50% {\n    background-color: transparent;\n  }\n}\n@-webkit-keyframes blink {\n  50% {\n    background-color: transparent;\n  }\n}\n@keyframes blink {\n  50% {\n    background-color: transparent;\n  }\n}\n/* Can style cursor different in overwrite (non-insert) mode */\n.cm-tab {\n  display: inline-block;\n  text-decoration: inherit;\n}\n.CodeMirror-rulers {\n  position: absolute;\n  left: 0;\n  right: 0;\n  top: -50px;\n  bottom: 0;\n  overflow: hidden;\n}\n.CodeMirror-ruler {\n  border-left: 1px solid #ccc;\n  top: 0;\n  bottom: 0;\n  position: absolute;\n}\n/* DEFAULT THEME */\n.cm-s-default .cm-header {\n  color: blue;\n}\n.cm-s-default .cm-quote {\n  color: #090;\n}\n.cm-negative {\n  color: #d44;\n}\n.cm-positive {\n  color: #292;\n}\n.cm-header,\n.cm-strong {\n  font-weight: bold;\n}\n.cm-em {\n  font-style: italic;\n}\n.cm-link {\n  text-decoration: underline;\n}\n.cm-strikethrough {\n  text-decoration: line-through;\n}\n.cm-s-default .cm-keyword {\n  color: #708;\n}\n.cm-s-default .cm-atom {\n  color: #219;\n}\n.cm-s-default .cm-number {\n  color: #164;\n}\n.cm-s-default .cm-def {\n  color: #00f;\n}\n.cm-s-default .cm-variable-2 {\n  color: #05a;\n}\n.cm-s-default .cm-variable-3,\n.cm-s-default .cm-type {\n  color: #085;\n}\n.cm-s-default .cm-comment {\n  color: #a50;\n}\n.cm-s-default .cm-string {\n  color: #a11;\n}\n.cm-s-default .cm-string-2 {\n  color: #f50;\n}\n.cm-s-default .cm-meta {\n  color: #555;\n}\n.cm-s-default .cm-qualifier {\n  color: #555;\n}\n.cm-s-default .cm-builtin {\n  color: #30a;\n}\n.cm-s-default .cm-bracket {\n  color: #997;\n}\n.cm-s-default .cm-tag {\n  color: #170;\n}\n.cm-s-default .cm-attribute {\n  color: #00c;\n}\n.cm-s-default .cm-hr {\n  color: #999;\n}\n.cm-s-default .cm-link {\n  color: #00c;\n}\n.cm-s-default .cm-error {\n  color: #f00;\n}\n.cm-invalidchar {\n  color: #f00;\n}\n.CodeMirror-composing {\n  border-bottom: 2px solid;\n}\n/* Default styles for common addons */\ndiv.CodeMirror span.CodeMirror-matchingbracket {\n  color: #0b0;\n}\ndiv.CodeMirror span.CodeMirror-nonmatchingbracket {\n  color: #a22;\n}\n.CodeMirror-matchingtag {\n  background: rgba(255, 150, 0, 0.3);\n}\n.CodeMirror-activeline-background {\n  background: #e8f2ff;\n}\n/* STOP */\n/* The rest of this file contains styles related to the mechanics of\n   the editor. You probably shouldn't touch them. */\n.CodeMirror {\n  position: relative;\n  overflow: hidden;\n  background: white;\n}\n.CodeMirror-scroll {\n  overflow: scroll !important;\n  /* Things will break if this is overridden */\n  /* 50px is the magic margin used to hide the element's real scrollbars */\n  /* See overflow: hidden in .CodeMirror */\n  margin-bottom: -50px;\n  margin-right: -50px;\n  padding-bottom: 50px;\n  height: 100%;\n  outline: none;\n  /* Prevent dragging from highlighting the element */\n  position: relative;\n}\n.CodeMirror-sizer {\n  position: relative;\n  border-right: 50px solid transparent;\n}\n/* The fake, visible scrollbars. Used to force redraw during scrolling\n   before actual scrolling happens, thus preventing shaking and\n   flickering artifacts. */\n.CodeMirror-vscrollbar,\n.CodeMirror-hscrollbar,\n.CodeMirror-scrollbar-filler,\n.CodeMirror-gutter-filler {\n  position: absolute;\n  z-index: 6;\n  display: none;\n  outline: none;\n}\n.CodeMirror-vscrollbar {\n  right: 0;\n  top: 0;\n  overflow-x: hidden;\n  overflow-y: scroll;\n}\n.CodeMirror-hscrollbar {\n  bottom: 0;\n  left: 0;\n  overflow-y: hidden;\n  overflow-x: scroll;\n}\n.CodeMirror-scrollbar-filler {\n  right: 0;\n  bottom: 0;\n}\n.CodeMirror-gutter-filler {\n  left: 0;\n  bottom: 0;\n}\n.CodeMirror-gutters {\n  position: absolute;\n  left: 0;\n  top: 0;\n  min-height: 100%;\n  z-index: 3;\n}\n.CodeMirror-gutter {\n  white-space: normal;\n  height: 100%;\n  display: inline-block;\n  vertical-align: top;\n  margin-bottom: -50px;\n}\n.CodeMirror-gutter-wrapper {\n  position: absolute;\n  z-index: 4;\n  background: none !important;\n  border: none !important;\n}\n.CodeMirror-gutter-background {\n  position: absolute;\n  top: 0;\n  bottom: 0;\n  z-index: 4;\n}\n.CodeMirror-gutter-elt {\n  position: absolute;\n  cursor: default;\n  z-index: 4;\n}\n.CodeMirror-gutter-wrapper ::selection {\n  background-color: transparent;\n}\n.CodeMirror-gutter-wrapper ::-moz-selection {\n  background-color: transparent;\n}\n.CodeMirror-lines {\n  cursor: text;\n  min-height: 1px;\n  /* prevents collapsing before first draw */\n}\n.CodeMirror pre.CodeMirror-line,\n.CodeMirror pre.CodeMirror-line-like {\n  /* Reset some styles that the rest of the page might have set */\n  -moz-border-radius: 0;\n  -webkit-border-radius: 0;\n  border-radius: 0;\n  border-width: 0;\n  background: transparent;\n  font-family: inherit;\n  font-size: inherit;\n  margin: 0;\n  white-space: pre;\n  word-wrap: normal;\n  line-height: inherit;\n  color: inherit;\n  z-index: 2;\n  position: relative;\n  overflow: visible;\n  -webkit-tap-highlight-color: transparent;\n  -webkit-font-variant-ligatures: contextual;\n  font-variant-ligatures: contextual;\n}\n.CodeMirror-wrap pre.CodeMirror-line,\n.CodeMirror-wrap pre.CodeMirror-line-like {\n  word-wrap: break-word;\n  white-space: pre-wrap;\n  word-break: normal;\n}\n.CodeMirror-linebackground {\n  position: absolute;\n  left: 0;\n  right: 0;\n  top: 0;\n  bottom: 0;\n  z-index: 0;\n}\n.CodeMirror-linewidget {\n  position: relative;\n  z-index: 2;\n  padding: 0.1px;\n  /* Force widget margins to stay inside of the container */\n}\n.CodeMirror-rtl pre {\n  direction: rtl;\n}\n.CodeMirror-code {\n  outline: none;\n}\n/* Force content-box sizing for the elements where we expect it */\n.CodeMirror-scroll,\n.CodeMirror-sizer,\n.CodeMirror-gutter,\n.CodeMirror-gutters,\n.CodeMirror-linenumber {\n  -moz-box-sizing: content-box;\n  box-sizing: content-box;\n}\n.CodeMirror-measure {\n  position: absolute;\n  width: 100%;\n  height: 0;\n  overflow: hidden;\n  visibility: hidden;\n}\n.CodeMirror-cursor {\n  position: absolute;\n  pointer-events: none;\n}\n.CodeMirror-measure pre {\n  position: static;\n}\ndiv.CodeMirror-cursors {\n  visibility: hidden;\n  position: relative;\n  z-index: 3;\n}\ndiv.CodeMirror-dragcursors {\n  visibility: visible;\n}\n.CodeMirror-focused div.CodeMirror-cursors {\n  visibility: visible;\n}\n.CodeMirror-selected {\n  background: #d9d9d9;\n}\n.CodeMirror-focused .CodeMirror-selected {\n  background: #d7d4f0;\n}\n.CodeMirror-crosshair {\n  cursor: crosshair;\n}\n.CodeMirror-line::selection,\n.CodeMirror-line > span::selection,\n.CodeMirror-line > span > span::selection {\n  background: #d7d4f0;\n}\n.CodeMirror-line::-moz-selection,\n.CodeMirror-line > span::-moz-selection,\n.CodeMirror-line > span > span::-moz-selection {\n  background: #d7d4f0;\n}\n.cm-searching {\n  background-color: #ffa;\n  background-color: rgba(255, 255, 0, 0.4);\n}\n/* Used to force a border model for a node */\n.cm-force-border {\n  padding-right: 0.1px;\n}\n@media print {\n  /* Hide the cursor when printing */\n  .CodeMirror div.CodeMirror-cursors {\n    visibility: hidden;\n  }\n}\n/* See issue #2901 */\n.cm-tab-wrap-hack:after {\n  content: '';\n}\n/* Help users use markselection to safely style text background */\nspan.CodeMirror-selectedtext {\n  background: none;\n}\n",""]);const c=a},3247:e=>{var n=[];function r(e){for(var r=-1,t=0;t<n.length;t++)if(n[t].identifier===e){r=t;break}return r}function t(e,t){for(var i={},a=[],c=0;c<e.length;c++){var l=e[c],s=t.base?l[0]+t.base:l[0],d=i[s]||0,u="".concat(s," ").concat(d);i[s]=d+1;var f=r(u),p={css:l[1],media:l[2],sourceMap:l[3],supports:l[4],layer:l[5]};if(-1!==f)n[f].references++,n[f].updater(p);else{var b=o(p,t);t.byIndex=c,n.splice(c,0,{identifier:u,updater:b,references:1})}a.push(u)}return a}function o(e,n){var r=n.domAPI(n);return r.update(e),function(n){if(n){if(n.css===e.css&&n.media===e.media&&n.sourceMap===e.sourceMap&&n.supports===e.supports&&n.layer===e.layer)return;r.update(e=n)}else r.remove()}}e.exports=function(e,o){var i=t(e=e||[],o=o||{});return function(e){e=e||[];for(var a=0;a<i.length;a++){var c=r(i[a]);n[c].references--}for(var l=t(e,o),s=0;s<i.length;s++){var d=r(i[s]);0===n[d].references&&(n[d].updater(),n.splice(d,1))}i=l}}},3938:e=>{var n={};e.exports=function(e,r){var t=function(e){if(void 0===n[e]){var r=document.querySelector(e);if(window.HTMLIFrameElement&&r instanceof window.HTMLIFrameElement)try{r=r.contentDocument.head}catch(e){r=null}n[e]=r}return n[e]}(e);if(!t)throw new Error("Couldn't find a style target. This probably means that the value for the 'insert' parameter is invalid.");t.appendChild(r)}},3767:e=>{e.exports=function(e){var n=document.createElement("style");return e.setAttributes(n,e.attributes),e.insert(n,e.options),n}},4549:(e,n,r)=>{e.exports=function(e){var n=r.nc;n&&e.setAttribute("nonce",n)}},6415:e=>{e.exports=function(e){var n=e.insertStyleElement(e);return{update:function(r){!function(e,n,r){var t="";r.supports&&(t+="@supports (".concat(r.supports,") {")),r.media&&(t+="@media ".concat(r.media," {"));var o=void 0!==r.layer;o&&(t+="@layer".concat(r.layer.length>0?" ".concat(r.layer):""," {")),t+=r.css,o&&(t+="}"),r.media&&(t+="}"),r.supports&&(t+="}");var i=r.sourceMap;i&&"undefined"!=typeof btoa&&(t+="\n/*# sourceMappingURL=data:application/json;base64,".concat(btoa(unescape(encodeURIComponent(JSON.stringify(i))))," */")),n.styleTagTransform(t,e,n.options)}(n,e,r)},remove:function(){!function(e){if(null===e.parentNode)return!1;e.parentNode.removeChild(e)}(n)}}}},3035:e=>{e.exports=function(e,n){if(n.styleSheet)n.styleSheet.cssText=e;else{for(;n.firstChild;)n.removeChild(n.firstChild);n.appendChild(document.createTextNode(e))}}},9003:e=>{e.exports=require("classnames")},8566:e=>{e.exports=require("create-react-class")},4305:e=>{e.exports=require("lodash.debounce")},580:e=>{e.exports=require("prop-types")},6689:e=>{e.exports=require("react")},6405:e=>{e.exports=require("react-dom")}},i={};function a(e){var n=i[e];if(void 0!==n)return n.exports;var r=i[e]={id:e,loaded:!1,exports:{}};return o[e].call(r.exports,r,r.exports,a),r.loaded=!0,r.exports}a.m=o,a.n=e=>{var n=e&&e.__esModule?()=>e.default:()=>e;return a.d(n,{a:n}),n},n=Object.getPrototypeOf?e=>Object.getPrototypeOf(e):e=>e.__proto__,a.t=function(r,t){if(1&t&&(r=this(r)),8&t)return r;if("object"==typeof r&&r){if(4&t&&r.__esModule)return r;if(16&t&&"function"==typeof r.then)return r}var o=Object.create(null);a.r(o);var i={};e=e||[null,n({}),n([]),n(n)];for(var c=2&t&&r;"object"==typeof c&&!~e.indexOf(c);c=n(c))Object.getOwnPropertyNames(c).forEach((e=>i[e]=()=>r[e]));return i.default=()=>r,a.d(o,i),o},a.d=(e,n)=>{for(var r in n)a.o(n,r)&&!a.o(e,r)&&Object.defineProperty(e,r,{enumerable:!0,get:n[r]})},a.f={},a.e=e=>Promise.all(Object.keys(a.f).reduce(((n,r)=>(a.f[r](e,n),n)),[])),a.u=e=>e+".min.js",a.g=function(){if("object"==typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"==typeof window)return window}}(),a.o=(e,n)=>Object.prototype.hasOwnProperty.call(e,n),r={},t="editor.codemirror:",a.l=(e,n,o,i)=>{if(r[e])r[e].push(n);else{var c,l;if(void 0!==o)for(var s=document.getElementsByTagName("script"),d=0;d<s.length;d++){var u=s[d];if(u.getAttribute("src")==e||u.getAttribute("data-webpack")==t+o){c=u;break}}c||(l=!0,(c=document.createElement("script")).charset="utf-8",c.timeout=120,a.nc&&c.setAttribute("nonce",a.nc),c.setAttribute("data-webpack",t+o),c.src=e),r[e]=[n];var f=(n,t)=>{c.onerror=c.onload=null,clearTimeout(p);var o=r[e];if(delete r[e],c.parentNode&&c.parentNode.removeChild(c),o&&o.forEach((e=>e(t))),n)return n(t)},p=setTimeout(f.bind(null,void 0,{type:"timeout",target:c}),12e4);c.onerror=f.bind(null,c.onerror),c.onload=f.bind(null,c.onload),l&&document.head.appendChild(c)}},a.r=e=>{"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},a.nmd=e=>(e.paths=[],e.children||(e.children=[]),e),a.p="plug/editor.codemirror/res/dist/",(()=>{var e={445:0};a.f.j=(n,r)=>{var t=a.o(e,n)?e[n]:void 0;if(0!==t)if(t)r.push(t[2]);else{var o=new Promise(((r,o)=>t=e[n]=[r,o]));r.push(t[2]=o);var i=a.p+a.u(n),c=new Error;a.l(i,(r=>{if(a.o(e,n)&&(0!==(t=e[n])&&(e[n]=void 0),t)){var o=r&&("load"===r.type?"missing":r.type),i=r&&r.target&&r.target.src;c.message="Loading chunk "+n+" failed.\n("+o+": "+i+")",c.name="ChunkLoadError",c.type=o,c.request=i,t[1](c)}}),"chunk-"+n,n)}};var n=(n,r)=>{var t,o,[i,c,l]=r,s=0;if(i.some((n=>0!==e[n]))){for(t in c)a.o(c,t)&&(a.m[t]=c[t]);l&&l(a)}for(n&&n(r);s<i.length;s++)o=i[s],a.o(e,o)&&e[o]&&e[o][0](),e[o]=0},r=self.webpackChunkeditor_codemirror=self.webpackChunkeditor_codemirror||[];r.forEach(n.bind(null,0)),r.push=n.bind(null,r.push.bind(r))})(),a.nc=void 0;var c={};(()=>{a.r(c),a.d(c,{Actions:()=>e,Editor:()=>ae});var e={};a.r(e),a.d(e,{onJumpTo:()=>f,onRedo:()=>l,onSave:()=>o,onSearch:()=>u,onToggleLineNumbers:()=>s,onToggleLineWrapping:()=>d,onUndo:()=>i});const n=require("pydio");var r=a.n(n),t=r().requireLib("hoc").EditorActions,o=function(e){var n=e.dispatch,o=e.tab;return function(){return pydio.ApiClient.postPlainTextContent(o.node,o.content,(function(e){n(e?t.tabModify({id:o.id,message:r().getMessages()[115]}):t.tabModify({id:o.id,message:r().getMessages()[210]}))}))}},i=function(e){var n=e.tab;return function(){return n.codemirror.undo()}},l=function(e){var n=e.tab;return function(){return n.codemirror.redo()}},s=function(e){var n=e.dispatch,r=e.tab;return function(){return n(t.tabModify({id:r.id,lineNumbers:!r.lineNumbers}))}},d=function(e){var n=e.dispatch,r=e.tab;return function(){return n(t.tabModify({id:r.id,lineWrapping:!r.lineWrapping}))}},u=function(e){var n=e.tab;return function(e){var r=n.codemirror,t=n.cursor,o=function(e){var n=e.match(/^\/(.*)\/([a-z]*)$/);if(n)try{e=new RegExp(n[1],-1==n[2].indexOf("i")?"":"i")}catch(e){}else e=e.replace(/\\(.)/g,(function(e,n){return"n"===n?"\n":"r"===n?"\r":n}));return("string"==typeof e?""==e:e.test(""))&&(e=/x^/),e}(e),i=r.getSearchCursor(o,t.to);(i.find()||(i=r.getSearchCursor(o,0)).find())&&(r.setSelection(i.from(),i.to()),r.scrollIntoView({from:i.from(),to:i.to()},20))}},f=function(e){var n=e.tab;return function(e){var r=n.codemirror,t=parseInt(e),o=r.getCursor();r.focus(),r.setCursor(t-1,o.ch),r.scrollIntoView({line:t-1,ch:o.ch},20)}},p=a(6689),b=a.n(p);const m=require("pydio/util/dom");var h=a.n(m);const g=require("react-redux"),v=require("react-markdown");var y=a.n(v);const w=require("pydio/util/path");var C=a.n(w),k=a(3247),M=a.n(k),x=a(6415),P=a.n(x),O=a(3938),j=a.n(O),S=a(4549),E=a.n(S),T=a(3767),z=a.n(T),_=a(3035),A=a.n(_),R=a(457),D={};D.styleTagTransform=A(),D.setAttributes=E(),D.insert=j().bind(null,"head"),D.domAPI=P(),D.insertStyleElement=z(),M()(R.Z,D),R.Z&&R.Z.locals&&R.Z.locals;var q=a(1322),N={};N.styleTagTransform=A(),N.setAttributes=E(),N.insert=j().bind(null,"head"),N.domAPI=P(),N.insertStyleElement=z(),M()(q.Z,N),q.Z&&q.Z.locals&&q.Z.locals;var L=a(8392),Z={};function I(e){return I="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},I(e)}function U(e,n){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var t=Object.getOwnPropertySymbols(e);n&&(t=t.filter((function(n){return Object.getOwnPropertyDescriptor(e,n).enumerable}))),r.push.apply(r,t)}return r}function B(e){for(var n=1;n<arguments.length;n++){var r=null!=arguments[n]?arguments[n]:{};n%2?U(Object(r),!0).forEach((function(n){F(e,n,r[n])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):U(Object(r)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))}))}return e}function F(e,n,r){return(n=H(n))in e?Object.defineProperty(e,n,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[n]=r,e}function W(e,n){for(var r=0;r<n.length;r++){var t=n[r];t.enumerable=t.enumerable||!1,t.configurable=!0,"value"in t&&(t.writable=!0),Object.defineProperty(e,H(t.key),t)}}function H(e){var n=function(e,n){if("object"!==I(e)||null===e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var t=r.call(e,"string");if("object"!==I(t))return t;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"===I(n)?n:String(n)}function V(e,n){return V=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,n){return e.__proto__=n,e},V(e,n)}function G(e){return G=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},G(e)}Z.styleTagTransform=A(),Z.setAttributes=E(),Z.insert=j().bind(null,"head"),Z.domAPI=P(),Z.insertStyleElement=z(),M()(L.Z,Z),L.Z&&L.Z.locals&&L.Z.locals;var J=function(e){!function(e,n){if("function"!=typeof n&&null!==n)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(n&&n.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),n&&V(e,n)}(c,e);var n,r,t,o,i=(t=c,o=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,n=G(t);if(o){var r=G(this).constructor;e=Reflect.construct(n,arguments,r)}else e=n.apply(this,arguments);return function(e,n){if(n&&("object"===I(n)||"function"==typeof n))return n;if(void 0!==n)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}(this,e)});function c(e){var n;return function(e,n){if(!(e instanceof n))throw new TypeError("Cannot call a class as a function")}(this,c),(n=i.call(this,e)).cm=(0,p.createRef)(),n.state={},n.loaded=!1,Promise.all([a.e(201),a.e(487)]).then(a.t.bind(a,1487,23)).then((function(e){var r=e.default;Promise.all([a.e(201),a.e(156)]).then(a.t.bind(a,1156,23)).then((function(){Promise.all([a.e(201),a.e(259)]).then(a.t.bind(a,5259,23)).then((function(){n.setState({CodeMirror:r})}))}))})),n}return n=c,r=[{key:"componentDidUpdate",value:function(e,n,r){if(this.cm.current){if(!this.loaded){var t=this.cm.current.getCodeMirror(),o=this.cm.current.getCodeMirrorInstance().findModeByFileName(C().getBasename(this.props.url));o&&this.setMode(o),this.loaded=!0,this.props.onLoad(t)}void 0===e.content&&void 0!==this.props.content&&this.cm.current.getCodeMirror().setValue(this.props.content)}}},{key:"setMode",value:function(e){var n,r=this;switch(e.mode){case"javascript":n=Promise.all([a.e(201),a.e(119)]).then(a.t.bind(a,9119,23));break;case"css":n=Promise.all([a.e(201),a.e(264)]).then(a.t.bind(a,3264,23));break;case"php":n=Promise.all([a.e(201),a.e(119),a.e(264),a.e(929),a.e(208)]).then(a.t.bind(a,2208,23));break;case"dart":n=Promise.all([a.e(201),a.e(929),a.e(605)]).then(a.t.bind(a,2605,23));break;case"dockerfile":n=Promise.all([a.e(201),a.e(14)]).then(a.t.bind(a,4014,23));break;case"erlang":n=Promise.all([a.e(201),a.e(385)]).then(a.t.bind(a,3385,23));break;case"diff":n=Promise.all([a.e(201),a.e(959)]).then(a.t.bind(a,5959,23));break;case"go":n=Promise.all([a.e(201),a.e(214)]).then(a.t.bind(a,8214,23));break;case"groovy":n=Promise.all([a.e(201),a.e(63)]).then(a.t.bind(a,1063,23));break;case"htmlmixed":n=Promise.all([a.e(201),a.e(119),a.e(264),a.e(680)]).then(a.t.bind(a,2680,23));break;case"markdown":n=Promise.all([a.e(201),a.e(763)]).then(a.t.bind(a,4763,23));break;case"sass":n=Promise.all([a.e(201),a.e(264),a.e(817)]).then(a.t.bind(a,817,23));break;case"perl":n=Promise.all([a.e(201),a.e(927)]).then(a.t.bind(a,1927,23));break;case"clike":n=Promise.all([a.e(201),a.e(929)]).then(a.t.bind(a,7929,23));break;case"clojure":n=Promise.all([a.e(201),a.e(684)]).then(a.t.bind(a,6684,23));break;case"nginx":n=Promise.all([a.e(201),a.e(499)]).then(a.t.bind(a,4063,23));break;case"jsx":n=Promise.all([a.e(201),a.e(119),a.e(618)]).then(a.t.bind(a,6618,23));break;case"xml":n=Promise.all([a.e(201),a.e(781)]).then(a.t.bind(a,781,23));break;case"yaml":n=Promise.all([a.e(201),a.e(602)]).then(a.t.bind(a,9602,23));break;case"vbscript":n=Promise.all([a.e(201),a.e(828)]).then(a.t.bind(a,8828,23));break;case"swift":n=Promise.all([a.e(201),a.e(923)]).then(a.t.bind(a,5923,23));break;case"rust":n=Promise.all([a.e(201),a.e(906)]).then(a.t.bind(a,4906,23));break;case"python":n=Promise.all([a.e(201),a.e(484)]).then(a.t.bind(a,484,23));break;case"sql":n=Promise.all([a.e(201),a.e(412)]).then(a.t.bind(a,2412,23));break;case"sparql":n=Promise.all([a.e(201),a.e(706)]).then(a.t.bind(a,7706,23));break;case"shell":n=Promise.all([a.e(201),a.e(281)]).then(a.t.bind(a,6281,23));break;default:n=Promise.resolve()}n.then((function(){r.setState({mode:e.mode})}))}},{key:"render",value:function(){var e=this.state,n=e.CodeMirror,r=e.mode;if(!n)return null;var t=this.props,o=t.content,i=t.options,a=t.url,c=t.onLoad,l=t.onChange,s=t.onCursorChange,d=t.cmStyle;return b().createElement(n,{ref:this.cm,name:a,value:o,options:B(B({},i),{},{mode:r}),className:"CMEditor",onLoad:c,onChange:l,onCursorActivity:s,cmStyle:d})}}],r&&W(n.prototype,r),Object.defineProperty(n,"prototype",{writable:!1}),c}(p.Component);const Y=J;var $;function K(){return K=Object.assign?Object.assign.bind():function(e){for(var n=1;n<arguments.length;n++){var r=arguments[n];for(var t in r)Object.prototype.hasOwnProperty.call(r,t)&&(e[t]=r[t])}return e},K.apply(this,arguments)}function Q(e,n){for(var r=0;r<n.length;r++){var t=n[r];t.enumerable=t.enumerable||!1,t.configurable=!0,"value"in t&&(t.writable=!0),Object.defineProperty(e,oe(t.key),t)}}function X(e,n){return X=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,n){return e.__proto__=n,e},X(e,n)}function ee(e){return ee=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},ee(e)}function ne(e){return ne="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},ne(e)}function re(e,n){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var t=Object.getOwnPropertySymbols(e);n&&(t=t.filter((function(n){return Object.getOwnPropertyDescriptor(e,n).enumerable}))),r.push.apply(r,t)}return r}function te(e,n,r){return(n=oe(n))in e?Object.defineProperty(e,n,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[n]=r,e}function oe(e){var n=function(e,n){if("object"!==ne(e)||null===e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var t=r.call(e,"string");if("object"!==ne(t))return t;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"===ne(n)?n:String(n)}var ie=r().requireLib("hoc").EditorActions,ae=(0,g.connect)((function(e,n){var r=e.tabs.filter((function(e){var r=e.editorData,t=e.node;return(!r||r.id===n.editorData.id)&&t.getPath()===n.node.getPath()}))[0]||{};return function(e){for(var n=1;n<arguments.length;n++){var r=null!=arguments[n]?arguments[n]:{};n%2?re(Object(r),!0).forEach((function(n){te(e,n,r[n])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):re(Object(r)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))}))}return e}({id:r.id,tab:r},n)}),ie)($=function(e){!function(e,n){if("function"!=typeof n&&null!==n)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(n&&n.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),n&&X(e,n)}(a,e);var n,r,t,o,i=(t=a,o=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,n=ee(t);if(o){var r=ee(this).constructor;e=Reflect.construct(n,arguments,r)}else e=n.apply(this,arguments);return function(e,n){if(n&&("object"===ne(n)||"function"==typeof n))return n;if(void 0!==n)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}(this,e)});function a(e){var n;!function(e,n){if(!(e instanceof n))throw new TypeError("Cannot call a class as a function")}(this,a);var r=(n=i.call(this,e)).props,t=r.node,o=r.tab,c=void 0===o?{}:o,l=r.tabCreate;return c.id||l({id:t.getLabel(),node:t}),n}return n=a,r=[{key:"componentDidMount",value:function(){var e=this.props,n=e.pydio,r=e.node,t=e.tab,o=e.tabModify,i=t.id;n.ApiClient.getPlainContent(r,(function(e){o({id:i||r.getLabel(),editable:!0,editortools:!0,searchable:!0,lineNumbers:!0,content:e,node:r})}))}},{key:"componentWillReceiveProps",value:function(e){var n=this.props.editorModify;n&&e.isActive&&n({fixedToolbar:!0})}},{key:"render",value:function(){var e=this.props,n=e.node,r=e.tab,t=e.error,o=e.tabModify;if(!r)return null;var i=r.id,a=r.content,c=r.lineWrapping,l=r.lineNumbers;if("md"===n.getAjxpMime()){var s=h().getViewportWidth()>480;return b().createElement("div",{style:{display:"flex",flex:1,width:"100%",backgroundColor:"white"}},b().createElement(Y,K({},this.props,{url:n.getPath(),content:a,options:{lineNumbers:l,lineWrapping:c},error:t,onLoad:function(e){return o({id:i,codemirror:e})},onChange:function(e){return o({id:i,content:e})},onCursorChange:function(e){return o({id:i,cursor:e})},cmStyle:{flex:1,width:s?"60%":"100%"}})),s&&b().createElement(y(),{source:a,className:"mdviewer"}))}return b().createElement(Y,K({},this.props,{url:n.getPath(),content:a,options:{lineNumbers:l,lineWrapping:c},error:t,onLoad:function(e){return o({id:i,codemirror:e})},onChange:function(e){return o({id:i,content:e})},onCursorChange:function(e){return o({id:i,cursor:e})}}))}}],r&&Q(n.prototype,r),Object.defineProperty(n,"prototype",{writable:!1}),a}(b().Component))||$})(),window.PydioCodeMirror=c})();