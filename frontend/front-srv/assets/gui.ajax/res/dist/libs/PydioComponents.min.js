/*! For license information please see PydioComponents.min.js.LICENSE.txt */
(()=>{var e,t,r,n,o={5998:(e,t,r)=>{"use strict";r.d(t,{Z:()=>y});var n=r(3997),o=r(7e3),i=r(5586),a=r(2471),s=r(2137),c=r(6194),l=r(5614),u=function(e,t,r){for(var n=0,i=0;n=i,i=(0,o.fj)(),38===n&&12===i&&(t[r]=1),!(0,o.r)(i);)(0,o.lp)();return(0,o.tP)(e,o.FK)},d=new WeakMap,p=function(e){if("rule"===e.type&&e.parent&&!(e.length<1)){for(var t=e.value,r=e.parent,n=e.column===r.column&&e.line===r.line;"rule"!==r.type;)if(!(r=r.parent))return;if((1!==e.props.length||58===t.charCodeAt(0)||d.get(r))&&!n){d.set(e,!0);for(var a=[],s=function(e,t){return(0,o.cE)(function(e,t){var r=-1,n=44;do{switch((0,o.r)(n)){case 0:38===n&&12===(0,o.fj)()&&(t[r]=1),e[r]+=u(o.FK-1,t,r);break;case 2:e[r]+=(0,o.iF)(n);break;case 4:if(44===n){e[++r]=58===(0,o.fj)()?"&\f":"",t[r]=e[r].length;break}default:e[r]+=(0,i.Dp)(n)}}while(n=(0,o.lp)());return e}((0,o.un)(e),t))}(t,a),c=r.props,l=0,p=0;l<s.length;l++)for(var f=0;f<c.length;f++,p++)e.props[p]=a[l]?s[l].replace(/&\f/g,c[f]):c[f]+" "+s[l]}}},f=function(e){if("decl"===e.type){var t=e.value;108===t.charCodeAt(0)&&98===t.charCodeAt(2)&&(e.return="",e.value="")}};function h(e,t){switch((0,i.vp)(e,t)){case 5103:return a.G$+"print-"+e+e;case 5737:case 4201:case 3177:case 3433:case 1641:case 4457:case 2921:case 5572:case 6356:case 5844:case 3191:case 6645:case 3005:case 6391:case 5879:case 5623:case 6135:case 4599:case 4855:case 4215:case 6389:case 5109:case 5365:case 5621:case 3829:return a.G$+e+e;case 5349:case 4246:case 4810:case 6968:case 2756:return a.G$+e+a.uj+e+a.MS+e+e;case 6828:case 4268:return a.G$+e+a.MS+e+e;case 6165:return a.G$+e+a.MS+"flex-"+e+e;case 5187:return a.G$+e+(0,i.gx)(e,/(\w+).+(:[^]+)/,a.G$+"box-$1$2"+a.MS+"flex-$1$2")+e;case 5443:return a.G$+e+a.MS+"flex-item-"+(0,i.gx)(e,/flex-|-self/,"")+e;case 4675:return a.G$+e+a.MS+"flex-line-pack"+(0,i.gx)(e,/align-content|flex-|-self/,"")+e;case 5548:return a.G$+e+a.MS+(0,i.gx)(e,"shrink","negative")+e;case 5292:return a.G$+e+a.MS+(0,i.gx)(e,"basis","preferred-size")+e;case 6060:return a.G$+"box-"+(0,i.gx)(e,"-grow","")+a.G$+e+a.MS+(0,i.gx)(e,"grow","positive")+e;case 4554:return a.G$+(0,i.gx)(e,/([^-])(transform)/g,"$1"+a.G$+"$2")+e;case 6187:return(0,i.gx)((0,i.gx)((0,i.gx)(e,/(zoom-|grab)/,a.G$+"$1"),/(image-set)/,a.G$+"$1"),e,"")+e;case 5495:case 3959:return(0,i.gx)(e,/(image-set\([^]*)/,a.G$+"$1$`$1");case 4968:return(0,i.gx)((0,i.gx)(e,/(.+:)(flex-)?(.*)/,a.G$+"box-pack:$3"+a.MS+"flex-pack:$3"),/s.+-b[^;]+/,"justify")+a.G$+e+e;case 4095:case 3583:case 4068:case 2532:return(0,i.gx)(e,/(.+)-inline(.+)/,a.G$+"$1$2")+e;case 8116:case 7059:case 5753:case 5535:case 5445:case 5701:case 4933:case 4677:case 5533:case 5789:case 5021:case 4765:if((0,i.to)(e)-1-t>6)switch((0,i.uO)(e,t+1)){case 109:if(45!==(0,i.uO)(e,t+4))break;case 102:return(0,i.gx)(e,/(.+:)(.+)-([^]+)/,"$1"+a.G$+"$2-$3$1"+a.uj+(108==(0,i.uO)(e,t+3)?"$3":"$2-$3"))+e;case 115:return~(0,i.Cw)(e,"stretch")?h((0,i.gx)(e,"stretch","fill-available"),t)+e:e}break;case 4949:if(115!==(0,i.uO)(e,t+1))break;case 6444:switch((0,i.uO)(e,(0,i.to)(e)-3-(~(0,i.Cw)(e,"!important")&&10))){case 107:return(0,i.gx)(e,":",":"+a.G$)+e;case 101:return(0,i.gx)(e,/(.+:)([^;!]+)(;|!.+)?/,"$1"+a.G$+(45===(0,i.uO)(e,14)?"inline-":"")+"box$3$1"+a.G$+"$2$3$1"+a.MS+"$2box$3")+e}break;case 5936:switch((0,i.uO)(e,t+11)){case 114:return a.G$+e+a.MS+(0,i.gx)(e,/[svh]\w+-[tblr]{2}/,"tb")+e;case 108:return a.G$+e+a.MS+(0,i.gx)(e,/[svh]\w+-[tblr]{2}/,"tb-rl")+e;case 45:return a.G$+e+a.MS+(0,i.gx)(e,/[svh]\w+-[tblr]{2}/,"lr")+e}return a.G$+e+a.MS+e+e}return e}var m=[function(e,t,r,n){if(e.length>-1&&!e.return)switch(e.type){case a.h5:e.return=h(e.value,e.length);break;case a.lK:return(0,s.q)([(0,o.JG)(e,{value:(0,i.gx)(e.value,"@","@"+a.G$)})],n);case a.Fr:if(e.length)return(0,i.$e)(e.props,(function(t){switch((0,i.EQ)(t,/(::plac\w+|:read-\w+)/)){case":read-only":case":read-write":return(0,s.q)([(0,o.JG)(e,{props:[(0,i.gx)(t,/:(read-\w+)/,":"+a.uj+"$1")]})],n);case"::placeholder":return(0,s.q)([(0,o.JG)(e,{props:[(0,i.gx)(t,/:(plac\w+)/,":"+a.G$+"input-$1")]}),(0,o.JG)(e,{props:[(0,i.gx)(t,/:(plac\w+)/,":"+a.uj+"$1")]}),(0,o.JG)(e,{props:[(0,i.gx)(t,/:(plac\w+)/,a.MS+"input-$1")]})],n)}return""}))}}];const y=function(e){var t=e.key;if("css"===t){var r=document.querySelectorAll("style[data-emotion]:not([data-s])");Array.prototype.forEach.call(r,(function(e){-1!==e.getAttribute("data-emotion").indexOf(" ")&&(document.head.appendChild(e),e.setAttribute("data-s",""))}))}var o,i,a=e.stylisPlugins||m,u={},d=[];o=e.container||document.head,Array.prototype.forEach.call(document.querySelectorAll('style[data-emotion^="'+t+' "]'),(function(e){for(var t=e.getAttribute("data-emotion").split(" "),r=1;r<t.length;r++)u[t[r]]=!0;d.push(e)}));var h,y=[p,f],g=[s.P,(0,c.cD)((function(e){h.insert(e)}))],b=(0,c.qR)(y.concat(a,g));i=function(e,t,r,n){var o;h=r,o=e?e+"{"+t.styles+"}":t.styles,(0,s.q)((0,l.MY)(o),b),n&&(v.inserted[t.name]=!0)};var v={key:t,sheet:new n.m({key:t,container:o,nonce:e.nonce,speedy:e.speedy,prepend:e.prepend,insertionPoint:e.insertionPoint}),nonce:e.nonce,inserted:u,registered:{},insert:i};return v.sheet.hydrate(d),v}},9783:(e,t,r)=>{"use strict";r.d(t,{Z:()=>n});const n=function(e){for(var t,r=0,n=0,o=e.length;o>=4;++n,o-=4)t=1540483477*(65535&(t=255&e.charCodeAt(n)|(255&e.charCodeAt(++n))<<8|(255&e.charCodeAt(++n))<<16|(255&e.charCodeAt(++n))<<24))+(59797*(t>>>16)<<16),r=1540483477*(65535&(t^=t>>>24))+(59797*(t>>>16)<<16)^1540483477*(65535&r)+(59797*(r>>>16)<<16);switch(o){case 3:r^=(255&e.charCodeAt(n+2))<<16;case 2:r^=(255&e.charCodeAt(n+1))<<8;case 1:r=1540483477*(65535&(r^=255&e.charCodeAt(n)))+(59797*(r>>>16)<<16)}return(((r=1540483477*(65535&(r^=r>>>13))+(59797*(r>>>16)<<16))^r>>>15)>>>0).toString(36)}},7611:(e,t,r)=>{"use strict";r.d(t,{Z:()=>i});var n=r(7702),o=/^((children|dangerouslySetInnerHTML|key|ref|autoFocus|defaultValue|defaultChecked|innerHTML|suppressContentEditableWarning|suppressHydrationWarning|valueLink|abbr|accept|acceptCharset|accessKey|action|allow|allowUserMedia|allowPaymentRequest|allowFullScreen|allowTransparency|alt|async|autoComplete|autoPlay|capture|cellPadding|cellSpacing|challenge|charSet|checked|cite|classID|className|cols|colSpan|content|contentEditable|contextMenu|controls|controlsList|coords|crossOrigin|data|dateTime|decoding|default|defer|dir|disabled|disablePictureInPicture|download|draggable|encType|enterKeyHint|form|formAction|formEncType|formMethod|formNoValidate|formTarget|frameBorder|headers|height|hidden|high|href|hrefLang|htmlFor|httpEquiv|id|inputMode|integrity|is|keyParams|keyType|kind|label|lang|list|loading|loop|low|marginHeight|marginWidth|max|maxLength|media|mediaGroup|method|min|minLength|multiple|muted|name|nonce|noValidate|open|optimum|pattern|placeholder|playsInline|poster|preload|profile|radioGroup|readOnly|referrerPolicy|rel|required|reversed|role|rows|rowSpan|sandbox|scope|scoped|scrolling|seamless|selected|shape|size|sizes|slot|span|spellCheck|src|srcDoc|srcLang|srcSet|start|step|style|summary|tabIndex|target|title|translate|type|useMap|value|width|wmode|wrap|about|datatype|inlist|prefix|property|resource|typeof|vocab|autoCapitalize|autoCorrect|autoSave|color|incremental|fallback|inert|itemProp|itemScope|itemType|itemID|itemRef|on|option|results|security|unselectable|accentHeight|accumulate|additive|alignmentBaseline|allowReorder|alphabetic|amplitude|arabicForm|ascent|attributeName|attributeType|autoReverse|azimuth|baseFrequency|baselineShift|baseProfile|bbox|begin|bias|by|calcMode|capHeight|clip|clipPathUnits|clipPath|clipRule|colorInterpolation|colorInterpolationFilters|colorProfile|colorRendering|contentScriptType|contentStyleType|cursor|cx|cy|d|decelerate|descent|diffuseConstant|direction|display|divisor|dominantBaseline|dur|dx|dy|edgeMode|elevation|enableBackground|end|exponent|externalResourcesRequired|fill|fillOpacity|fillRule|filter|filterRes|filterUnits|floodColor|floodOpacity|focusable|fontFamily|fontSize|fontSizeAdjust|fontStretch|fontStyle|fontVariant|fontWeight|format|from|fr|fx|fy|g1|g2|glyphName|glyphOrientationHorizontal|glyphOrientationVertical|glyphRef|gradientTransform|gradientUnits|hanging|horizAdvX|horizOriginX|ideographic|imageRendering|in|in2|intercept|k|k1|k2|k3|k4|kernelMatrix|kernelUnitLength|kerning|keyPoints|keySplines|keyTimes|lengthAdjust|letterSpacing|lightingColor|limitingConeAngle|local|markerEnd|markerMid|markerStart|markerHeight|markerUnits|markerWidth|mask|maskContentUnits|maskUnits|mathematical|mode|numOctaves|offset|opacity|operator|order|orient|orientation|origin|overflow|overlinePosition|overlineThickness|panose1|paintOrder|pathLength|patternContentUnits|patternTransform|patternUnits|pointerEvents|points|pointsAtX|pointsAtY|pointsAtZ|preserveAlpha|preserveAspectRatio|primitiveUnits|r|radius|refX|refY|renderingIntent|repeatCount|repeatDur|requiredExtensions|requiredFeatures|restart|result|rotate|rx|ry|scale|seed|shapeRendering|slope|spacing|specularConstant|specularExponent|speed|spreadMethod|startOffset|stdDeviation|stemh|stemv|stitchTiles|stopColor|stopOpacity|strikethroughPosition|strikethroughThickness|string|stroke|strokeDasharray|strokeDashoffset|strokeLinecap|strokeLinejoin|strokeMiterlimit|strokeOpacity|strokeWidth|surfaceScale|systemLanguage|tableValues|targetX|targetY|textAnchor|textDecoration|textRendering|textLength|to|transform|u1|u2|underlinePosition|underlineThickness|unicode|unicodeBidi|unicodeRange|unitsPerEm|vAlphabetic|vHanging|vIdeographic|vMathematical|values|vectorEffect|version|vertAdvY|vertOriginX|vertOriginY|viewBox|viewTarget|visibility|widths|wordSpacing|writingMode|x|xHeight|x1|x2|xChannelSelector|xlinkActuate|xlinkArcrole|xlinkHref|xlinkRole|xlinkShow|xlinkTitle|xlinkType|xmlBase|xmlns|xmlnsXlink|xmlLang|xmlSpace|y|y1|y2|yChannelSelector|z|zoomAndPan|for|class|autofocus)|(([Dd][Aa][Tt][Aa]|[Aa][Rr][Ii][Aa]|x)-.*))$/;const i=(0,n.Z)((function(e){return o.test(e)||111===e.charCodeAt(0)&&110===e.charCodeAt(1)&&e.charCodeAt(2)<91}))},7702:(e,t,r)=>{"use strict";r.d(t,{Z:()=>n});const n=function(e){var t=Object.create(null);return function(r){return void 0===t[r]&&(t[r]=e(r)),t[r]}}},5017:(e,t,r)=>{"use strict";r.d(t,{T:()=>s,w:()=>a});var n=r(6689),o=r(5998);r(1372),r(5335);var i=(0,n.createContext)("undefined"!=typeof HTMLElement?(0,o.Z)({key:"css"}):null);i.Provider;var a=function(e){return(0,n.forwardRef)((function(t,r){var o=(0,n.useContext)(i);return e(t,o,r)}))},s=(0,n.createContext)({})},1372:(e,t,r)=>{"use strict";r.d(t,{O:()=>y});var n=r(9783),o=r(6053),i=r(7702);function a(e){return a="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},a(e)}var s=/[A-Z]|^ms/g,c=/_EMO_([^_]+?)_([^]*?)_EMO_/g,l=function(e){return 45===e.charCodeAt(1)},u=function(e){return null!=e&&"boolean"!=typeof e},d=(0,i.Z)((function(e){return l(e)?e:e.replace(s,"-$&").toLowerCase()})),p=function(e,t){switch(e){case"animation":case"animationName":if("string"==typeof t)return t.replace(c,(function(e,t,r){return h={name:t,styles:r,next:h},t}))}return 1===o.Z[e]||l(e)||"number"!=typeof t||0===t?t:t+"px"};function f(e,t,r){if(null==r)return"";if(void 0!==r.__emotion_styles)return r;switch(a(r)){case"boolean":return"";case"object":if(1===r.anim)return h={name:r.name,styles:r.styles,next:h},r.name;if(void 0!==r.styles){var n=r.next;if(void 0!==n)for(;void 0!==n;)h={name:n.name,styles:n.styles,next:h},n=n.next;return r.styles+";"}return function(e,t,r){var n="";if(Array.isArray(r))for(var o=0;o<r.length;o++)n+=f(e,t,r[o])+";";else for(var i in r){var s=r[i];if("object"!==a(s))null!=t&&void 0!==t[s]?n+=i+"{"+t[s]+"}":u(s)&&(n+=d(i)+":"+p(i,s)+";");else if(!Array.isArray(s)||"string"!=typeof s[0]||null!=t&&void 0!==t[s[0]]){var c=f(e,t,s);switch(i){case"animation":case"animationName":n+=d(i)+":"+c+";";break;default:n+=i+"{"+c+"}"}}else for(var l=0;l<s.length;l++)u(s[l])&&(n+=d(i)+":"+p(i,s[l])+";")}return n}(e,t,r);case"function":if(void 0!==e){var o=h,i=r(e);return h=o,f(e,t,i)}}if(null==t)return r;var s=t[r];return void 0!==s?s:r}var h,m=/label:\s*([^\s;\n{]+)\s*(;|$)/g,y=function(e,t,r){if(1===e.length&&"object"===a(e[0])&&null!==e[0]&&void 0!==e[0].styles)return e[0];var o=!0,i="";h=void 0;var s=e[0];null==s||void 0===s.raw?(o=!1,i+=f(r,t,s)):i+=s[0];for(var c=1;c<e.length;c++)i+=f(r,t,e[c]),o&&(i+=s[c]);m.lastIndex=0;for(var l,u="";null!==(l=m.exec(i));)u+="-"+l[1];return{name:(0,n.Z)(i)+u,styles:i,next:h}}},3997:(e,t,r)=>{"use strict";r.d(t,{m:()=>n});var n=function(){function e(e){var t=this;this._insertTag=function(e){var r;r=0===t.tags.length?t.insertionPoint?t.insertionPoint.nextSibling:t.prepend?t.container.firstChild:t.before:t.tags[t.tags.length-1].nextSibling,t.container.insertBefore(e,r),t.tags.push(e)},this.isSpeedy=void 0===e.speedy||e.speedy,this.tags=[],this.ctr=0,this.nonce=e.nonce,this.key=e.key,this.container=e.container,this.prepend=e.prepend,this.insertionPoint=e.insertionPoint,this.before=null}var t=e.prototype;return t.hydrate=function(e){e.forEach(this._insertTag)},t.insert=function(e){this.ctr%(this.isSpeedy?65e3:1)==0&&this._insertTag(function(e){var t=document.createElement("style");return t.setAttribute("data-emotion",e.key),void 0!==e.nonce&&t.setAttribute("nonce",e.nonce),t.appendChild(document.createTextNode("")),t.setAttribute("data-s",""),t}(this));var t=this.tags[this.tags.length-1];if(this.isSpeedy){var r=function(e){if(e.sheet)return e.sheet;for(var t=0;t<document.styleSheets.length;t++)if(document.styleSheets[t].ownerNode===e)return document.styleSheets[t]}(t);try{r.insertRule(e,r.cssRules.length)}catch(e){}}else t.appendChild(document.createTextNode(e));this.ctr++},t.flush=function(){this.tags.forEach((function(e){return e.parentNode&&e.parentNode.removeChild(e)})),this.tags=[],this.ctr=0},e}()},9513:(e,t,r)=>{"use strict";r.d(t,{Z:()=>m});var n=r(212),o=r(6689),i=r(7611),a=r(5017),s=r(5394),c=r(1372),l=r(5335),u=i.Z,d=function(e){return"theme"!==e},p=function(e){return"string"==typeof e&&e.charCodeAt(0)>96?u:d},f=function(e,t,r){var n;if(t){var o=t.shouldForwardProp;n=e.__emotion_forwardProp&&o?function(t){return e.__emotion_forwardProp(t)&&o(t)}:o}return"function"!=typeof n&&r&&(n=e.__emotion_forwardProp),n},h=function(e){var t=e.cache,r=e.serialized,n=e.isStringTag;return(0,s.hC)(t,r,n),(0,l.L)((function(){return(0,s.My)(t,r,n)})),null};const m=function e(t,r){var i,l,u=t.__emotion_real===t,d=u&&t.__emotion_base||t;void 0!==r&&(i=r.label,l=r.target);var m=f(t,r,u),y=m||p(d),g=!y("as");return function(){var b=arguments,v=u&&void 0!==t.__emotion_styles?t.__emotion_styles.slice(0):[];if(void 0!==i&&v.push("label:"+i+";"),null==b[0]||void 0===b[0].raw)v.push.apply(v,b);else{v.push(b[0][0]);for(var k=b.length,w=1;w<k;w++)v.push(b[w],b[0][w])}var _=(0,a.w)((function(e,t,r){var n=g&&e.as||d,i="",u=[],f=e;if(null==e.theme){for(var b in f={},e)f[b]=e[b];f.theme=(0,o.useContext)(a.T)}"string"==typeof e.className?i=(0,s.fp)(t.registered,u,e.className):null!=e.className&&(i=e.className+" ");var k=(0,c.O)(v.concat(u),t.registered,f);i+=t.key+"-"+k.name,void 0!==l&&(i+=" "+l);var w=g&&void 0===m?p(n):y,_={};for(var S in e)g&&"as"===S||w(S)&&(_[S]=e[S]);return _.className=i,_.ref=r,(0,o.createElement)(o.Fragment,null,(0,o.createElement)(h,{cache:t,serialized:k,isStringTag:"string"==typeof n}),(0,o.createElement)(n,_))}));return _.displayName=void 0!==i?i:"Styled("+("string"==typeof d?d:d.displayName||d.name||"Component")+")",_.defaultProps=t.defaultProps,_.__emotion_real=_,_.__emotion_base=d,_.__emotion_styles=v,_.__emotion_forwardProp=m,Object.defineProperty(_,"toString",{value:function(){return"."+l}}),_.withComponent=function(t,o){return e(t,(0,n.Z)({},r,o,{shouldForwardProp:f(_,o,!0)})).apply(void 0,v)},_}}},5040:(e,t,r)=>{"use strict";r.d(t,{Z:()=>i}),r(6689);var n=r(9513),o=(r(1372),r(5335),n.Z.bind());["a","abbr","address","area","article","aside","audio","b","base","bdi","bdo","big","blockquote","body","br","button","canvas","caption","cite","code","col","colgroup","data","datalist","dd","del","details","dfn","dialog","div","dl","dt","em","embed","fieldset","figcaption","figure","footer","form","h1","h2","h3","h4","h5","h6","head","header","hgroup","hr","html","i","iframe","img","input","ins","kbd","keygen","label","legend","li","link","main","map","mark","marquee","menu","menuitem","meta","meter","nav","noscript","object","ol","optgroup","option","output","p","param","picture","pre","progress","q","rp","rt","ruby","s","samp","script","section","select","small","source","span","strong","style","sub","summary","sup","table","tbody","td","textarea","tfoot","th","thead","time","title","tr","track","u","ul","var","video","wbr","circle","clipPath","defs","ellipse","foreignObject","g","image","line","linearGradient","mask","path","pattern","polygon","polyline","radialGradient","rect","stop","svg","text","tspan"].forEach((function(e){o[e]=o(e)}));const i=o},6053:(e,t,r)=>{"use strict";r.d(t,{Z:()=>n});const n={animationIterationCount:1,borderImageOutset:1,borderImageSlice:1,borderImageWidth:1,boxFlex:1,boxFlexGroup:1,boxOrdinalGroup:1,columnCount:1,columns:1,flex:1,flexGrow:1,flexPositive:1,flexShrink:1,flexNegative:1,flexOrder:1,gridRow:1,gridRowEnd:1,gridRowSpan:1,gridRowStart:1,gridColumn:1,gridColumnEnd:1,gridColumnSpan:1,gridColumnStart:1,msGridRow:1,msGridRowSpan:1,msGridColumn:1,msGridColumnSpan:1,fontWeight:1,lineHeight:1,opacity:1,order:1,orphans:1,tabSize:1,widows:1,zIndex:1,zoom:1,WebkitLineClamp:1,fillOpacity:1,floodOpacity:1,stopOpacity:1,strokeDasharray:1,strokeDashoffset:1,strokeMiterlimit:1,strokeOpacity:1,strokeWidth:1}},5335:(e,t,r)=>{"use strict";r.d(t,{L:()=>o});var n=r(6689),o=!!n.useInsertionEffect&&n.useInsertionEffect||function(e){return e()}},5394:(e,t,r)=>{"use strict";function n(e,t,r){var n="";return r.split(" ").forEach((function(r){void 0!==e[r]?t.push(e[r]+";"):n+=r+" "})),n}r.d(t,{My:()=>i,fp:()=>n,hC:()=>o});var o=function(e,t,r){var n=e.key+"-"+t.name;!1===r&&void 0===e.registered[n]&&(e.registered[n]=t.styles)},i=function(e,t,r){o(e,t,r);var n=e.key+"-"+t.name;if(void 0===e.inserted[t.name]){var i=t;do{e.insert(t===i?"."+n:"",i,e.sheet,!0),i=i.next}while(void 0!==i)}}},416:(e,t,r)=>{"use strict";var n=r(7920);t.Z=void 0;var o=n(r(531)),i=r(1827),a=(0,o.default)((0,i.jsx)("path",{d:"m7 10 5 5 5-5z"}),"ArrowDropDown");t.Z=a},7026:(e,t,r)=>{"use strict";var n=r(7920);t.Z=void 0;var o=n(r(531)),i=r(1827),a=(0,o.default)((0,i.jsx)("path",{d:"m10 17 5-5-5-5v10z"}),"ArrowRight");t.Z=a},531:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),Object.defineProperty(t,"default",{enumerable:!0,get:function(){return n.createSvgIcon}});var n=r(7379)},464:(e,t,r)=>{"use strict";r.d(t,{Z:()=>n});const n={50:"#e3f2fd",100:"#bbdefb",200:"#90caf9",300:"#64b5f6",400:"#42a5f5",500:"#2196f3",600:"#1e88e5",700:"#1976d2",800:"#1565c0",900:"#0d47a1",A100:"#82b1ff",A200:"#448aff",A400:"#2979ff",A700:"#2962ff"}},4956:(e,t,r)=>{"use strict";r.d(t,{Z:()=>n});const n={black:"#000",white:"#fff"}},1268:(e,t,r)=>{"use strict";r.d(t,{Z:()=>n});const n={50:"#e8f5e9",100:"#c8e6c9",200:"#a5d6a7",300:"#81c784",400:"#66bb6a",500:"#4caf50",600:"#43a047",700:"#388e3c",800:"#2e7d32",900:"#1b5e20",A100:"#b9f6ca",A200:"#69f0ae",A400:"#00e676",A700:"#00c853"}},4301:(e,t,r)=>{"use strict";r.d(t,{Z:()=>n});const n={50:"#fafafa",100:"#f5f5f5",200:"#eeeeee",300:"#e0e0e0",400:"#bdbdbd",500:"#9e9e9e",600:"#757575",700:"#616161",800:"#424242",900:"#212121",A100:"#f5f5f5",A200:"#eeeeee",A400:"#bdbdbd",A700:"#616161"}},4512:(e,t,r)=>{"use strict";r.d(t,{Z:()=>n});const n={50:"#e1f5fe",100:"#b3e5fc",200:"#81d4fa",300:"#4fc3f7",400:"#29b6f6",500:"#03a9f4",600:"#039be5",700:"#0288d1",800:"#0277bd",900:"#01579b",A100:"#80d8ff",A200:"#40c4ff",A400:"#00b0ff",A700:"#0091ea"}},3449:(e,t,r)=>{"use strict";r.d(t,{Z:()=>n});const n={50:"#fff3e0",100:"#ffe0b2",200:"#ffcc80",300:"#ffb74d",400:"#ffa726",500:"#ff9800",600:"#fb8c00",700:"#f57c00",800:"#ef6c00",900:"#e65100",A100:"#ffd180",A200:"#ffab40",A400:"#ff9100",A700:"#ff6d00"}},9293:(e,t,r)=>{"use strict";r.d(t,{Z:()=>n});const n={50:"#f3e5f5",100:"#e1bee7",200:"#ce93d8",300:"#ba68c8",400:"#ab47bc",500:"#9c27b0",600:"#8e24aa",700:"#7b1fa2",800:"#6a1b9a",900:"#4a148c",A100:"#ea80fc",A200:"#e040fb",A400:"#d500f9",A700:"#aa00ff"}},7436:(e,t,r)=>{"use strict";r.d(t,{Z:()=>n});const n={50:"#ffebee",100:"#ffcdd2",200:"#ef9a9a",300:"#e57373",400:"#ef5350",500:"#f44336",600:"#e53935",700:"#d32f2f",800:"#c62828",900:"#b71c1c",A100:"#ff8a80",A200:"#ff5252",A400:"#ff1744",A700:"#d50000"}},7444:(e,t,r)=>{"use strict";r.d(t,{Z:()=>a});var n=r(212);function o(e){return o="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},o(e)}function i(e,t,r){return(t=function(e){var t=function(e,t){if("object"!==o(e)||null===e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,"string");if("object"!==o(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"===o(t)?t:String(t)}(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function a(e,t){var r;return(0,n.Z)({toolbar:(r={minHeight:56},i(r,e.up("xs"),{"@media (orientation: landscape)":{minHeight:48}}),i(r,e.up("sm"),{minHeight:64}),r)},t)}},5202:(e,t,r)=>{"use strict";r.d(t,{ZP:()=>k});var n=r(212),o=r(305),i=r(4070),a=r(4359),s=r(4951),c=r(4956),l=r(4301),u=r(9293),d=r(7436),p=r(3449),f=r(464),h=r(4512),m=r(1268),y=["mode","contrastThreshold","tonalOffset"],g={text:{primary:"rgba(0, 0, 0, 0.87)",secondary:"rgba(0, 0, 0, 0.6)",disabled:"rgba(0, 0, 0, 0.38)"},divider:"rgba(0, 0, 0, 0.12)",background:{paper:c.Z.white,default:c.Z.white},action:{active:"rgba(0, 0, 0, 0.54)",hover:"rgba(0, 0, 0, 0.04)",hoverOpacity:.04,selected:"rgba(0, 0, 0, 0.08)",selectedOpacity:.08,disabled:"rgba(0, 0, 0, 0.26)",disabledBackground:"rgba(0, 0, 0, 0.12)",disabledOpacity:.38,focus:"rgba(0, 0, 0, 0.12)",focusOpacity:.12,activatedOpacity:.12}},b={text:{primary:c.Z.white,secondary:"rgba(255, 255, 255, 0.7)",disabled:"rgba(255, 255, 255, 0.5)",icon:"rgba(255, 255, 255, 0.5)"},divider:"rgba(255, 255, 255, 0.12)",background:{paper:"#121212",default:"#121212"},action:{active:c.Z.white,hover:"rgba(255, 255, 255, 0.08)",hoverOpacity:.08,selected:"rgba(255, 255, 255, 0.16)",selectedOpacity:.16,disabled:"rgba(255, 255, 255, 0.3)",disabledBackground:"rgba(255, 255, 255, 0.12)",disabledOpacity:.38,focus:"rgba(255, 255, 255, 0.12)",focusOpacity:.12,activatedOpacity:.24}};function v(e,t,r,n){var o=n.light||n,i=n.dark||1.5*n;e[t]||(e.hasOwnProperty(r)?e[t]=e[r]:"light"===t?e.light=(0,s.$n)(e.main,o):"dark"===t&&(e.dark=(0,s._j)(e.main,i)))}function k(e){var t=e.mode,r=void 0===t?"light":t,k=e.contrastThreshold,w=void 0===k?3:k,_=e.tonalOffset,S=void 0===_?.2:_,O=(0,o.Z)(e,y),P=e.primary||function(){return"dark"===(arguments.length>0&&void 0!==arguments[0]?arguments[0]:"light")?{main:f.Z[200],light:f.Z[50],dark:f.Z[400]}:{main:f.Z[700],light:f.Z[400],dark:f.Z[800]}}(r),E=e.secondary||function(){return"dark"===(arguments.length>0&&void 0!==arguments[0]?arguments[0]:"light")?{main:u.Z[200],light:u.Z[50],dark:u.Z[400]}:{main:u.Z[500],light:u.Z[300],dark:u.Z[700]}}(r),C=e.error||function(){return"dark"===(arguments.length>0&&void 0!==arguments[0]?arguments[0]:"light")?{main:d.Z[500],light:d.Z[300],dark:d.Z[700]}:{main:d.Z[700],light:d.Z[400],dark:d.Z[800]}}(r),x=e.info||function(){return"dark"===(arguments.length>0&&void 0!==arguments[0]?arguments[0]:"light")?{main:h.Z[400],light:h.Z[300],dark:h.Z[700]}:{main:h.Z[700],light:h.Z[500],dark:h.Z[900]}}(r),j=e.success||function(){return"dark"===(arguments.length>0&&void 0!==arguments[0]?arguments[0]:"light")?{main:m.Z[400],light:m.Z[300],dark:m.Z[700]}:{main:m.Z[800],light:m.Z[500],dark:m.Z[900]}}(r),T=e.warning||function(){return"dark"===(arguments.length>0&&void 0!==arguments[0]?arguments[0]:"light")?{main:p.Z[400],light:p.Z[300],dark:p.Z[700]}:{main:"#ed6c02",light:p.Z[500],dark:p.Z[900]}}(r);function R(e){return(0,s.mi)(e,b.text.primary)>=w?b.text.primary:g.text.primary}var z=function(e){var t=e.color,r=e.name,o=e.mainShade,a=void 0===o?500:o,s=e.lightShade,c=void 0===s?300:s,l=e.darkShade,u=void 0===l?700:l;if(!(t=(0,n.Z)({},t)).main&&t[a]&&(t.main=t[a]),!t.hasOwnProperty("main"))throw new Error((0,i.Z)(11,r?" (".concat(r,")"):"",a));if("string"!=typeof t.main)throw new Error((0,i.Z)(12,r?" (".concat(r,")"):"",JSON.stringify(t.main)));return v(t,"light",c,S),v(t,"dark",u,S),t.contrastText||(t.contrastText=R(t.main)),t},I={dark:b,light:g};return(0,a.Z)((0,n.Z)({common:(0,n.Z)({},c.Z),mode:r,primary:z({color:P,name:"primary"}),secondary:z({color:E,name:"secondary",mainShade:"A400",lightShade:"A200",darkShade:"A700"}),error:z({color:C,name:"error"}),warning:z({color:T,name:"warning"}),info:z({color:x,name:"info"}),success:z({color:j,name:"success"}),grey:l.Z,contrastThreshold:w,getContrastText:R,augmentColor:z,tonalOffset:S},I[r]),O)}},8662:(e,t,r)=>{"use strict";r.d(t,{Z:()=>g});var n=r(212),o=r(305),i=r(4070),a=r(4359),s=r(5156),c=r(1426),l=r(6713),u=r(7444),d=r(5202),p=r(9794),f=r(5891),h=r(4681),m=r(7308),y=["breakpoints","mixins","spacing","palette","transitions","typography","shape"];const g=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.mixins,r=void 0===t?{}:t,g=e.palette,b=void 0===g?{}:g,v=e.transitions,k=void 0===v?{}:v,w=e.typography,_=void 0===w?{}:w,S=(0,o.Z)(e,y);if(e.vars)throw new Error((0,i.Z)(18));var O=(0,d.ZP)(b),P=(0,s.Z)(e),E=(0,a.Z)(P,{mixins:(0,u.Z)(P.breakpoints,r),palette:O,shadows:f.Z.slice(),typography:(0,p.Z)(O,_),transitions:(0,h.ZP)(k),zIndex:(0,n.Z)({},m.Z)});E=(0,a.Z)(E,S);for(var C=arguments.length,x=new Array(C>1?C-1:0),j=1;j<C;j++)x[j-1]=arguments[j];return(E=x.reduce((function(e,t){return(0,a.Z)(e,t)}),E)).unstable_sxConfig=(0,n.Z)({},c.Z,null==S?void 0:S.unstable_sxConfig),E.unstable_sx=function(e){return(0,l.Z)({sx:e,theme:this})},E}},4681:(e,t,r)=>{"use strict";r.d(t,{ZP:()=>u,x9:()=>s});var n=r(305),o=r(212),i=["duration","easing","delay"],a={easeInOut:"cubic-bezier(0.4, 0, 0.2, 1)",easeOut:"cubic-bezier(0.0, 0, 0.2, 1)",easeIn:"cubic-bezier(0.4, 0, 1, 1)",sharp:"cubic-bezier(0.4, 0, 0.6, 1)"},s={shortest:150,shorter:200,short:250,standard:300,complex:375,enteringScreen:225,leavingScreen:195};function c(e){return"".concat(Math.round(e),"ms")}function l(e){if(!e)return 0;var t=e/36;return Math.round(10*(4+15*Math.pow(t,.25)+t/5))}function u(e){var t=(0,o.Z)({},a,e.easing),r=(0,o.Z)({},s,e.duration);return(0,o.Z)({getAutoHeightDuration:l,create:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:["all"],o=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},a=o.duration,s=void 0===a?r.standard:a,l=o.easing,u=void 0===l?t.easeInOut:l,d=o.delay,p=void 0===d?0:d;return(0,n.Z)(o,i),(Array.isArray(e)?e:[e]).map((function(e){return"".concat(e," ").concat("string"==typeof s?s:c(s)," ").concat(u," ").concat("string"==typeof p?p:c(p))})).join(",")}},e,{easing:t,duration:r})}},9794:(e,t,r)=>{"use strict";r.d(t,{Z:()=>l});var n=r(212),o=r(305),i=r(4359),a=["fontFamily","fontSize","fontWeightLight","fontWeightRegular","fontWeightMedium","fontWeightBold","htmlFontSize","allVariants","pxToRem"],s={textTransform:"uppercase"},c='"Roboto", "Helvetica", "Arial", sans-serif';function l(e,t){var r="function"==typeof t?t(e):t,l=r.fontFamily,u=void 0===l?c:l,d=r.fontSize,p=void 0===d?14:d,f=r.fontWeightLight,h=void 0===f?300:f,m=r.fontWeightRegular,y=void 0===m?400:m,g=r.fontWeightMedium,b=void 0===g?500:g,v=r.fontWeightBold,k=void 0===v?700:v,w=r.htmlFontSize,_=void 0===w?16:w,S=r.allVariants,O=r.pxToRem,P=(0,o.Z)(r,a),E=p/14,C=O||function(e){return"".concat(e/_*E,"rem")},x=function(e,t,r,o,i){return(0,n.Z)({fontFamily:u,fontWeight:e,fontSize:C(t),lineHeight:r},u===c?{letterSpacing:"".concat((a=o/t,Math.round(1e5*a)/1e5),"em")}:{},i,S);var a},j={h1:x(h,96,1.167,-1.5),h2:x(h,60,1.2,-.5),h3:x(y,48,1.167,0),h4:x(y,34,1.235,.25),h5:x(y,24,1.334,0),h6:x(b,20,1.6,.15),subtitle1:x(y,16,1.75,.15),subtitle2:x(b,14,1.57,.1),body1:x(y,16,1.5,.15),body2:x(y,14,1.43,.15),button:x(b,14,1.75,.4,s),caption:x(y,12,1.66,.4),overline:x(y,12,2.66,1,s)};return(0,i.Z)((0,n.Z)({htmlFontSize:_,pxToRem:C,fontFamily:u,fontSize:p,fontWeightLight:h,fontWeightRegular:y,fontWeightMedium:b,fontWeightBold:k},j),P,{clone:!1})}},6651:(e,t,r)=>{"use strict";r.d(t,{Z:()=>n});const n=(0,r(8662).Z)()},5891:(e,t,r)=>{"use strict";function n(){return["".concat(arguments.length<=0?void 0:arguments[0],"px ").concat(arguments.length<=1?void 0:arguments[1],"px ").concat(arguments.length<=2?void 0:arguments[2],"px ").concat(arguments.length<=3?void 0:arguments[3],"px rgba(0,0,0,").concat(.2,")"),"".concat(arguments.length<=4?void 0:arguments[4],"px ").concat(arguments.length<=5?void 0:arguments[5],"px ").concat(arguments.length<=6?void 0:arguments[6],"px ").concat(arguments.length<=7?void 0:arguments[7],"px rgba(0,0,0,").concat(.14,")"),"".concat(arguments.length<=8?void 0:arguments[8],"px ").concat(arguments.length<=9?void 0:arguments[9],"px ").concat(arguments.length<=10?void 0:arguments[10],"px ").concat(arguments.length<=11?void 0:arguments[11],"px rgba(0,0,0,").concat(.12,")")].join(",")}r.d(t,{Z:()=>o});const o=["none",n(0,2,1,-1,0,1,1,0,0,1,3,0),n(0,3,1,-2,0,2,2,0,0,1,5,0),n(0,3,3,-2,0,3,4,0,0,1,8,0),n(0,2,4,-1,0,4,5,0,0,1,10,0),n(0,3,5,-1,0,5,8,0,0,1,14,0),n(0,3,5,-1,0,6,10,0,0,1,18,0),n(0,4,5,-2,0,7,10,1,0,2,16,1),n(0,5,5,-3,0,8,10,1,0,3,14,2),n(0,5,6,-3,0,9,12,1,0,3,16,2),n(0,6,6,-3,0,10,14,1,0,4,18,3),n(0,6,7,-4,0,11,15,1,0,4,20,3),n(0,7,8,-4,0,12,17,2,0,5,22,4),n(0,7,8,-4,0,13,19,2,0,5,24,4),n(0,7,9,-4,0,14,21,2,0,5,26,4),n(0,8,9,-5,0,15,22,2,0,6,28,5),n(0,8,10,-5,0,16,24,2,0,6,30,5),n(0,8,11,-5,0,17,26,2,0,6,32,5),n(0,9,11,-5,0,18,28,2,0,7,34,6),n(0,9,12,-6,0,19,29,2,0,7,36,6),n(0,10,13,-6,0,20,31,3,0,8,38,7),n(0,10,13,-6,0,21,33,3,0,8,40,7),n(0,10,14,-6,0,22,35,3,0,8,42,7),n(0,11,14,-7,0,23,36,3,0,9,44,8),n(0,11,15,-7,0,24,38,3,0,9,46,8)]},9812:(e,t,r)=>{"use strict";r.d(t,{ZP:()=>i});var n=r(8045),o=r(6651);const i=(0,n.ZP)({defaultTheme:o.Z,rootShouldForwardProp:function(e){return(0,n.x9)(e)&&"classes"!==e}})},5670:(e,t,r)=>{"use strict";r.d(t,{Z:()=>i});var n=r(9420),o=r(6651);function i(e){var t=e.props,r=e.name;return(0,n.Z)({props:t,name:r,defaultTheme:o.Z})}},7308:(e,t,r)=>{"use strict";r.d(t,{Z:()=>n});const n={mobileStepper:1e3,fab:1050,speedDial:1050,appBar:1100,drawer:1200,modal:1300,snackbar:1400,tooltip:1500}},8420:(e,t,r)=>{"use strict";r.d(t,{Z:()=>n});const n=r(994).Z},7379:(e,t,r)=>{"use strict";r.r(t),r.d(t,{capitalize:()=>o.Z,createChainedFunction:()=>i,createSvgIcon:()=>w,debounce:()=>_,deprecatedPropType:()=>S,isMuiElement:()=>O,ownerDocument:()=>P.Z,ownerWindow:()=>C,requirePropFactory:()=>x,setRef:()=>j,unstable_ClassNameGenerator:()=>N,unstable_useEnhancedEffect:()=>T.Z,unstable_useId:()=>R.Z,unsupportedProp:()=>z,useControlled:()=>I.Z,useEventCallback:()=>A.Z,useForkRef:()=>M.Z,useIsFocusVisible:()=>D.Z});var n=r(611),o=r(8420);const i=function(){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];return t.reduce((function(e,t){return null==t?e:function(){for(var r=arguments.length,n=new Array(r),o=0;o<r;o++)n[o]=arguments[o];e.apply(this,n),t.apply(this,n)}}),(function(){}))};var a=r(212),s=r(6689),c=r(305),l=(r(580),r(2053)),u=r(7283),d=r(5670),p=r(9812),f=r(4177),h=r(9691);function m(e){return(0,h.Z)("MuiSvgIcon",e)}(0,f.Z)("MuiSvgIcon",["root","colorPrimary","colorSecondary","colorAction","colorError","colorDisabled","fontSizeInherit","fontSizeSmall","fontSizeMedium","fontSizeLarge"]);var y=r(1827),g=["children","className","color","component","fontSize","htmlColor","inheritViewBox","titleAccess","viewBox"],b=(0,p.ZP)("svg",{name:"MuiSvgIcon",slot:"Root",overridesResolver:function(e,t){var r=e.ownerState;return[t.root,"inherit"!==r.color&&t["color".concat((0,o.Z)(r.color))],t["fontSize".concat((0,o.Z)(r.fontSize))]]}})((function(e){var t,r,n,o,i,a,s,c,l,u,d,p,f,h,m,y,g,b=e.theme,v=e.ownerState;return{userSelect:"none",width:"1em",height:"1em",display:"inline-block",fill:"currentColor",flexShrink:0,transition:null==(t=b.transitions)||null==(r=t.create)?void 0:r.call(t,"fill",{duration:null==(n=b.transitions)||null==(o=n.duration)?void 0:o.shorter}),fontSize:{inherit:"inherit",small:(null==(i=b.typography)||null==(a=i.pxToRem)?void 0:a.call(i,20))||"1.25rem",medium:(null==(s=b.typography)||null==(c=s.pxToRem)?void 0:c.call(s,24))||"1.5rem",large:(null==(l=b.typography)||null==(u=l.pxToRem)?void 0:u.call(l,35))||"2.1875rem"}[v.fontSize],color:null!=(d=null==(p=(b.vars||b).palette)||null==(f=p[v.color])?void 0:f.main)?d:{action:null==(h=(b.vars||b).palette)||null==(m=h.action)?void 0:m.active,disabled:null==(y=(b.vars||b).palette)||null==(g=y.action)?void 0:g.disabled,inherit:void 0}[v.color]}})),v=s.forwardRef((function(e,t){var r=(0,d.Z)({props:e,name:"MuiSvgIcon"}),n=r.children,i=r.className,s=r.color,p=void 0===s?"inherit":s,f=r.component,h=void 0===f?"svg":f,v=r.fontSize,k=void 0===v?"medium":v,w=r.htmlColor,_=r.inheritViewBox,S=void 0!==_&&_,O=r.titleAccess,P=r.viewBox,E=void 0===P?"0 0 24 24":P,C=(0,c.Z)(r,g),x=(0,a.Z)({},r,{color:p,component:h,fontSize:k,instanceFontSize:e.fontSize,inheritViewBox:S,viewBox:E}),j={};S||(j.viewBox=E);var T=function(e){var t=e.color,r=e.fontSize,n=e.classes,i={root:["root","inherit"!==t&&"color".concat((0,o.Z)(t)),"fontSize".concat((0,o.Z)(r))]};return(0,u.Z)(i,m,n)}(x);return(0,y.jsxs)(b,(0,a.Z)({as:h,className:(0,l.Z)(T.root,i),focusable:"false",color:w,"aria-hidden":!O||void 0,role:O?"img":void 0,ref:t},j,C,{ownerState:x,children:[n,O?(0,y.jsx)("title",{children:O}):null]}))}));v.muiName="SvgIcon";const k=v;function w(e,t){function r(r,n){return(0,y.jsx)(k,(0,a.Z)({"data-testid":"".concat(t,"Icon"),ref:n},r,{children:e}))}return r.muiName=k.muiName,s.memo(s.forwardRef(r))}const _=function(e){var t,r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:166;function n(){for(var n=this,o=arguments.length,i=new Array(o),a=0;a<o;a++)i[a]=arguments[a];clearTimeout(t),t=setTimeout((function(){e.apply(n,i)}),r)}return n.clear=function(){clearTimeout(t)},n},S=function(e,t){return function(){return null}},O=function(e,t){return s.isValidElement(e)&&-1!==t.indexOf(e.type.muiName)};var P=r(3499),E=r(1788);const C=function(e){return(0,E.Z)(e).defaultView||window};r(633);const x=function(e,t){return function(){return null}},j=r(7630).Z;var T=r(4017),R=r(9813);const z=function(e,t,r,n,o){return null};var I=r(7181),A=r(3138),M=r(8241),D=r(2349),N={configure:function(e){n.Z.configure(e)}}},3499:(e,t,r)=>{"use strict";r.d(t,{Z:()=>n});const n=r(1788).Z},7181:(e,t,r)=>{"use strict";r.d(t,{Z:()=>n});const n=r(9767).Z},4017:(e,t,r)=>{"use strict";r.d(t,{Z:()=>n});const n=r(7116).Z},3138:(e,t,r)=>{"use strict";r.d(t,{Z:()=>n});const n=r(7513).Z},8241:(e,t,r)=>{"use strict";r.d(t,{Z:()=>n});const n=r(127).Z},9813:(e,t,r)=>{"use strict";r.d(t,{Z:()=>n});const n=r(1822).Z},2349:(e,t,r)=>{"use strict";r.d(t,{Z:()=>n});const n=r(2161).Z},7809:(e,t,r)=>{"use strict";r.d(t,{Z:()=>n});const n=r(6689).createContext(null)},2292:(e,t,r)=>{"use strict";r.d(t,{Z:()=>i});var n=r(6689),o=r(7809);function i(){return n.useContext(o.Z)}},254:(e,t,r)=>{"use strict";r.d(t,{Co:()=>i,ZP:()=>o});var n=r(5040);function o(e,t){return(0,n.Z)(e,t)}var i=function(e,t){Array.isArray(e.__emotion_styles)&&(e.__emotion_styles=t(e.__emotion_styles))}},2455:(e,t,r)=>{"use strict";r.d(t,{E0:()=>b,NL:()=>s});var n=r(5770),o=r(5115),i=r(7654),a=r(1250);function s(e){return"number"!=typeof e?e:"".concat(e,"px solid")}var c=(0,n.ZP)({prop:"border",themeKey:"borders",transform:s}),l=(0,n.ZP)({prop:"borderTop",themeKey:"borders",transform:s}),u=(0,n.ZP)({prop:"borderRight",themeKey:"borders",transform:s}),d=(0,n.ZP)({prop:"borderBottom",themeKey:"borders",transform:s}),p=(0,n.ZP)({prop:"borderLeft",themeKey:"borders",transform:s}),f=(0,n.ZP)({prop:"borderColor",themeKey:"palette"}),h=(0,n.ZP)({prop:"borderTopColor",themeKey:"palette"}),m=(0,n.ZP)({prop:"borderRightColor",themeKey:"palette"}),y=(0,n.ZP)({prop:"borderBottomColor",themeKey:"palette"}),g=(0,n.ZP)({prop:"borderLeftColor",themeKey:"palette"}),b=function(e){if(void 0!==e.borderRadius&&null!==e.borderRadius){var t=(0,i.eI)(e.theme,"shape.borderRadius",4,"borderRadius");return(0,a.k9)(e,e.borderRadius,(function(e){return{borderRadius:(0,i.NA)(t,e)}}))}return null};b.propTypes={},b.filterProps=["borderRadius"],(0,o.Z)(c,l,u,d,p,f,h,m,y,g,b)},1250:(e,t,r)=>{"use strict";function n(e){return n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},n(e)}r.d(t,{L7:()=>c,VO:()=>o,W8:()=>s,k9:()=>a}),r(580);var o={xs:0,sm:600,md:900,lg:1200,xl:1536},i={keys:["xs","sm","md","lg","xl"],up:function(e){return"@media (min-width:".concat(o[e],"px)")}};function a(e,t,r){var a=e.theme||{};if(Array.isArray(t)){var s=a.breakpoints||i;return t.reduce((function(e,n,o){return e[s.up(s.keys[o])]=r(t[o]),e}),{})}if("object"===n(t)){var c=a.breakpoints||i;return Object.keys(t).reduce((function(e,n){if(-1!==Object.keys(c.values||o).indexOf(n))e[c.up(n)]=r(t[n],n);else{var i=n;e[i]=t[i]}return e}),{})}return r(t)}function s(){var e,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return(null==(e=t.keys)?void 0:e.reduce((function(e,r){return e[t.up(r)]={},e}),{}))||{}}function c(e,t){return e.reduce((function(e,t){var r=e[t];return(!r||0===Object.keys(r).length)&&delete e[t],e}),t)}},4951:(e,t,r)=>{"use strict";r.d(t,{$n:()=>d,Fq:()=>l,_j:()=>u,mi:()=>c});var n=r(4070);function o(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1;return Math.min(Math.max(t,e),r)}function i(e){if(e.type)return e;if("#"===e.charAt(0))return i(function(e){e=e.slice(1);var t=new RegExp(".{1,".concat(e.length>=6?2:1,"}"),"g"),r=e.match(t);return r&&1===r[0].length&&(r=r.map((function(e){return e+e}))),r?"rgb".concat(4===r.length?"a":"","(").concat(r.map((function(e,t){return t<3?parseInt(e,16):Math.round(parseInt(e,16)/255*1e3)/1e3})).join(", "),")"):""}(e));var t=e.indexOf("("),r=e.substring(0,t);if(-1===["rgb","rgba","hsl","hsla","color"].indexOf(r))throw new Error((0,n.Z)(9,e));var o,a=e.substring(t+1,e.length-1);if("color"===r){if(o=(a=a.split(" ")).shift(),4===a.length&&"/"===a[3].charAt(0)&&(a[3]=a[3].slice(1)),-1===["srgb","display-p3","a98-rgb","prophoto-rgb","rec-2020"].indexOf(o))throw new Error((0,n.Z)(10,o))}else a=a.split(",");return{type:r,values:a=a.map((function(e){return parseFloat(e)})),colorSpace:o}}function a(e){var t=e.type,r=e.colorSpace,n=e.values;return-1!==t.indexOf("rgb")?n=n.map((function(e,t){return t<3?parseInt(e,10):e})):-1!==t.indexOf("hsl")&&(n[1]="".concat(n[1],"%"),n[2]="".concat(n[2],"%")),n=-1!==t.indexOf("color")?"".concat(r," ").concat(n.join(" ")):"".concat(n.join(", ")),"".concat(t,"(").concat(n,")")}function s(e){var t="hsl"===(e=i(e)).type||"hsla"===e.type?i(function(e){var t=(e=i(e)).values,r=t[0],n=t[1]/100,o=t[2]/100,s=n*Math.min(o,1-o),c=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:(e+r/30)%12;return o-s*Math.max(Math.min(t-3,9-t,1),-1)},l="rgb",u=[Math.round(255*c(0)),Math.round(255*c(8)),Math.round(255*c(4))];return"hsla"===e.type&&(l+="a",u.push(t[3])),a({type:l,values:u})}(e)).values:e.values;return t=t.map((function(t){return"color"!==e.type&&(t/=255),t<=.03928?t/12.92:Math.pow((t+.055)/1.055,2.4)})),Number((.2126*t[0]+.7152*t[1]+.0722*t[2]).toFixed(3))}function c(e,t){var r=s(e),n=s(t);return(Math.max(r,n)+.05)/(Math.min(r,n)+.05)}function l(e,t){return e=i(e),t=o(t),"rgb"!==e.type&&"hsl"!==e.type||(e.type+="a"),"color"===e.type?e.values[3]="/".concat(t):e.values[3]=t,a(e)}function u(e,t){if(e=i(e),t=o(t),-1!==e.type.indexOf("hsl"))e.values[2]*=1-t;else if(-1!==e.type.indexOf("rgb")||-1!==e.type.indexOf("color"))for(var r=0;r<3;r+=1)e.values[r]*=1-t;return a(e)}function d(e,t){if(e=i(e),t=o(t),-1!==e.type.indexOf("hsl"))e.values[2]+=(100-e.values[2])*t;else if(-1!==e.type.indexOf("rgb"))for(var r=0;r<3;r+=1)e.values[r]+=(255-e.values[r])*t;else if(-1!==e.type.indexOf("color"))for(var n=0;n<3;n+=1)e.values[n]+=(1-e.values[n])*t;return a(e)}},5115:(e,t,r)=>{"use strict";r.d(t,{Z:()=>o});var n=r(1403);const o=function(){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];var o=t.reduce((function(e,t){return t.filterProps.forEach((function(r){e[r]=t})),e}),{}),i=function(e){return Object.keys(e).reduce((function(t,r){return o[r]?(0,n.Z)(t,o[r](e)):t}),{})};return i.propTypes={},i.filterProps=t.reduce((function(e,t){return e.concat(t.filterProps)}),[]),i}},8045:(e,t,r)=>{"use strict";r.d(t,{ZP:()=>w,x9:()=>v});var n=r(9807),o=r(633),i=r(254),a=r(5156),s=r(1195),c=r(6713);function l(e){return function(e){if(Array.isArray(e))return d(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||u(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function u(e,t){if(e){if("string"==typeof e)return d(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?Array.from(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?d(e,t):void 0}}function d(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}var p=["name","slot","skipVariantsResolver","skipSx","overridesResolver"],f=["theme"],h=["theme"];function m(e){return 0===Object.keys(e).length}var y=function(e,t){return t.components&&t.components[e]&&t.components[e].styleOverrides?t.components[e].styleOverrides:null},g=function(e,t){var r=[];t&&t.components&&t.components[e]&&t.components[e].variants&&(r=t.components[e].variants);var n={};return r.forEach((function(e){var t=(0,s.Z)(e.props);n[t]=e.style})),n},b=function(e,t,r,n){var o,i,a=e.ownerState,c=void 0===a?{}:a,l=[],u=null==r||null==(o=r.components)||null==(i=o[n])?void 0:i.variants;return u&&u.forEach((function(r){var n=!0;Object.keys(r.props).forEach((function(t){c[t]!==r.props[t]&&e[t]!==r.props[t]&&(n=!1)})),n&&l.push(t[(0,s.Z)(r.props)])})),l};function v(e){return"ownerState"!==e&&"theme"!==e&&"sx"!==e&&"as"!==e}var k=(0,a.Z)();function w(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.defaultTheme,r=void 0===t?k:t,a=e.rootShouldForwardProp,s=void 0===a?v:a,d=e.slotShouldForwardProp,w=void 0===d?v:d,_=function(e){var t=m(e.theme)?r:e.theme;return(0,c.Z)((0,o.Z)({},e,{theme:t}))};return _.__mui_systemSx=!0,function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};(0,i.Co)(e,(function(e){return e.filter((function(e){return!(null!=e&&e.__mui_systemSx)}))}));var a=t.name,c=t.slot,d=t.skipVariantsResolver,k=t.skipSx,S=t.overridesResolver,O=(0,n.Z)(t,p),P=void 0!==d?d:c&&"Root"!==c||!1,E=k||!1,C=v;"Root"===c?C=s:c?C=w:function(e){return"string"==typeof e&&e.charCodeAt(0)>96}(e)&&(C=void 0);var x=(0,i.ZP)(e,(0,o.Z)({shouldForwardProp:C,label:void 0},O)),j=function(e){for(var t=arguments.length,i=new Array(t>1?t-1:0),s=1;s<t;s++)i[s-1]=arguments[s];var c=i?i.map((function(e){return"function"==typeof e&&e.__emotion_real!==e?function(t){var i=t.theme,a=(0,n.Z)(t,f);return e((0,o.Z)({theme:m(i)?r:i},a))}:e})):[],d=e;a&&S&&c.push((function(e){var t=m(e.theme)?r:e.theme,n=y(a,t);if(n){var i={};return Object.entries(n).forEach((function(r){var n,a,s=(a=2,function(e){if(Array.isArray(e))return e}(n=r)||function(e,t){var r=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=r){var n,o,i,a,s=[],c=!0,l=!1;try{if(i=(r=r.call(e)).next,0===t){if(Object(r)!==r)return;c=!1}else for(;!(c=(n=i.call(r)).done)&&(s.push(n.value),s.length!==t);c=!0);}catch(e){l=!0,o=e}finally{try{if(!c&&null!=r.return&&(a=r.return(),Object(a)!==a))return}finally{if(l)throw o}}return s}}(n,a)||u(n,a)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()),c=s[0],l=s[1];i[c]="function"==typeof l?l((0,o.Z)({},e,{theme:t})):l})),S(e,i)}return null})),a&&!P&&c.push((function(e){var t=m(e.theme)?r:e.theme;return b(e,g(a,t),t,a)})),E||c.push(_);var p=c.length-i.length;if(Array.isArray(e)&&p>0){var v=new Array(p).fill("");(d=[].concat(l(e),l(v))).raw=[].concat(l(e.raw),l(v))}else"function"==typeof e&&e.__emotion_real!==e&&(d=function(t){var i=t.theme,a=(0,n.Z)(t,h);return e((0,o.Z)({theme:m(i)?r:i},a))});return x.apply(void 0,[d].concat(l(c)))};return x.withConfig&&(j.withConfig=x.withConfig),j}}},6828:(e,t,r)=>{"use strict";r.d(t,{Z:()=>c});var n=r(9807),o=r(633);function i(e){return i="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},i(e)}var a=["values","unit","step"],s=function(e){var t=Object.keys(e).map((function(t){return{key:t,val:e[t]}}))||[];return t.sort((function(e,t){return e.val-t.val})),t.reduce((function(e,t){return(0,o.Z)({},e,function(e,t,r){return(t=function(e){var t=function(e,t){if("object"!==i(e)||null===e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,"string");if("object"!==i(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"===i(t)?t:String(t)}(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}({},t.key,t.val))}),{})};function c(e){var t=e.values,r=void 0===t?{xs:0,sm:600,md:900,lg:1200,xl:1536}:t,i=e.unit,c=void 0===i?"px":i,l=e.step,u=void 0===l?5:l,d=(0,n.Z)(e,a),p=s(r),f=Object.keys(p);function h(e){var t="number"==typeof r[e]?r[e]:e;return"@media (min-width:".concat(t).concat(c,")")}function m(e){var t="number"==typeof r[e]?r[e]:e;return"@media (max-width:".concat(t-u/100).concat(c,")")}function y(e,t){var n=f.indexOf(t);return"@media (min-width:".concat("number"==typeof r[e]?r[e]:e).concat(c,") and ")+"(max-width:".concat((-1!==n&&"number"==typeof r[f[n]]?r[f[n]]:t)-u/100).concat(c,")")}return(0,o.Z)({keys:f,values:p,up:h,down:m,between:y,only:function(e){return f.indexOf(e)+1<f.length?y(e,f[f.indexOf(e)+1]):h(e)},not:function(e){var t=f.indexOf(e);return 0===t?h(f[1]):t===f.length-1?m(f[t]):y(e,f[f.indexOf(e)+1]).replace("@media","@media not all and")},unit:c},d)}},2500:(e,t,r)=>{"use strict";r.d(t,{Z:()=>o});var n=r(7654);function o(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:8;if(e.mui)return e;var t=(0,n.hB)({spacing:e}),r=function(){for(var e=arguments.length,r=new Array(e),n=0;n<e;n++)r[n]=arguments[n];return(0===r.length?[1]:r).map((function(e){var r=t(e);return"number"==typeof r?"".concat(r,"px"):r})).join(" ")};return r.mui=!0,r}},5156:(e,t,r)=>{"use strict";r.d(t,{Z:()=>p});var n=r(633),o=r(9807),i=r(4359),a=r(6828),s=r(1202),c=r(2500),l=r(6713),u=r(1426),d=["breakpoints","palette","spacing","shape"];const p=function(){for(var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.breakpoints,r=void 0===t?{}:t,p=e.palette,f=void 0===p?{}:p,h=e.spacing,m=e.shape,y=void 0===m?{}:m,g=(0,o.Z)(e,d),b=(0,a.Z)(r),v=(0,c.Z)(h),k=(0,i.Z)({breakpoints:b,direction:"ltr",components:{},palette:(0,n.Z)({mode:"light"},f),spacing:v,shape:(0,n.Z)({},s.Z,y)},g),w=arguments.length,_=new Array(w>1?w-1:0),S=1;S<w;S++)_[S-1]=arguments[S];return(k=_.reduce((function(e,t){return(0,i.Z)(e,t)}),k)).unstable_sxConfig=(0,n.Z)({},u.Z,null==g?void 0:g.unstable_sxConfig),k.unstable_sx=function(e){return(0,l.Z)({sx:e,theme:this})},k}},1202:(e,t,r)=>{"use strict";r.d(t,{Z:()=>n});const n={borderRadius:4}},5607:(e,t,r)=>{"use strict";r.d(t,{SG:()=>s,e$:()=>c,s2:()=>l});var n=r(5770),o=r(5115),i=r(7654),a=r(1250),s=function(e){if(void 0!==e.gap&&null!==e.gap){var t=(0,i.eI)(e.theme,"spacing",8,"gap");return(0,a.k9)(e,e.gap,(function(e){return{gap:(0,i.NA)(t,e)}}))}return null};s.propTypes={},s.filterProps=["gap"];var c=function(e){if(void 0!==e.columnGap&&null!==e.columnGap){var t=(0,i.eI)(e.theme,"spacing",8,"columnGap");return(0,a.k9)(e,e.columnGap,(function(e){return{columnGap:(0,i.NA)(t,e)}}))}return null};c.propTypes={},c.filterProps=["columnGap"];var l=function(e){if(void 0!==e.rowGap&&null!==e.rowGap){var t=(0,i.eI)(e.theme,"spacing",8,"rowGap");return(0,a.k9)(e,e.rowGap,(function(e){return{rowGap:(0,i.NA)(t,e)}}))}return null};l.propTypes={},l.filterProps=["rowGap"];var u=(0,n.ZP)({prop:"gridColumn"}),d=(0,n.ZP)({prop:"gridRow"}),p=(0,n.ZP)({prop:"gridAutoFlow"}),f=(0,n.ZP)({prop:"gridAutoColumns"}),h=(0,n.ZP)({prop:"gridAutoRows"}),m=(0,n.ZP)({prop:"gridTemplateColumns"}),y=(0,n.ZP)({prop:"gridTemplateRows"}),g=(0,n.ZP)({prop:"gridTemplateAreas"}),b=(0,n.ZP)({prop:"gridArea"});(0,o.Z)(s,c,l,u,d,p,f,h,m,y,g,b)},8838:(e,t,r)=>{"use strict";function n(e){var t={};return function(r){return void 0===t[r]&&(t[r]=e(r)),t[r]}}r.d(t,{Z:()=>n})},1403:(e,t,r)=>{"use strict";r.d(t,{Z:()=>o});var n=r(4359);const o=function(e,t){return t?(0,n.Z)(e,t,{clone:!1}):e}},9598:(e,t,r)=>{"use strict";r.d(t,{Sh:()=>i});var n=r(5770),o=r(5115);function i(e,t){return"grey"===t?t:e}var a=(0,n.ZP)({prop:"color",themeKey:"palette",transform:i}),s=(0,n.ZP)({prop:"bgcolor",cssProperty:"backgroundColor",themeKey:"palette",transform:i}),c=(0,n.ZP)({prop:"backgroundColor",themeKey:"palette",transform:i});(0,o.Z)(a,s,c)},1195:(e,t,r)=>{"use strict";r.d(t,{Z:()=>s});var n=r(9807),o=r(994),i=["variant"];function a(e){return 0===e.length}function s(e){var t=e.variant,r=(0,n.Z)(e,i),s=t||"";return Object.keys(r).sort().forEach((function(t){s+="color"===t?a(s)?e[t]:(0,o.Z)(e[t]):"".concat(a(s)?t:(0,o.Z)(t)).concat((0,o.Z)(e[t].toString()))})),s}},1384:(e,t,r)=>{"use strict";r.d(t,{EB:()=>a,kk:()=>c});var n=r(5770),o=r(5115),i=r(1250);function a(e){return e<=1&&0!==e?"".concat(100*e,"%"):e}var s=(0,n.ZP)({prop:"width",transform:a}),c=function(e){return void 0!==e.maxWidth&&null!==e.maxWidth?(0,i.k9)(e,e.maxWidth,(function(t){var r,n,o;return{maxWidth:(null==(r=e.theme)||null==(n=r.breakpoints)||null==(o=n.values)?void 0:o[t])||i.VO[t]||a(t)}})):null};c.filterProps=["maxWidth"];var l=(0,n.ZP)({prop:"minWidth",transform:a}),u=(0,n.ZP)({prop:"height",transform:a}),d=(0,n.ZP)({prop:"maxHeight",transform:a}),p=(0,n.ZP)({prop:"minHeight",transform:a}),f=((0,n.ZP)({prop:"size",cssProperty:"width",transform:a}),(0,n.ZP)({prop:"size",cssProperty:"height",transform:a}),(0,n.ZP)({prop:"boxSizing"}));(0,o.Z)(s,c,l,u,d,p,f)},7654:(e,t,r)=>{"use strict";r.d(t,{NA:()=>g,e6:()=>v,eI:()=>m,hB:()=>y,o3:()=>k});var n=r(1250),o=r(5770),i=r(1403),a=r(8838);function s(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}var c={m:"margin",p:"padding"},l={t:"Top",r:"Right",b:"Bottom",l:"Left",x:["Left","Right"],y:["Top","Bottom"]},u={marginX:"mx",marginY:"my",paddingX:"px",paddingY:"py"},d=(0,a.Z)((function(e){if(e.length>2){if(!u[e])return[e];e=u[e]}var t,r,n=(t=e.split(""),r=2,function(e){if(Array.isArray(e))return e}(t)||function(e,t){var r=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=r){var n,o,i,a,s=[],c=!0,l=!1;try{if(i=(r=r.call(e)).next,0===t){if(Object(r)!==r)return;c=!1}else for(;!(c=(n=i.call(r)).done)&&(s.push(n.value),s.length!==t);c=!0);}catch(e){l=!0,o=e}finally{try{if(!c&&null!=r.return&&(a=r.return(),Object(a)!==a))return}finally{if(l)throw o}}return s}}(t,r)||function(e,t){if(e){if("string"==typeof e)return s(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?Array.from(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?s(e,t):void 0}}(t,r)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()),o=n[0],i=n[1],a=c[o],d=l[i]||"";return Array.isArray(d)?d.map((function(e){return a+e})):[a+d]})),p=["m","mt","mr","mb","ml","mx","my","margin","marginTop","marginRight","marginBottom","marginLeft","marginX","marginY","marginInline","marginInlineStart","marginInlineEnd","marginBlock","marginBlockStart","marginBlockEnd"],f=["p","pt","pr","pb","pl","px","py","padding","paddingTop","paddingRight","paddingBottom","paddingLeft","paddingX","paddingY","paddingInline","paddingInlineStart","paddingInlineEnd","paddingBlock","paddingBlockStart","paddingBlockEnd"],h=[].concat(p,f);function m(e,t,r,n){var i,a=null!=(i=(0,o.DW)(e,t,!1))?i:r;return"number"==typeof a?function(e){return"string"==typeof e?e:a*e}:Array.isArray(a)?function(e){return"string"==typeof e?e:a[e]}:"function"==typeof a?a:function(){}}function y(e){return m(e,"spacing",8)}function g(e,t){if("string"==typeof t||null==t)return t;var r=e(Math.abs(t));return t>=0?r:"number"==typeof r?-r:"-".concat(r)}function b(e,t){var r=y(e.theme);return Object.keys(e).map((function(o){return function(e,t,r,o){if(-1===t.indexOf(r))return null;var i=function(e,t){return function(r){return e.reduce((function(e,n){return e[n]=g(t,r),e}),{})}}(d(r),o),a=e[r];return(0,n.k9)(e,a,i)}(e,t,o,r)})).reduce(i.Z,{})}function v(e){return b(e,p)}function k(e){return b(e,f)}function w(e){return b(e,h)}v.propTypes={},v.filterProps=p,k.propTypes={},k.filterProps=f,w.propTypes={},w.filterProps=h},5770:(e,t,r)=>{"use strict";r.d(t,{DW:()=>a,Jq:()=>s,ZP:()=>c});var n=r(994),o=r(1250);function i(e){return i="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},i(e)}function a(e,t){var r=!(arguments.length>2&&void 0!==arguments[2])||arguments[2];if(!t||"string"!=typeof t)return null;if(e&&e.vars&&r){var n="vars.".concat(t).split(".").reduce((function(e,t){return e&&e[t]?e[t]:null}),e);if(null!=n)return n}return t.split(".").reduce((function(e,t){return e&&null!=e[t]?e[t]:null}),e)}function s(e,t,r){var n,o=arguments.length>3&&void 0!==arguments[3]?arguments[3]:r;return n="function"==typeof e?e(r):Array.isArray(e)?e[r]||o:a(e,r)||o,t&&(n=t(n,o,e)),n}const c=function(e){var t=e.prop,r=e.cssProperty,c=void 0===r?e.prop:r,l=e.themeKey,u=e.transform,d=function(e){if(null==e[t])return null;var r=e[t],d=a(e.theme,l)||{};return(0,o.k9)(e,r,(function(e){var r=s(d,u,e);return e===r&&"string"==typeof e&&(r=s(d,u,"".concat(t).concat("default"===e?"":(0,n.Z)(e)),e)),!1===c?r:function(e,t,r){return(t=function(e){var t=function(e,t){if("object"!==i(e)||null===e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,"string");if("object"!==i(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"===i(t)?t:String(t)}(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}({},c,r)}))};return d.propTypes={},d.filterProps=[t],d}},1426:(e,t,r)=>{"use strict";r.d(t,{Z:()=>c});var n=r(7654),o=r(2455),i=r(5607),a=r(9598),s=r(1384);const c={border:{themeKey:"borders",transform:o.NL},borderTop:{themeKey:"borders",transform:o.NL},borderRight:{themeKey:"borders",transform:o.NL},borderBottom:{themeKey:"borders",transform:o.NL},borderLeft:{themeKey:"borders",transform:o.NL},borderColor:{themeKey:"palette"},borderTopColor:{themeKey:"palette"},borderRightColor:{themeKey:"palette"},borderBottomColor:{themeKey:"palette"},borderLeftColor:{themeKey:"palette"},borderRadius:{themeKey:"shape.borderRadius",style:o.E0},color:{themeKey:"palette",transform:a.Sh},bgcolor:{themeKey:"palette",cssProperty:"backgroundColor",transform:a.Sh},backgroundColor:{themeKey:"palette",transform:a.Sh},p:{style:n.o3},pt:{style:n.o3},pr:{style:n.o3},pb:{style:n.o3},pl:{style:n.o3},px:{style:n.o3},py:{style:n.o3},padding:{style:n.o3},paddingTop:{style:n.o3},paddingRight:{style:n.o3},paddingBottom:{style:n.o3},paddingLeft:{style:n.o3},paddingX:{style:n.o3},paddingY:{style:n.o3},paddingInline:{style:n.o3},paddingInlineStart:{style:n.o3},paddingInlineEnd:{style:n.o3},paddingBlock:{style:n.o3},paddingBlockStart:{style:n.o3},paddingBlockEnd:{style:n.o3},m:{style:n.e6},mt:{style:n.e6},mr:{style:n.e6},mb:{style:n.e6},ml:{style:n.e6},mx:{style:n.e6},my:{style:n.e6},margin:{style:n.e6},marginTop:{style:n.e6},marginRight:{style:n.e6},marginBottom:{style:n.e6},marginLeft:{style:n.e6},marginX:{style:n.e6},marginY:{style:n.e6},marginInline:{style:n.e6},marginInlineStart:{style:n.e6},marginInlineEnd:{style:n.e6},marginBlock:{style:n.e6},marginBlockStart:{style:n.e6},marginBlockEnd:{style:n.e6},displayPrint:{cssProperty:!1,transform:function(e){return{"@media print":{display:e}}}},display:{},overflow:{},textOverflow:{},visibility:{},whiteSpace:{},flexBasis:{},flexDirection:{},flexWrap:{},justifyContent:{},alignItems:{},alignContent:{},order:{},flex:{},flexGrow:{},flexShrink:{},alignSelf:{},justifyItems:{},justifySelf:{},gap:{style:i.SG},rowGap:{style:i.s2},columnGap:{style:i.e$},gridColumn:{},gridRow:{},gridAutoFlow:{},gridAutoColumns:{},gridAutoRows:{},gridTemplateColumns:{},gridTemplateRows:{},gridTemplateAreas:{},gridArea:{},position:{},zIndex:{themeKey:"zIndex"},top:{},right:{},bottom:{},left:{},boxShadow:{themeKey:"shadows"},width:{transform:s.EB},maxWidth:{style:s.kk},minWidth:{transform:s.EB},height:{transform:s.EB},maxHeight:{transform:s.EB},minHeight:{transform:s.EB},boxSizing:{},fontFamily:{themeKey:"typography"},fontSize:{themeKey:"typography"},fontStyle:{themeKey:"typography"},fontWeight:{themeKey:"typography"},letterSpacing:{},textTransform:{},lineHeight:{},textAlign:{},typography:{cssProperty:!1,themeKey:"typography"}}},6713:(e,t,r)=>{"use strict";r.d(t,{Z:()=>d});var n=r(994),o=r(1403),i=r(5770),a=r(1250),s=r(1426);function c(e){return c="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},c(e)}function l(e,t,r){return(t=function(e){var t=function(e,t){if("object"!==c(e)||null===e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,"string");if("object"!==c(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"===c(t)?t:String(t)}(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var u=function(){function e(e,t,r,o){var s,c=(l(s={},e,t),l(s,"theme",r),s),u=o[e];if(!u)return l({},e,t);var d=u.cssProperty,p=void 0===d?e:d,f=u.themeKey,h=u.transform,m=u.style;if(null==t)return null;var y=(0,i.DW)(r,f)||{};return m?m(c):(0,a.k9)(c,t,(function(t){var r=(0,i.Jq)(y,h,t);return t===r&&"string"==typeof t&&(r=(0,i.Jq)(y,h,"".concat(e).concat("default"===t?"":(0,n.Z)(t)),t)),!1===p?r:l({},p,r)}))}return function t(r){var n,i=r||{},u=i.sx,d=i.theme,p=void 0===d?{}:d;if(!u)return null;var f=null!=(n=p.unstable_sxConfig)?n:s.Z;function h(r){var n=r;if("function"==typeof r)n=r(p);else if("object"!==c(r))return r;if(!n)return null;var i=(0,a.W8)(p.breakpoints),s=Object.keys(i),u=i;return Object.keys(n).forEach((function(r){var i,s="function"==typeof(i=n[r])?i(p):i;if(null!=s)if("object"===c(s))if(f[r])u=(0,o.Z)(u,e(r,s,p,f));else{var d=(0,a.k9)({theme:p},s,(function(e){return l({},r,e)}));!function(){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];var n=t.reduce((function(e,t){return e.concat(Object.keys(t))}),[]),o=new Set(n);return t.every((function(e){return o.size===Object.keys(e).length}))}(d,s)?u=(0,o.Z)(u,d):u[r]=t({sx:s,theme:p})}else u=(0,o.Z)(u,e(r,s,p,f))})),(0,a.L7)(s,u)}return Array.isArray(u)?u.map(h):h(u)}}();u.filterProps=["sx"];const d=u},2957:(e,t,r)=>{"use strict";r.d(t,{Z:()=>a});var n=r(5156),o=r(4313),i=(0,n.Z)();const a=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:i;return(0,o.Z)(e)}},3002:(e,t,r)=>{"use strict";r.d(t,{Z:()=>o});var n=r(848);function o(e){var t=e.theme,r=e.name,o=e.props;return t&&t.components&&t.components[r]&&t.components[r].defaultProps?(0,n.Z)(t.components[r].defaultProps,o):o}},9420:(e,t,r)=>{"use strict";r.d(t,{Z:()=>i});var n=r(3002),o=r(2957);function i(e){var t=e.props,r=e.name,i=e.defaultTheme,a=(0,o.Z)(i);return(0,n.Z)({theme:a,name:r,props:t})}},4313:(e,t,r)=>{"use strict";r.d(t,{Z:()=>o});var n=r(2292);const o=function(){var e,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,r=(0,n.Z)();return r&&(e=r,0!==Object.keys(e).length)?r:t}},611:(e,t,r)=>{"use strict";r.d(t,{Z:()=>i});var n,o=function(e){return e};const i=(n=o,{configure:function(e){n=e},generate:function(e){return n(e)},reset:function(){n=o}})},994:(e,t,r)=>{"use strict";r.d(t,{Z:()=>o});var n=r(4070);function o(e){if("string"!=typeof e)throw new Error((0,n.Z)(7));return e.charAt(0).toUpperCase()+e.slice(1)}},7283:(e,t,r)=>{"use strict";function n(e,t,r){var n={};return Object.keys(e).forEach((function(o){n[o]=e[o].reduce((function(e,n){return n&&(e.push(t(n)),r&&r[n]&&e.push(r[n])),e}),[]).join(" ")})),n}r.d(t,{Z:()=>n})},4359:(e,t,r)=>{"use strict";r.d(t,{P:()=>i,Z:()=>s});var n=r(633);function o(e){return o="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},o(e)}function i(e){return null!==e&&"object"===o(e)&&e.constructor===Object}function a(e){if(!i(e))return e;var t={};return Object.keys(e).forEach((function(r){t[r]=a(e[r])})),t}function s(e,t){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{clone:!0},o=r.clone?(0,n.Z)({},e):e;return i(e)&&i(t)&&Object.keys(t).forEach((function(n){"__proto__"!==n&&(i(t[n])&&n in e&&i(e[n])?o[n]=s(e[n],t[n],r):r.clone?o[n]=i(t[n])?a(t[n]):t[n]:o[n]=t[n])})),o}},4070:(e,t,r)=>{"use strict";function n(e){for(var t="https://mui.com/production-error/?code="+e,r=1;r<arguments.length;r+=1)t+="&args[]="+encodeURIComponent(arguments[r]);return"Minified MUI error #"+e+"; visit "+t+" for the full message."}r.d(t,{Z:()=>n})},9691:(e,t,r)=>{"use strict";r.d(t,{Z:()=>i});var n=r(611),o={active:"active",checked:"checked",completed:"completed",disabled:"disabled",error:"error",expanded:"expanded",focused:"focused",focusVisible:"focusVisible",required:"required",selected:"selected"};function i(e,t){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"Mui",i=o[t];return i?"".concat(r,"-").concat(i):"".concat(n.Z.generate(e),"-").concat(t)}},4177:(e,t,r)=>{"use strict";r.d(t,{Z:()=>o});var n=r(9691);function o(e,t){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"Mui",o={};return t.forEach((function(t){o[t]=(0,n.Z)(e,t,r)})),o}},1788:(e,t,r)=>{"use strict";function n(e){return e&&e.ownerDocument||document}r.d(t,{Z:()=>n})},848:(e,t,r)=>{"use strict";r.d(t,{Z:()=>o});var n=r(633);function o(e,t){var r=(0,n.Z)({},t);return Object.keys(e).forEach((function(i){if(i.toString().match(/^(components|slots)$/))r[i]=(0,n.Z)({},e[i],r[i]);else if(i.toString().match(/^(componentsProps|slotProps)$/)){var a=e[i]||{},s=t[i];r[i]={},s&&Object.keys(s)?a&&Object.keys(a)?(r[i]=(0,n.Z)({},s),Object.keys(a).forEach((function(e){r[i][e]=o(a[e],s[e])}))):r[i]=s:r[i]=a}else void 0===r[i]&&(r[i]=e[i])})),r}},7630:(e,t,r)=>{"use strict";function n(e,t){"function"==typeof e?e(t):e&&(e.current=t)}r.d(t,{Z:()=>n})},9767:(e,t,r)=>{"use strict";r.d(t,{Z:()=>i});var n=r(6689);function o(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function i(e){var t,r,i=e.controlled,a=e.default,s=(e.name,e.state,n.useRef(void 0!==i).current),c=(t=n.useState(a),r=2,function(e){if(Array.isArray(e))return e}(t)||function(e,t){var r=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=r){var n,o,i,a,s=[],c=!0,l=!1;try{if(i=(r=r.call(e)).next,0===t){if(Object(r)!==r)return;c=!1}else for(;!(c=(n=i.call(r)).done)&&(s.push(n.value),s.length!==t);c=!0);}catch(e){l=!0,o=e}finally{try{if(!c&&null!=r.return&&(a=r.return(),Object(a)!==a))return}finally{if(l)throw o}}return s}}(t,r)||function(e,t){if(e){if("string"==typeof e)return o(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?Array.from(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?o(e,t):void 0}}(t,r)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()),l=c[0],u=c[1];return[s?i:l,n.useCallback((function(e){s||u(e)}),[])]}},7116:(e,t,r)=>{"use strict";r.d(t,{Z:()=>o});var n=r(6689);const o="undefined"!=typeof window?n.useLayoutEffect:n.useEffect},7513:(e,t,r)=>{"use strict";r.d(t,{Z:()=>i});var n=r(6689),o=r(7116);function i(e){var t=n.useRef(e);return(0,o.Z)((function(){t.current=e})),n.useCallback((function(){return t.current.apply(void 0,arguments)}),[])}},127:(e,t,r)=>{"use strict";r.d(t,{Z:()=>i});var n=r(6689),o=r(7630);function i(){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];return n.useMemo((function(){return t.every((function(e){return null==e}))?null:function(e){t.forEach((function(t){(0,o.Z)(t,e)}))}}),t)}},1822:(e,t,r)=>{"use strict";r.d(t,{Z:()=>s});var n=r(6689);function o(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}var i=0,a=n.useId;function s(e){if(void 0!==a){var t=a();return null!=e?e:t}return function(e){var t,r,a=(t=n.useState(e),r=2,function(e){if(Array.isArray(e))return e}(t)||function(e,t){var r=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=r){var n,o,i,a,s=[],c=!0,l=!1;try{if(i=(r=r.call(e)).next,0===t){if(Object(r)!==r)return;c=!1}else for(;!(c=(n=i.call(r)).done)&&(s.push(n.value),s.length!==t);c=!0);}catch(e){l=!0,o=e}finally{try{if(!c&&null!=r.return&&(a=r.return(),Object(a)!==a))return}finally{if(l)throw o}}return s}}(t,r)||function(e,t){if(e){if("string"==typeof e)return o(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?Array.from(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?o(e,t):void 0}}(t,r)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()),s=a[0],c=a[1],l=e||s;return n.useEffect((function(){null==s&&c("mui-".concat(i+=1))}),[s]),l}(e)}},2161:(e,t,r)=>{"use strict";r.d(t,{Z:()=>d});var n,o=r(6689),i=!0,a=!1,s={text:!0,search:!0,url:!0,tel:!0,email:!0,password:!0,number:!0,date:!0,month:!0,week:!0,time:!0,datetime:!0,"datetime-local":!0};function c(e){e.metaKey||e.altKey||e.ctrlKey||(i=!0)}function l(){i=!1}function u(){"hidden"===this.visibilityState&&a&&(i=!0)}function d(){var e=o.useCallback((function(e){var t;null!=e&&((t=e.ownerDocument).addEventListener("keydown",c,!0),t.addEventListener("mousedown",l,!0),t.addEventListener("pointerdown",l,!0),t.addEventListener("touchstart",l,!0),t.addEventListener("visibilitychange",u,!0))}),[]),t=o.useRef(!1);return{isFocusVisibleRef:t,onFocus:function(e){return!!function(e){var t,r,n,o=e.target;try{return o.matches(":focus-visible")}catch(e){}return i||(r=(t=o).type,!("INPUT"!==(n=t.tagName)||!s[r]||t.readOnly)||"TEXTAREA"===n&&!t.readOnly||!!t.isContentEditable)}(e)&&(t.current=!0,!0)},onBlur:function(){return!!t.current&&(a=!0,window.clearTimeout(n),n=window.setTimeout((function(){a=!1}),100),t.current=!1,!0)},ref:e}}},2360:(e,t)=>{"use strict";function r(e){return function(e){if(Array.isArray(e))return n(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||function(e,t){if(e){if("string"==typeof e)return n(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?Array.from(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?n(e,t):void 0}}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function n(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function o(e){return o="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},o(e)}Object.defineProperty(t,"__esModule",{value:!0});var i=["Int8Array","Uint8Array","Uint8ClampedArray","Int16Array","Uint16Array","Int32Array","Uint32Array","Float32Array","Float64Array","BigInt64Array","BigUint64Array"],a=["Function","Generator","AsyncGenerator","GeneratorFunction","AsyncGeneratorFunction","AsyncFunction","Observable","Array","Buffer","Blob","Object","RegExp","Date","Error","Map","Set","WeakMap","WeakSet","ArrayBuffer","SharedArrayBuffer","DataView","Promise","URL","FormData","URLSearchParams","HTMLElement"].concat(i),s=["null","undefined","string","number","bigint","boolean","symbol"];function c(e){return function(t){return o(t)===e}}var l=Object.prototype.toString,u=function(e){var t,r=l.call(e).slice(8,-1);return/HTML\w+Element/.test(r)&&p.domElement(e)?"HTMLElement":(t=r,a.includes(t)?r:void 0)},d=function(e){return function(t){return u(t)===e}};function p(e){if(null===e)return"null";switch(o(e)){case"undefined":return"undefined";case"string":return"string";case"number":return"number";case"boolean":return"boolean";case"function":return"Function";case"bigint":return"bigint";case"symbol":return"symbol"}if(p.observable(e))return"Observable";if(p.array(e))return"Array";if(p.buffer(e))return"Buffer";var t=u(e);if(t)return t;if(e instanceof String||e instanceof Boolean||e instanceof Number)throw new TypeError("Please don't use object wrappers for primitive types");return"Object"}p.undefined=c("undefined"),p.string=c("string");var f=c("number");p.number=function(e){return f(e)&&!p.nan(e)},p.bigint=c("bigint"),p.function_=c("function"),p.null_=function(e){return null===e},p.class_=function(e){return p.function_(e)&&e.toString().startsWith("class ")},p.boolean=function(e){return!0===e||!1===e},p.symbol=c("symbol"),p.numericString=function(e){return p.string(e)&&!p.emptyStringOrWhitespace(e)&&!Number.isNaN(Number(e))},p.array=function(e,t){return!!Array.isArray(e)&&(!p.function_(t)||e.every(t))},p.buffer=function(e){var t,r,n,o;return null!==(o=null===(n=null===(r=null===(t=e)||void 0===t?void 0:t.constructor)||void 0===r?void 0:r.isBuffer)||void 0===n?void 0:n.call(r,e))&&void 0!==o&&o},p.blob=function(e){return d("Blob")(e)},p.nullOrUndefined=function(e){return p.null_(e)||p.undefined(e)},p.object=function(e){return!p.null_(e)&&("object"===o(e)||p.function_(e))},p.iterable=function(e){var t;return p.function_(null===(t=e)||void 0===t?void 0:t[Symbol.iterator])},p.asyncIterable=function(e){var t;return p.function_(null===(t=e)||void 0===t?void 0:t[Symbol.asyncIterator])},p.generator=function(e){var t,r;return p.iterable(e)&&p.function_(null===(t=e)||void 0===t?void 0:t.next)&&p.function_(null===(r=e)||void 0===r?void 0:r.throw)},p.asyncGenerator=function(e){return p.asyncIterable(e)&&p.function_(e.next)&&p.function_(e.throw)},p.nativePromise=function(e){return d("Promise")(e)},p.promise=function(e){return p.nativePromise(e)||function(e){var t,r;return p.function_(null===(t=e)||void 0===t?void 0:t.then)&&p.function_(null===(r=e)||void 0===r?void 0:r.catch)}(e)},p.generatorFunction=d("GeneratorFunction"),p.asyncGeneratorFunction=function(e){return"AsyncGeneratorFunction"===u(e)},p.asyncFunction=function(e){return"AsyncFunction"===u(e)},p.boundFunction=function(e){return p.function_(e)&&!e.hasOwnProperty("prototype")},p.regExp=d("RegExp"),p.date=d("Date"),p.error=d("Error"),p.map=function(e){return d("Map")(e)},p.set=function(e){return d("Set")(e)},p.weakMap=function(e){return d("WeakMap")(e)},p.weakSet=function(e){return d("WeakSet")(e)},p.int8Array=d("Int8Array"),p.uint8Array=d("Uint8Array"),p.uint8ClampedArray=d("Uint8ClampedArray"),p.int16Array=d("Int16Array"),p.uint16Array=d("Uint16Array"),p.int32Array=d("Int32Array"),p.uint32Array=d("Uint32Array"),p.float32Array=d("Float32Array"),p.float64Array=d("Float64Array"),p.bigInt64Array=d("BigInt64Array"),p.bigUint64Array=d("BigUint64Array"),p.arrayBuffer=d("ArrayBuffer"),p.sharedArrayBuffer=d("SharedArrayBuffer"),p.dataView=d("DataView"),p.enumCase=function(e,t){return Object.values(t).includes(e)},p.directInstanceOf=function(e,t){return Object.getPrototypeOf(e)===t.prototype},p.urlInstance=function(e){return d("URL")(e)},p.urlString=function(e){if(!p.string(e))return!1;try{return new URL(e),!0}catch(e){return!1}},p.truthy=function(e){return Boolean(e)},p.falsy=function(e){return!e},p.nan=function(e){return Number.isNaN(e)},p.primitive=function(e){return p.null_(e)||(t=o(e),s.includes(t));var t},p.integer=function(e){return Number.isInteger(e)},p.safeInteger=function(e){return Number.isSafeInteger(e)},p.plainObject=function(e){if("[object Object]"!==l.call(e))return!1;var t=Object.getPrototypeOf(e);return null===t||t===Object.getPrototypeOf({})},p.typedArray=function(e){return t=u(e),i.includes(t);var t},p.arrayLike=function(e){return!p.nullOrUndefined(e)&&!p.function_(e)&&function(e){return p.safeInteger(e)&&e>=0}(e.length)},p.inRange=function(e,t){if(p.number(t))return e>=Math.min(0,t)&&e<=Math.max(t,0);if(p.array(t)&&2===t.length)return e>=Math.min.apply(Math,r(t))&&e<=Math.max.apply(Math,r(t));throw new TypeError("Invalid range: ".concat(JSON.stringify(t)))};var h=["innerHTML","ownerDocument","style","attributes","nodeValue"];p.domElement=function(e){return p.object(e)&&1===e.nodeType&&p.string(e.nodeName)&&!p.plainObject(e)&&h.every((function(t){return t in e}))},p.observable=function(e){var t,r,n,o;return!!e&&(e===(null===(r=(t=e)[Symbol.observable])||void 0===r?void 0:r.call(t))||e===(null===(o=(n=e)["@@observable"])||void 0===o?void 0:o.call(n)))},p.nodeStream=function(e){return p.object(e)&&p.function_(e.pipe)&&!p.observable(e)},p.infinite=function(e){return e===1/0||e===-1/0};var m=function(e){return function(t){return p.integer(t)&&Math.abs(t%2)===e}};p.evenInteger=m(0),p.oddInteger=m(1),p.emptyArray=function(e){return p.array(e)&&0===e.length},p.nonEmptyArray=function(e){return p.array(e)&&e.length>0},p.emptyString=function(e){return p.string(e)&&0===e.length},p.emptyStringOrWhitespace=function(e){return p.emptyString(e)||function(e){return p.string(e)&&!/\S/.test(e)}(e)},p.nonEmptyString=function(e){return p.string(e)&&e.length>0},p.nonEmptyStringAndNotWhitespace=function(e){return p.string(e)&&!p.emptyStringOrWhitespace(e)},p.emptyObject=function(e){return p.object(e)&&!p.map(e)&&!p.set(e)&&0===Object.keys(e).length},p.nonEmptyObject=function(e){return p.object(e)&&!p.map(e)&&!p.set(e)&&Object.keys(e).length>0},p.emptySet=function(e){return p.set(e)&&0===e.size},p.nonEmptySet=function(e){return p.set(e)&&e.size>0},p.emptyMap=function(e){return p.map(e)&&0===e.size},p.nonEmptyMap=function(e){return p.map(e)&&e.size>0},p.propertyKey=function(e){return p.any([p.string,p.number,p.symbol],e)},p.formData=function(e){return d("FormData")(e)},p.urlSearchParams=function(e){return d("URLSearchParams")(e)};var y=function(e,t,r){if(!p.function_(t))throw new TypeError("Invalid predicate: ".concat(JSON.stringify(t)));if(0===r.length)throw new TypeError("Invalid number of values");return e.call(r,t)};p.any=function(e){for(var t=arguments.length,r=new Array(t>1?t-1:0),n=1;n<t;n++)r[n-1]=arguments[n];return(p.array(e)?e:[e]).some((function(e){return y(Array.prototype.some,e,r)}))},p.all=function(e){for(var t=arguments.length,r=new Array(t>1?t-1:0),n=1;n<t;n++)r[n-1]=arguments[n];return y(Array.prototype.every,e,r)};var g=function(e,t,n){if(!e){var o=(arguments.length>3&&void 0!==arguments[3]?arguments[3]:{}).multipleValues?"received values of types ".concat(r(new Set(n.map((function(e){return"`".concat(p(e),"`")})))).join(", ")):"received value of type `".concat(p(n),"`");throw new TypeError("Expected value which is `".concat(t,"`, ").concat(o,"."))}};t.assert={undefined:function(e){return g(p.undefined(e),"undefined",e)},string:function(e){return g(p.string(e),"string",e)},number:function(e){return g(p.number(e),"number",e)},bigint:function(e){return g(p.bigint(e),"bigint",e)},function_:function(e){return g(p.function_(e),"Function",e)},null_:function(e){return g(p.null_(e),"null",e)},class_:function(e){return g(p.class_(e),"Class",e)},boolean:function(e){return g(p.boolean(e),"boolean",e)},symbol:function(e){return g(p.symbol(e),"symbol",e)},numericString:function(e){return g(p.numericString(e),"string with a number",e)},array:function(e,t){g(p.array(e),"Array",e),t&&e.forEach(t)},buffer:function(e){return g(p.buffer(e),"Buffer",e)},blob:function(e){return g(p.blob(e),"Blob",e)},nullOrUndefined:function(e){return g(p.nullOrUndefined(e),"null or undefined",e)},object:function(e){return g(p.object(e),"Object",e)},iterable:function(e){return g(p.iterable(e),"Iterable",e)},asyncIterable:function(e){return g(p.asyncIterable(e),"AsyncIterable",e)},generator:function(e){return g(p.generator(e),"Generator",e)},asyncGenerator:function(e){return g(p.asyncGenerator(e),"AsyncGenerator",e)},nativePromise:function(e){return g(p.nativePromise(e),"native Promise",e)},promise:function(e){return g(p.promise(e),"Promise",e)},generatorFunction:function(e){return g(p.generatorFunction(e),"GeneratorFunction",e)},asyncGeneratorFunction:function(e){return g(p.asyncGeneratorFunction(e),"AsyncGeneratorFunction",e)},asyncFunction:function(e){return g(p.asyncFunction(e),"AsyncFunction",e)},boundFunction:function(e){return g(p.boundFunction(e),"Function",e)},regExp:function(e){return g(p.regExp(e),"RegExp",e)},date:function(e){return g(p.date(e),"Date",e)},error:function(e){return g(p.error(e),"Error",e)},map:function(e){return g(p.map(e),"Map",e)},set:function(e){return g(p.set(e),"Set",e)},weakMap:function(e){return g(p.weakMap(e),"WeakMap",e)},weakSet:function(e){return g(p.weakSet(e),"WeakSet",e)},int8Array:function(e){return g(p.int8Array(e),"Int8Array",e)},uint8Array:function(e){return g(p.uint8Array(e),"Uint8Array",e)},uint8ClampedArray:function(e){return g(p.uint8ClampedArray(e),"Uint8ClampedArray",e)},int16Array:function(e){return g(p.int16Array(e),"Int16Array",e)},uint16Array:function(e){return g(p.uint16Array(e),"Uint16Array",e)},int32Array:function(e){return g(p.int32Array(e),"Int32Array",e)},uint32Array:function(e){return g(p.uint32Array(e),"Uint32Array",e)},float32Array:function(e){return g(p.float32Array(e),"Float32Array",e)},float64Array:function(e){return g(p.float64Array(e),"Float64Array",e)},bigInt64Array:function(e){return g(p.bigInt64Array(e),"BigInt64Array",e)},bigUint64Array:function(e){return g(p.bigUint64Array(e),"BigUint64Array",e)},arrayBuffer:function(e){return g(p.arrayBuffer(e),"ArrayBuffer",e)},sharedArrayBuffer:function(e){return g(p.sharedArrayBuffer(e),"SharedArrayBuffer",e)},dataView:function(e){return g(p.dataView(e),"DataView",e)},enumCase:function(e,t){return g(p.enumCase(e,t),"EnumCase",e)},urlInstance:function(e){return g(p.urlInstance(e),"URL",e)},urlString:function(e){return g(p.urlString(e),"string with a URL",e)},truthy:function(e){return g(p.truthy(e),"truthy",e)},falsy:function(e){return g(p.falsy(e),"falsy",e)},nan:function(e){return g(p.nan(e),"NaN",e)},primitive:function(e){return g(p.primitive(e),"primitive",e)},integer:function(e){return g(p.integer(e),"integer",e)},safeInteger:function(e){return g(p.safeInteger(e),"integer",e)},plainObject:function(e){return g(p.plainObject(e),"plain object",e)},typedArray:function(e){return g(p.typedArray(e),"TypedArray",e)},arrayLike:function(e){return g(p.arrayLike(e),"array-like",e)},domElement:function(e){return g(p.domElement(e),"HTMLElement",e)},observable:function(e){return g(p.observable(e),"Observable",e)},nodeStream:function(e){return g(p.nodeStream(e),"Node.js Stream",e)},infinite:function(e){return g(p.infinite(e),"infinite number",e)},emptyArray:function(e){return g(p.emptyArray(e),"empty array",e)},nonEmptyArray:function(e){return g(p.nonEmptyArray(e),"non-empty array",e)},emptyString:function(e){return g(p.emptyString(e),"empty string",e)},emptyStringOrWhitespace:function(e){return g(p.emptyStringOrWhitespace(e),"empty string or whitespace",e)},nonEmptyString:function(e){return g(p.nonEmptyString(e),"non-empty string",e)},nonEmptyStringAndNotWhitespace:function(e){return g(p.nonEmptyStringAndNotWhitespace(e),"non-empty string and not whitespace",e)},emptyObject:function(e){return g(p.emptyObject(e),"empty object",e)},nonEmptyObject:function(e){return g(p.nonEmptyObject(e),"non-empty object",e)},emptySet:function(e){return g(p.emptySet(e),"empty set",e)},nonEmptySet:function(e){return g(p.nonEmptySet(e),"non-empty set",e)},emptyMap:function(e){return g(p.emptyMap(e),"empty map",e)},nonEmptyMap:function(e){return g(p.nonEmptyMap(e),"non-empty map",e)},propertyKey:function(e){return g(p.propertyKey(e),"PropertyKey",e)},formData:function(e){return g(p.formData(e),"FormData",e)},urlSearchParams:function(e){return g(p.urlSearchParams(e),"URLSearchParams",e)},evenInteger:function(e){return g(p.evenInteger(e),"even integer",e)},oddInteger:function(e){return g(p.oddInteger(e),"odd integer",e)},directInstanceOf:function(e,t){return g(p.directInstanceOf(e,t),"T",e)},inRange:function(e,t){return g(p.inRange(e,t),"in range",e)},any:function(e){for(var t=arguments.length,r=new Array(t>1?t-1:0),n=1;n<t;n++)r[n-1]=arguments[n];return g(p.any.apply(p,[e].concat(r)),"predicate returns truthy for any value",r,{multipleValues:!0})},all:function(e){for(var t=arguments.length,r=new Array(t>1?t-1:0),n=1;n<t;n++)r[n-1]=arguments[n];return g(p.all.apply(p,[e].concat(r)),"predicate returns truthy for all values",r,{multipleValues:!0})}},Object.defineProperties(p,{class:{value:p.class_},function:{value:p.function_},null:{value:p.null_}}),Object.defineProperties(t.assert,{class:{value:t.assert.class_},function:{value:t.assert.function_},null:{value:t.assert.null_}}),t.default=p,e.exports=p,e.exports.default=p,e.exports.assert=t.assert},5554:(e,t,r)=>{"use strict";var n=r(8754),o=r(3700),i=o(n("String.prototype.indexOf"));e.exports=function(e,t){var r=n(e,!!t);return"function"==typeof r&&i(e,".prototype.")>-1?o(r):r}},3700:(e,t,r)=>{"use strict";var n=r(298),o=r(8754),i=o("%Function.prototype.apply%"),a=o("%Function.prototype.call%"),s=o("%Reflect.apply%",!0)||n.call(a,i),c=o("%Object.getOwnPropertyDescriptor%",!0),l=o("%Object.defineProperty%",!0),u=o("%Math.max%");if(l)try{l({},"a",{value:1})}catch(e){l=null}e.exports=function(e){var t=s(n,a,arguments);return c&&l&&c(t,"length").configurable&&l(t,"length",{value:1+u(0,e.length-(arguments.length-1))}),t};var d=function(){return s(n,i,arguments)};l?l(e.exports,"apply",{value:d}):e.exports.apply=d},1625:e=>{"use strict";e.exports=function(){var e="\\ud800-\\udfff",t="[".concat(e,"]"),r="[".concat("\\u0300-\\u036f\\ufe20-\\ufe2f\\u20d0-\\u20ff\\u1ab0-\\u1aff\\u1dc0-\\u1dff","]"),n="\\ud83c[\\udffb-\\udfff]",o="(?:".concat(r,"|").concat(n,")"),i="[^".concat(e,"]"),a="(?:\\uD83C[\\uDDE6-\\uDDFF]){2}",s="[\\ud800-\\udbff][\\udc00-\\udfff]",c="[".concat("\\uD83D\\uDC69\\uD83C\\uDFFB\\u200D\\uD83C\\uDF93","]"),l="".concat(o,"?"),u="[".concat("\\ufe0e\\ufe0f","]?"),d=u+l+"(?:".concat("\\u200d","(?:").concat([i,a,s].join("|"),")").concat(u+l,")*"),p="".concat(i).concat(r,"?"),f="(?:".concat([p,r,a,s,t,c].join("|"),")");return new RegExp("".concat("(?:\\ud83c\\udff4\\udb40\\udc67\\udb40\\udc62\\udb40(?:\\udc65|\\udc73|\\udc77)\\udb40(?:\\udc6e|\\udc63|\\udc6c)\\udb40(?:\\udc67|\\udc74|\\udc73)\\udb40\\udc7f)","|").concat(n,"(?=").concat(n,")|").concat(f+d),"g")}},2053:(e,t,r)=>{"use strict";function n(e){return n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},n(e)}function o(e){var t,r,i="";if("string"==typeof e||"number"==typeof e)i+=e;else if("object"==n(e))if(Array.isArray(e))for(t=0;t<e.length;t++)e[t]&&(r=o(e[t]))&&(i&&(i+=" "),i+=r);else for(t in e)e[t]&&(i&&(i+=" "),i+=t);return i}r.d(t,{Z:()=>i});const i=function(){for(var e,t,r=0,n="";r<arguments.length;)(e=arguments[r++])&&(t=o(e))&&(n&&(n+=" "),n+=t);return n}},2164:e=>{"use strict";e.exports=function(e){var t=[];return t.toString=function(){return this.map((function(t){var r="",n=void 0!==t[5];return t[4]&&(r+="@supports (".concat(t[4],") {")),t[2]&&(r+="@media ".concat(t[2]," {")),n&&(r+="@layer".concat(t[5].length>0?" ".concat(t[5]):""," {")),r+=e(t),n&&(r+="}"),t[2]&&(r+="}"),t[4]&&(r+="}"),r})).join("")},t.i=function(e,r,n,o,i){"string"==typeof e&&(e=[[null,e,void 0]]);var a={};if(n)for(var s=0;s<this.length;s++){var c=this[s][0];null!=c&&(a[c]=!0)}for(var l=0;l<e.length;l++){var u=[].concat(e[l]);n&&a[u[0]]||(void 0!==i&&(void 0===u[5]||(u[1]="@layer".concat(u[5].length>0?" ".concat(u[5]):""," {").concat(u[1],"}")),u[5]=i),r&&(u[2]?(u[1]="@media ".concat(u[2]," {").concat(u[1],"}"),u[2]=r):u[2]=r),o&&(u[4]?(u[1]="@supports (".concat(u[4],") {").concat(u[1],"}"),u[4]=o):u[4]="".concat(o)),t.push(u))}},t}},3259:e=>{"use strict";e.exports=function(e){return e[1]}},3677:(e,t,r)=>{"use strict";function n(e){return n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},n(e)}var o=r(6205),i=r(8317),a=r(6232),s=r(5142),c=r(1881),l=r(9318),u=r(9490),d=r(2228),p=r(8754),f=r(5554),h=r(2567),m=r(3634),y=r(9238),g=r(5056),b=r(4545),v=f("Date.prototype.getTime"),k=Object.getPrototypeOf,w=f("Object.prototype.toString"),_=p("%Set%",!0),S=f("Map.prototype.has",!0),O=f("Map.prototype.get",!0),P=f("Map.prototype.size",!0),E=f("Set.prototype.add",!0),C=f("Set.prototype.delete",!0),x=f("Set.prototype.has",!0),j=f("Set.prototype.size",!0);function T(e,t,r,n){for(var o,i=m(e);(o=i.next())&&!o.done;)if(M(t,o.value,r,n))return C(e,o.value),!0;return!1}function R(e){return void 0===e?null:"object"!==n(e)?"symbol"!==n(e)&&("string"!=typeof e&&"number"!=typeof e||+e==+e):void 0}function z(e,t,r,n,o,i){var a=R(r);if(null!=a)return a;var s=O(t,a),c=b({},o,{strict:!1});return!(void 0===s&&!S(t,a)||!M(n,s,c,i))&&!S(e,a)&&M(n,s,c,i)}function I(e,t,r){var n=R(r);return null!=n?n:x(t,n)&&!x(e,n)}function A(e,t,r,n,o,i){for(var a,s,c=m(e);(a=c.next())&&!a.done;)if(M(r,s=a.value,o,i)&&M(n,O(t,s),o,i))return C(e,s),!0;return!1}function M(e,t,r,p){var f=r||{};if(f.strict?a(e,t):e===t)return!0;if(d(e)!==d(t))return!1;if(!e||!t||"object"!==n(e)&&"object"!==n(t))return f.strict?a(e,t):e==t;var y,C=p.has(e),R=p.has(t);if(C&&R){if(p.get(e)===p.get(t))return!0}else y={};return C||p.set(e,y),R||p.set(t,y),function(e,t,r,a){var d,p;if(n(e)!==n(t))return!1;if(null==e||null==t)return!1;if(w(e)!==w(t))return!1;if(i(e)!==i(t))return!1;if(l(e)!==l(t))return!1;var f=e instanceof Error,y=t instanceof Error;if(f!==y)return!1;if((f||y)&&(e.name!==t.name||e.message!==t.message))return!1;var C=s(e),R=s(t);if(C!==R)return!1;if((C||R)&&(e.source!==t.source||c(e)!==c(t)))return!1;var N=u(e),L=u(t);if(N!==L)return!1;if((N||L)&&v(e)!==v(t))return!1;if(r.strict&&k&&k(e)!==k(t))return!1;if(g(e)!==g(t))return!1;var U=D(e),B=D(t);if(U!==B)return!1;if(U||B){if(e.length!==t.length)return!1;for(d=0;d<e.length;d++)if(e[d]!==t[d])return!1;return!0}if(n(e)!==n(t))return!1;var F=o(e),q=o(t);if(F.length!==q.length)return!1;for(F.sort(),q.sort(),d=F.length-1;d>=0;d--)if(F[d]!=q[d])return!1;for(d=F.length-1;d>=0;d--)if(!M(e[p=F[d]],t[p],r,a))return!1;var W=h(e),Z=h(t);return W===Z&&("Set"===W||"Set"===Z?function(e,t,r,o){if(j(e)!==j(t))return!1;for(var i,a,s,c=m(e),l=m(t);(i=c.next())&&!i.done;)if(i.value&&"object"===n(i.value))s||(s=new _),E(s,i.value);else if(!x(t,i.value)){if(r.strict)return!1;if(!I(e,t,i.value))return!1;s||(s=new _),E(s,i.value)}if(s){for(;(a=l.next())&&!a.done;)if(a.value&&"object"===n(a.value)){if(!T(s,a.value,r.strict,o))return!1}else if(!r.strict&&!x(e,a.value)&&!T(s,a.value,r.strict,o))return!1;return 0===j(s)}return!0}(e,t,r,a):"Map"!==W||function(e,t,r,o){if(P(e)!==P(t))return!1;for(var i,a,s,c,l,u,d=m(e),p=m(t);(i=d.next())&&!i.done;)if(c=i.value[0],l=i.value[1],c&&"object"===n(c))s||(s=new _),E(s,c);else if(void 0===(u=O(t,c))&&!S(t,c)||!M(l,u,r,o)){if(r.strict)return!1;if(!z(e,t,c,l,r,o))return!1;s||(s=new _),E(s,c)}if(s){for(;(a=p.next())&&!a.done;)if(c=a.value[0],u=a.value[1],c&&"object"===n(c)){if(!A(s,e,c,u,r,o))return!1}else if(!(r.strict||e.has(c)&&M(O(e,c),u,r,o)||A(s,e,c,u,b({},r,{strict:!1}),o)))return!1;return 0===j(s)}return!0}(e,t,r,a))}(e,t,f,p)}function D(e){return!(!e||"object"!==n(e)||"number"!=typeof e.length||"function"!=typeof e.copy||"function"!=typeof e.slice||e.length>0&&"number"!=typeof e[0]||!(e.constructor&&e.constructor.isBuffer&&e.constructor.isBuffer(e)))}e.exports=function(e,t,r){return M(e,t,r,y())}},3510:(e,t,r)=>{"use strict";function n(e){return n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},n(e)}var o=r(6205),i="function"==typeof Symbol&&"symbol"===n(Symbol("foo")),a=Object.prototype.toString,s=Array.prototype.concat,c=Object.defineProperty,l=c&&function(){var e={};try{for(var t in c(e,"x",{enumerable:!1,value:e}),e)return!1;return e.x===e}catch(e){return!1}}(),u=function(e,t,r,n){var o;(!(t in e)||"function"==typeof(o=n)&&"[object Function]"===a.call(o)&&n())&&(l?c(e,t,{configurable:!0,enumerable:!1,value:r,writable:!0}):e[t]=r)},d=function(e,t){var r=arguments.length>2?arguments[2]:{},n=o(t);i&&(n=s.call(n,Object.getOwnPropertySymbols(t)));for(var a=0;a<n.length;a+=1)u(e,n[a],t[n[a]],r[n[a]])};d.supportsDescriptors=!!l,e.exports=d},2672:(e,t,r)=>{e.exports={lib:r(1477),ordered:r(4393),fitzpatrick_scale_modifiers:["","","","",""]}},1203:e=>{var t=Object.prototype.hasOwnProperty,r=Object.prototype.toString;e.exports=function(e,n,o){if("[object Function]"!==r.call(n))throw new TypeError("iterator must be a function");var i=e.length;if(i===+i)for(var a=0;a<i;a++)n.call(o,e[a],a,e);else for(var s in e)t.call(e,s)&&n.call(o,e[s],s,e)}},2859:e=>{"use strict";var t=Array.prototype.slice,r=Object.prototype.toString;e.exports=function(e){var n=this;if("function"!=typeof n||"[object Function]"!==r.call(n))throw new TypeError("Function.prototype.bind called on incompatible "+n);for(var o,i=t.call(arguments,1),a=Math.max(0,n.length-i.length),s=[],c=0;c<a;c++)s.push("$"+c);if(o=Function("binder","return function ("+s.join(",")+"){ return binder.apply(this,arguments); }")((function(){if(this instanceof o){var r=n.apply(this,i.concat(t.call(arguments)));return Object(r)===r?r:this}return n.apply(e,i.concat(t.call(arguments)))})),n.prototype){var l=function(){};l.prototype=n.prototype,o.prototype=new l,l.prototype=null}return o}},298:(e,t,r)=>{"use strict";var n=r(2859);e.exports=Function.prototype.bind||n},9045:e=>{"use strict";var t=function(){return"string"==typeof function(){}.name},r=Object.getOwnPropertyDescriptor;if(r)try{r([],"length")}catch(e){r=null}t.functionsHaveConfigurableNames=function(){return t()&&r&&!!r((function(){}),"name").configurable};var n=Function.prototype.bind;t.boundFunctionsHaveNames=function(){return t()&&"function"==typeof n&&""!==function(){}.bind().name},e.exports=t},8754:(e,t,r)=>{"use strict";function n(e){return n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},n(e)}var o,i=SyntaxError,a=Function,s=TypeError,c=function(e){try{return a('"use strict"; return ('+e+").constructor;")()}catch(e){}},l=Object.getOwnPropertyDescriptor;if(l)try{l({},"")}catch(e){l=null}var u=function(){throw new s},d=l?function(){try{return u}catch(e){try{return l(arguments,"callee").get}catch(e){return u}}}():u,p=r(8921)(),f=Object.getPrototypeOf||function(e){return e.__proto__},h={},m="undefined"==typeof Uint8Array?o:f(Uint8Array),y={"%AggregateError%":"undefined"==typeof AggregateError?o:AggregateError,"%Array%":Array,"%ArrayBuffer%":"undefined"==typeof ArrayBuffer?o:ArrayBuffer,"%ArrayIteratorPrototype%":p?f([][Symbol.iterator]()):o,"%AsyncFromSyncIteratorPrototype%":o,"%AsyncFunction%":h,"%AsyncGenerator%":h,"%AsyncGeneratorFunction%":h,"%AsyncIteratorPrototype%":h,"%Atomics%":"undefined"==typeof Atomics?o:Atomics,"%BigInt%":"undefined"==typeof BigInt?o:BigInt,"%Boolean%":Boolean,"%DataView%":"undefined"==typeof DataView?o:DataView,"%Date%":Date,"%decodeURI%":decodeURI,"%decodeURIComponent%":decodeURIComponent,"%encodeURI%":encodeURI,"%encodeURIComponent%":encodeURIComponent,"%Error%":Error,"%eval%":eval,"%EvalError%":EvalError,"%Float32Array%":"undefined"==typeof Float32Array?o:Float32Array,"%Float64Array%":"undefined"==typeof Float64Array?o:Float64Array,"%FinalizationRegistry%":"undefined"==typeof FinalizationRegistry?o:FinalizationRegistry,"%Function%":a,"%GeneratorFunction%":h,"%Int8Array%":"undefined"==typeof Int8Array?o:Int8Array,"%Int16Array%":"undefined"==typeof Int16Array?o:Int16Array,"%Int32Array%":"undefined"==typeof Int32Array?o:Int32Array,"%isFinite%":isFinite,"%isNaN%":isNaN,"%IteratorPrototype%":p?f(f([][Symbol.iterator]())):o,"%JSON%":"object"===("undefined"==typeof JSON?"undefined":n(JSON))?JSON:o,"%Map%":"undefined"==typeof Map?o:Map,"%MapIteratorPrototype%":"undefined"!=typeof Map&&p?f((new Map)[Symbol.iterator]()):o,"%Math%":Math,"%Number%":Number,"%Object%":Object,"%parseFloat%":parseFloat,"%parseInt%":parseInt,"%Promise%":"undefined"==typeof Promise?o:Promise,"%Proxy%":"undefined"==typeof Proxy?o:Proxy,"%RangeError%":RangeError,"%ReferenceError%":ReferenceError,"%Reflect%":"undefined"==typeof Reflect?o:Reflect,"%RegExp%":RegExp,"%Set%":"undefined"==typeof Set?o:Set,"%SetIteratorPrototype%":"undefined"!=typeof Set&&p?f((new Set)[Symbol.iterator]()):o,"%SharedArrayBuffer%":"undefined"==typeof SharedArrayBuffer?o:SharedArrayBuffer,"%String%":String,"%StringIteratorPrototype%":p?f(""[Symbol.iterator]()):o,"%Symbol%":p?Symbol:o,"%SyntaxError%":i,"%ThrowTypeError%":d,"%TypedArray%":m,"%TypeError%":s,"%Uint8Array%":"undefined"==typeof Uint8Array?o:Uint8Array,"%Uint8ClampedArray%":"undefined"==typeof Uint8ClampedArray?o:Uint8ClampedArray,"%Uint16Array%":"undefined"==typeof Uint16Array?o:Uint16Array,"%Uint32Array%":"undefined"==typeof Uint32Array?o:Uint32Array,"%URIError%":URIError,"%WeakMap%":"undefined"==typeof WeakMap?o:WeakMap,"%WeakRef%":"undefined"==typeof WeakRef?o:WeakRef,"%WeakSet%":"undefined"==typeof WeakSet?o:WeakSet},g=function e(t){var r;if("%AsyncFunction%"===t)r=c("async function () {}");else if("%GeneratorFunction%"===t)r=c("function* () {}");else if("%AsyncGeneratorFunction%"===t)r=c("async function* () {}");else if("%AsyncGenerator%"===t){var n=e("%AsyncGeneratorFunction%");n&&(r=n.prototype)}else if("%AsyncIteratorPrototype%"===t){var o=e("%AsyncGenerator%");o&&(r=f(o.prototype))}return y[t]=r,r},b={"%ArrayBufferPrototype%":["ArrayBuffer","prototype"],"%ArrayPrototype%":["Array","prototype"],"%ArrayProto_entries%":["Array","prototype","entries"],"%ArrayProto_forEach%":["Array","prototype","forEach"],"%ArrayProto_keys%":["Array","prototype","keys"],"%ArrayProto_values%":["Array","prototype","values"],"%AsyncFunctionPrototype%":["AsyncFunction","prototype"],"%AsyncGenerator%":["AsyncGeneratorFunction","prototype"],"%AsyncGeneratorPrototype%":["AsyncGeneratorFunction","prototype","prototype"],"%BooleanPrototype%":["Boolean","prototype"],"%DataViewPrototype%":["DataView","prototype"],"%DatePrototype%":["Date","prototype"],"%ErrorPrototype%":["Error","prototype"],"%EvalErrorPrototype%":["EvalError","prototype"],"%Float32ArrayPrototype%":["Float32Array","prototype"],"%Float64ArrayPrototype%":["Float64Array","prototype"],"%FunctionPrototype%":["Function","prototype"],"%Generator%":["GeneratorFunction","prototype"],"%GeneratorPrototype%":["GeneratorFunction","prototype","prototype"],"%Int8ArrayPrototype%":["Int8Array","prototype"],"%Int16ArrayPrototype%":["Int16Array","prototype"],"%Int32ArrayPrototype%":["Int32Array","prototype"],"%JSONParse%":["JSON","parse"],"%JSONStringify%":["JSON","stringify"],"%MapPrototype%":["Map","prototype"],"%NumberPrototype%":["Number","prototype"],"%ObjectPrototype%":["Object","prototype"],"%ObjProto_toString%":["Object","prototype","toString"],"%ObjProto_valueOf%":["Object","prototype","valueOf"],"%PromisePrototype%":["Promise","prototype"],"%PromiseProto_then%":["Promise","prototype","then"],"%Promise_all%":["Promise","all"],"%Promise_reject%":["Promise","reject"],"%Promise_resolve%":["Promise","resolve"],"%RangeErrorPrototype%":["RangeError","prototype"],"%ReferenceErrorPrototype%":["ReferenceError","prototype"],"%RegExpPrototype%":["RegExp","prototype"],"%SetPrototype%":["Set","prototype"],"%SharedArrayBufferPrototype%":["SharedArrayBuffer","prototype"],"%StringPrototype%":["String","prototype"],"%SymbolPrototype%":["Symbol","prototype"],"%SyntaxErrorPrototype%":["SyntaxError","prototype"],"%TypedArrayPrototype%":["TypedArray","prototype"],"%TypeErrorPrototype%":["TypeError","prototype"],"%Uint8ArrayPrototype%":["Uint8Array","prototype"],"%Uint8ClampedArrayPrototype%":["Uint8ClampedArray","prototype"],"%Uint16ArrayPrototype%":["Uint16Array","prototype"],"%Uint32ArrayPrototype%":["Uint32Array","prototype"],"%URIErrorPrototype%":["URIError","prototype"],"%WeakMapPrototype%":["WeakMap","prototype"],"%WeakSetPrototype%":["WeakSet","prototype"]},v=r(298),k=r(6841),w=v.call(Function.call,Array.prototype.concat),_=v.call(Function.apply,Array.prototype.splice),S=v.call(Function.call,String.prototype.replace),O=v.call(Function.call,String.prototype.slice),P=/[^%.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|%$))/g,E=/\\(\\)?/g,C=function(e,t){var r,n=e;if(k(b,n)&&(n="%"+(r=b[n])[0]+"%"),k(y,n)){var o=y[n];if(o===h&&(o=g(n)),void 0===o&&!t)throw new s("intrinsic "+e+" exists, but is not available. Please file an issue!");return{alias:r,name:n,value:o}}throw new i("intrinsic "+e+" does not exist!")};e.exports=function(e,t){if("string"!=typeof e||0===e.length)throw new s("intrinsic name must be a non-empty string");if(arguments.length>1&&"boolean"!=typeof t)throw new s('"allowMissing" argument must be a boolean');var r=function(e){var t=O(e,0,1),r=O(e,-1);if("%"===t&&"%"!==r)throw new i("invalid intrinsic syntax, expected closing `%`");if("%"===r&&"%"!==t)throw new i("invalid intrinsic syntax, expected opening `%`");var n=[];return S(e,P,(function(e,t,r,o){n[n.length]=r?S(o,E,"$1"):t||e})),n}(e),n=r.length>0?r[0]:"",o=C("%"+n+"%",t),a=o.name,c=o.value,u=!1,d=o.alias;d&&(n=d[0],_(r,w([0,1],d)));for(var p=1,f=!0;p<r.length;p+=1){var h=r[p],m=O(h,0,1),g=O(h,-1);if(('"'===m||"'"===m||"`"===m||'"'===g||"'"===g||"`"===g)&&m!==g)throw new i("property names with quotes must have matching quotes");if("constructor"!==h&&f||(u=!0),k(y,a="%"+(n+="."+h)+"%"))c=y[a];else if(null!=c){if(!(h in c)){if(!t)throw new s("base intrinsic for "+e+" exists, but the property is not available.");return}if(l&&p+1>=r.length){var b=l(c,h);c=(f=!!b)&&"get"in b&&!("originalValue"in b.get)?b.get:c[h]}else f=k(c,h),c=c[h];f&&!u&&(y[a]=c)}}return c}},4521:(e,t)=>{},8921:(e,t,r)=>{"use strict";function n(e){return n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},n(e)}var o="undefined"!=typeof Symbol&&Symbol,i=r(17);e.exports=function(){return"function"==typeof o&&"function"==typeof Symbol&&"symbol"===n(o("foo"))&&"symbol"===n(Symbol("bar"))&&i()}},17:e=>{"use strict";function t(e){return t="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},t(e)}e.exports=function(){if("function"!=typeof Symbol||"function"!=typeof Object.getOwnPropertySymbols)return!1;if("symbol"===t(Symbol.iterator))return!0;var e={},r=Symbol("test"),n=Object(r);if("string"==typeof r)return!1;if("[object Symbol]"!==Object.prototype.toString.call(r))return!1;if("[object Symbol]"!==Object.prototype.toString.call(n))return!1;for(r in e[r]=42,e)return!1;if("function"==typeof Object.keys&&0!==Object.keys(e).length)return!1;if("function"==typeof Object.getOwnPropertyNames&&0!==Object.getOwnPropertyNames(e).length)return!1;var o=Object.getOwnPropertySymbols(e);if(1!==o.length||o[0]!==r)return!1;if(!Object.prototype.propertyIsEnumerable.call(e,r))return!1;if("function"==typeof Object.getOwnPropertyDescriptor){var i=Object.getOwnPropertyDescriptor(e,r);if(42!==i.value||!0!==i.enumerable)return!1}return!0}},6841:(e,t,r)=>{"use strict";var n=r(298);e.exports=n.call(Function.call,Object.prototype.hasOwnProperty)},8317:(e,t,r)=>{"use strict";function n(e){return n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},n(e)}var o="function"==typeof Symbol&&"symbol"===n(Symbol.toStringTag),i=r(5554)("Object.prototype.toString"),a=function(e){return!(o&&e&&"object"===n(e)&&Symbol.toStringTag in e)&&"[object Arguments]"===i(e)},s=function(e){return!!a(e)||null!==e&&"object"===n(e)&&"number"==typeof e.length&&e.length>=0&&"[object Array]"!==i(e)&&"[object Function]"===i(e.callee)},c=function(){return a(arguments)}();a.isLegacyArguments=s,e.exports=c?a:s},999:e=>{"use strict";function t(e){return t="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},t(e)}if("function"==typeof BigInt){var r=BigInt.prototype.valueOf;e.exports=function(e){return null!=e&&"boolean"!=typeof e&&"string"!=typeof e&&"number"!=typeof e&&"symbol"!==t(e)&&"function"!=typeof e&&("bigint"==typeof e||function(e){try{return r.call(e),!0}catch(e){}return!1}(e))}}else e.exports=function(e){return!1}},5217:(e,t,r)=>{"use strict";function n(e){return n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},n(e)}var o=r(5554),i=o("Boolean.prototype.toString"),a=o("Object.prototype.toString"),s="function"==typeof Symbol&&!!Symbol.toStringTag;e.exports=function(e){return"boolean"==typeof e||null!==e&&"object"===n(e)&&(s&&Symbol.toStringTag in e?function(e){try{return i(e),!0}catch(e){return!1}}(e):"[object Boolean]"===a(e))}},9490:e=>{"use strict";function t(e){return t="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},t(e)}var r=Date.prototype.getDay,n=Object.prototype.toString,o="function"==typeof Symbol&&!!Symbol.toStringTag;e.exports=function(e){return"object"===t(e)&&null!==e&&(o?function(e){try{return r.call(e),!0}catch(e){return!1}}(e):"[object Date]"===n.call(e))}},7233:e=>{"use strict";function t(e){return t="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},t(e)}var r,n="function"==typeof Map&&Map.prototype?Map:null,o="function"==typeof Set&&Set.prototype?Set:null;n||(r=function(e){return!1});var i=n?Map.prototype.has:null,a=o?Set.prototype.has:null;r||i||(r=function(e){return!1}),e.exports=r||function(e){if(!e||"object"!==t(e))return!1;try{if(i.call(e),a)try{a.call(e)}catch(e){return!0}return e instanceof n}catch(e){}return!1}},2869:e=>{"use strict";function t(e){return t="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},t(e)}var r=Number.prototype.toString,n=Object.prototype.toString,o="function"==typeof Symbol&&!!Symbol.toStringTag;e.exports=function(e){return"number"==typeof e||"object"===t(e)&&(o?function(e){try{return r.call(e),!0}catch(e){return!1}}(e):"[object Number]"===n.call(e))}},5142:(e,t,r)=>{"use strict";function n(e){return n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},n(e)}var o,i,a,s,c=r(5554),l=r(17)()&&!!Symbol.toStringTag;if(l){o=c("Object.prototype.hasOwnProperty"),i=c("RegExp.prototype.exec"),a={};var u=function(){throw a};s={toString:u,valueOf:u},"symbol"===n(Symbol.toPrimitive)&&(s[Symbol.toPrimitive]=u)}var d=c("Object.prototype.toString"),p=Object.getOwnPropertyDescriptor;e.exports=l?function(e){if(!e||"object"!==n(e))return!1;var t=p(e,"lastIndex");if(!t||!o(t,"value"))return!1;try{i(e,s)}catch(e){return e===a}}:function(e){return!(!e||"object"!==n(e)&&"function"!=typeof e)&&"[object RegExp]"===d(e)}},1189:e=>{"use strict";function t(e){return t="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},t(e)}var r,n="function"==typeof Map&&Map.prototype?Map:null,o="function"==typeof Set&&Set.prototype?Set:null;o||(r=function(e){return!1});var i=n?Map.prototype.has:null,a=o?Set.prototype.has:null;r||a||(r=function(e){return!1}),e.exports=r||function(e){if(!e||"object"!==t(e))return!1;try{if(a.call(e),i)try{i.call(e)}catch(e){return!0}return e instanceof o}catch(e){}return!1}},373:e=>{"use strict";function t(e){return t="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},t(e)}var r=String.prototype.valueOf,n=Object.prototype.toString,o="function"==typeof Symbol&&!!Symbol.toStringTag;e.exports=function(e){return"string"==typeof e||"object"===t(e)&&(o?function(e){try{return r.call(e),!0}catch(e){return!1}}(e):"[object String]"===n.call(e))}},5490:(e,t,r)=>{"use strict";function n(e){return n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},n(e)}var o=Object.prototype.toString;if(r(8921)()){var i=Symbol.prototype.toString,a=/^Symbol\(.*\)$/;e.exports=function(e){if("symbol"===n(e))return!0;if("[object Symbol]"!==o.call(e))return!1;try{return function(e){return"symbol"===n(e.valueOf())&&a.test(i.call(e))}(e)}catch(e){return!1}}}else e.exports=function(e){return!1}},5924:(e,t,r)=>{"use strict";function n(e){return n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},n(e)}var o=r(1203),i=r(5696),a=r(5554),s=a("Object.prototype.toString"),c=r(8921)()&&"symbol"===n(Symbol.toStringTag),l=i(),u=a("Array.prototype.indexOf",!0)||function(e,t){for(var r=0;r<e.length;r+=1)if(e[r]===t)return r;return-1},d=a("String.prototype.slice"),p={},f=r(8114),h=Object.getPrototypeOf;c&&f&&h&&o(l,(function(e){var t=new r.g[e];if(!(Symbol.toStringTag in t))throw new EvalError("this engine has support for Symbol.toStringTag, but "+e+" does not have the property! Please report this.");var n=h(t),o=f(n,Symbol.toStringTag);if(!o){var i=h(n);o=f(i,Symbol.toStringTag)}p[e]=o.get})),e.exports=function(e){if(!e||"object"!==n(e))return!1;if(!c){var t=d(s(e),8,-1);return u(l,t)>-1}return!!f&&function(e){var t=!1;return o(p,(function(r,n){if(!t)try{t=r.call(e)===n}catch(e){}})),t}(e)}},6494:e=>{"use strict";function t(e){return t="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},t(e)}var r,n="function"==typeof WeakMap&&WeakMap.prototype?WeakMap:null,o="function"==typeof WeakSet&&WeakSet.prototype?WeakSet:null;n||(r=function(e){return!1});var i=n?n.prototype.has:null,a=o?o.prototype.has:null;r||i||(r=function(e){return!1}),e.exports=r||function(e){if(!e||"object"!==t(e))return!1;try{if(i.call(e,i),a)try{a.call(e,a)}catch(e){return!0}return e instanceof n}catch(e){}return!1}},5478:(e,t,r)=>{"use strict";function n(e){return n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},n(e)}var o=r(8754),i=r(5554),a=o("%WeakSet%",!0),s=i("WeakSet.prototype.has",!0);if(s){var c=i("WeakMap.prototype.has",!0);e.exports=function(e){if(!e||"object"!==n(e))return!1;try{if(s(e,s),c)try{c(e,c)}catch(e){return!0}return e instanceof a}catch(e){}return!1}}else e.exports=function(e){return!1}},9318:e=>{var t={}.toString;e.exports=Array.isArray||function(e){return"[object Array]"==t.call(e)}},8804:function(e,t,r){var n,o;function i(e){return i="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},i(e)}!function(a,s){"use strict";n=function(){var e=function(){},t="undefined",r=("undefined"==typeof window?"undefined":i(window))!==t&&i(window.navigator)!==t&&/Trident\/|MSIE /.test(window.navigator.userAgent),n=["trace","debug","info","warn","error"];function o(e,t){var r=e[t];if("function"==typeof r.bind)return r.bind(e);try{return Function.prototype.bind.call(r,e)}catch(t){return function(){return Function.prototype.apply.apply(r,[e,arguments])}}}function a(){console.log&&(console.log.apply?console.log.apply(console,arguments):Function.prototype.apply.apply(console.log,[console,arguments])),console.trace&&console.trace()}function s(t,r){for(var o=0;o<n.length;o++){var i=n[o];this[i]=o<t?e:this.methodFactory(i,t,r)}this.log=this.debug}function c(e,r,n){return function(){("undefined"==typeof console?"undefined":i(console))!==t&&(s.call(this,r,n),this[e].apply(this,arguments))}}function l(n,s,l){return function(n){return"debug"===n&&(n="log"),("undefined"==typeof console?"undefined":i(console))!==t&&("trace"===n&&r?a:void 0!==console[n]?o(console,n):void 0!==console.log?o(console,"log"):e)}(n)||c.apply(this,arguments)}function u(e,r,o){var a,c=this;r=null==r?"WARN":r;var u="loglevel";function d(){var e;if(("undefined"==typeof window?"undefined":i(window))!==t&&u){try{e=window.localStorage[u]}catch(e){}if(i(e)===t)try{var r=window.document.cookie,n=r.indexOf(encodeURIComponent(u)+"=");-1!==n&&(e=/^([^;]+)/.exec(r.slice(n))[1])}catch(e){}return void 0===c.levels[e]&&(e=void 0),e}}"string"==typeof e?u+=":"+e:"symbol"===i(e)&&(u=void 0),c.name=e,c.levels={TRACE:0,DEBUG:1,INFO:2,WARN:3,ERROR:4,SILENT:5},c.methodFactory=o||l,c.getLevel=function(){return a},c.setLevel=function(r,o){if("string"==typeof r&&void 0!==c.levels[r.toUpperCase()]&&(r=c.levels[r.toUpperCase()]),!("number"==typeof r&&r>=0&&r<=c.levels.SILENT))throw"log.setLevel() called with invalid level: "+r;if(a=r,!1!==o&&function(e){var r=(n[e]||"silent").toUpperCase();if(("undefined"==typeof window?"undefined":i(window))!==t&&u){try{return void(window.localStorage[u]=r)}catch(e){}try{window.document.cookie=encodeURIComponent(u)+"="+r+";"}catch(e){}}}(r),s.call(c,r,e),("undefined"==typeof console?"undefined":i(console))===t&&r<c.levels.SILENT)return"No console available for logging"},c.setDefaultLevel=function(e){r=e,d()||c.setLevel(e,!1)},c.resetLevel=function(){c.setLevel(r,!1),function(){if(("undefined"==typeof window?"undefined":i(window))!==t&&u){try{return void window.localStorage.removeItem(u)}catch(e){}try{window.document.cookie=encodeURIComponent(u)+"=; expires=Thu, 01 Jan 1970 00:00:00 UTC"}catch(e){}}}()},c.enableAll=function(e){c.setLevel(c.levels.TRACE,e)},c.disableAll=function(e){c.setLevel(c.levels.SILENT,e)};var p=d();null==p&&(p=r),c.setLevel(p,!1)}var d=new u,p={};d.getLogger=function(e){if("symbol"!==i(e)&&"string"!=typeof e||""===e)throw new TypeError("You must supply a name when creating a logger.");var t=p[e];return t||(t=p[e]=new u(e,d.getLevel(),d.methodFactory)),t};var f=("undefined"==typeof window?"undefined":i(window))!==t?window.log:void 0;return d.noConflict=function(){return("undefined"==typeof window?"undefined":i(window))!==t&&window.log===d&&(window.log=f),d},d.getLoggers=function(){return p},d.default=d,d},void 0===(o=n.call(t,r,t,e))||(e.exports=o)}()},3055:(e,t,r)=>{function n(e){return n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},n(e)}var o="function"==typeof Map&&Map.prototype,i=Object.getOwnPropertyDescriptor&&o?Object.getOwnPropertyDescriptor(Map.prototype,"size"):null,a=o&&i&&"function"==typeof i.get?i.get:null,s=o&&Map.prototype.forEach,c="function"==typeof Set&&Set.prototype,l=Object.getOwnPropertyDescriptor&&c?Object.getOwnPropertyDescriptor(Set.prototype,"size"):null,u=c&&l&&"function"==typeof l.get?l.get:null,d=c&&Set.prototype.forEach,p="function"==typeof WeakMap&&WeakMap.prototype?WeakMap.prototype.has:null,f="function"==typeof WeakSet&&WeakSet.prototype?WeakSet.prototype.has:null,h="function"==typeof WeakRef&&WeakRef.prototype?WeakRef.prototype.deref:null,m=Boolean.prototype.valueOf,y=Object.prototype.toString,g=Function.prototype.toString,b=String.prototype.match,v="function"==typeof BigInt?BigInt.prototype.valueOf:null,k=Object.getOwnPropertySymbols,w="function"==typeof Symbol&&"symbol"===n(Symbol.iterator)?Symbol.prototype.toString:null,_="function"==typeof Symbol&&"object"===n(Symbol.iterator),S=Object.prototype.propertyIsEnumerable,O=("function"==typeof Reflect?Reflect.getPrototypeOf:Object.getPrototypeOf)||([].__proto__===Array.prototype?function(e){return e.__proto__}:null),P=r(5863).custom,E=P&&R(P)?P:null,C="function"==typeof Symbol&&void 0!==Symbol.toStringTag?Symbol.toStringTag:null;function x(e,t,r){var n="double"===(r.quoteStyle||t)?'"':"'";return n+e+n}function j(e){return String(e).replace(/"/g,"&quot;")}function T(e){return!("[object Array]"!==A(e)||C&&"object"===n(e)&&C in e)}function R(e){if(_)return e&&"object"===n(e)&&e instanceof Symbol;if("symbol"===n(e))return!0;if(!e||"object"!==n(e)||!w)return!1;try{return w.call(e),!0}catch(e){}return!1}e.exports=function e(t,r,o,i){var c=r||{};if(I(c,"quoteStyle")&&"single"!==c.quoteStyle&&"double"!==c.quoteStyle)throw new TypeError('option "quoteStyle" must be "single" or "double"');if(I(c,"maxStringLength")&&("number"==typeof c.maxStringLength?c.maxStringLength<0&&c.maxStringLength!==1/0:null!==c.maxStringLength))throw new TypeError('option "maxStringLength", if provided, must be a positive integer, Infinity, or `null`');var l=!I(c,"customInspect")||c.customInspect;if("boolean"!=typeof l&&"symbol"!==l)throw new TypeError("option \"customInspect\", if provided, must be `true`, `false`, or `'symbol'`");if(I(c,"indent")&&null!==c.indent&&"\t"!==c.indent&&!(parseInt(c.indent,10)===c.indent&&c.indent>0))throw new TypeError('options "indent" must be "\\t", an integer > 0, or `null`');if(void 0===t)return"undefined";if(null===t)return"null";if("boolean"==typeof t)return t?"true":"false";if("string"==typeof t)return D(t,c);if("number"==typeof t)return 0===t?1/0/t>0?"0":"-0":String(t);if("bigint"==typeof t)return String(t)+"n";var y=void 0===c.depth?5:c.depth;if(void 0===o&&(o=0),o>=y&&y>0&&"object"===n(t))return T(t)?"[Array]":"[Object]";var k,S=function(e,t){var r;if("\t"===e.indent)r="\t";else{if(!("number"==typeof e.indent&&e.indent>0))return null;r=Array(e.indent+1).join(" ")}return{base:r,prev:Array(t+1).join(r)}}(c,o);if(void 0===i)i=[];else if(M(i,t)>=0)return"[Circular]";function P(t,r,n){if(r&&(i=i.slice()).push(r),n){var a={depth:c.depth};return I(c,"quoteStyle")&&(a.quoteStyle=c.quoteStyle),e(t,a,o+1,i)}return e(t,c,o+1,i)}if("function"==typeof t){var z=function(e){if(e.name)return e.name;var t=b.call(g.call(e),/^function\s*([\w$]+)/);return t?t[1]:null}(t),N=q(t,P);return"[Function"+(z?": "+z:" (anonymous)")+"]"+(N.length>0?" { "+N.join(", ")+" }":"")}if(R(t)){var W=_?String(t).replace(/^(Symbol\(.*\))_[^)]*$/,"$1"):w.call(t);return"object"!==n(t)||_?W:L(W)}if((k=t)&&"object"===n(k)&&("undefined"!=typeof HTMLElement&&k instanceof HTMLElement||"string"==typeof k.nodeName&&"function"==typeof k.getAttribute)){for(var Z="<"+String(t.nodeName).toLowerCase(),H=t.attributes||[],$=0;$<H.length;$++)Z+=" "+H[$].name+"="+x(j(H[$].value),"double",c);return Z+=">",t.childNodes&&t.childNodes.length&&(Z+="..."),Z+"</"+String(t.nodeName).toLowerCase()+">"}if(T(t)){if(0===t.length)return"[]";var V=q(t,P);return S&&!function(e){for(var t=0;t<e.length;t++)if(M(e[t],"\n")>=0)return!1;return!0}(V)?"["+F(V,S)+"]":"[ "+V.join(", ")+" ]"}if(function(e){return!("[object Error]"!==A(e)||C&&"object"===n(e)&&C in e)}(t)){var G=q(t,P);return 0===G.length?"["+String(t)+"]":"{ ["+String(t)+"] "+G.join(", ")+" }"}if("object"===n(t)&&l){if(E&&"function"==typeof t[E])return t[E]();if("symbol"!==l&&"function"==typeof t.inspect)return t.inspect()}if(function(e){if(!a||!e||"object"!==n(e))return!1;try{a.call(e);try{u.call(e)}catch(e){return!0}return e instanceof Map}catch(e){}return!1}(t)){var J=[];return s.call(t,(function(e,r){J.push(P(r,t,!0)+" => "+P(e,t))})),B("Map",a.call(t),J,S)}if(function(e){if(!u||!e||"object"!==n(e))return!1;try{u.call(e);try{a.call(e)}catch(e){return!0}return e instanceof Set}catch(e){}return!1}(t)){var K=[];return d.call(t,(function(e){K.push(P(e,t))})),B("Set",u.call(t),K,S)}if(function(e){if(!p||!e||"object"!==n(e))return!1;try{p.call(e,p);try{f.call(e,f)}catch(e){return!0}return e instanceof WeakMap}catch(e){}return!1}(t))return U("WeakMap");if(function(e){if(!f||!e||"object"!==n(e))return!1;try{f.call(e,f);try{p.call(e,p)}catch(e){return!0}return e instanceof WeakSet}catch(e){}return!1}(t))return U("WeakSet");if(function(e){if(!h||!e||"object"!==n(e))return!1;try{return h.call(e),!0}catch(e){}return!1}(t))return U("WeakRef");if(function(e){return!("[object Number]"!==A(e)||C&&"object"===n(e)&&C in e)}(t))return L(P(Number(t)));if(function(e){if(!e||"object"!==n(e)||!v)return!1;try{return v.call(e),!0}catch(e){}return!1}(t))return L(P(v.call(t)));if(function(e){return!("[object Boolean]"!==A(e)||C&&"object"===n(e)&&C in e)}(t))return L(m.call(t));if(function(e){return!("[object String]"!==A(e)||C&&"object"===n(e)&&C in e)}(t))return L(P(String(t)));if(!function(e){return!("[object Date]"!==A(e)||C&&"object"===n(e)&&C in e)}(t)&&!function(e){return!("[object RegExp]"!==A(e)||C&&"object"===n(e)&&C in e)}(t)){var Y=q(t,P),X=O?O(t)===Object.prototype:t instanceof Object||t.constructor===Object,Q=t instanceof Object?"":"null prototype",ee=!X&&C&&Object(t)===t&&C in t?A(t).slice(8,-1):Q?"Object":"",te=(X||"function"!=typeof t.constructor?"":t.constructor.name?t.constructor.name+" ":"")+(ee||Q?"["+[].concat(ee||[],Q||[]).join(": ")+"] ":"");return 0===Y.length?te+"{}":S?te+"{"+F(Y,S)+"}":te+"{ "+Y.join(", ")+" }"}return String(t)};var z=Object.prototype.hasOwnProperty||function(e){return e in this};function I(e,t){return z.call(e,t)}function A(e){return y.call(e)}function M(e,t){if(e.indexOf)return e.indexOf(t);for(var r=0,n=e.length;r<n;r++)if(e[r]===t)return r;return-1}function D(e,t){if(e.length>t.maxStringLength){var r=e.length-t.maxStringLength,n="... "+r+" more character"+(r>1?"s":"");return D(e.slice(0,t.maxStringLength),t)+n}return x(e.replace(/(['\\])/g,"\\$1").replace(/[\x00-\x1f]/g,N),"single",t)}function N(e){var t=e.charCodeAt(0),r={8:"b",9:"t",10:"n",12:"f",13:"r"}[t];return r?"\\"+r:"\\x"+(t<16?"0":"")+t.toString(16).toUpperCase()}function L(e){return"Object("+e+")"}function U(e){return e+" { ? }"}function B(e,t,r,n){return e+" ("+t+") {"+(n?F(r,n):r.join(", "))+"}"}function F(e,t){if(0===e.length)return"";var r="\n"+t.prev+t.base;return r+e.join(","+r)+"\n"+t.prev}function q(e,t){var r=T(e),n=[];if(r){n.length=e.length;for(var o=0;o<e.length;o++)n[o]=I(e,o)?t(e[o],e):""}var i,a="function"==typeof k?k(e):[];if(_){i={};for(var s=0;s<a.length;s++)i["$"+a[s]]=a[s]}for(var c in e)I(e,c)&&(r&&String(Number(c))===c&&c<e.length||_&&i["$"+c]instanceof Symbol||(/[^\w$]/.test(c)?n.push(t(c,e)+": "+t(e[c],e)):n.push(c+": "+t(e[c],e))));if("function"==typeof k)for(var l=0;l<a.length;l++)S.call(e,a[l])&&n.push("["+t(a[l])+"]: "+t(e[a[l]],e));return n}},2679:e=>{"use strict";var t=function(e){return e!=e};e.exports=function(e,r){return 0===e&&0===r?1/e==1/r:e===r||!(!t(e)||!t(r))}},6232:(e,t,r)=>{"use strict";var n=r(3510),o=r(3700),i=r(2679),a=r(79),s=r(3025),c=o(a(),Object);n(c,{getPolyfill:a,implementation:i,shim:s}),e.exports=c},79:(e,t,r)=>{"use strict";var n=r(2679);e.exports=function(){return"function"==typeof Object.is?Object.is:n}},3025:(e,t,r)=>{"use strict";var n=r(79),o=r(3510);e.exports=function(){var e=n();return o(Object,{is:e},{is:function(){return Object.is!==e}}),e}},6016:(e,t,r)=>{"use strict";function n(e){return n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},n(e)}var o;if(!Object.keys){var i=Object.prototype.hasOwnProperty,a=Object.prototype.toString,s=r(2762),c=Object.prototype.propertyIsEnumerable,l=!c.call({toString:null},"toString"),u=c.call((function(){}),"prototype"),d=["toString","toLocaleString","valueOf","hasOwnProperty","isPrototypeOf","propertyIsEnumerable","constructor"],p=function(e){var t=e.constructor;return t&&t.prototype===e},f={$applicationCache:!0,$console:!0,$external:!0,$frame:!0,$frameElement:!0,$frames:!0,$innerHeight:!0,$innerWidth:!0,$onmozfullscreenchange:!0,$onmozfullscreenerror:!0,$outerHeight:!0,$outerWidth:!0,$pageXOffset:!0,$pageYOffset:!0,$parent:!0,$scrollLeft:!0,$scrollTop:!0,$scrollX:!0,$scrollY:!0,$self:!0,$webkitIndexedDB:!0,$webkitStorageInfo:!0,$window:!0},h=function(){if("undefined"==typeof window)return!1;for(var e in window)try{if(!f["$"+e]&&i.call(window,e)&&null!==window[e]&&"object"===n(window[e]))try{p(window[e])}catch(e){return!0}}catch(e){return!0}return!1}();o=function(e){var t=null!==e&&"object"===n(e),r="[object Function]"===a.call(e),o=s(e),c=t&&"[object String]"===a.call(e),f=[];if(!t&&!r&&!o)throw new TypeError("Object.keys called on a non-object");var m=u&&r;if(c&&e.length>0&&!i.call(e,0))for(var y=0;y<e.length;++y)f.push(String(y));if(o&&e.length>0)for(var g=0;g<e.length;++g)f.push(String(g));else for(var b in e)m&&"prototype"===b||!i.call(e,b)||f.push(String(b));if(l)for(var v=function(e){if("undefined"==typeof window||!h)return p(e);try{return p(e)}catch(e){return!1}}(e),k=0;k<d.length;++k)v&&"constructor"===d[k]||!i.call(e,d[k])||f.push(d[k]);return f}}e.exports=o},6205:(e,t,r)=>{"use strict";var n=Array.prototype.slice,o=r(2762),i=Object.keys,a=i?function(e){return i(e)}:r(6016),s=Object.keys;a.shim=function(){if(Object.keys){var e=function(){var e=Object.keys(arguments);return e&&e.length===arguments.length}(1,2);e||(Object.keys=function(e){return o(e)?s(n.call(e)):s(e)})}else Object.keys=a;return Object.keys||a},e.exports=a},2762:e=>{"use strict";function t(e){return t="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},t(e)}var r=Object.prototype.toString;e.exports=function(e){var n=r.call(e),o="[object Arguments]"===n;return o||(o="[object Array]"!==n&&null!==e&&"object"===t(e)&&"number"==typeof e.length&&e.length>=0&&"[object Function]"===r.call(e.callee)),o}},4609:(e,t,r)=>{"use strict";var n=r(6205),o=r(17)(),i=r(5554),a=Object,s=i("Array.prototype.push"),c=i("Object.prototype.propertyIsEnumerable"),l=o?Object.getOwnPropertySymbols:null;e.exports=function(e,t){if(null==e)throw new TypeError("target must be an object");var r,i,u,d,p,f,h,m=a(e);for(r=1;r<arguments.length;++r){i=a(arguments[r]),d=n(i);var y=o&&(Object.getOwnPropertySymbols||l);if(y)for(p=y(i),u=0;u<p.length;++u)h=p[u],c(i,h)&&s(d,h);for(u=0;u<d.length;++u)f=i[h=d[u]],c(i,h)&&(m[h]=f)}return m}},4545:(e,t,r)=>{"use strict";var n=r(3510),o=r(3700),i=r(4609),a=r(1785),s=r(8507),c=o.apply(a()),l=function(e,t){return c(Object,arguments)};n(l,{getPolyfill:a,implementation:i,shim:s}),e.exports=l},1785:(e,t,r)=>{"use strict";var n=r(4609);e.exports=function(){return Object.assign?function(){if(!Object.assign)return!1;for(var e="abcdefghijklmnopqrst",t=e.split(""),r={},n=0;n<t.length;++n)r[t[n]]=t[n];var o=Object.assign({},r),i="";for(var a in o)i+=a;return e!==i}()||function(){if(!Object.assign||!Object.preventExtensions)return!1;var e=Object.preventExtensions({1:2});try{Object.assign(e,"xy")}catch(t){return"y"===e[1]}return!1}()?n:Object.assign:n}},8507:(e,t,r)=>{"use strict";var n=r(3510),o=r(1785);e.exports=function(){var e=o();return n(Object,{assign:e},{assign:function(){return Object.assign!==e}}),e}},7108:function(e,t,r){var n,o,i,a;function s(e){return s="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},s(e)}e=r.nmd(e),a=function(e){return function(e){function t(n){if(r[n])return r[n].exports;var o=r[n]={exports:{},id:n,loaded:!1};return e[n].call(o.exports,o,o.exports,t),o.loaded=!0,o.exports}var r={};return t.m=e,t.c=r,t.p="",t(0)}([function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),r(31);var n=function(e){return e&&e.__esModule?e:{default:e}}(r(13));t.default=n.default},function(t,r){t.exports=e},function(e,t,r){e.exports=r(19)()},function(e,t){"use strict";t.__esModule=!0,t.default=function(e){var t={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(t[r]="number"==typeof e[r]?e[r]:e[r].val);return t},e.exports=t.default},function(e,t,r){(function(t){(function(){var r,n,o;"undefined"!=typeof performance&&null!==performance&&performance.now?e.exports=function(){return performance.now()}:null!=t&&t.hrtime?(e.exports=function(){return(r()-o)/1e6},n=t.hrtime,r=function(){var e;return 1e9*(e=n())[0]+e[1]},o=r()):Date.now?(e.exports=function(){return Date.now()-o},o=Date.now()):(e.exports=function(){return(new Date).getTime()-o},o=(new Date).getTime())}).call(this)}).call(t,r(10))},function(e,t,r){(function(t){for(var n=r(23),o="undefined"==typeof window?t:window,i=["moz","webkit"],a="AnimationFrame",s=o["request"+a],c=o["cancel"+a]||o["cancelRequest"+a],l=0;!s&&l<i.length;l++)s=o[i[l]+"Request"+a],c=o[i[l]+"Cancel"+a]||o[i[l]+"CancelRequest"+a];if(!s||!c){var u=0,d=0,p=[];s=function(e){if(0===p.length){var t=n(),r=Math.max(0,16.666666666666668-(t-u));u=r+t,setTimeout((function(){var e=p.slice(0);p.length=0;for(var t=0;t<e.length;t++)if(!e[t].cancelled)try{e[t].callback(u)}catch(e){setTimeout((function(){throw e}),0)}}),Math.round(r))}return p.push({handle:++d,callback:e,cancelled:!1}),d},c=function(e){for(var t=0;t<p.length;t++)p[t].handle===e&&(p[t].cancelled=!0)}}e.exports=function(e){return s.call(o,e)},e.exports.cancel=function(){c.apply(o,arguments)},e.exports.polyfill=function(e){e||(e=o),e.requestAnimationFrame=s,e.cancelAnimationFrame=c}}).call(t,function(){return this}())},function(e,t){"use strict";t.__esModule=!0,t.default=function(e){var t={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=0);return t},e.exports=t.default},function(e,t){"use strict";t.__esModule=!0,t.default=function(e,t,r){for(var n in t)if(Object.prototype.hasOwnProperty.call(t,n)){if(0!==r[n])return!1;var o="number"==typeof t[n]?t[n]:t[n].val;if(e[n]!==o)return!1}return!0},e.exports=t.default},function(e,t){"use strict";t.__esModule=!0,t.default=function(e,t,n,o,i,a,s){var c=n+(-i*(t-o)+-a*n)*e,l=t+c*e;return Math.abs(c)<s&&Math.abs(l-o)<s?(r[0]=o,r[1]=0,r):(r[0]=l,r[1]=c,r)};var r=[0,0];e.exports=t.default},function(e,t,r){"use strict";function n(e){var t=e.version;if("string"!=typeof t)return!0;var r=t.split("."),n=parseInt(r[0],10),o=parseInt(r[1],10);return 0===n&&13===o}Object.defineProperty(t,"__esModule",{value:!0}),t.findDOMNode=function(e){return i?o.default.findDOMNode(e):e},t.warnAboutFunctionChild=function(){a||i||(a=!0,console.error("With React 0.14 and later versions, you no longer need to wrap <ScrollArea> child into a function."))},t.warnAboutElementChild=function(){!a&&i&&(a=!0,console.error("With React 0.13, you need to wrap <ScrollArea> child into a function."))},t.positiveOrZero=function(e){return e<0?0:e},t.modifyObjValues=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:function(e){return e},r={};for(var n in e)e.hasOwnProperty(n)&&(r[n]=t(e[n]));return r},t.isReact13=n;var o=function(e){return e&&e.__esModule?e:{default:e}}(r(1)),i=n(o.default),a=!1},function(e,t){function r(){throw new Error("setTimeout has not been defined")}function n(){throw new Error("clearTimeout has not been defined")}function o(e){if(l===setTimeout)return setTimeout(e,0);if((l===r||!l)&&setTimeout)return l=setTimeout,setTimeout(e,0);try{return l(e,0)}catch(t){try{return l.call(null,e,0)}catch(t){return l.call(this,e,0)}}}function i(){h&&p&&(h=!1,p.length?f=p.concat(f):m=-1,f.length&&a())}function a(){if(!h){var e=o(i);h=!0;for(var t=f.length;t;){for(p=f,f=[];++m<t;)p&&p[m].run();m=-1,t=f.length}p=null,h=!1,function(e){if(u===clearTimeout)return clearTimeout(e);if((u===n||!u)&&clearTimeout)return u=clearTimeout,clearTimeout(e);try{return u(e)}catch(t){try{return u.call(null,e)}catch(t){return u.call(this,e)}}}(e)}}function s(e,t){this.fun=e,this.array=t}function c(){}var l,u,d=e.exports={};!function(){try{l="function"==typeof setTimeout?setTimeout:r}catch(e){l=r}try{u="function"==typeof clearTimeout?clearTimeout:n}catch(e){u=n}}();var p,f=[],h=!1,m=-1;d.nextTick=function(e){var t=new Array(arguments.length-1);if(arguments.length>1)for(var r=1;r<arguments.length;r++)t[r-1]=arguments[r];f.push(new s(e,t)),1!==f.length||h||o(a)},s.prototype.run=function(){this.fun.apply(null,this.array)},d.title="browser",d.browser=!0,d.env={},d.argv=[],d.version="",d.versions={},d.on=c,d.addListener=c,d.once=c,d.off=c,d.removeListener=c,d.removeAllListeners=c,d.emit=c,d.binding=function(e){throw new Error("process.binding is not supported")},d.cwd=function(){return"/"},d.chdir=function(e){throw new Error("process.chdir is not supported")},d.umask=function(){return 0}},function(e,t){"use strict";t.__esModule=!0,t.default={noWobble:{stiffness:170,damping:26},gentle:{stiffness:120,damping:14},wobbly:{stiffness:180,damping:12},stiff:{stiffness:210,damping:20}},e.exports=t.default},function(e,t,r){"use strict";function n(e){return e&&e.__esModule?e.default:e}t.__esModule=!0;var o=r(24);t.Motion=n(o);var i=r(25);t.StaggeredMotion=n(i);var a=r(26);t.TransitionMotion=n(a);var s=r(29);t.spring=n(s);var c=r(11);t.presets=n(c);var l=r(3);t.stripStyle=n(l);var u=r(28);t.reorderKeys=n(u)},function(e,t,r){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var o="function"==typeof Symbol&&"symbol"==s(Symbol.iterator)?function(e){return s(e)}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":s(e)},i=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},a=function(){function e(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,r,n){return r&&e(t.prototype,r),n&&e(t,n),t}}(),c=n(r(1)),l=n(r(2)),u=n(r(18)),d=r(12),p=r(9),f=n(r(14)),h="wheel",m="api",y="touchEnd",g="keypress",b=function(e){function t(e){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var r=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=s(t)&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return r.state={topPosition:0,leftPosition:0,realHeight:0,containerHeight:0,realWidth:0,containerWidth:0},r.scrollArea={refresh:function(){r.setSizesToState()},scrollTop:function(){r.scrollTop()},scrollBottom:function(){r.scrollBottom()},scrollYTo:function(e){r.scrollYTo(e)},scrollLeft:function(){r.scrollLeft()},scrollRight:function(){r.scrollRight()},scrollXTo:function(e){r.scrollXTo(e)}},r.evntsPreviousValues={clientX:0,clientY:0,deltaX:0,deltaY:0},r.bindedHandleWindowResize=r.handleWindowResize.bind(r),r.bindedHandleWheel=r.handleWheel.bind(r),r}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+s(t));e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),a(t,[{key:"getChildContext",value:function(){return{scrollArea:this.scrollArea}}},{key:"componentDidMount",value:function(){this.props.contentWindow&&this.props.contentWindow.addEventListener("resize",this.bindedHandleWindowResize),this.lineHeightPx=(0,u.default)((0,p.findDOMNode)(this.content)),this.setSizesToState(),this.wrapper.addEventListener("wheel",this.bindedHandleWheel,{passive:!1})}},{key:"componentWillUnmount",value:function(){this.props.contentWindow&&this.props.contentWindow.removeEventListener("resize",this.bindedHandleWindowResize),this.wrapper.removeEventListener("wheel",this.bindedHandleWheel)}},{key:"componentDidUpdate",value:function(){this.setSizesToState()}},{key:"render",value:function(){var e=this,t=this.props,r=t.children,n=t.className,o=t.contentClassName,a=t.ownerDocument,s=this.props.smoothScrolling&&(this.state.eventType===h||this.state.eventType===m||this.state.eventType===y||this.state.eventType===g),l=this.canScrollY()?c.default.createElement(f.default,{ownerDocument:a,realSize:this.state.realHeight,containerSize:this.state.containerHeight,position:this.state.topPosition,onMove:this.handleScrollbarMove.bind(this),onPositionChange:this.handleScrollbarYPositionChange.bind(this),containerStyle:this.props.verticalContainerStyle,scrollbarStyle:this.props.verticalScrollbarStyle,smoothScrolling:s,minScrollSize:this.props.minScrollSize,onFocus:this.focusContent.bind(this),type:"vertical"}):null,u=this.canScrollX()?c.default.createElement(f.default,{ownerDocument:a,realSize:this.state.realWidth,containerSize:this.state.containerWidth,position:this.state.leftPosition,onMove:this.handleScrollbarMove.bind(this),onPositionChange:this.handleScrollbarXPositionChange.bind(this),containerStyle:this.props.horizontalContainerStyle,scrollbarStyle:this.props.horizontalScrollbarStyle,smoothScrolling:s,minScrollSize:this.props.minScrollSize,onFocus:this.focusContent.bind(this),type:"horizontal"}):null;"function"==typeof r?((0,p.warnAboutFunctionChild)(),r=r()):(0,p.warnAboutElementChild)();var b="scrollarea "+(n||""),v="scrollarea-content "+(o||""),k={marginTop:-this.state.topPosition,marginLeft:-this.state.leftPosition},w=s?(0,p.modifyObjValues)(k,(function(e){return(0,d.spring)(e)})):k;return c.default.createElement(d.Motion,{style:w},(function(t){return c.default.createElement("div",{ref:function(t){return e.wrapper=t},className:b,style:e.props.style},c.default.createElement("div",{ref:function(t){return e.content=t},style:i({},e.props.contentStyle,t),className:v,onTouchStart:e.handleTouchStart.bind(e),onTouchMove:e.handleTouchMove.bind(e),onTouchEnd:e.handleTouchEnd.bind(e),onKeyDown:e.handleKeyDown.bind(e),tabIndex:e.props.focusableTabIndex},r),l,u)}))}},{key:"setStateFromEvent",value:function(e,t){this.props.onScroll&&this.props.onScroll(e),this.setState(i({},e,{eventType:t}))}},{key:"handleTouchStart",value:function(e){var t=e.touches;if(1===t.length){var r=t[0],n=r.clientX,o=r.clientY;this.eventPreviousValues=i({},this.eventPreviousValues,{clientY:o,clientX:n,timestamp:Date.now()})}}},{key:"handleTouchMove",value:function(e){this.canScroll()&&(e.preventDefault(),e.stopPropagation());var t=e.touches;if(1===t.length){var r=t[0],n=r.clientX,o=r.clientY,a=this.eventPreviousValues.clientY-o,s=this.eventPreviousValues.clientX-n;this.eventPreviousValues=i({},this.eventPreviousValues,{deltaY:a,deltaX:s,clientY:o,clientX:n,timestamp:Date.now()}),this.setStateFromEvent(this.composeNewState(-s,-a))}}},{key:"handleTouchEnd",value:function(e){var t=this.eventPreviousValues,r=t.deltaX,n=t.deltaY,o=t.timestamp;void 0===r&&(r=0),void 0===n&&(n=0),Date.now()-o<200&&this.setStateFromEvent(this.composeNewState(10*-r,10*-n),y),this.eventPreviousValues=i({},this.eventPreviousValues,{deltaY:0,deltaX:0})}},{key:"handleScrollbarMove",value:function(e,t){this.setStateFromEvent(this.composeNewState(t,e))}},{key:"handleScrollbarXPositionChange",value:function(e){this.scrollXTo(e)}},{key:"handleScrollbarYPositionChange",value:function(e){this.scrollYTo(e)}},{key:"handleWheel",value:function(e){var t=e.deltaY,r=e.deltaX;if(this.props.swapWheelAxes){var n=[r,t];t=n[0],r=n[1]}1===e.deltaMode&&(t*=this.lineHeightPx,r*=this.lineHeightPx),t*=this.props.speed,r*=this.props.speed;var o=this.composeNewState(-r,-t);(o.topPosition&&this.state.topPosition!==o.topPosition||o.leftPosition&&this.state.leftPosition!==o.leftPosition||this.props.stopScrollPropagation)&&(e.preventDefault(),e.stopPropagation()),this.setStateFromEvent(o,h),this.focusContent()}},{key:"handleKeyDown",value:function(e){if("input"!==e.target.tagName.toLowerCase()&&"textarea"!==e.target.tagName.toLowerCase()&&!e.target.isContentEditable){var t=0,r=0,n=this.lineHeightPx?this.lineHeightPx:10;switch(e.keyCode){case 33:t=this.state.containerHeight-n;break;case 34:t=-this.state.containerHeight+n;break;case 37:r=n;break;case 38:t=n;break;case 39:r=-n;break;case 40:t=-n}if(0!==t||0!==r){var o=this.composeNewState(r,t);e.preventDefault(),e.stopPropagation(),this.setStateFromEvent(o,g)}}}},{key:"handleWindowResize",value:function(){var e=this.computeSizes();e=this.getModifiedPositionsIfNeeded(e),this.setStateFromEvent(e)}},{key:"composeNewState",value:function(e,t){var r=this.computeSizes();return this.canScrollY(r)?r.topPosition=this.computeTopPosition(t,r):r.topPosition=0,this.canScrollX(r)&&(r.leftPosition=this.computeLeftPosition(e,r)),r}},{key:"computeTopPosition",value:function(e,t){var r=this.state.topPosition-e;return this.normalizeTopPosition(r,t)}},{key:"computeLeftPosition",value:function(e,t){var r=this.state.leftPosition-e;return this.normalizeLeftPosition(r,t)}},{key:"normalizeTopPosition",value:function(e,t){return e>t.realHeight-t.containerHeight&&(e=t.realHeight-t.containerHeight),e<0&&(e=0),e}},{key:"normalizeLeftPosition",value:function(e,t){return e>t.realWidth-t.containerWidth?e=t.realWidth-t.containerWidth:e<0&&(e=0),e}},{key:"computeSizes",value:function(){return{realHeight:this.content.offsetHeight,containerHeight:this.wrapper.offsetHeight,realWidth:this.content.offsetWidth,containerWidth:this.wrapper.offsetWidth}}},{key:"setSizesToState",value:function(){var e=this.computeSizes();e.realHeight===this.state.realHeight&&e.realWidth===this.state.realWidth||this.setStateFromEvent(this.getModifiedPositionsIfNeeded(e))}},{key:"scrollTop",value:function(){this.scrollYTo(0)}},{key:"scrollBottom",value:function(){this.scrollYTo(this.state.realHeight-this.state.containerHeight)}},{key:"scrollLeft",value:function(){this.scrollXTo(0)}},{key:"scrollRight",value:function(){this.scrollXTo(this.state.realWidth-this.state.containerWidth)}},{key:"scrollYTo",value:function(e){if(this.canScrollY()){var t=this.normalizeTopPosition(e,this.computeSizes());this.setStateFromEvent({topPosition:t},m)}}},{key:"scrollXTo",value:function(e){if(this.canScrollX()){var t=this.normalizeLeftPosition(e,this.computeSizes());this.setStateFromEvent({leftPosition:t},m)}}},{key:"canScrollY",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.state;return e.realHeight>e.containerHeight&&this.props.vertical}},{key:"canScrollX",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.state;return e.realWidth>e.containerWidth&&this.props.horizontal}},{key:"canScroll",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.state;return this.canScrollY(e)||this.canScrollX(e)}},{key:"getModifiedPositionsIfNeeded",value:function(e){var t=e.realHeight-e.containerHeight;this.state.topPosition>=t&&(e.topPosition=this.canScrollY(e)?(0,p.positiveOrZero)(t):0);var r=e.realWidth-e.containerWidth;return this.state.leftPosition>=r&&(e.leftPosition=this.canScrollX(e)?(0,p.positiveOrZero)(r):0),e}},{key:"focusContent",value:function(){this.content&&(0,p.findDOMNode)(this.content).focus()}}]),t}(c.default.Component);t.default=b,b.childContextTypes={scrollArea:l.default.object},b.propTypes={className:l.default.string,style:l.default.object,speed:l.default.number,contentClassName:l.default.string,contentStyle:l.default.object,vertical:l.default.bool,verticalContainerStyle:l.default.object,verticalScrollbarStyle:l.default.object,horizontal:l.default.bool,horizontalContainerStyle:l.default.object,horizontalScrollbarStyle:l.default.object,onScroll:l.default.func,contentWindow:l.default.any,ownerDocument:l.default.any,smoothScrolling:l.default.bool,minScrollSize:l.default.number,swapWheelAxes:l.default.bool,stopScrollPropagation:l.default.bool,focusableTabIndex:l.default.number},b.defaultProps={speed:1,vertical:!0,horizontal:!0,smoothScrolling:!1,swapWheelAxes:!1,contentWindow:"object"===("undefined"==typeof window?"undefined":o(window))?window:void 0,ownerDocument:"object"===("undefined"==typeof document?"undefined":o(document))?document:void 0,focusableTabIndex:1}},function(e,t,r){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var o=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},i=function(){function e(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,r,n){return r&&e(t.prototype,r),n&&e(t,n),t}}(),a=n(r(1)),c=n(r(2)),l=r(12),u=r(9),d=function(e){function t(e){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var r=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=s(t)&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e)),n=r.calculateState(e);return r.state={position:n.position,scrollSize:n.scrollSize,isDragging:!1,lastClientPosition:0},"vertical"===e.type?r.bindedHandleMouseMove=r.handleMouseMoveForVertical.bind(r):r.bindedHandleMouseMove=r.handleMouseMoveForHorizontal.bind(r),r.bindedHandleMouseUp=r.handleMouseUp.bind(r),r}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+s(t));e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),i(t,[{key:"componentDidMount",value:function(){this.props.ownerDocument&&(this.props.ownerDocument.addEventListener("mousemove",this.bindedHandleMouseMove),this.props.ownerDocument.addEventListener("mouseup",this.bindedHandleMouseUp))}},{key:"componentWillReceiveProps",value:function(e){this.setState(this.calculateState(e))}},{key:"componentWillUnmount",value:function(){this.props.ownerDocument&&(this.props.ownerDocument.removeEventListener("mousemove",this.bindedHandleMouseMove),this.props.ownerDocument.removeEventListener("mouseup",this.bindedHandleMouseUp))}},{key:"calculateFractionalPosition",value:function(e,t,r){var n=e-t;return 1-(n-r)/n}},{key:"calculateState",value:function(e){var t=this.calculateFractionalPosition(e.realSize,e.containerSize,e.position),r=e.containerSize*e.containerSize/e.realSize,n=r<e.minScrollSize?e.minScrollSize:r,o=(e.containerSize-n)*t;return{scrollSize:n,position:Math.round(o)}}},{key:"render",value:function(){var e=this,t=this.props,r=t.smoothScrolling,n=t.isDragging,i=t.type,s=t.scrollbarStyle,c=t.containerStyle,d="horizontal"===i,p="vertical"===i,f=this.createScrollStyles(),h=r?(0,u.modifyObjValues)(f,(function(e){return(0,l.spring)(e)})):f,m="scrollbar-container "+(n?"active":"")+" "+(d?"horizontal":"")+" "+(p?"vertical":"");return a.default.createElement(l.Motion,{style:h},(function(t){return a.default.createElement("div",{className:m,style:c,onMouseDown:e.handleScrollBarContainerClick.bind(e),ref:function(t){return e.scrollbarContainer=t}},a.default.createElement("div",{className:"scrollbar",style:o({},s,t),onMouseDown:e.handleMouseDown.bind(e)}))}))}},{key:"handleScrollBarContainerClick",value:function(e){e.preventDefault();var t=this.computeMultiplier(),r=this.isVertical()?e.clientY:e.clientX,n=this.scrollbarContainer.getBoundingClientRect(),o=n.top,i=n.left,a=r-(this.isVertical()?o:i),s=this.props.containerSize*this.props.containerSize/this.props.realSize;this.setState({isDragging:!0,lastClientPosition:r}),this.props.onPositionChange((a-s/2)/t)}},{key:"handleMouseMoveForHorizontal",value:function(e){var t=this.computeMultiplier();if(this.state.isDragging){e.preventDefault();var r=this.state.lastClientPosition-e.clientX;this.setState({lastClientPosition:e.clientX}),this.props.onMove(0,r/t)}}},{key:"handleMouseMoveForVertical",value:function(e){var t=this.computeMultiplier();if(this.state.isDragging){e.preventDefault();var r=this.state.lastClientPosition-e.clientY;this.setState({lastClientPosition:e.clientY}),this.props.onMove(r/t,0)}}},{key:"handleMouseDown",value:function(e){e.preventDefault(),e.stopPropagation();var t=this.isVertical()?e.clientY:e.clientX;this.setState({isDragging:!0,lastClientPosition:t}),this.props.onFocus()}},{key:"handleMouseUp",value:function(e){this.state.isDragging&&(e.preventDefault(),this.setState({isDragging:!1}))}},{key:"createScrollStyles",value:function(){return"vertical"===this.props.type?{height:this.state.scrollSize,marginTop:this.state.position}:{width:this.state.scrollSize,marginLeft:this.state.position}}},{key:"computeMultiplier",value:function(){return this.props.containerSize/this.props.realSize}},{key:"isVertical",value:function(){return"vertical"===this.props.type}}]),t}(a.default.Component);d.propTypes={onMove:c.default.func,onPositionChange:c.default.func,onFocus:c.default.func,realSize:c.default.number,containerSize:c.default.number,position:c.default.number,containerStyle:c.default.object,scrollbarStyle:c.default.object,type:c.default.oneOf(["vertical","horizontal"]),ownerDocument:c.default.any,smoothScrolling:c.default.bool,minScrollSize:c.default.number},d.defaultProps={type:"vertical",smoothScrolling:!1},t.default=d},function(e,t){e.exports=function(e,t,r){return((r=window.getComputedStyle)?r(e):e.currentStyle)[t.replace(/-(\w)/gi,(function(e,t){return t.toUpperCase()}))]}},function(e,t,r){(e.exports=r(17)()).push([e.id,".scrollarea-content{margin:0;padding:0;overflow:hidden;position:relative;touch-action:none}.scrollarea-content:focus{outline:0}.scrollarea{position:relative;overflow:hidden}.scrollarea .scrollbar-container{position:absolute;background:none;opacity:.1;z-index:99;-webkit-transition:all .4s;transition:all .4s}.scrollarea .scrollbar-container.horizontal{width:100%;height:10px;left:0;bottom:0}.scrollarea .scrollbar-container.horizontal .scrollbar{width:20px;height:8px;background:#000;margin-top:1px}.scrollarea .scrollbar-container.vertical{width:10px;height:100%;right:0;top:0}.scrollarea .scrollbar-container.vertical .scrollbar{width:8px;height:20px;background:#000;margin-left:1px}.scrollarea .scrollbar-container.active,.scrollarea .scrollbar-container:hover{background:gray;opacity:.6!important}.scrollarea:hover .scrollbar-container{opacity:.3}",""])},function(e,t){e.exports=function(){var e=[];return e.toString=function(){for(var e=[],t=0;t<this.length;t++){var r=this[t];r[2]?e.push("@media "+r[2]+"{"+r[1]+"}"):e.push(r[1])}return e.join("")},e.i=function(t,r){"string"==typeof t&&(t=[[null,t,""]]);for(var n={},o=0;o<this.length;o++){var i=this[o][0];"number"==typeof i&&(n[i]=!0)}for(o=0;o<t.length;o++){var a=t[o];"number"==typeof a[0]&&n[a[0]]||(r&&!a[2]?a[2]=r:r&&(a[2]="("+a[2]+") and ("+r+")"),e.push(a))}},e}},function(e,t,r){var n=r(15);e.exports=function(e){var t=n(e,"line-height"),r=parseFloat(t,10);if(t===r+""){var o=e.style.lineHeight;e.style.lineHeight=t+"em",t=n(e,"line-height"),r=parseFloat(t,10),o?e.style.lineHeight=o:delete e.style.lineHeight}if(-1!==t.indexOf("pt")?(r*=4,r/=3):-1!==t.indexOf("mm")?(r*=96,r/=25.4):-1!==t.indexOf("cm")?(r*=96,r/=2.54):-1!==t.indexOf("in")?r*=96:-1!==t.indexOf("pc")&&(r*=16),r=Math.round(r),"normal"===t){var i=e.nodeName,a=document.createElement(i);a.innerHTML="&nbsp;";var s=n(e,"font-size");a.style.fontSize=s;var c=document.body;c.appendChild(a),r=a.offsetHeight,c.removeChild(a)}return r}},function(e,t,r){"use strict";var n=r(21),o=r(22),i=r(20);e.exports=function(){function e(e,t,r,n,a,s){s!==i&&o(!1,"Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types")}function t(){return e}e.isRequired=e;var r={array:e,bool:e,func:e,number:e,object:e,string:e,symbol:e,any:e,arrayOf:t,element:e,instanceOf:t,node:e,objectOf:t,oneOf:t,oneOfType:t,shape:t,exact:t};return r.checkPropTypes=n,r.PropTypes=r,r}},function(e,t){"use strict";e.exports="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED"},function(e,t){"use strict";function r(e){return function(){return e}}var n=function(){};n.thatReturns=r,n.thatReturnsFalse=r(!1),n.thatReturnsTrue=r(!0),n.thatReturnsNull=r(null),n.thatReturnsThis=function(){return this},n.thatReturnsArgument=function(e){return e},e.exports=n},function(e,t,r){"use strict";e.exports=function(e,t,r,n,o,i,a,s){if(!e){var c;if(void 0===t)c=new Error("Minified exception occurred; use the non-minified dev environment for the full error message and additional helpful warnings.");else{var l=[r,n,o,i,a,s],u=0;(c=new Error(t.replace(/%s/g,(function(){return l[u++]})))).name="Invariant Violation"}throw c.framesToPop=1,c}}},function(e,t,r){(function(t){(function(){var r,n,o,i,a,s;"undefined"!=typeof performance&&null!==performance&&performance.now?e.exports=function(){return performance.now()}:null!=t&&t.hrtime?(e.exports=function(){return(r()-a)/1e6},n=t.hrtime,r=function(){var e;return 1e9*(e=n())[0]+e[1]},i=r(),s=1e9*t.uptime(),a=i-s):Date.now?(e.exports=function(){return Date.now()-o},o=Date.now()):(e.exports=function(){return(new Date).getTime()-o},o=(new Date).getTime())}).call(this)}).call(t,r(10))},function(e,t,r){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}t.__esModule=!0;var o=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},i=function(){function e(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,r,n){return r&&e(t.prototype,r),n&&e(t,n),t}}(),a=n(r(6)),c=n(r(3)),l=n(r(8)),u=n(r(4)),d=n(r(5)),p=n(r(7)),f=n(r(1)),h=n(r(2)),m=1e3/60,y=function(e){function t(r){var n=this;(function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")})(this,t),e.call(this,r),this.wasAnimating=!1,this.animationID=null,this.prevTime=0,this.accumulatedTime=0,this.unreadPropStyle=null,this.clearUnreadPropStyle=function(e){var t=!1,r=n.state,i=r.currentStyle,a=r.currentVelocity,s=r.lastIdealStyle,c=r.lastIdealVelocity;for(var l in e)if(Object.prototype.hasOwnProperty.call(e,l)){var u=e[l];"number"==typeof u&&(t||(t=!0,i=o({},i),a=o({},a),s=o({},s),c=o({},c)),i[l]=u,a[l]=0,s[l]=u,c[l]=0)}t&&n.setState({currentStyle:i,currentVelocity:a,lastIdealStyle:s,lastIdealVelocity:c})},this.startAnimationIfNecessary=function(){n.animationID=d.default((function(e){var t=n.props.style;if(p.default(n.state.currentStyle,t,n.state.currentVelocity))return n.wasAnimating&&n.props.onRest&&n.props.onRest(),n.animationID=null,n.wasAnimating=!1,void(n.accumulatedTime=0);n.wasAnimating=!0;var r=e||u.default(),o=r-n.prevTime;if(n.prevTime=r,n.accumulatedTime=n.accumulatedTime+o,n.accumulatedTime>10*m&&(n.accumulatedTime=0),0===n.accumulatedTime)return n.animationID=null,void n.startAnimationIfNecessary();var i=(n.accumulatedTime-Math.floor(n.accumulatedTime/m)*m)/m,a=Math.floor(n.accumulatedTime/m),s={},c={},d={},f={};for(var h in t)if(Object.prototype.hasOwnProperty.call(t,h)){var y=t[h];if("number"==typeof y)d[h]=y,f[h]=0,s[h]=y,c[h]=0;else{for(var g=n.state.lastIdealStyle[h],b=n.state.lastIdealVelocity[h],v=0;v<a;v++){var k=l.default(m/1e3,g,b,y.val,y.stiffness,y.damping,y.precision);g=k[0],b=k[1]}var w=l.default(m/1e3,g,b,y.val,y.stiffness,y.damping,y.precision),_=w[0],S=w[1];d[h]=g+(_-g)*i,f[h]=b+(S-b)*i,s[h]=g,c[h]=b}}n.animationID=null,n.accumulatedTime-=a*m,n.setState({currentStyle:d,currentVelocity:f,lastIdealStyle:s,lastIdealVelocity:c}),n.unreadPropStyle=null,n.startAnimationIfNecessary()}))},this.state=this.defaultState()}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+s(t));e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),i(t,null,[{key:"propTypes",value:{defaultStyle:h.default.objectOf(h.default.number),style:h.default.objectOf(h.default.oneOfType([h.default.number,h.default.object])).isRequired,children:h.default.func.isRequired,onRest:h.default.func},enumerable:!0}]),t.prototype.defaultState=function(){var e=this.props,t=e.defaultStyle,r=e.style,n=t||c.default(r),o=a.default(n);return{currentStyle:n,currentVelocity:o,lastIdealStyle:n,lastIdealVelocity:o}},t.prototype.componentDidMount=function(){this.prevTime=u.default(),this.startAnimationIfNecessary()},t.prototype.componentWillReceiveProps=function(e){null!=this.unreadPropStyle&&this.clearUnreadPropStyle(this.unreadPropStyle),this.unreadPropStyle=e.style,null==this.animationID&&(this.prevTime=u.default(),this.startAnimationIfNecessary())},t.prototype.componentWillUnmount=function(){null!=this.animationID&&(d.default.cancel(this.animationID),this.animationID=null)},t.prototype.render=function(){var e=this.props.children(this.state.currentStyle);return e&&f.default.Children.only(e)},t}(f.default.Component);t.default=y,e.exports=t.default},function(e,t,r){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}function o(e,t,r){for(var n=0;n<e.length;n++)if(!f.default(e[n],t[n],r[n]))return!1;return!0}t.__esModule=!0;var i=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},a=function(){function e(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,r,n){return r&&e(t.prototype,r),n&&e(t,n),t}}(),c=n(r(6)),l=n(r(3)),u=n(r(8)),d=n(r(4)),p=n(r(5)),f=n(r(7)),h=n(r(1)),m=n(r(2)),y=1e3/60,g=function(e){function t(r){var n=this;(function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")})(this,t),e.call(this,r),this.animationID=null,this.prevTime=0,this.accumulatedTime=0,this.unreadPropStyles=null,this.clearUnreadPropStyle=function(e){for(var t=n.state,r=t.currentStyles,o=t.currentVelocities,a=t.lastIdealStyles,s=t.lastIdealVelocities,c=!1,l=0;l<e.length;l++){var u=e[l],d=!1;for(var p in u)if(Object.prototype.hasOwnProperty.call(u,p)){var f=u[p];"number"==typeof f&&(d||(d=!0,c=!0,r[l]=i({},r[l]),o[l]=i({},o[l]),a[l]=i({},a[l]),s[l]=i({},s[l])),r[l][p]=f,o[l][p]=0,a[l][p]=f,s[l][p]=0)}}c&&n.setState({currentStyles:r,currentVelocities:o,lastIdealStyles:a,lastIdealVelocities:s})},this.startAnimationIfNecessary=function(){n.animationID=p.default((function(e){var t=n.props.styles(n.state.lastIdealStyles);if(o(n.state.currentStyles,t,n.state.currentVelocities))return n.animationID=null,void(n.accumulatedTime=0);var r=e||d.default(),i=r-n.prevTime;if(n.prevTime=r,n.accumulatedTime=n.accumulatedTime+i,n.accumulatedTime>10*y&&(n.accumulatedTime=0),0===n.accumulatedTime)return n.animationID=null,void n.startAnimationIfNecessary();for(var a=(n.accumulatedTime-Math.floor(n.accumulatedTime/y)*y)/y,s=Math.floor(n.accumulatedTime/y),c=[],l=[],p=[],f=[],h=0;h<t.length;h++){var m=t[h],g={},b={},v={},k={};for(var w in m)if(Object.prototype.hasOwnProperty.call(m,w)){var _=m[w];if("number"==typeof _)g[w]=_,b[w]=0,v[w]=_,k[w]=0;else{for(var S=n.state.lastIdealStyles[h][w],O=n.state.lastIdealVelocities[h][w],P=0;P<s;P++){var E=u.default(y/1e3,S,O,_.val,_.stiffness,_.damping,_.precision);S=E[0],O=E[1]}var C=u.default(y/1e3,S,O,_.val,_.stiffness,_.damping,_.precision),x=C[0],j=C[1];g[w]=S+(x-S)*a,b[w]=O+(j-O)*a,v[w]=S,k[w]=O}}p[h]=g,f[h]=b,c[h]=v,l[h]=k}n.animationID=null,n.accumulatedTime-=s*y,n.setState({currentStyles:p,currentVelocities:f,lastIdealStyles:c,lastIdealVelocities:l}),n.unreadPropStyles=null,n.startAnimationIfNecessary()}))},this.state=this.defaultState()}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+s(t));e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),a(t,null,[{key:"propTypes",value:{defaultStyles:m.default.arrayOf(m.default.objectOf(m.default.number)),styles:m.default.func.isRequired,children:m.default.func.isRequired},enumerable:!0}]),t.prototype.defaultState=function(){var e=this.props,t=e.defaultStyles,r=e.styles,n=t||r().map(l.default),o=n.map((function(e){return c.default(e)}));return{currentStyles:n,currentVelocities:o,lastIdealStyles:n,lastIdealVelocities:o}},t.prototype.componentDidMount=function(){this.prevTime=d.default(),this.startAnimationIfNecessary()},t.prototype.componentWillReceiveProps=function(e){null!=this.unreadPropStyles&&this.clearUnreadPropStyle(this.unreadPropStyles),this.unreadPropStyles=e.styles(this.state.lastIdealStyles),null==this.animationID&&(this.prevTime=d.default(),this.startAnimationIfNecessary())},t.prototype.componentWillUnmount=function(){null!=this.animationID&&(p.default.cancel(this.animationID),this.animationID=null)},t.prototype.render=function(){var e=this.props.children(this.state.currentStyles);return e&&h.default.Children.only(e)},t}(h.default.Component);t.default=g,e.exports=t.default},function(e,t,r){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}function o(e,t,r){var n=t;return null==n?e.map((function(e,t){return{key:e.key,data:e.data,style:r[t]}})):e.map((function(e,t){for(var o=0;o<n.length;o++)if(n[o].key===e.key)return{key:n[o].key,data:n[o].data,style:r[t]};return{key:e.key,data:e.data,style:r[t]}}))}function i(e,t,r,n){if(n.length!==t.length)return!1;for(var o=0;o<n.length;o++)if(n[o].key!==t[o].key)return!1;for(o=0;o<n.length;o++)if(!y.default(e[o],t[o].style,r[o]))return!1;return!0}function a(e,t,r,n,o,i,a,s,c){for(var l=f.default(n,o,(function(e,n){var o=t(n);return null==o||y.default(i[e],o,a[e])?(r({key:n.key,data:n.data}),null):{key:n.key,data:n.data,style:o}})),d=[],p=[],h=[],m=[],g=0;g<l.length;g++){for(var b=l[g],v=null,k=0;k<n.length;k++)if(n[k].key===b.key){v=k;break}if(null==v){var w=e(b);d[g]=w,h[g]=w;var _=u.default(b.style);p[g]=_,m[g]=_}else d[g]=i[v],h[g]=s[v],p[g]=a[v],m[g]=c[v]}return[l,d,p,h,m]}t.__esModule=!0;var c=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},l=function(){function e(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,r,n){return r&&e(t.prototype,r),n&&e(t,n),t}}(),u=n(r(6)),d=n(r(3)),p=n(r(8)),f=n(r(27)),h=n(r(4)),m=n(r(5)),y=n(r(7)),g=n(r(1)),b=n(r(2)),v=1e3/60,k=function(e){function t(r){var n=this;(function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")})(this,t),e.call(this,r),this.unmounting=!1,this.animationID=null,this.prevTime=0,this.accumulatedTime=0,this.unreadPropStyles=null,this.clearUnreadPropStyle=function(e){for(var t=a(n.props.willEnter,n.props.willLeave,n.props.didLeave,n.state.mergedPropsStyles,e,n.state.currentStyles,n.state.currentVelocities,n.state.lastIdealStyles,n.state.lastIdealVelocities),r=t[0],o=t[1],i=t[2],s=t[3],l=t[4],u=0;u<e.length;u++){var d=e[u].style,p=!1;for(var f in d)if(Object.prototype.hasOwnProperty.call(d,f)){var h=d[f];"number"==typeof h&&(p||(p=!0,o[u]=c({},o[u]),i[u]=c({},i[u]),s[u]=c({},s[u]),l[u]=c({},l[u]),r[u]={key:r[u].key,data:r[u].data,style:c({},r[u].style)}),o[u][f]=h,i[u][f]=0,s[u][f]=h,l[u][f]=0,r[u].style[f]=h)}}n.setState({currentStyles:o,currentVelocities:i,mergedPropsStyles:r,lastIdealStyles:s,lastIdealVelocities:l})},this.startAnimationIfNecessary=function(){n.unmounting||(n.animationID=m.default((function(e){if(!n.unmounting){var t=n.props.styles,r="function"==typeof t?t(o(n.state.mergedPropsStyles,n.unreadPropStyles,n.state.lastIdealStyles)):t;if(i(n.state.currentStyles,r,n.state.currentVelocities,n.state.mergedPropsStyles))return n.animationID=null,void(n.accumulatedTime=0);var s=e||h.default(),c=s-n.prevTime;if(n.prevTime=s,n.accumulatedTime=n.accumulatedTime+c,n.accumulatedTime>10*v&&(n.accumulatedTime=0),0===n.accumulatedTime)return n.animationID=null,void n.startAnimationIfNecessary();for(var l=(n.accumulatedTime-Math.floor(n.accumulatedTime/v)*v)/v,u=Math.floor(n.accumulatedTime/v),d=a(n.props.willEnter,n.props.willLeave,n.props.didLeave,n.state.mergedPropsStyles,r,n.state.currentStyles,n.state.currentVelocities,n.state.lastIdealStyles,n.state.lastIdealVelocities),f=d[0],m=d[1],y=d[2],g=d[3],b=d[4],k=0;k<f.length;k++){var w=f[k].style,_={},S={},O={},P={};for(var E in w)if(Object.prototype.hasOwnProperty.call(w,E)){var C=w[E];if("number"==typeof C)_[E]=C,S[E]=0,O[E]=C,P[E]=0;else{for(var x=g[k][E],j=b[k][E],T=0;T<u;T++){var R=p.default(v/1e3,x,j,C.val,C.stiffness,C.damping,C.precision);x=R[0],j=R[1]}var z=p.default(v/1e3,x,j,C.val,C.stiffness,C.damping,C.precision),I=z[0],A=z[1];_[E]=x+(I-x)*l,S[E]=j+(A-j)*l,O[E]=x,P[E]=j}}g[k]=O,b[k]=P,m[k]=_,y[k]=S}n.animationID=null,n.accumulatedTime-=u*v,n.setState({currentStyles:m,currentVelocities:y,lastIdealStyles:g,lastIdealVelocities:b,mergedPropsStyles:f}),n.unreadPropStyles=null,n.startAnimationIfNecessary()}})))},this.state=this.defaultState()}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+s(t));e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),l(t,null,[{key:"propTypes",value:{defaultStyles:b.default.arrayOf(b.default.shape({key:b.default.string.isRequired,data:b.default.any,style:b.default.objectOf(b.default.number).isRequired})),styles:b.default.oneOfType([b.default.func,b.default.arrayOf(b.default.shape({key:b.default.string.isRequired,data:b.default.any,style:b.default.objectOf(b.default.oneOfType([b.default.number,b.default.object])).isRequired}))]).isRequired,children:b.default.func.isRequired,willEnter:b.default.func,willLeave:b.default.func,didLeave:b.default.func},enumerable:!0},{key:"defaultProps",value:{willEnter:function(e){return d.default(e.style)},willLeave:function(){return null},didLeave:function(){}},enumerable:!0}]),t.prototype.defaultState=function(){var e,t=this.props,r=t.defaultStyles,n=t.styles,o=t.willEnter,i=t.willLeave,s=t.didLeave,c="function"==typeof n?n(r):n;e=null==r?c:r.map((function(e){for(var t=0;t<c.length;t++)if(c[t].key===e.key)return c[t];return e}));var l=null==r?c.map((function(e){return d.default(e.style)})):r.map((function(e){return d.default(e.style)})),p=null==r?c.map((function(e){return u.default(e.style)})):r.map((function(e){return u.default(e.style)})),f=a(o,i,s,e,c,l,p,l,p),h=f[0];return{currentStyles:f[1],currentVelocities:f[2],lastIdealStyles:f[3],lastIdealVelocities:f[4],mergedPropsStyles:h}},t.prototype.componentDidMount=function(){this.prevTime=h.default(),this.startAnimationIfNecessary()},t.prototype.componentWillReceiveProps=function(e){this.unreadPropStyles&&this.clearUnreadPropStyle(this.unreadPropStyles);var t=e.styles;this.unreadPropStyles="function"==typeof t?t(o(this.state.mergedPropsStyles,this.unreadPropStyles,this.state.lastIdealStyles)):t,null==this.animationID&&(this.prevTime=h.default(),this.startAnimationIfNecessary())},t.prototype.componentWillUnmount=function(){this.unmounting=!0,null!=this.animationID&&(m.default.cancel(this.animationID),this.animationID=null)},t.prototype.render=function(){var e=o(this.state.mergedPropsStyles,this.unreadPropStyles,this.state.currentStyles),t=this.props.children(e);return t&&g.default.Children.only(t)},t}(g.default.Component);t.default=k,e.exports=t.default},function(e,t){"use strict";t.__esModule=!0,t.default=function(e,t,r){for(var n={},o=0;o<e.length;o++)n[e[o].key]=o;var i={};for(o=0;o<t.length;o++)i[t[o].key]=o;var a=[];for(o=0;o<t.length;o++)a[o]=t[o];for(o=0;o<e.length;o++)if(!Object.prototype.hasOwnProperty.call(i,e[o].key)){var s=r(o,e[o]);null!=s&&a.push(s)}return a.sort((function(e,r){var o=i[e.key],a=i[r.key],s=n[e.key],c=n[r.key];if(null!=o&&null!=a)return i[e.key]-i[r.key];if(null!=s&&null!=c)return n[e.key]-n[r.key];if(null!=o){for(var l=0;l<t.length;l++){var u=t[l].key;if(Object.prototype.hasOwnProperty.call(n,u)){if(o<i[u]&&c>n[u])return-1;if(o>i[u]&&c<n[u])return 1}}return 1}for(l=0;l<t.length;l++)if(u=t[l].key,Object.prototype.hasOwnProperty.call(n,u)){if(a<i[u]&&s>n[u])return 1;if(a>i[u]&&s<n[u])return-1}return-1}))},e.exports=t.default},function(e,t,r){"use strict";t.__esModule=!0,t.default=function(){},e.exports=t.default},function(e,t,r){"use strict";t.__esModule=!0;var n=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e};t.default=function(e,t){return n({},i,t,{val:e})};var o=function(e){return e&&e.__esModule?e:{default:e}}(r(11)),i=n({},o.default.noWobble,{precision:.01});e.exports=t.default},function(e,t,r){function n(e,t){for(var r=0;r<e.length;r++){var n=e[r],o=f[n.id];if(o){o.refs++;for(var i=0;i<o.parts.length;i++)o.parts[i](n.parts[i]);for(;i<n.parts.length;i++)o.parts.push(l(n.parts[i],t))}else{var a=[];for(i=0;i<n.parts.length;i++)a.push(l(n.parts[i],t));f[n.id]={id:n.id,refs:1,parts:a}}}}function o(e){for(var t=[],r={},n=0;n<e.length;n++){var o=e[n],i=o[0],a={css:o[1],media:o[2],sourceMap:o[3]};r[i]?r[i].parts.push(a):t.push(r[i]={id:i,parts:[a]})}return t}function i(e,t){var r=y(),n=v[v.length-1];if("top"===e.insertAt)n?n.nextSibling?r.insertBefore(t,n.nextSibling):r.appendChild(t):r.insertBefore(t,r.firstChild),v.push(t);else{if("bottom"!==e.insertAt)throw new Error("Invalid value for parameter 'insertAt'. Must be 'top' or 'bottom'.");r.appendChild(t)}}function a(e){e.parentNode.removeChild(e);var t=v.indexOf(e);t>=0&&v.splice(t,1)}function s(e){var t=document.createElement("style");return t.type="text/css",i(e,t),t}function c(e){var t=document.createElement("link");return t.rel="stylesheet",i(e,t),t}function l(e,t){var r,n,o;if(t.singleton){var i=b++;r=g||(g=s(t)),n=u.bind(null,r,i,!1),o=u.bind(null,r,i,!0)}else e.sourceMap&&"function"==typeof URL&&"function"==typeof URL.createObjectURL&&"function"==typeof URL.revokeObjectURL&&"function"==typeof Blob&&"function"==typeof btoa?(r=c(t),n=p.bind(null,r),o=function(){a(r),r.href&&URL.revokeObjectURL(r.href)}):(r=s(t),n=d.bind(null,r),o=function(){a(r)});return n(e),function(t){if(t){if(t.css===e.css&&t.media===e.media&&t.sourceMap===e.sourceMap)return;n(e=t)}else o()}}function u(e,t,r,n){var o=r?"":n.css;if(e.styleSheet)e.styleSheet.cssText=k(t,o);else{var i=document.createTextNode(o),a=e.childNodes;a[t]&&e.removeChild(a[t]),a.length?e.insertBefore(i,a[t]):e.appendChild(i)}}function d(e,t){var r=t.css,n=t.media;if(n&&e.setAttribute("media",n),e.styleSheet)e.styleSheet.cssText=r;else{for(;e.firstChild;)e.removeChild(e.firstChild);e.appendChild(document.createTextNode(r))}}function p(e,t){var r=t.css,n=t.sourceMap;n&&(r+="\n/*# sourceMappingURL=data:application/json;base64,"+btoa(unescape(encodeURIComponent(JSON.stringify(n))))+" */");var o=new Blob([r],{type:"text/css"}),i=e.href;e.href=URL.createObjectURL(o),i&&URL.revokeObjectURL(i)}var f={},h=function(e){var t;return function(){return void 0===t&&(t=e.apply(this,arguments)),t}},m=h((function(){return/msie [6-9]\b/.test(window.navigator.userAgent.toLowerCase())})),y=h((function(){return document.head||document.getElementsByTagName("head")[0]})),g=null,b=0,v=[];e.exports=function(e,t){void 0===(t=t||{}).singleton&&(t.singleton=m()),void 0===t.insertAt&&(t.insertAt="bottom");var r=o(e);return n(r,t),function(e){for(var i=[],a=0;a<r.length;a++){var s=r[a];(c=f[s.id]).refs--,i.push(c)}for(e&&n(o(e),t),a=0;a<i.length;a++){var c;if(0===(c=i[a]).refs){for(var l=0;l<c.parts.length;l++)c.parts[l]();delete f[c.id]}}}};var k=function(){var e=[];return function(t,r){return e[t]=r,e.filter(Boolean).join("\n")}}()},function(e,t,r){var n=r(16);"string"==typeof n&&(n=[[e.id,n,""]]),r(30)(n,{}),n.locals&&(e.exports=n.locals)}])},"object"==s(t)&&"object"==s(e)?e.exports=a(r(6689)):(o=[r(6689)],void 0===(i="function"==typeof(n=a)?n.apply(t,o):n)||(e.exports=i))},2451:(e,t,r)=>{"use strict";var n=r(6689),o=Symbol.for("react.element"),i=Symbol.for("react.fragment"),a=Object.prototype.hasOwnProperty,s=n.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,c={key:!0,ref:!0,__self:!0,__source:!0};function l(e,t,r){var n,i={},l=null,u=null;for(n in void 0!==r&&(l=""+r),void 0!==t.key&&(l=""+t.key),void 0!==t.ref&&(u=t.ref),t)a.call(t,n)&&!c.hasOwnProperty(n)&&(i[n]=t[n]);if(e&&e.defaultProps)for(n in t=e.defaultProps)void 0===i[n]&&(i[n]=t[n]);return{$$typeof:o,type:e,key:l,ref:u,props:i,_owner:s.current}}t.Fragment=i,t.jsx=l,t.jsxs=l},1827:(e,t,r)=>{"use strict";e.exports=r(2451)},1223:e=>{"use strict";var t=function(e){return e&&2===e.CLOSING},r=function(e,t,r){Object.defineProperty(t,r,{get:function(){return e[r]},set:function(t){e[r]=t},enumerable:!0,configurable:!0})},n=function(e){return e.minReconnectionDelay+Math.random()*e.minReconnectionDelay},o=["onopen","onclose","onmessage","onerror"];e.exports=function e(i,a,s){var c,l,u=this;void 0===s&&(s={});var d=0,p=0,f=!0,h=null,m={};if(!(this instanceof e))throw new TypeError("Failed to construct 'ReconnectingWebSocket': Please use the 'new' operator");var y={constructor:"undefined"!=typeof WebSocket&&t(WebSocket)?WebSocket:null,maxReconnectionDelay:1e4,minReconnectionDelay:1500,reconnectionDelayGrowFactor:1.3,connectionTimeout:4e3,maxRetries:1/0,debug:!1};if(Object.keys(y).filter((function(e){return s.hasOwnProperty(e)})).forEach((function(e){return y[e]=s[e]})),!t(y.constructor))throw new TypeError("Invalid WebSocket constructor. Set `options.constructor`");var g=y.debug?function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return console.log.apply(console,["RWS:"].concat(e))}:function(){},b=function(e,t){return setTimeout((function(){var r=new Error(t);r.code=e,Array.isArray(m.error)&&m.error.forEach((function(e){return(0,e[0])(r)})),c.onerror&&c.onerror(r)}),0)},v=function(){g("handleClose",{shouldRetry:f}),p++,g("retries count:",p),p>y.maxRetries?b("EHOSTDOWN","Too many failed connection attempts"):(d=d?function(e,t){var r=t*e.reconnectionDelayGrowFactor;return r>e.maxReconnectionDelay?e.maxReconnectionDelay:r}(y,d):n(y),g("handleClose - reconnectDelay:",d),f&&setTimeout(k,d))},k=function(){if(f){g("connect");var e=c,t="function"==typeof i?i():i;for(var s in c=new y.constructor(t,a),l=setTimeout((function(){g("timeout"),c.close(),b("ETIMEDOUT","Connection timeout")}),y.connectionTimeout),g("bypass properties"),c)["addEventListener","removeEventListener","close","send"].indexOf(s)<0&&r(c,u,s);c.addEventListener("open",(function(){clearTimeout(l),g("open"),d=n(y),g("reconnectDelay:",d),p=0})),c.addEventListener("close",v),function(e,t,r){Object.keys(r).forEach((function(t){r[t].forEach((function(r){var n=r[0],o=r[1];e.addEventListener(t,n,o)}))})),t&&o.forEach((function(r){e[r]=t[r]}))}(c,e,m),c.onclose=c.onclose||h,h=null}};g("init"),k(),this.close=function(e,t,r){void 0===e&&(e=1e3),void 0===t&&(t="");var n=void 0===r?{}:r,o=n.keepClosed,i=void 0!==o&&o,a=n.fastClose,s=void 0===a||a,l=n.delay,u=void 0===l?0:l;if(g("close - params:",{reason:t,keepClosed:i,fastClose:s,delay:u,retriesCount:p,maxRetries:y.maxRetries}),f=!i&&p<=y.maxRetries,u&&(d=u),c.close(e,t),s){var b={code:e,reason:t,wasClean:!0};v(),c.removeEventListener("close",v),Array.isArray(m.close)&&m.close.forEach((function(e){var t=e[0],r=e[1];t(b),c.removeEventListener("close",t,r)})),c.onclose&&(h=c.onclose,c.onclose(b),c.onclose=null)}},this.send=function(e){c.send(e)},this.addEventListener=function(e,t,r){Array.isArray(m[e])?m[e].some((function(e){return e[0]===t}))||m[e].push([t,r]):m[e]=[[t,r]],c.addEventListener(e,t,r)},this.removeEventListener=function(e,t,r){Array.isArray(m[e])&&(m[e]=m[e].filter((function(e){return e[0]!==t}))),c.removeEventListener(e,t,r)}}},4363:(e,t,r)=>{"use strict";var n=r(9045).functionsHaveConfigurableNames(),o=Object,i=TypeError;e.exports=function(){if(null!=this&&this!==o(this))throw new i("RegExp.prototype.flags getter called on non-object");var e="";return this.hasIndices&&(e+="d"),this.global&&(e+="g"),this.ignoreCase&&(e+="i"),this.multiline&&(e+="m"),this.dotAll&&(e+="s"),this.unicode&&(e+="u"),this.sticky&&(e+="y"),e},n&&Object.defineProperty&&Object.defineProperty(e.exports,"name",{value:"get flags"})},1881:(e,t,r)=>{"use strict";var n=r(3510),o=r(3700),i=r(4363),a=r(6598),s=r(3262),c=o(a());n(c,{getPolyfill:a,implementation:i,shim:s}),e.exports=c},6598:(e,t,r)=>{"use strict";var n=r(4363),o=r(3510).supportsDescriptors,i=Object.getOwnPropertyDescriptor;e.exports=function(){if(o&&"gim"===/a/gim.flags){var e=i(RegExp.prototype,"flags");if(e&&"function"==typeof e.get&&"boolean"==typeof RegExp.prototype.dotAll&&"boolean"==typeof RegExp.prototype.hasIndices){var t="",r={};if(Object.defineProperty(r,"hasIndices",{get:function(){t+="d"}}),Object.defineProperty(r,"sticky",{get:function(){t+="y"}}),"dy"===t)return e.get}}return n}},3262:(e,t,r)=>{"use strict";var n=r(3510).supportsDescriptors,o=r(6598),i=Object.getOwnPropertyDescriptor,a=Object.defineProperty,s=TypeError,c=Object.getPrototypeOf,l=/a/;e.exports=function(){if(!n||!c)throw new s("RegExp.prototype.flags requires a true ES5 environment that supports property descriptors");var e=o(),t=c(l),r=i(t,"flags");return r&&r.get===e||a(t,"flags",{configurable:!0,enumerable:!1,get:e}),e}},9238:(e,t,r)=>{"use strict";function n(e){return n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},n(e)}var o=r(8754),i=r(5554),a=r(3055),s=o("%TypeError%"),c=o("%WeakMap%",!0),l=o("%Map%",!0),u=i("WeakMap.prototype.get",!0),d=i("WeakMap.prototype.set",!0),p=i("WeakMap.prototype.has",!0),f=i("Map.prototype.get",!0),h=i("Map.prototype.set",!0),m=i("Map.prototype.has",!0),y=function(e,t){for(var r,n=e;null!==(r=n.next);n=r)if(r.key===t)return n.next=r.next,r.next=e.next,e.next=r,r};e.exports=function(){var e,t,r,o={assert:function(e){if(!o.has(e))throw new s("Side channel does not contain "+a(e))},get:function(o){if(c&&o&&("object"===n(o)||"function"==typeof o)){if(e)return u(e,o)}else if(l){if(t)return f(t,o)}else if(r)return function(e,t){var r=y(e,t);return r&&r.value}(r,o)},has:function(o){if(c&&o&&("object"===n(o)||"function"==typeof o)){if(e)return p(e,o)}else if(l){if(t)return m(t,o)}else if(r)return function(e,t){return!!y(e,t)}(r,o);return!1},set:function(o,i){c&&o&&("object"===n(o)||"function"==typeof o)?(e||(e=new c),d(e,o,i)):l?(t||(t=new l),h(t,o,i)):(r||(r={key:{},next:null}),function(e,t,r){var n=y(e,t);n?n.value=r:e.next={key:t,next:e.next,value:r}}(r,o,i))}};return o}},1059:(e,t,r)=>{"use strict";var n=r(8679),o=new Map([["none",""],["white",""],["creamWhite",""],["lightBrown",""],["brown",""],["darkBrown",""]]);e.exports=function(e,t){if(!o.has(t))throw new TypeError("Unexpected `skinTone` name: ".concat(t));return e=e.replace(/(?:\uD83C[\uDFFB-\uDFFF])/,""),n.has(e.codePointAt(0))&&"none"!==t&&(e+=o.get(t)),e}},8679:e=>{e.exports=new Set([9757,9977,9994,9995,9996,9997,127877,127939,127940,127946,127947,128066,128067,128070,128071,128072,128073,128074,128075,128076,128077,128078,128079,128080,128102,128103,128104,128105,128110,128112,128113,128114,128115,128116,128117,128118,128119,128120,128124,128129,128130,128131,128133,128134,128135,128170,128373,128378,128400,128405,128406,128581,128582,128583,128587,128588,128589,128590,128591,128675,128692,128693,128694,128704,129304,129305,129306,129307,129308,129309,129310,129318,129328,129331,129332,129333,129334,129335,129336,129337,129340,129341,129342])},2228:(e,t,r)=>{"use strict";function n(e){return n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},n(e)}var o=r(373),i=r(2869),a=r(5217),s=r(5490),c=r(999);e.exports=function(e){return null==e||"object"!==n(e)&&"function"!=typeof e?null:o(e)?"String":i(e)?"Number":a(e)?"Boolean":s(e)?"Symbol":c(e)?"BigInt":void 0}},5056:(e,t,r)=>{"use strict";function n(e){return n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},n(e)}var o=r(1203),i=r(5696),a=r(5554),s=a("Object.prototype.toString"),c=r(8921)()&&"symbol"===n(Symbol.toStringTag),l=i(),u=a("String.prototype.slice"),d={},p=r(8114),f=Object.getPrototypeOf;c&&p&&f&&o(l,(function(e){if("function"==typeof r.g[e]){var t=new r.g[e];if(!(Symbol.toStringTag in t))throw new EvalError("this engine has support for Symbol.toStringTag, but "+e+" does not have the property! Please report this.");var n=f(t),o=p(n,Symbol.toStringTag);if(!o){var i=f(n);o=p(i,Symbol.toStringTag)}d[e]=o.get}}));var h=r(5924);e.exports=function(e){return!!h(e)&&(c?function(e){var t=!1;return o(d,(function(r,n){if(!t)try{var o=r.call(e);o===n&&(t=o)}catch(e){}})),t}(e):u(s(e),8,-1))}},3629:(e,t,r)=>{"use strict";r.d(t,{Z:()=>s});var n=r(3259),o=r.n(n),i=r(2164),a=r.n(i)()(o());a.push([e.id,".react-mui-context .chat-droppable-active {\n  border: 2px dashed var(--md-sys-color-tertiary) !important;\n}\n.react-mui-context .dropping-panel {\n  font-size: 14px;\n  margin: 8px -8px;\n  border-radius: 5px;\n  padding: 8px;\n  background-color: var(--md-sys-color-tertiary-container);\n  color: var(--md-sys-color-on-tertiary-container);\n  position: relative;\n}\n.react-mui-context .dropping-panel .mdi.mdi-close,\n.react-mui-context .dropping-panel .include-action {\n  cursor: pointer;\n  opacity: 0.7;\n}\n.react-mui-context .chat-message-md *,\n.react-mui-context .comments_feed .user-label,\n.react-mui-context .comments_feed .date-from {\n  user-select: text;\n}\n.react-mui-context .chat-message-md {\n  font-size: 14px;\n  line-height: 1.5em;\n}\n.react-mui-context .chat-message-md p {\n  padding-top: 0;\n  margin-bottom: 0;\n}\n.react-mui-context .chat-message-md strong {\n  font-weight: 500;\n}\n.react-mui-context .chat-message-md a {\n  text-decoration: underline;\n  color: var(--md-sys-color-primary);\n  cursor: pointer;\n}\n.react-mui-context .chat-message-md a.special-link {\n  background-color: var(--md-sys-color-tertiary-container);\n  color: var(--md-sys-color-on-tertiary-container);\n  border-radius: 5px;\n  padding: 3px 8px;\n  text-decoration: none;\n}\n.react-mui-context .chat-message-md ul {\n  padding-left: 20px;\n}\n.react-mui-context .chat-message-md ul li {\n  position: relative;\n  list-style: none;\n}\n.react-mui-context .chat-message-md ul li .special-link {\n  line-height: 2em;\n}\n.react-mui-context .chat-message-md ul li:before {\n  content: '\\2192';\n  position: absolute;\n  left: -20px;\n}\n.react-mui-context .chat-message-md .preview-container {\n  border-radius: 10px;\n  overflow: hidden;\n  border: 2px solid var(--md-sys-color-tertiary-container);\n  position: relative;\n  max-width: 320px;\n}\n.react-mui-context .chat-message-md .preview-container .preview-title {\n  position: absolute;\n  background-color: var(--md-sys-color-tertiary-container);\n  color: var(--md-sys-color-on-tertiary-container);\n  top: 0;\n  left: 0;\n  right: 0;\n  z-index: 1;\n  padding: 3px 8px;\n  opacity: 0.8;\n}\n.react-mui-context .chat-message-md .preview-container .mimefont-container {\n  height: 200px;\n  min-height: 200px;\n  display: flex;\n  align-items: center !important;\n  justify-content: center;\n}\n.react-mui-context .chat-message-md .preview-container .mdviewer {\n  white-space: break-spaces;\n}\n.react-mui-context .chat-message-md .preview-container:hover {\n  border: 2px solid var(--md-sys-color-tertiary);\n}\n.react-mui-context .dot-flashing-dot {\n  width: 7px;\n  height: 7px;\n  border-radius: 50%;\n  background-color: var(--md-sys-color-tertiary);\n  color: var(--md-sys-color-tertiary);\n}\n.react-mui-context .dot-flashing {\n  position: relative;\n  width: 7px;\n  height: 7px;\n  border-radius: 50%;\n  background-color: var(--md-sys-color-tertiary);\n  color: var(--md-sys-color-tertiary);\n  animation: dot-flashing 1s infinite linear alternate;\n  animation-delay: 0.5s;\n  margin-left: 18px;\n  margin-top: 5px;\n  margin-bottom: 5px;\n}\n.react-mui-context .dot-flashing::before,\n.react-mui-context .dot-flashing::after {\n  content: \"\";\n  display: inline-block;\n  position: absolute;\n  width: 7px;\n  height: 7px;\n  border-radius: 50%;\n  background-color: var(--md-sys-color-tertiary);\n  color: var(--md-sys-color-tertiary);\n  top: 0;\n}\n.react-mui-context .dot-flashing::before {\n  left: -15px;\n  animation: dot-flashing 1s infinite alternate;\n  animation-delay: 0s;\n}\n.react-mui-context .dot-flashing::after {\n  left: 15px;\n  animation: dot-flashing 1s infinite alternate;\n  animation-delay: 1s;\n}\n@keyframes dot-flashing {\n  0% {\n    opacity: 1;\n  }\n  50%,\n  100% {\n    opacity: 0.2;\n  }\n}\n",""]);const s=a},7576:(e,t,r)=>{"use strict";r.d(t,{Z:()=>s});var n=r(3259),o=r.n(n),i=r(2164),a=r.n(i)()(o());a.push([e.id,".react-mui-context .bbpanel .stepper-section-actions {\n  display: flex;\n  flex-wrap: wrap;\n}\n.react-mui-context .bbpanel .stepper-section-container {\n  margin-bottom: 30px;\n}\n.react-mui-context .bbpanel .stepper-section-container .stepper-section-title {\n  font-size: 18px;\n  font-weight: 400;\n  color: #455a64;\n  padding-bottom: 20px;\n  padding-left: 16px;\n}\n.react-mui-context .bbpanel .stepper-action-container {\n  width: 190px;\n  height: 180px;\n  display: flex;\n  flex-direction: column;\n  font-size: 15px;\n  padding: 20px;\n  margin: 6px;\n  border-radius: 20px !important;\n  border: 1px solid rgba(40, 60, 75, 0.2);\n  /*box-shadow: 1px 6px 10px 0 rgba(40,60,75,.15);*/\n  box-shadow: none;\n  cursor: pointer;\n  position: relative;\n}\n.react-mui-context .bbpanel .stepper-action-container.drop-force {\n  width: 190px !important;\n  height: 180px !important;\n  color: initial;\n  border: 3px dashed rgba(40, 60, 75, 0.2);\n  background-color: white;\n}\n.react-mui-context .bbpanel .stepper-action-container:hover:not(.drop-force) {\n  border: 1px solid rgba(40, 60, 75, 0.5);\n  box-shadow: 1px 10px 20px 0 rgba(40, 60, 75, 0.3);\n}\n.react-mui-context .bbpanel .stepper-action-container.drop-force:hover {\n  box-shadow: 1px 10px 20px 0 rgba(40, 60, 75, 0.3);\n}\n.react-mui-context .bbpanel .stepper-action-container .stepper-action-icon {\n  flex: 1;\n  display: flex;\n  align-items: center;\n  justify-content: flex-start;\n  padding-bottom: 10px;\n}\n.react-mui-context .bbpanel .stepper-action-container .stepper-action-icon > span {\n  font-size: 40px !important;\n}\n.react-mui-context .bbpanel .stepper-action-container .stepper-tag {\n  position: absolute;\n  top: 15px;\n  left: 20px;\n  border: 1px solid #B0BEC5;\n  color: #B0BEC5;\n  background-color: transparent;\n  padding: 1px 5px;\n  font-size: 12px;\n  height: 19px;\n  line-height: 14px;\n  border-radius: 5px;\n  font-weight: 500;\n  display: none;\n}\n.react-mui-context .bbpanel .stepper-action-container .stepper-action-title {\n  padding-bottom: 10px;\n  font-weight: 500;\n  text-align: left;\n  font-size: 15px;\n  white-space: nowrap;\n  overflow: hidden;\n  text-overflow: ellipsis;\n}\n.react-mui-context .bbpanel .stepper-action-container .stepper-action-description {\n  text-align: left;\n  font-weight: 400;\n  font-size: 13px;\n  line-height: 1.5em;\n  height: 3em;\n  padding-bottom: 10px;\n  overflow: hidden;\n  -webkit-box-orient: vertical;\n  display: -webkit-box;\n  -webkit-line-clamp: 2;\n  text-overflow: ellipsis;\n}\n.react-mui-context .bbpanel.compact2 .stepper-section-container {\n  margin-bottom: 0;\n}\n.react-mui-context .bbpanel.compact2 .stepper-section-container .stepper-section-title {\n  display: none;\n}\n.react-mui-context .bbpanel.compact2 .stepper-action-container {\n  width: 130px;\n  height: 110px;\n}\n.react-mui-context .bbpanel.compact2 .stepper-action-container .stepper-action-icon > span {\n  font-size: 25px;\n}\n.react-mui-context .bbpanel.compact2 .stepper-action-container .stepper-action-title {\n  padding-bottom: 0;\n  white-space: wrap;\n}\n.react-mui-context .bbpanel.compact2 .stepper-action-container .stepper-action-description {\n  display: none;\n}\n",""]);const s=a},2207:(e,t,r)=>{"use strict";r.r(t),r.d(t,{default:()=>g});var n=r(5962),o=r.n(n),i=r(7932),a=r.n(i),s=r(1978),c=r.n(s),l=r(8840),u=r.n(l),d=r(7728),p=r.n(d),f=r(208),h=r.n(f),m=r(3629),y={};y.styleTagTransform=h(),y.setAttributes=u(),y.insert=c().bind(null,"head"),y.domAPI=a(),y.insertStyleElement=p(),o()(m.Z,y);const g=m.Z&&m.Z.locals?m.Z.locals:void 0},5962:e=>{"use strict";var t=[];function r(e){for(var r=-1,n=0;n<t.length;n++)if(t[n].identifier===e){r=n;break}return r}function n(e,n){for(var i={},a=[],s=0;s<e.length;s++){var c=e[s],l=n.base?c[0]+n.base:c[0],u=i[l]||0,d="".concat(l," ").concat(u);i[l]=u+1;var p=r(d),f={css:c[1],media:c[2],sourceMap:c[3],supports:c[4],layer:c[5]};if(-1!==p)t[p].references++,t[p].updater(f);else{var h=o(f,n);n.byIndex=s,t.splice(s,0,{identifier:d,updater:h,references:1})}a.push(d)}return a}function o(e,t){var r=t.domAPI(t);return r.update(e),function(t){if(t){if(t.css===e.css&&t.media===e.media&&t.sourceMap===e.sourceMap&&t.supports===e.supports&&t.layer===e.layer)return;r.update(e=t)}else r.remove()}}e.exports=function(e,o){var i=n(e=e||[],o=o||{});return function(e){e=e||[];for(var a=0;a<i.length;a++){var s=r(i[a]);t[s].references--}for(var c=n(e,o),l=0;l<i.length;l++){var u=r(i[l]);0===t[u].references&&(t[u].updater(),t.splice(u,1))}i=c}}},1978:e=>{"use strict";var t={};e.exports=function(e,r){var n=function(e){if(void 0===t[e]){var r=document.querySelector(e);if(window.HTMLIFrameElement&&r instanceof window.HTMLIFrameElement)try{r=r.contentDocument.head}catch(e){r=null}t[e]=r}return t[e]}(e);if(!n)throw new Error("Couldn't find a style target. This probably means that the value for the 'insert' parameter is invalid.");n.appendChild(r)}},7728:e=>{"use strict";e.exports=function(e){var t=document.createElement("style");return e.setAttributes(t,e.attributes),e.insert(t,e.options),t}},8840:(e,t,r)=>{"use strict";e.exports=function(e){var t=r.nc;t&&e.setAttribute("nonce",t)}},7932:e=>{"use strict";e.exports=function(e){var t=e.insertStyleElement(e);return{update:function(r){!function(e,t,r){var n="";r.supports&&(n+="@supports (".concat(r.supports,") {")),r.media&&(n+="@media ".concat(r.media," {"));var o=void 0!==r.layer;o&&(n+="@layer".concat(r.layer.length>0?" ".concat(r.layer):""," {")),n+=r.css,o&&(n+="}"),r.media&&(n+="}"),r.supports&&(n+="}");var i=r.sourceMap;i&&"undefined"!=typeof btoa&&(n+="\n/*# sourceMappingURL=data:application/json;base64,".concat(btoa(unescape(encodeURIComponent(JSON.stringify(i))))," */")),t.styleTagTransform(n,e,t.options)}(t,e,r)},remove:function(){!function(e){if(null===e.parentNode)return!1;e.parentNode.removeChild(e)}(t)}}}},208:e=>{"use strict";e.exports=function(e,t){if(t.styleSheet)t.styleSheet.cssText=e;else{for(;t.firstChild;)t.removeChild(t.firstChild);t.appendChild(document.createTextNode(e))}}},9003:e=>{"use strict";e.exports=require("classnames")},9105:e=>{"use strict";e.exports=require("color")},4305:e=>{"use strict";e.exports=require("lodash.debounce")},9455:e=>{"use strict";e.exports=require("material-ui")},3173:e=>{"use strict";e.exports=require("material-ui/styles")},580:e=>{"use strict";e.exports=require("prop-types")},757:e=>{"use strict";e.exports=require("pydio")},6880:e=>{"use strict";e.exports=require("pydio/http/api")},5829:e=>{"use strict";e.exports=require("pydio/http/meta-cache-service")},2610:e=>{"use strict";e.exports=require("pydio/http/resources-manager")},2702:e=>{"use strict";e.exports=require("pydio/http/users-api")},2282:e=>{"use strict";e.exports=require("pydio/model/controller")},4603:e=>{"use strict";e.exports=require("pydio/model/data-model")},7180:e=>{"use strict";e.exports=require("pydio/util/func")},4021:e=>{"use strict";e.exports=require("pydio/util/periodical-executer")},6689:e=>{"use strict";e.exports=require("react")},6405:e=>{"use strict";e.exports=require("react-dom")},192:e=>{"use strict";e.exports=require("react-draggable")},5863:()=>{},7920:e=>{e.exports=function(e){return e&&e.__esModule?e:{default:e}},e.exports.__esModule=!0,e.exports.default=e.exports},5696:(e,t,r)=>{"use strict";var n=["BigInt64Array","BigUint64Array","Float32Array","Float64Array","Int16Array","Int32Array","Int8Array","Uint16Array","Uint32Array","Uint8Array","Uint8ClampedArray"];e.exports=function(){for(var e=[],t=0;t<n.length;t++)"function"==typeof r.g[n[t]]&&(e[e.length]=n[t]);return e}},8114:(e,t,r)=>{"use strict";var n=r(8754)("%Object.getOwnPropertyDescriptor%");if(n)try{n([],"length")}catch(e){n=null}e.exports=n},3634:(e,t,r)=>{"use strict";var n=r(8317);if(r(8921)()||r(17)()){var o=Symbol.iterator;e.exports=function(e){return null!=e&&void 0!==e[o]?e[o]():n(e)?Array.prototype[o].call(e):void 0}}else{var i=r(9318),a=r(373),s=r(8754),c=s("%Map%",!0),l=s("%Set%",!0),u=r(5554),d=u("Array.prototype.push"),p=u("String.prototype.charCodeAt"),f=u("String.prototype.slice"),h=function(e){var t=0;return{next:function(){var r,n=t>=e.length;return n||(r=e[t],t+=1),{done:n,value:r}}}},m=function(e,t){if(i(e)||n(e))return h(e);if(a(e)){var r=0;return{next:function(){var t=function(e,t){if(t+1>=e.length)return t+1;var r=p(e,t);if(r<55296||r>56319)return t+1;var n=p(e,t+1);return n<56320||n>57343?t+1:t+2}(e,r),n=f(e,r,t);return r=t,{done:t>e.length,value:n}}}}return t&&void 0!==e["_es6-shim iterator_"]?e["_es6-shim iterator_"]():void 0};if(c||l){var y=r(7233),g=r(1189),b=u("Map.prototype.forEach",!0),v=u("Set.prototype.forEach",!0);if("undefined"==typeof process||!process.versions||!process.versions.node)var k=u("Map.prototype.iterator",!0),w=u("Set.prototype.iterator",!0),_=function(e){var t=!1;return{next:function(){try{return{done:t,value:t?void 0:e.next()}}catch(e){return t=!0,{done:!0,value:void 0}}}}};var S=u("Map.prototype.@@iterator",!0)||u("Map.prototype._es6-shim iterator_",!0),O=u("Set.prototype.@@iterator",!0)||u("Set.prototype._es6-shim iterator_",!0);e.exports=function(e){return function(e){if(y(e)){if(k)return _(k(e));if(S)return S(e);if(b){var t=[];return b(e,(function(e,r){d(t,[r,e])})),h(t)}}if(g(e)){if(w)return _(w(e));if(O)return O(e);if(v){var r=[];return v(e,(function(e){d(r,e)})),h(r)}}}(e)||m(e)}}else e.exports=function(e){if(null!=e)return m(e,!0)}}},2567:(e,t,r)=>{"use strict";function n(e){return n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},n(e)}var o=r(7233),i=r(1189),a=r(6494),s=r(5478);e.exports=function(e){if(e&&"object"===n(e)){if(o(e))return"Map";if(i(e))return"Set";if(a(e))return"WeakMap";if(s(e))return"WeakSet"}return!1}},212:(e,t,r)=>{"use strict";function n(){return n=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},n.apply(this,arguments)}r.d(t,{Z:()=>n})},305:(e,t,r)=>{"use strict";function n(e,t){if(null==e)return{};var r,n,o={},i=Object.keys(e);for(n=0;n<i.length;n++)r=i[n],t.indexOf(r)>=0||(o[r]=e[r]);return o}r.d(t,{Z:()=>n})},633:(e,t,r)=>{"use strict";function n(){return n=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},n.apply(this,arguments)}r.d(t,{Z:()=>n})},9807:(e,t,r)=>{"use strict";function n(e,t){if(null==e)return{};var r,n,o={},i=Object.keys(e);for(n=0;n<i.length;n++)r=i[n],t.indexOf(r)>=0||(o[r]=e[r]);return o}r.d(t,{Z:()=>n})},2471:(e,t,r)=>{"use strict";r.d(t,{Ab:()=>a,Fr:()=>s,G$:()=>i,K$:()=>l,MS:()=>n,h5:()=>c,lK:()=>u,uj:()=>o});var n="-ms-",o="-moz-",i="-webkit-",a="comm",s="rule",c="decl",l="@import",u="@keyframes"},6194:(e,t,r)=>{"use strict";r.d(t,{cD:()=>i,qR:()=>o});var n=r(5586);function o(e){var t=(0,n.Ei)(e);return function(r,n,o,i){for(var a="",s=0;s<t;s++)a+=e[s](r,n,o,i)||"";return a}}function i(e){return function(t){t.root||(t=t.return)&&e(t)}}},5614:(e,t,r)=>{"use strict";r.d(t,{MY:()=>a});var n=r(2471),o=r(5586),i=r(7e3);function a(e){return(0,i.cE)(s("",null,null,null,[""],e=(0,i.un)(e),0,[0],e))}function s(e,t,r,n,a,d,p,f,h){for(var m=0,y=0,g=p,b=0,v=0,k=0,w=1,_=1,S=1,O=0,P="",E=a,C=d,x=n,j=P;_;)switch(k=O,O=(0,i.lp)()){case 40:if(108!=k&&58==(0,o.uO)(j,g-1)){-1!=(0,o.Cw)(j+=(0,o.gx)((0,i.iF)(O),"&","&\f"),"&\f")&&(S=-1);break}case 34:case 39:case 91:j+=(0,i.iF)(O);break;case 9:case 10:case 13:case 32:j+=(0,i.Qb)(k);break;case 92:j+=(0,i.kq)((0,i.Ud)()-1,7);continue;case 47:switch((0,i.fj)()){case 42:case 47:(0,o.R3)(l((0,i.q6)((0,i.lp)(),(0,i.Ud)()),t,r),h);break;default:j+="/"}break;case 123*w:f[m++]=(0,o.to)(j)*S;case 125*w:case 59:case 0:switch(O){case 0:case 125:_=0;case 59+y:v>0&&(0,o.to)(j)-g&&(0,o.R3)(v>32?u(j+";",n,r,g-1):u((0,o.gx)(j," ","")+";",n,r,g-2),h);break;case 59:j+=";";default:if((0,o.R3)(x=c(j,t,r,m,y,a,f,P,E=[],C=[],g),d),123===O)if(0===y)s(j,t,x,x,E,d,g,f,C);else switch(99===b&&110===(0,o.uO)(j,3)?100:b){case 100:case 109:case 115:s(e,x,x,n&&(0,o.R3)(c(e,x,x,0,0,a,f,P,a,E=[],g),C),a,C,g,f,n?E:C);break;default:s(j,x,x,x,[""],C,0,f,C)}}m=y=v=0,w=S=1,P=j="",g=p;break;case 58:g=1+(0,o.to)(j),v=k;default:if(w<1)if(123==O)--w;else if(125==O&&0==w++&&125==(0,i.mp)())continue;switch(j+=(0,o.Dp)(O),O*w){case 38:S=y>0?1:(j+="\f",-1);break;case 44:f[m++]=((0,o.to)(j)-1)*S,S=1;break;case 64:45===(0,i.fj)()&&(j+=(0,i.iF)((0,i.lp)())),b=(0,i.fj)(),y=g=(0,o.to)(P=j+=(0,i.QU)((0,i.Ud)())),O++;break;case 45:45===k&&2==(0,o.to)(j)&&(w=0)}}return d}function c(e,t,r,a,s,c,l,u,d,p,f){for(var h=s-1,m=0===s?c:[""],y=(0,o.Ei)(m),g=0,b=0,v=0;g<a;++g)for(var k=0,w=(0,o.tb)(e,h+1,h=(0,o.Wn)(b=l[g])),_=e;k<y;++k)(_=(0,o.fy)(b>0?m[k]+" "+w:(0,o.gx)(w,/&\f/g,m[k])))&&(d[v++]=_);return(0,i.dH)(e,t,r,0===s?n.Fr:u,d,p,f)}function l(e,t,r){return(0,i.dH)(e,t,r,n.Ab,(0,o.Dp)((0,i.Tb)()),(0,o.tb)(e,2,-2),0)}function u(e,t,r,a){return(0,i.dH)(e,t,r,n.h5,(0,o.tb)(e,0,a),(0,o.tb)(e,a+1,-1),a)}},2137:(e,t,r)=>{"use strict";r.d(t,{P:()=>a,q:()=>i});var n=r(2471),o=r(5586);function i(e,t){for(var r="",n=(0,o.Ei)(e),i=0;i<n;i++)r+=t(e[i],i,e,t)||"";return r}function a(e,t,r,a){switch(e.type){case n.K$:case n.h5:return e.return=e.return||e.value;case n.Ab:return"";case n.lK:return e.return=e.value+"{"+i(e.children,a)+"}";case n.Fr:e.value=e.props.join(",")}return(0,o.to)(r=i(e.children,a))?e.return=e.value+"{"+r+"}":""}},7e3:(e,t,r)=>{"use strict";r.d(t,{FK:()=>s,JG:()=>d,QU:()=>E,Qb:()=>_,Tb:()=>p,Ud:()=>y,cE:()=>k,dH:()=>u,fj:()=>m,iF:()=>w,kq:()=>S,lp:()=>h,mp:()=>f,q6:()=>P,r:()=>b,tP:()=>g,un:()=>v});var n=r(5586),o=1,i=1,a=0,s=0,c=0,l="";function u(e,t,r,n,a,s,c){return{value:e,root:t,parent:r,type:n,props:a,children:s,line:o,column:i,length:c,return:""}}function d(e,t){return(0,n.f0)(u("",null,null,"",null,null,0),e,{length:-e.length},t)}function p(){return c}function f(){return c=s>0?(0,n.uO)(l,--s):0,i--,10===c&&(i=1,o--),c}function h(){return c=s<a?(0,n.uO)(l,s++):0,i++,10===c&&(i=1,o++),c}function m(){return(0,n.uO)(l,s)}function y(){return s}function g(e,t){return(0,n.tb)(l,e,t)}function b(e){switch(e){case 0:case 9:case 10:case 13:case 32:return 5;case 33:case 43:case 44:case 47:case 62:case 64:case 126:case 59:case 123:case 125:return 4;case 58:return 3;case 34:case 39:case 40:case 91:return 2;case 41:case 93:return 1}return 0}function v(e){return o=i=1,a=(0,n.to)(l=e),s=0,[]}function k(e){return l="",e}function w(e){return(0,n.fy)(g(s-1,O(91===e?e+2:40===e?e+1:e)))}function _(e){for(;(c=m())&&c<33;)h();return b(e)>2||b(c)>3?"":" "}function S(e,t){for(;--t&&h()&&!(c<48||c>102||c>57&&c<65||c>70&&c<97););return g(e,y()+(t<6&&32==m()&&32==h()))}function O(e){for(;h();)switch(c){case e:return s;case 34:case 39:34!==e&&39!==e&&O(c);break;case 40:41===e&&O(e);break;case 92:h()}return s}function P(e,t){for(;h()&&e+c!==57&&(e+c!==84||47!==m()););return"/*"+g(t,s-1)+"*"+(0,n.Dp)(47===e?e:h())}function E(e){for(;!b(m());)h();return g(e,s)}},5586:(e,t,r)=>{"use strict";r.d(t,{$e:()=>y,Cw:()=>u,Dp:()=>o,EQ:()=>c,Ei:()=>h,R3:()=>m,Wn:()=>n,f0:()=>i,fy:()=>s,gx:()=>l,tb:()=>p,to:()=>f,uO:()=>d,vp:()=>a});var n=Math.abs,o=String.fromCharCode,i=Object.assign;function a(e,t){return 45^d(e,0)?(((t<<2^d(e,0))<<2^d(e,1))<<2^d(e,2))<<2^d(e,3):0}function s(e){return e.trim()}function c(e,t){return(e=t.exec(e))?e[0]:e}function l(e,t,r){return e.replace(t,r)}function u(e,t){return e.indexOf(t)}function d(e,t){return 0|e.charCodeAt(t)}function p(e,t,r){return e.slice(t,r)}function f(e){return e.length}function h(e){return e.length}function m(e,t){return t.push(e),e}function y(e,t){return e.map(t).join("")}},1477:e=>{"use strict";e.exports=JSON.parse('{"100":{"keywords":["score","perfect","numbers","century","exam","quiz","test","pass","hundred"],"char":"","fitzpatrick_scale":false,"category":"symbols"},"1234":{"keywords":["numbers","blue-square"],"char":"","fitzpatrick_scale":false,"category":"symbols"},"grinning":{"keywords":["face","smile","happy","joy",":D","grin"],"char":"","fitzpatrick_scale":false,"category":"people"},"grimacing":{"keywords":["face","grimace","teeth"],"char":"","fitzpatrick_scale":false,"category":"people"},"grin":{"keywords":["face","happy","smile","joy","kawaii"],"char":"","fitzpatrick_scale":false,"category":"people"},"joy":{"keywords":["face","cry","tears","weep","happy","happytears","haha"],"char":"","fitzpatrick_scale":false,"category":"people"},"rofl":{"keywords":["face","rolling","floor","laughing","lol","haha"],"char":"","fitzpatrick_scale":false,"category":"people"},"partying":{"keywords":["face","celebration","woohoo"],"char":"","fitzpatrick_scale":false,"category":"people"},"smiley":{"keywords":["face","happy","joy","haha",":D",":)","smile","funny"],"char":"","fitzpatrick_scale":false,"category":"people"},"smile":{"keywords":["face","happy","joy","funny","haha","laugh","like",":D",":)"],"char":"","fitzpatrick_scale":false,"category":"people"},"sweat_smile":{"keywords":["face","hot","happy","laugh","sweat","smile","relief"],"char":"","fitzpatrick_scale":false,"category":"people"},"laughing":{"keywords":["happy","joy","lol","satisfied","haha","face","glad","XD","laugh"],"char":"","fitzpatrick_scale":false,"category":"people"},"innocent":{"keywords":["face","angel","heaven","halo"],"char":"","fitzpatrick_scale":false,"category":"people"},"wink":{"keywords":["face","happy","mischievous","secret",";)","smile","eye"],"char":"","fitzpatrick_scale":false,"category":"people"},"blush":{"keywords":["face","smile","happy","flushed","crush","embarrassed","shy","joy"],"char":"","fitzpatrick_scale":false,"category":"people"},"slightly_smiling_face":{"keywords":["face","smile"],"char":"","fitzpatrick_scale":false,"category":"people"},"upside_down_face":{"keywords":["face","flipped","silly","smile"],"char":"","fitzpatrick_scale":false,"category":"people"},"relaxed":{"keywords":["face","blush","massage","happiness"],"char":"","fitzpatrick_scale":false,"category":"people"},"yum":{"keywords":["happy","joy","tongue","smile","face","silly","yummy","nom","delicious","savouring"],"char":"","fitzpatrick_scale":false,"category":"people"},"relieved":{"keywords":["face","relaxed","phew","massage","happiness"],"char":"","fitzpatrick_scale":false,"category":"people"},"heart_eyes":{"keywords":["face","love","like","affection","valentines","infatuation","crush","heart"],"char":"","fitzpatrick_scale":false,"category":"people"},"smiling_face_with_three_hearts":{"keywords":["face","love","like","affection","valentines","infatuation","crush","hearts","adore"],"char":"","fitzpatrick_scale":false,"category":"people"},"kissing_heart":{"keywords":["face","love","like","affection","valentines","infatuation","kiss"],"char":"","fitzpatrick_scale":false,"category":"people"},"kissing":{"keywords":["love","like","face","3","valentines","infatuation","kiss"],"char":"","fitzpatrick_scale":false,"category":"people"},"kissing_smiling_eyes":{"keywords":["face","affection","valentines","infatuation","kiss"],"char":"","fitzpatrick_scale":false,"category":"people"},"kissing_closed_eyes":{"keywords":["face","love","like","affection","valentines","infatuation","kiss"],"char":"","fitzpatrick_scale":false,"category":"people"},"stuck_out_tongue_winking_eye":{"keywords":["face","prank","childish","playful","mischievous","smile","wink","tongue"],"char":"","fitzpatrick_scale":false,"category":"people"},"zany":{"keywords":["face","goofy","crazy"],"char":"","fitzpatrick_scale":false,"category":"people"},"raised_eyebrow":{"keywords":["face","distrust","scepticism","disapproval","disbelief","surprise"],"char":"","fitzpatrick_scale":false,"category":"people"},"monocle":{"keywords":["face","stuffy","wealthy"],"char":"","fitzpatrick_scale":false,"category":"people"},"stuck_out_tongue_closed_eyes":{"keywords":["face","prank","playful","mischievous","smile","tongue"],"char":"","fitzpatrick_scale":false,"category":"people"},"stuck_out_tongue":{"keywords":["face","prank","childish","playful","mischievous","smile","tongue"],"char":"","fitzpatrick_scale":false,"category":"people"},"money_mouth_face":{"keywords":["face","rich","dollar","money"],"char":"","fitzpatrick_scale":false,"category":"people"},"nerd_face":{"keywords":["face","nerdy","geek","dork"],"char":"","fitzpatrick_scale":false,"category":"people"},"sunglasses":{"keywords":["face","cool","smile","summer","beach","sunglass"],"char":"","fitzpatrick_scale":false,"category":"people"},"star_struck":{"keywords":["face","smile","starry","eyes","grinning"],"char":"","fitzpatrick_scale":false,"category":"people"},"clown_face":{"keywords":["face"],"char":"","fitzpatrick_scale":false,"category":"people"},"cowboy_hat_face":{"keywords":["face","cowgirl","hat"],"char":"","fitzpatrick_scale":false,"category":"people"},"hugs":{"keywords":["face","smile","hug"],"char":"","fitzpatrick_scale":false,"category":"people"},"smirk":{"keywords":["face","smile","mean","prank","smug","sarcasm"],"char":"","fitzpatrick_scale":false,"category":"people"},"no_mouth":{"keywords":["face","hellokitty"],"char":"","fitzpatrick_scale":false,"category":"people"},"neutral_face":{"keywords":["indifference","meh",":|","neutral"],"char":"","fitzpatrick_scale":false,"category":"people"},"expressionless":{"keywords":["face","indifferent","-_-","meh","deadpan"],"char":"","fitzpatrick_scale":false,"category":"people"},"unamused":{"keywords":["indifference","bored","straight face","serious","sarcasm","unimpressed","skeptical","dubious","side_eye"],"char":"","fitzpatrick_scale":false,"category":"people"},"roll_eyes":{"keywords":["face","eyeroll","frustrated"],"char":"","fitzpatrick_scale":false,"category":"people"},"thinking":{"keywords":["face","hmmm","think","consider"],"char":"","fitzpatrick_scale":false,"category":"people"},"lying_face":{"keywords":["face","lie","pinocchio"],"char":"","fitzpatrick_scale":false,"category":"people"},"hand_over_mouth":{"keywords":["face","whoops","shock","surprise"],"char":"","fitzpatrick_scale":false,"category":"people"},"shushing":{"keywords":["face","quiet","shhh"],"char":"","fitzpatrick_scale":false,"category":"people"},"symbols_over_mouth":{"keywords":["face","swearing","cursing","cussing","profanity","expletive"],"char":"","fitzpatrick_scale":false,"category":"people"},"exploding_head":{"keywords":["face","shocked","mind","blown"],"char":"","fitzpatrick_scale":false,"category":"people"},"flushed":{"keywords":["face","blush","shy","flattered"],"char":"","fitzpatrick_scale":false,"category":"people"},"disappointed":{"keywords":["face","sad","upset","depressed",":("],"char":"","fitzpatrick_scale":false,"category":"people"},"worried":{"keywords":["face","concern","nervous",":("],"char":"","fitzpatrick_scale":false,"category":"people"},"angry":{"keywords":["mad","face","annoyed","frustrated"],"char":"","fitzpatrick_scale":false,"category":"people"},"rage":{"keywords":["angry","mad","hate","despise"],"char":"","fitzpatrick_scale":false,"category":"people"},"pensive":{"keywords":["face","sad","depressed","upset"],"char":"","fitzpatrick_scale":false,"category":"people"},"confused":{"keywords":["face","indifference","huh","weird","hmmm",":/"],"char":"","fitzpatrick_scale":false,"category":"people"},"slightly_frowning_face":{"keywords":["face","frowning","disappointed","sad","upset"],"char":"","fitzpatrick_scale":false,"category":"people"},"frowning_face":{"keywords":["face","sad","upset","frown"],"char":"","fitzpatrick_scale":false,"category":"people"},"persevere":{"keywords":["face","sick","no","upset","oops"],"char":"","fitzpatrick_scale":false,"category":"people"},"confounded":{"keywords":["face","confused","sick","unwell","oops",":S"],"char":"","fitzpatrick_scale":false,"category":"people"},"tired_face":{"keywords":["sick","whine","upset","frustrated"],"char":"","fitzpatrick_scale":false,"category":"people"},"weary":{"keywords":["face","tired","sleepy","sad","frustrated","upset"],"char":"","fitzpatrick_scale":false,"category":"people"},"pleading":{"keywords":["face","begging","mercy"],"char":"","fitzpatrick_scale":false,"category":"people"},"triumph":{"keywords":["face","gas","phew","proud","pride"],"char":"","fitzpatrick_scale":false,"category":"people"},"open_mouth":{"keywords":["face","surprise","impressed","wow","whoa",":O"],"char":"","fitzpatrick_scale":false,"category":"people"},"scream":{"keywords":["face","munch","scared","omg"],"char":"","fitzpatrick_scale":false,"category":"people"},"fearful":{"keywords":["face","scared","terrified","nervous","oops","huh"],"char":"","fitzpatrick_scale":false,"category":"people"},"cold_sweat":{"keywords":["face","nervous","sweat"],"char":"","fitzpatrick_scale":false,"category":"people"},"hushed":{"keywords":["face","woo","shh"],"char":"","fitzpatrick_scale":false,"category":"people"},"frowning":{"keywords":["face","aw","what"],"char":"","fitzpatrick_scale":false,"category":"people"},"anguished":{"keywords":["face","stunned","nervous"],"char":"","fitzpatrick_scale":false,"category":"people"},"cry":{"keywords":["face","tears","sad","depressed","upset",":\'("],"char":"","fitzpatrick_scale":false,"category":"people"},"disappointed_relieved":{"keywords":["face","phew","sweat","nervous"],"char":"","fitzpatrick_scale":false,"category":"people"},"drooling_face":{"keywords":["face"],"char":"","fitzpatrick_scale":false,"category":"people"},"sleepy":{"keywords":["face","tired","rest","nap"],"char":"","fitzpatrick_scale":false,"category":"people"},"sweat":{"keywords":["face","hot","sad","tired","exercise"],"char":"","fitzpatrick_scale":false,"category":"people"},"hot":{"keywords":["face","feverish","heat","red","sweating"],"char":"","fitzpatrick_scale":false,"category":"people"},"cold":{"keywords":["face","blue","freezing","frozen","frostbite","icicles"],"char":"","fitzpatrick_scale":false,"category":"people"},"sob":{"keywords":["face","cry","tears","sad","upset","depressed"],"char":"","fitzpatrick_scale":false,"category":"people"},"dizzy_face":{"keywords":["spent","unconscious","xox","dizzy"],"char":"","fitzpatrick_scale":false,"category":"people"},"astonished":{"keywords":["face","xox","surprised","poisoned"],"char":"","fitzpatrick_scale":false,"category":"people"},"zipper_mouth_face":{"keywords":["face","sealed","zipper","secret"],"char":"","fitzpatrick_scale":false,"category":"people"},"nauseated_face":{"keywords":["face","vomit","gross","green","sick","throw up","ill"],"char":"","fitzpatrick_scale":false,"category":"people"},"sneezing_face":{"keywords":["face","gesundheit","sneeze","sick","allergy"],"char":"","fitzpatrick_scale":false,"category":"people"},"vomiting":{"keywords":["face","sick"],"char":"","fitzpatrick_scale":false,"category":"people"},"mask":{"keywords":["face","sick","ill","disease"],"char":"","fitzpatrick_scale":false,"category":"people"},"face_with_thermometer":{"keywords":["sick","temperature","thermometer","cold","fever"],"char":"","fitzpatrick_scale":false,"category":"people"},"face_with_head_bandage":{"keywords":["injured","clumsy","bandage","hurt"],"char":"","fitzpatrick_scale":false,"category":"people"},"woozy":{"keywords":["face","dizzy","intoxicated","tipsy","wavy"],"char":"","fitzpatrick_scale":false,"category":"people"},"sleeping":{"keywords":["face","tired","sleepy","night","zzz"],"char":"","fitzpatrick_scale":false,"category":"people"},"zzz":{"keywords":["sleepy","tired","dream"],"char":"","fitzpatrick_scale":false,"category":"people"},"poop":{"keywords":["hankey","shitface","fail","turd","shit"],"char":"","fitzpatrick_scale":false,"category":"people"},"smiling_imp":{"keywords":["devil","horns"],"char":"","fitzpatrick_scale":false,"category":"people"},"imp":{"keywords":["devil","angry","horns"],"char":"","fitzpatrick_scale":false,"category":"people"},"japanese_ogre":{"keywords":["monster","red","mask","halloween","scary","creepy","devil","demon","japanese","ogre"],"char":"","fitzpatrick_scale":false,"category":"people"},"japanese_goblin":{"keywords":["red","evil","mask","monster","scary","creepy","japanese","goblin"],"char":"","fitzpatrick_scale":false,"category":"people"},"skull":{"keywords":["dead","skeleton","creepy","death"],"char":"","fitzpatrick_scale":false,"category":"people"},"ghost":{"keywords":["halloween","spooky","scary"],"char":"","fitzpatrick_scale":false,"category":"people"},"alien":{"keywords":["UFO","paul","weird","outer_space"],"char":"","fitzpatrick_scale":false,"category":"people"},"robot":{"keywords":["computer","machine","bot"],"char":"","fitzpatrick_scale":false,"category":"people"},"smiley_cat":{"keywords":["animal","cats","happy","smile"],"char":"","fitzpatrick_scale":false,"category":"people"},"smile_cat":{"keywords":["animal","cats","smile"],"char":"","fitzpatrick_scale":false,"category":"people"},"joy_cat":{"keywords":["animal","cats","haha","happy","tears"],"char":"","fitzpatrick_scale":false,"category":"people"},"heart_eyes_cat":{"keywords":["animal","love","like","affection","cats","valentines","heart"],"char":"","fitzpatrick_scale":false,"category":"people"},"smirk_cat":{"keywords":["animal","cats","smirk"],"char":"","fitzpatrick_scale":false,"category":"people"},"kissing_cat":{"keywords":["animal","cats","kiss"],"char":"","fitzpatrick_scale":false,"category":"people"},"scream_cat":{"keywords":["animal","cats","munch","scared","scream"],"char":"","fitzpatrick_scale":false,"category":"people"},"crying_cat_face":{"keywords":["animal","tears","weep","sad","cats","upset","cry"],"char":"","fitzpatrick_scale":false,"category":"people"},"pouting_cat":{"keywords":["animal","cats"],"char":"","fitzpatrick_scale":false,"category":"people"},"palms_up":{"keywords":["hands","gesture","cupped","prayer"],"char":"","fitzpatrick_scale":true,"category":"people"},"raised_hands":{"keywords":["gesture","hooray","yea","celebration","hands"],"char":"","fitzpatrick_scale":true,"category":"people"},"clap":{"keywords":["hands","praise","applause","congrats","yay"],"char":"","fitzpatrick_scale":true,"category":"people"},"wave":{"keywords":["hands","gesture","goodbye","solong","farewell","hello","hi","palm"],"char":"","fitzpatrick_scale":true,"category":"people"},"call_me_hand":{"keywords":["hands","gesture"],"char":"","fitzpatrick_scale":true,"category":"people"},"+1":{"keywords":["thumbsup","yes","awesome","good","agree","accept","cool","hand","like"],"char":"","fitzpatrick_scale":true,"category":"people"},"-1":{"keywords":["thumbsdown","no","dislike","hand"],"char":"","fitzpatrick_scale":true,"category":"people"},"facepunch":{"keywords":["angry","violence","fist","hit","attack","hand"],"char":"","fitzpatrick_scale":true,"category":"people"},"fist":{"keywords":["fingers","hand","grasp"],"char":"","fitzpatrick_scale":true,"category":"people"},"fist_left":{"keywords":["hand","fistbump"],"char":"","fitzpatrick_scale":true,"category":"people"},"fist_right":{"keywords":["hand","fistbump"],"char":"","fitzpatrick_scale":true,"category":"people"},"v":{"keywords":["fingers","ohyeah","hand","peace","victory","two"],"char":"","fitzpatrick_scale":true,"category":"people"},"ok_hand":{"keywords":["fingers","limbs","perfect","ok","okay"],"char":"","fitzpatrick_scale":true,"category":"people"},"raised_hand":{"keywords":["fingers","stop","highfive","palm","ban"],"char":"","fitzpatrick_scale":true,"category":"people"},"raised_back_of_hand":{"keywords":["fingers","raised","backhand"],"char":"","fitzpatrick_scale":true,"category":"people"},"open_hands":{"keywords":["fingers","butterfly","hands","open"],"char":"","fitzpatrick_scale":true,"category":"people"},"muscle":{"keywords":["arm","flex","hand","summer","strong","biceps"],"char":"","fitzpatrick_scale":true,"category":"people"},"pray":{"keywords":["please","hope","wish","namaste","highfive"],"char":"","fitzpatrick_scale":true,"category":"people"},"foot":{"keywords":["kick","stomp"],"char":"","fitzpatrick_scale":true,"category":"people"},"leg":{"keywords":["kick","limb"],"char":"","fitzpatrick_scale":true,"category":"people"},"handshake":{"keywords":["agreement","shake"],"char":"","fitzpatrick_scale":false,"category":"people"},"point_up":{"keywords":["hand","fingers","direction","up"],"char":"","fitzpatrick_scale":true,"category":"people"},"point_up_2":{"keywords":["fingers","hand","direction","up"],"char":"","fitzpatrick_scale":true,"category":"people"},"point_down":{"keywords":["fingers","hand","direction","down"],"char":"","fitzpatrick_scale":true,"category":"people"},"point_left":{"keywords":["direction","fingers","hand","left"],"char":"","fitzpatrick_scale":true,"category":"people"},"point_right":{"keywords":["fingers","hand","direction","right"],"char":"","fitzpatrick_scale":true,"category":"people"},"fu":{"keywords":["hand","fingers","rude","middle","flipping"],"char":"","fitzpatrick_scale":true,"category":"people"},"raised_hand_with_fingers_splayed":{"keywords":["hand","fingers","palm"],"char":"","fitzpatrick_scale":true,"category":"people"},"love_you":{"keywords":["hand","fingers","gesture"],"char":"","fitzpatrick_scale":true,"category":"people"},"metal":{"keywords":["hand","fingers","evil_eye","sign_of_horns","rock_on"],"char":"","fitzpatrick_scale":true,"category":"people"},"crossed_fingers":{"keywords":["good","lucky"],"char":"","fitzpatrick_scale":true,"category":"people"},"vulcan_salute":{"keywords":["hand","fingers","spock","star trek"],"char":"","fitzpatrick_scale":true,"category":"people"},"writing_hand":{"keywords":["lower_left_ballpoint_pen","stationery","write","compose"],"char":"","fitzpatrick_scale":true,"category":"people"},"selfie":{"keywords":["camera","phone"],"char":"","fitzpatrick_scale":true,"category":"people"},"nail_care":{"keywords":["beauty","manicure","finger","fashion","nail"],"char":"","fitzpatrick_scale":true,"category":"people"},"lips":{"keywords":["mouth","kiss"],"char":"","fitzpatrick_scale":false,"category":"people"},"tooth":{"keywords":["teeth","dentist"],"char":"","fitzpatrick_scale":false,"category":"people"},"tongue":{"keywords":["mouth","playful"],"char":"","fitzpatrick_scale":false,"category":"people"},"ear":{"keywords":["face","hear","sound","listen"],"char":"","fitzpatrick_scale":true,"category":"people"},"nose":{"keywords":["smell","sniff"],"char":"","fitzpatrick_scale":true,"category":"people"},"eye":{"keywords":["face","look","see","watch","stare"],"char":"","fitzpatrick_scale":false,"category":"people"},"eyes":{"keywords":["look","watch","stalk","peek","see"],"char":"","fitzpatrick_scale":false,"category":"people"},"brain":{"keywords":["smart","intelligent"],"char":"","fitzpatrick_scale":false,"category":"people"},"bust_in_silhouette":{"keywords":["user","person","human"],"char":"","fitzpatrick_scale":false,"category":"people"},"busts_in_silhouette":{"keywords":["user","person","human","group","team"],"char":"","fitzpatrick_scale":false,"category":"people"},"speaking_head":{"keywords":["user","person","human","sing","say","talk"],"char":"","fitzpatrick_scale":false,"category":"people"},"baby":{"keywords":["child","boy","girl","toddler"],"char":"","fitzpatrick_scale":true,"category":"people"},"child":{"keywords":["gender-neutral","young"],"char":"","fitzpatrick_scale":true,"category":"people"},"boy":{"keywords":["man","male","guy","teenager"],"char":"","fitzpatrick_scale":true,"category":"people"},"girl":{"keywords":["female","woman","teenager"],"char":"","fitzpatrick_scale":true,"category":"people"},"adult":{"keywords":["gender-neutral","person"],"char":"","fitzpatrick_scale":true,"category":"people"},"man":{"keywords":["mustache","father","dad","guy","classy","sir","moustache"],"char":"","fitzpatrick_scale":true,"category":"people"},"woman":{"keywords":["female","girls","lady"],"char":"","fitzpatrick_scale":true,"category":"people"},"blonde_woman":{"keywords":["woman","female","girl","blonde","person"],"char":"","fitzpatrick_scale":true,"category":"people"},"blonde_man":{"keywords":["man","male","boy","blonde","guy","person"],"char":"","fitzpatrick_scale":true,"category":"people"},"bearded_person":{"keywords":["person","bewhiskered"],"char":"","fitzpatrick_scale":true,"category":"people"},"older_adult":{"keywords":["human","elder","senior","gender-neutral"],"char":"","fitzpatrick_scale":true,"category":"people"},"older_man":{"keywords":["human","male","men","old","elder","senior"],"char":"","fitzpatrick_scale":true,"category":"people"},"older_woman":{"keywords":["human","female","women","lady","old","elder","senior"],"char":"","fitzpatrick_scale":true,"category":"people"},"man_with_gua_pi_mao":{"keywords":["male","boy","chinese"],"char":"","fitzpatrick_scale":true,"category":"people"},"woman_with_headscarf":{"keywords":["female","hijab","mantilla","tichel"],"char":"","fitzpatrick_scale":true,"category":"people"},"woman_with_turban":{"keywords":["female","indian","hinduism","arabs","woman"],"char":"","fitzpatrick_scale":true,"category":"people"},"man_with_turban":{"keywords":["male","indian","hinduism","arabs"],"char":"","fitzpatrick_scale":true,"category":"people"},"policewoman":{"keywords":["woman","police","law","legal","enforcement","arrest","911","female"],"char":"","fitzpatrick_scale":true,"category":"people"},"policeman":{"keywords":["man","police","law","legal","enforcement","arrest","911"],"char":"","fitzpatrick_scale":true,"category":"people"},"construction_worker_woman":{"keywords":["female","human","wip","build","construction","worker","labor","woman"],"char":"","fitzpatrick_scale":true,"category":"people"},"construction_worker_man":{"keywords":["male","human","wip","guy","build","construction","worker","labor"],"char":"","fitzpatrick_scale":true,"category":"people"},"guardswoman":{"keywords":["uk","gb","british","female","royal","woman"],"char":"","fitzpatrick_scale":true,"category":"people"},"guardsman":{"keywords":["uk","gb","british","male","guy","royal"],"char":"","fitzpatrick_scale":true,"category":"people"},"female_detective":{"keywords":["human","spy","detective","female","woman"],"char":"","fitzpatrick_scale":true,"category":"people"},"male_detective":{"keywords":["human","spy","detective"],"char":"","fitzpatrick_scale":true,"category":"people"},"woman_health_worker":{"keywords":["doctor","nurse","therapist","healthcare","woman","human"],"char":"","fitzpatrick_scale":true,"category":"people"},"man_health_worker":{"keywords":["doctor","nurse","therapist","healthcare","man","human"],"char":"","fitzpatrick_scale":true,"category":"people"},"woman_farmer":{"keywords":["rancher","gardener","woman","human"],"char":"","fitzpatrick_scale":true,"category":"people"},"man_farmer":{"keywords":["rancher","gardener","man","human"],"char":"","fitzpatrick_scale":true,"category":"people"},"woman_cook":{"keywords":["chef","woman","human"],"char":"","fitzpatrick_scale":true,"category":"people"},"man_cook":{"keywords":["chef","man","human"],"char":"","fitzpatrick_scale":true,"category":"people"},"woman_student":{"keywords":["graduate","woman","human"],"char":"","fitzpatrick_scale":true,"category":"people"},"man_student":{"keywords":["graduate","man","human"],"char":"","fitzpatrick_scale":true,"category":"people"},"woman_singer":{"keywords":["rockstar","entertainer","woman","human"],"char":"","fitzpatrick_scale":true,"category":"people"},"man_singer":{"keywords":["rockstar","entertainer","man","human"],"char":"","fitzpatrick_scale":true,"category":"people"},"woman_teacher":{"keywords":["instructor","professor","woman","human"],"char":"","fitzpatrick_scale":true,"category":"people"},"man_teacher":{"keywords":["instructor","professor","man","human"],"char":"","fitzpatrick_scale":true,"category":"people"},"woman_factory_worker":{"keywords":["assembly","industrial","woman","human"],"char":"","fitzpatrick_scale":true,"category":"people"},"man_factory_worker":{"keywords":["assembly","industrial","man","human"],"char":"","fitzpatrick_scale":true,"category":"people"},"woman_technologist":{"keywords":["coder","developer","engineer","programmer","software","woman","human","laptop","computer"],"char":"","fitzpatrick_scale":true,"category":"people"},"man_technologist":{"keywords":["coder","developer","engineer","programmer","software","man","human","laptop","computer"],"char":"","fitzpatrick_scale":true,"category":"people"},"woman_office_worker":{"keywords":["business","manager","woman","human"],"char":"","fitzpatrick_scale":true,"category":"people"},"man_office_worker":{"keywords":["business","manager","man","human"],"char":"","fitzpatrick_scale":true,"category":"people"},"woman_mechanic":{"keywords":["plumber","woman","human","wrench"],"char":"","fitzpatrick_scale":true,"category":"people"},"man_mechanic":{"keywords":["plumber","man","human","wrench"],"char":"","fitzpatrick_scale":true,"category":"people"},"woman_scientist":{"keywords":["biologist","chemist","engineer","physicist","woman","human"],"char":"","fitzpatrick_scale":true,"category":"people"},"man_scientist":{"keywords":["biologist","chemist","engineer","physicist","man","human"],"char":"","fitzpatrick_scale":true,"category":"people"},"woman_artist":{"keywords":["painter","woman","human"],"char":"","fitzpatrick_scale":true,"category":"people"},"man_artist":{"keywords":["painter","man","human"],"char":"","fitzpatrick_scale":true,"category":"people"},"woman_firefighter":{"keywords":["fireman","woman","human"],"char":"","fitzpatrick_scale":true,"category":"people"},"man_firefighter":{"keywords":["fireman","man","human"],"char":"","fitzpatrick_scale":true,"category":"people"},"woman_pilot":{"keywords":["aviator","plane","woman","human"],"char":"","fitzpatrick_scale":true,"category":"people"},"man_pilot":{"keywords":["aviator","plane","man","human"],"char":"","fitzpatrick_scale":true,"category":"people"},"woman_astronaut":{"keywords":["space","rocket","woman","human"],"char":"","fitzpatrick_scale":true,"category":"people"},"man_astronaut":{"keywords":["space","rocket","man","human"],"char":"","fitzpatrick_scale":true,"category":"people"},"woman_judge":{"keywords":["justice","court","woman","human"],"char":"","fitzpatrick_scale":true,"category":"people"},"man_judge":{"keywords":["justice","court","man","human"],"char":"","fitzpatrick_scale":true,"category":"people"},"woman_superhero":{"keywords":["woman","female","good","heroine","superpowers"],"char":"","fitzpatrick_scale":true,"category":"people"},"man_superhero":{"keywords":["man","male","good","hero","superpowers"],"char":"","fitzpatrick_scale":true,"category":"people"},"woman_supervillain":{"keywords":["woman","female","evil","bad","criminal","heroine","superpowers"],"char":"","fitzpatrick_scale":true,"category":"people"},"man_supervillain":{"keywords":["man","male","evil","bad","criminal","hero","superpowers"],"char":"","fitzpatrick_scale":true,"category":"people"},"mrs_claus":{"keywords":["woman","female","xmas","mother christmas"],"char":"","fitzpatrick_scale":true,"category":"people"},"santa":{"keywords":["festival","man","male","xmas","father christmas"],"char":"","fitzpatrick_scale":true,"category":"people"},"sorceress":{"keywords":["woman","female","mage","witch"],"char":"","fitzpatrick_scale":true,"category":"people"},"wizard":{"keywords":["man","male","mage","sorcerer"],"char":"","fitzpatrick_scale":true,"category":"people"},"woman_elf":{"keywords":["woman","female"],"char":"","fitzpatrick_scale":true,"category":"people"},"man_elf":{"keywords":["man","male"],"char":"","fitzpatrick_scale":true,"category":"people"},"woman_vampire":{"keywords":["woman","female"],"char":"","fitzpatrick_scale":true,"category":"people"},"man_vampire":{"keywords":["man","male","dracula"],"char":"","fitzpatrick_scale":true,"category":"people"},"woman_zombie":{"keywords":["woman","female","undead","walking dead"],"char":"","fitzpatrick_scale":false,"category":"people"},"man_zombie":{"keywords":["man","male","dracula","undead","walking dead"],"char":"","fitzpatrick_scale":false,"category":"people"},"woman_genie":{"keywords":["woman","female"],"char":"","fitzpatrick_scale":false,"category":"people"},"man_genie":{"keywords":["man","male"],"char":"","fitzpatrick_scale":false,"category":"people"},"mermaid":{"keywords":["woman","female","merwoman","ariel"],"char":"","fitzpatrick_scale":true,"category":"people"},"merman":{"keywords":["man","male","triton"],"char":"","fitzpatrick_scale":true,"category":"people"},"woman_fairy":{"keywords":["woman","female"],"char":"","fitzpatrick_scale":true,"category":"people"},"man_fairy":{"keywords":["man","male"],"char":"","fitzpatrick_scale":true,"category":"people"},"angel":{"keywords":["heaven","wings","halo"],"char":"","fitzpatrick_scale":true,"category":"people"},"pregnant_woman":{"keywords":["baby"],"char":"","fitzpatrick_scale":true,"category":"people"},"breastfeeding":{"keywords":["nursing","baby"],"char":"","fitzpatrick_scale":true,"category":"people"},"princess":{"keywords":["girl","woman","female","blond","crown","royal","queen"],"char":"","fitzpatrick_scale":true,"category":"people"},"prince":{"keywords":["boy","man","male","crown","royal","king"],"char":"","fitzpatrick_scale":true,"category":"people"},"bride_with_veil":{"keywords":["couple","marriage","wedding","woman","bride"],"char":"","fitzpatrick_scale":true,"category":"people"},"man_in_tuxedo":{"keywords":["couple","marriage","wedding","groom"],"char":"","fitzpatrick_scale":true,"category":"people"},"running_woman":{"keywords":["woman","walking","exercise","race","running","female"],"char":"","fitzpatrick_scale":true,"category":"people"},"running_man":{"keywords":["man","walking","exercise","race","running"],"char":"","fitzpatrick_scale":true,"category":"people"},"walking_woman":{"keywords":["human","feet","steps","woman","female"],"char":"","fitzpatrick_scale":true,"category":"people"},"walking_man":{"keywords":["human","feet","steps"],"char":"","fitzpatrick_scale":true,"category":"people"},"dancer":{"keywords":["female","girl","woman","fun"],"char":"","fitzpatrick_scale":true,"category":"people"},"man_dancing":{"keywords":["male","boy","fun","dancer"],"char":"","fitzpatrick_scale":true,"category":"people"},"dancing_women":{"keywords":["female","bunny","women","girls"],"char":"","fitzpatrick_scale":false,"category":"people"},"dancing_men":{"keywords":["male","bunny","men","boys"],"char":"","fitzpatrick_scale":false,"category":"people"},"couple":{"keywords":["pair","people","human","love","date","dating","like","affection","valentines","marriage"],"char":"","fitzpatrick_scale":false,"category":"people"},"two_men_holding_hands":{"keywords":["pair","couple","love","like","bromance","friendship","people","human"],"char":"","fitzpatrick_scale":false,"category":"people"},"two_women_holding_hands":{"keywords":["pair","friendship","couple","love","like","female","people","human"],"char":"","fitzpatrick_scale":false,"category":"people"},"bowing_woman":{"keywords":["woman","female","girl"],"char":"","fitzpatrick_scale":true,"category":"people"},"bowing_man":{"keywords":["man","male","boy"],"char":"","fitzpatrick_scale":true,"category":"people"},"man_facepalming":{"keywords":["man","male","boy","disbelief"],"char":"","fitzpatrick_scale":true,"category":"people"},"woman_facepalming":{"keywords":["woman","female","girl","disbelief"],"char":"","fitzpatrick_scale":true,"category":"people"},"woman_shrugging":{"keywords":["woman","female","girl","confused","indifferent","doubt"],"char":"","fitzpatrick_scale":true,"category":"people"},"man_shrugging":{"keywords":["man","male","boy","confused","indifferent","doubt"],"char":"","fitzpatrick_scale":true,"category":"people"},"tipping_hand_woman":{"keywords":["female","girl","woman","human","information"],"char":"","fitzpatrick_scale":true,"category":"people"},"tipping_hand_man":{"keywords":["male","boy","man","human","information"],"char":"","fitzpatrick_scale":true,"category":"people"},"no_good_woman":{"keywords":["female","girl","woman","nope"],"char":"","fitzpatrick_scale":true,"category":"people"},"no_good_man":{"keywords":["male","boy","man","nope"],"char":"","fitzpatrick_scale":true,"category":"people"},"ok_woman":{"keywords":["women","girl","female","pink","human","woman"],"char":"","fitzpatrick_scale":true,"category":"people"},"ok_man":{"keywords":["men","boy","male","blue","human","man"],"char":"","fitzpatrick_scale":true,"category":"people"},"raising_hand_woman":{"keywords":["female","girl","woman"],"char":"","fitzpatrick_scale":true,"category":"people"},"raising_hand_man":{"keywords":["male","boy","man"],"char":"","fitzpatrick_scale":true,"category":"people"},"pouting_woman":{"keywords":["female","girl","woman"],"char":"","fitzpatrick_scale":true,"category":"people"},"pouting_man":{"keywords":["male","boy","man"],"char":"","fitzpatrick_scale":true,"category":"people"},"frowning_woman":{"keywords":["female","girl","woman","sad","depressed","discouraged","unhappy"],"char":"","fitzpatrick_scale":true,"category":"people"},"frowning_man":{"keywords":["male","boy","man","sad","depressed","discouraged","unhappy"],"char":"","fitzpatrick_scale":true,"category":"people"},"haircut_woman":{"keywords":["female","girl","woman"],"char":"","fitzpatrick_scale":true,"category":"people"},"haircut_man":{"keywords":["male","boy","man"],"char":"","fitzpatrick_scale":true,"category":"people"},"massage_woman":{"keywords":["female","girl","woman","head"],"char":"","fitzpatrick_scale":true,"category":"people"},"massage_man":{"keywords":["male","boy","man","head"],"char":"","fitzpatrick_scale":true,"category":"people"},"woman_in_steamy_room":{"keywords":["female","woman","spa","steamroom","sauna"],"char":"","fitzpatrick_scale":true,"category":"people"},"man_in_steamy_room":{"keywords":["male","man","spa","steamroom","sauna"],"char":"","fitzpatrick_scale":true,"category":"people"},"couple_with_heart_woman_man":{"keywords":["pair","love","like","affection","human","dating","valentines","marriage"],"char":"","fitzpatrick_scale":false,"category":"people"},"couple_with_heart_woman_woman":{"keywords":["pair","love","like","affection","human","dating","valentines","marriage"],"char":"","fitzpatrick_scale":false,"category":"people"},"couple_with_heart_man_man":{"keywords":["pair","love","like","affection","human","dating","valentines","marriage"],"char":"","fitzpatrick_scale":false,"category":"people"},"couplekiss_man_woman":{"keywords":["pair","valentines","love","like","dating","marriage"],"char":"","fitzpatrick_scale":false,"category":"people"},"couplekiss_woman_woman":{"keywords":["pair","valentines","love","like","dating","marriage"],"char":"","fitzpatrick_scale":false,"category":"people"},"couplekiss_man_man":{"keywords":["pair","valentines","love","like","dating","marriage"],"char":"","fitzpatrick_scale":false,"category":"people"},"family_man_woman_boy":{"keywords":["home","parents","child","mom","dad","father","mother","people","human"],"char":"","fitzpatrick_scale":false,"category":"people"},"family_man_woman_girl":{"keywords":["home","parents","people","human","child"],"char":"","fitzpatrick_scale":false,"category":"people"},"family_man_woman_girl_boy":{"keywords":["home","parents","people","human","children"],"char":"","fitzpatrick_scale":false,"category":"people"},"family_man_woman_boy_boy":{"keywords":["home","parents","people","human","children"],"char":"","fitzpatrick_scale":false,"category":"people"},"family_man_woman_girl_girl":{"keywords":["home","parents","people","human","children"],"char":"","fitzpatrick_scale":false,"category":"people"},"family_woman_woman_boy":{"keywords":["home","parents","people","human","children"],"char":"","fitzpatrick_scale":false,"category":"people"},"family_woman_woman_girl":{"keywords":["home","parents","people","human","children"],"char":"","fitzpatrick_scale":false,"category":"people"},"family_woman_woman_girl_boy":{"keywords":["home","parents","people","human","children"],"char":"","fitzpatrick_scale":false,"category":"people"},"family_woman_woman_boy_boy":{"keywords":["home","parents","people","human","children"],"char":"","fitzpatrick_scale":false,"category":"people"},"family_woman_woman_girl_girl":{"keywords":["home","parents","people","human","children"],"char":"","fitzpatrick_scale":false,"category":"people"},"family_man_man_boy":{"keywords":["home","parents","people","human","children"],"char":"","fitzpatrick_scale":false,"category":"people"},"family_man_man_girl":{"keywords":["home","parents","people","human","children"],"char":"","fitzpatrick_scale":false,"category":"people"},"family_man_man_girl_boy":{"keywords":["home","parents","people","human","children"],"char":"","fitzpatrick_scale":false,"category":"people"},"family_man_man_boy_boy":{"keywords":["home","parents","people","human","children"],"char":"","fitzpatrick_scale":false,"category":"people"},"family_man_man_girl_girl":{"keywords":["home","parents","people","human","children"],"char":"","fitzpatrick_scale":false,"category":"people"},"family_woman_boy":{"keywords":["home","parent","people","human","child"],"char":"","fitzpatrick_scale":false,"category":"people"},"family_woman_girl":{"keywords":["home","parent","people","human","child"],"char":"","fitzpatrick_scale":false,"category":"people"},"family_woman_girl_boy":{"keywords":["home","parent","people","human","children"],"char":"","fitzpatrick_scale":false,"category":"people"},"family_woman_boy_boy":{"keywords":["home","parent","people","human","children"],"char":"","fitzpatrick_scale":false,"category":"people"},"family_woman_girl_girl":{"keywords":["home","parent","people","human","children"],"char":"","fitzpatrick_scale":false,"category":"people"},"family_man_boy":{"keywords":["home","parent","people","human","child"],"char":"","fitzpatrick_scale":false,"category":"people"},"family_man_girl":{"keywords":["home","parent","people","human","child"],"char":"","fitzpatrick_scale":false,"category":"people"},"family_man_girl_boy":{"keywords":["home","parent","people","human","children"],"char":"","fitzpatrick_scale":false,"category":"people"},"family_man_boy_boy":{"keywords":["home","parent","people","human","children"],"char":"","fitzpatrick_scale":false,"category":"people"},"family_man_girl_girl":{"keywords":["home","parent","people","human","children"],"char":"","fitzpatrick_scale":false,"category":"people"},"yarn":{"keywords":["ball","crochet","knit"],"char":"","fitzpatrick_scale":false,"category":"people"},"thread":{"keywords":["needle","sewing","spool","string"],"char":"","fitzpatrick_scale":false,"category":"people"},"coat":{"keywords":["jacket"],"char":"","fitzpatrick_scale":false,"category":"people"},"labcoat":{"keywords":["doctor","experiment","scientist","chemist"],"char":"","fitzpatrick_scale":false,"category":"people"},"womans_clothes":{"keywords":["fashion","shopping_bags","female"],"char":"","fitzpatrick_scale":false,"category":"people"},"tshirt":{"keywords":["fashion","cloth","casual","shirt","tee"],"char":"","fitzpatrick_scale":false,"category":"people"},"jeans":{"keywords":["fashion","shopping"],"char":"","fitzpatrick_scale":false,"category":"people"},"necktie":{"keywords":["shirt","suitup","formal","fashion","cloth","business"],"char":"","fitzpatrick_scale":false,"category":"people"},"dress":{"keywords":["clothes","fashion","shopping"],"char":"","fitzpatrick_scale":false,"category":"people"},"bikini":{"keywords":["swimming","female","woman","girl","fashion","beach","summer"],"char":"","fitzpatrick_scale":false,"category":"people"},"kimono":{"keywords":["dress","fashion","women","female","japanese"],"char":"","fitzpatrick_scale":false,"category":"people"},"lipstick":{"keywords":["female","girl","fashion","woman"],"char":"","fitzpatrick_scale":false,"category":"people"},"kiss":{"keywords":["face","lips","love","like","affection","valentines"],"char":"","fitzpatrick_scale":false,"category":"people"},"footprints":{"keywords":["feet","tracking","walking","beach"],"char":"","fitzpatrick_scale":false,"category":"people"},"flat_shoe":{"keywords":["ballet","slip-on","slipper"],"char":"","fitzpatrick_scale":false,"category":"people"},"high_heel":{"keywords":["fashion","shoes","female","pumps","stiletto"],"char":"","fitzpatrick_scale":false,"category":"people"},"sandal":{"keywords":["shoes","fashion","flip flops"],"char":"","fitzpatrick_scale":false,"category":"people"},"boot":{"keywords":["shoes","fashion"],"char":"","fitzpatrick_scale":false,"category":"people"},"mans_shoe":{"keywords":["fashion","male"],"char":"","fitzpatrick_scale":false,"category":"people"},"athletic_shoe":{"keywords":["shoes","sports","sneakers"],"char":"","fitzpatrick_scale":false,"category":"people"},"hiking_boot":{"keywords":["backpacking","camping","hiking"],"char":"","fitzpatrick_scale":false,"category":"people"},"socks":{"keywords":["stockings","clothes"],"char":"","fitzpatrick_scale":false,"category":"people"},"gloves":{"keywords":["hands","winter","clothes"],"char":"","fitzpatrick_scale":false,"category":"people"},"scarf":{"keywords":["neck","winter","clothes"],"char":"","fitzpatrick_scale":false,"category":"people"},"womans_hat":{"keywords":["fashion","accessories","female","lady","spring"],"char":"","fitzpatrick_scale":false,"category":"people"},"tophat":{"keywords":["magic","gentleman","classy","circus"],"char":"","fitzpatrick_scale":false,"category":"people"},"billed_hat":{"keywords":["cap","baseball"],"char":"","fitzpatrick_scale":false,"category":"people"},"rescue_worker_helmet":{"keywords":["construction","build"],"char":"","fitzpatrick_scale":false,"category":"people"},"mortar_board":{"keywords":["school","college","degree","university","graduation","cap","hat","legal","learn","education"],"char":"","fitzpatrick_scale":false,"category":"people"},"crown":{"keywords":["king","kod","leader","royalty","lord"],"char":"","fitzpatrick_scale":false,"category":"people"},"school_satchel":{"keywords":["student","education","bag","backpack"],"char":"","fitzpatrick_scale":false,"category":"people"},"luggage":{"keywords":["packing","travel"],"char":"","fitzpatrick_scale":false,"category":"people"},"pouch":{"keywords":["bag","accessories","shopping"],"char":"","fitzpatrick_scale":false,"category":"people"},"purse":{"keywords":["fashion","accessories","money","sales","shopping"],"char":"","fitzpatrick_scale":false,"category":"people"},"handbag":{"keywords":["fashion","accessory","accessories","shopping"],"char":"","fitzpatrick_scale":false,"category":"people"},"briefcase":{"keywords":["business","documents","work","law","legal","job","career"],"char":"","fitzpatrick_scale":false,"category":"people"},"eyeglasses":{"keywords":["fashion","accessories","eyesight","nerdy","dork","geek"],"char":"","fitzpatrick_scale":false,"category":"people"},"dark_sunglasses":{"keywords":["face","cool","accessories"],"char":"","fitzpatrick_scale":false,"category":"people"},"goggles":{"keywords":["eyes","protection","safety"],"char":"","fitzpatrick_scale":false,"category":"people"},"ring":{"keywords":["wedding","propose","marriage","valentines","diamond","fashion","jewelry","gem","engagement"],"char":"","fitzpatrick_scale":false,"category":"people"},"closed_umbrella":{"keywords":["weather","rain","drizzle"],"char":"","fitzpatrick_scale":false,"category":"people"},"dog":{"keywords":["animal","friend","nature","woof","puppy","pet","faithful"],"char":"","fitzpatrick_scale":false,"category":"animals_and_nature"},"cat":{"keywords":["animal","meow","nature","pet","kitten"],"char":"","fitzpatrick_scale":false,"category":"animals_and_nature"},"mouse":{"keywords":["animal","nature","cheese_wedge","rodent"],"char":"","fitzpatrick_scale":false,"category":"animals_and_nature"},"hamster":{"keywords":["animal","nature"],"char":"","fitzpatrick_scale":false,"category":"animals_and_nature"},"rabbit":{"keywords":["animal","nature","pet","spring","magic","bunny"],"char":"","fitzpatrick_scale":false,"category":"animals_and_nature"},"fox_face":{"keywords":["animal","nature","face"],"char":"","fitzpatrick_scale":false,"category":"animals_and_nature"},"bear":{"keywords":["animal","nature","wild"],"char":"","fitzpatrick_scale":false,"category":"animals_and_nature"},"panda_face":{"keywords":["animal","nature","panda"],"char":"","fitzpatrick_scale":false,"category":"animals_and_nature"},"koala":{"keywords":["animal","nature"],"char":"","fitzpatrick_scale":false,"category":"animals_and_nature"},"tiger":{"keywords":["animal","cat","danger","wild","nature","roar"],"char":"","fitzpatrick_scale":false,"category":"animals_and_nature"},"lion":{"keywords":["animal","nature"],"char":"","fitzpatrick_scale":false,"category":"animals_and_nature"},"cow":{"keywords":["beef","ox","animal","nature","moo","milk"],"char":"","fitzpatrick_scale":false,"category":"animals_and_nature"},"pig":{"keywords":["animal","oink","nature"],"char":"","fitzpatrick_scale":false,"category":"animals_and_nature"},"pig_nose":{"keywords":["animal","oink"],"char":"","fitzpatrick_scale":false,"category":"animals_and_nature"},"frog":{"keywords":["animal","nature","croak","toad"],"char":"","fitzpatrick_scale":false,"category":"animals_and_nature"},"squid":{"keywords":["animal","nature","ocean","sea"],"char":"","fitzpatrick_scale":false,"category":"animals_and_nature"},"octopus":{"keywords":["animal","creature","ocean","sea","nature","beach"],"char":"","fitzpatrick_scale":false,"category":"animals_and_nature"},"shrimp":{"keywords":["animal","ocean","nature","seafood"],"char":"","fitzpatrick_scale":false,"category":"animals_and_nature"},"monkey_face":{"keywords":["animal","nature","circus"],"char":"","fitzpatrick_scale":false,"category":"animals_and_nature"},"gorilla":{"keywords":["animal","nature","circus"],"char":"","fitzpatrick_scale":false,"category":"animals_and_nature"},"see_no_evil":{"keywords":["monkey","animal","nature","haha"],"char":"","fitzpatrick_scale":false,"category":"animals_and_nature"},"hear_no_evil":{"keywords":["animal","monkey","nature"],"char":"","fitzpatrick_scale":false,"category":"animals_and_nature"},"speak_no_evil":{"keywords":["monkey","animal","nature","omg"],"char":"","fitzpatrick_scale":false,"category":"animals_and_nature"},"monkey":{"keywords":["animal","nature","banana","circus"],"char":"","fitzpatrick_scale":false,"category":"animals_and_nature"},"chicken":{"keywords":["animal","cluck","nature","bird"],"char":"","fitzpatrick_scale":false,"category":"animals_and_nature"},"penguin":{"keywords":["animal","nature"],"char":"","fitzpatrick_scale":false,"category":"animals_and_nature"},"bird":{"keywords":["animal","nature","fly","tweet","spring"],"char":"","fitzpatrick_scale":false,"category":"animals_and_nature"},"baby_chick":{"keywords":["animal","chicken","bird"],"char":"","fitzpatrick_scale":false,"category":"animals_and_nature"},"hatching_chick":{"keywords":["animal","chicken","egg","born","baby","bird"],"char":"","fitzpatrick_scale":false,"category":"animals_and_nature"},"hatched_chick":{"keywords":["animal","chicken","baby","bird"],"char":"","fitzpatrick_scale":false,"category":"animals_and_nature"},"duck":{"keywords":["animal","nature","bird","mallard"],"char":"","fitzpatrick_scale":false,"category":"animals_and_nature"},"eagle":{"keywords":["animal","nature","bird"],"char":"","fitzpatrick_scale":false,"category":"animals_and_nature"},"owl":{"keywords":["animal","nature","bird","hoot"],"char":"","fitzpatrick_scale":false,"category":"animals_and_nature"},"bat":{"keywords":["animal","nature","blind","vampire"],"char":"","fitzpatrick_scale":false,"category":"animals_and_nature"},"wolf":{"keywords":["animal","nature","wild"],"char":"","fitzpatrick_scale":false,"category":"animals_and_nature"},"boar":{"keywords":["animal","nature"],"char":"","fitzpatrick_scale":false,"category":"animals_and_nature"},"horse":{"keywords":["animal","brown","nature"],"char":"","fitzpatrick_scale":false,"category":"animals_and_nature"},"unicorn":{"keywords":["animal","nature","mystical"],"char":"","fitzpatrick_scale":false,"category":"animals_and_nature"},"honeybee":{"keywords":["animal","insect","nature","bug","spring","honey"],"char":"","fitzpatrick_scale":false,"category":"animals_and_nature"},"bug":{"keywords":["animal","insect","nature","worm"],"char":"","fitzpatrick_scale":false,"category":"animals_and_nature"},"butterfly":{"keywords":["animal","insect","nature","caterpillar"],"char":"","fitzpatrick_scale":false,"category":"animals_and_nature"},"snail":{"keywords":["slow","animal","shell"],"char":"","fitzpatrick_scale":false,"category":"animals_and_nature"},"beetle":{"keywords":["animal","insect","nature","ladybug"],"char":"","fitzpatrick_scale":false,"category":"animals_and_nature"},"ant":{"keywords":["animal","insect","nature","bug"],"char":"","fitzpatrick_scale":false,"category":"animals_and_nature"},"grasshopper":{"keywords":["animal","cricket","chirp"],"char":"","fitzpatrick_scale":false,"category":"animals_and_nature"},"spider":{"keywords":["animal","arachnid"],"char":"","fitzpatrick_scale":false,"category":"animals_and_nature"},"scorpion":{"keywords":["animal","arachnid"],"char":"","fitzpatrick_scale":false,"category":"animals_and_nature"},"crab":{"keywords":["animal","crustacean"],"char":"","fitzpatrick_scale":false,"category":"animals_and_nature"},"snake":{"keywords":["animal","evil","nature","hiss","python"],"char":"","fitzpatrick_scale":false,"category":"animals_and_nature"},"lizard":{"keywords":["animal","nature","reptile"],"char":"","fitzpatrick_scale":false,"category":"animals_and_nature"},"t-rex":{"keywords":["animal","nature","dinosaur","tyrannosaurus","extinct"],"char":"","fitzpatrick_scale":false,"category":"animals_and_nature"},"sauropod":{"keywords":["animal","nature","dinosaur","brachiosaurus","brontosaurus","diplodocus","extinct"],"char":"","fitzpatrick_scale":false,"category":"animals_and_nature"},"turtle":{"keywords":["animal","slow","nature","tortoise"],"char":"","fitzpatrick_scale":false,"category":"animals_and_nature"},"tropical_fish":{"keywords":["animal","swim","ocean","beach","nemo"],"char":"","fitzpatrick_scale":false,"category":"animals_and_nature"},"fish":{"keywords":["animal","food","nature"],"char":"","fitzpatrick_scale":false,"category":"animals_and_nature"},"blowfish":{"keywords":["animal","nature","food","sea","ocean"],"char":"","fitzpatrick_scale":false,"category":"animals_and_nature"},"dolphin":{"keywords":["animal","nature","fish","sea","ocean","flipper","fins","beach"],"char":"","fitzpatrick_scale":false,"category":"animals_and_nature"},"shark":{"keywords":["animal","nature","fish","sea","ocean","jaws","fins","beach"],"char":"","fitzpatrick_scale":false,"category":"animals_and_nature"},"whale":{"keywords":["animal","nature","sea","ocean"],"char":"","fitzpatrick_scale":false,"category":"animals_and_nature"},"whale2":{"keywords":["animal","nature","sea","ocean"],"char":"","fitzpatrick_scale":false,"category":"animals_and_nature"},"crocodile":{"keywords":["animal","nature","reptile","lizard","alligator"],"char":"","fitzpatrick_scale":false,"category":"animals_and_nature"},"leopard":{"keywords":["animal","nature"],"char":"","fitzpatrick_scale":false,"category":"animals_and_nature"},"zebra":{"keywords":["animal","nature","stripes","safari"],"char":"","fitzpatrick_scale":false,"category":"animals_and_nature"},"tiger2":{"keywords":["animal","nature","roar"],"char":"","fitzpatrick_scale":false,"category":"animals_and_nature"},"water_buffalo":{"keywords":["animal","nature","ox","cow"],"char":"","fitzpatrick_scale":false,"category":"animals_and_nature"},"ox":{"keywords":["animal","cow","beef"],"char":"","fitzpatrick_scale":false,"category":"animals_and_nature"},"cow2":{"keywords":["beef","ox","animal","nature","moo","milk"],"char":"","fitzpatrick_scale":false,"category":"animals_and_nature"},"deer":{"keywords":["animal","nature","horns","venison"],"char":"","fitzpatrick_scale":false,"category":"animals_and_nature"},"dromedary_camel":{"keywords":["animal","hot","desert","hump"],"char":"","fitzpatrick_scale":false,"category":"animals_and_nature"},"camel":{"keywords":["animal","nature","hot","desert","hump"],"char":"","fitzpatrick_scale":false,"category":"animals_and_nature"},"giraffe":{"keywords":["animal","nature","spots","safari"],"char":"","fitzpatrick_scale":false,"category":"animals_and_nature"},"elephant":{"keywords":["animal","nature","nose","th","circus"],"char":"","fitzpatrick_scale":false,"category":"animals_and_nature"},"rhinoceros":{"keywords":["animal","nature","horn"],"char":"","fitzpatrick_scale":false,"category":"animals_and_nature"},"goat":{"keywords":["animal","nature"],"char":"","fitzpatrick_scale":false,"category":"animals_and_nature"},"ram":{"keywords":["animal","sheep","nature"],"char":"","fitzpatrick_scale":false,"category":"animals_and_nature"},"sheep":{"keywords":["animal","nature","wool","shipit"],"char":"","fitzpatrick_scale":false,"category":"animals_and_nature"},"racehorse":{"keywords":["animal","gamble","luck"],"char":"","fitzpatrick_scale":false,"category":"animals_and_nature"},"pig2":{"keywords":["animal","nature"],"char":"","fitzpatrick_scale":false,"category":"animals_and_nature"},"rat":{"keywords":["animal","mouse","rodent"],"char":"","fitzpatrick_scale":false,"category":"animals_and_nature"},"mouse2":{"keywords":["animal","nature","rodent"],"char":"","fitzpatrick_scale":false,"category":"animals_and_nature"},"rooster":{"keywords":["animal","nature","chicken"],"char":"","fitzpatrick_scale":false,"category":"animals_and_nature"},"turkey":{"keywords":["animal","bird"],"char":"","fitzpatrick_scale":false,"category":"animals_and_nature"},"dove":{"keywords":["animal","bird"],"char":"","fitzpatrick_scale":false,"category":"animals_and_nature"},"dog2":{"keywords":["animal","nature","friend","doge","pet","faithful"],"char":"","fitzpatrick_scale":false,"category":"animals_and_nature"},"poodle":{"keywords":["dog","animal","101","nature","pet"],"char":"","fitzpatrick_scale":false,"category":"animals_and_nature"},"cat2":{"keywords":["animal","meow","pet","cats"],"char":"","fitzpatrick_scale":false,"category":"animals_and_nature"},"rabbit2":{"keywords":["animal","nature","pet","magic","spring"],"char":"","fitzpatrick_scale":false,"category":"animals_and_nature"},"chipmunk":{"keywords":["animal","nature","rodent","squirrel"],"char":"","fitzpatrick_scale":false,"category":"animals_and_nature"},"hedgehog":{"keywords":["animal","nature","spiny"],"char":"","fitzpatrick_scale":false,"category":"animals_and_nature"},"raccoon":{"keywords":["animal","nature"],"char":"","fitzpatrick_scale":false,"category":"animals_and_nature"},"llama":{"keywords":["animal","nature","alpaca"],"char":"","fitzpatrick_scale":false,"category":"animals_and_nature"},"hippopotamus":{"keywords":["animal","nature"],"char":"","fitzpatrick_scale":false,"category":"animals_and_nature"},"kangaroo":{"keywords":["animal","nature","australia","joey","hop","marsupial"],"char":"","fitzpatrick_scale":false,"category":"animals_and_nature"},"badger":{"keywords":["animal","nature","honey"],"char":"","fitzpatrick_scale":false,"category":"animals_and_nature"},"swan":{"keywords":["animal","nature","bird"],"char":"","fitzpatrick_scale":false,"category":"animals_and_nature"},"peacock":{"keywords":["animal","nature","peahen","bird"],"char":"","fitzpatrick_scale":false,"category":"animals_and_nature"},"parrot":{"keywords":["animal","nature","bird","pirate","talk"],"char":"","fitzpatrick_scale":false,"category":"animals_and_nature"},"lobster":{"keywords":["animal","nature","bisque","claws","seafood"],"char":"","fitzpatrick_scale":false,"category":"animals_and_nature"},"mosquito":{"keywords":["animal","nature","insect","malaria"],"char":"","fitzpatrick_scale":false,"category":"animals_and_nature"},"paw_prints":{"keywords":["animal","tracking","footprints","dog","cat","pet","feet"],"char":"","fitzpatrick_scale":false,"category":"animals_and_nature"},"dragon":{"keywords":["animal","myth","nature","chinese","green"],"char":"","fitzpatrick_scale":false,"category":"animals_and_nature"},"dragon_face":{"keywords":["animal","myth","nature","chinese","green"],"char":"","fitzpatrick_scale":false,"category":"animals_and_nature"},"cactus":{"keywords":["vegetable","plant","nature"],"char":"","fitzpatrick_scale":false,"category":"animals_and_nature"},"christmas_tree":{"keywords":["festival","vacation","december","xmas","celebration"],"char":"","fitzpatrick_scale":false,"category":"animals_and_nature"},"evergreen_tree":{"keywords":["plant","nature"],"char":"","fitzpatrick_scale":false,"category":"animals_and_nature"},"deciduous_tree":{"keywords":["plant","nature"],"char":"","fitzpatrick_scale":false,"category":"animals_and_nature"},"palm_tree":{"keywords":["plant","vegetable","nature","summer","beach","mojito","tropical"],"char":"","fitzpatrick_scale":false,"category":"animals_and_nature"},"seedling":{"keywords":["plant","nature","grass","lawn","spring"],"char":"","fitzpatrick_scale":false,"category":"animals_and_nature"},"herb":{"keywords":["vegetable","plant","medicine","weed","grass","lawn"],"char":"","fitzpatrick_scale":false,"category":"animals_and_nature"},"shamrock":{"keywords":["vegetable","plant","nature","irish","clover"],"char":"","fitzpatrick_scale":false,"category":"animals_and_nature"},"four_leaf_clover":{"keywords":["vegetable","plant","nature","lucky","irish"],"char":"","fitzpatrick_scale":false,"category":"animals_and_nature"},"bamboo":{"keywords":["plant","nature","vegetable","panda","pine_decoration"],"char":"","fitzpatrick_scale":false,"category":"animals_and_nature"},"tanabata_tree":{"keywords":["plant","nature","branch","summer"],"char":"","fitzpatrick_scale":false,"category":"animals_and_nature"},"leaves":{"keywords":["nature","plant","tree","vegetable","grass","lawn","spring"],"char":"","fitzpatrick_scale":false,"category":"animals_and_nature"},"fallen_leaf":{"keywords":["nature","plant","vegetable","leaves"],"char":"","fitzpatrick_scale":false,"category":"animals_and_nature"},"maple_leaf":{"keywords":["nature","plant","vegetable","ca","fall"],"char":"","fitzpatrick_scale":false,"category":"animals_and_nature"},"ear_of_rice":{"keywords":["nature","plant"],"char":"","fitzpatrick_scale":false,"category":"animals_and_nature"},"hibiscus":{"keywords":["plant","vegetable","flowers","beach"],"char":"","fitzpatrick_scale":false,"category":"animals_and_nature"},"sunflower":{"keywords":["nature","plant","fall"],"char":"","fitzpatrick_scale":false,"category":"animals_and_nature"},"rose":{"keywords":["flowers","valentines","love","spring"],"char":"","fitzpatrick_scale":false,"category":"animals_and_nature"},"wilted_flower":{"keywords":["plant","nature","flower"],"char":"","fitzpatrick_scale":false,"category":"animals_and_nature"},"tulip":{"keywords":["flowers","plant","nature","summer","spring"],"char":"","fitzpatrick_scale":false,"category":"animals_and_nature"},"blossom":{"keywords":["nature","flowers","yellow"],"char":"","fitzpatrick_scale":false,"category":"animals_and_nature"},"cherry_blossom":{"keywords":["nature","plant","spring","flower"],"char":"","fitzpatrick_scale":false,"category":"animals_and_nature"},"bouquet":{"keywords":["flowers","nature","spring"],"char":"","fitzpatrick_scale":false,"category":"animals_and_nature"},"mushroom":{"keywords":["plant","vegetable"],"char":"","fitzpatrick_scale":false,"category":"animals_and_nature"},"chestnut":{"keywords":["food","squirrel"],"char":"","fitzpatrick_scale":false,"category":"animals_and_nature"},"jack_o_lantern":{"keywords":["halloween","light","pumpkin","creepy","fall"],"char":"","fitzpatrick_scale":false,"category":"animals_and_nature"},"shell":{"keywords":["nature","sea","beach"],"char":"","fitzpatrick_scale":false,"category":"animals_and_nature"},"spider_web":{"keywords":["animal","insect","arachnid","silk"],"char":"","fitzpatrick_scale":false,"category":"animals_and_nature"},"earth_americas":{"keywords":["globe","world","USA","international"],"char":"","fitzpatrick_scale":false,"category":"animals_and_nature"},"earth_africa":{"keywords":["globe","world","international"],"char":"","fitzpatrick_scale":false,"category":"animals_and_nature"},"earth_asia":{"keywords":["globe","world","east","international"],"char":"","fitzpatrick_scale":false,"category":"animals_and_nature"},"full_moon":{"keywords":["nature","yellow","twilight","planet","space","night","evening","sleep"],"char":"","fitzpatrick_scale":false,"category":"animals_and_nature"},"waning_gibbous_moon":{"keywords":["nature","twilight","planet","space","night","evening","sleep","waxing_gibbous_moon"],"char":"","fitzpatrick_scale":false,"category":"animals_and_nature"},"last_quarter_moon":{"keywords":["nature","twilight","planet","space","night","evening","sleep"],"char":"","fitzpatrick_scale":false,"category":"animals_and_nature"},"waning_crescent_moon":{"keywords":["nature","twilight","planet","space","night","evening","sleep"],"char":"","fitzpatrick_scale":false,"category":"animals_and_nature"},"new_moon":{"keywords":["nature","twilight","planet","space","night","evening","sleep"],"char":"","fitzpatrick_scale":false,"category":"animals_and_nature"},"waxing_crescent_moon":{"keywords":["nature","twilight","planet","space","night","evening","sleep"],"char":"","fitzpatrick_scale":false,"category":"animals_and_nature"},"first_quarter_moon":{"keywords":["nature","twilight","planet","space","night","evening","sleep"],"char":"","fitzpatrick_scale":false,"category":"animals_and_nature"},"waxing_gibbous_moon":{"keywords":["nature","night","sky","gray","twilight","planet","space","evening","sleep"],"char":"","fitzpatrick_scale":false,"category":"animals_and_nature"},"new_moon_with_face":{"keywords":["nature","twilight","planet","space","night","evening","sleep"],"char":"","fitzpatrick_scale":false,"category":"animals_and_nature"},"full_moon_with_face":{"keywords":["nature","twilight","planet","space","night","evening","sleep"],"char":"","fitzpatrick_scale":false,"category":"animals_and_nature"},"first_quarter_moon_with_face":{"keywords":["nature","twilight","planet","space","night","evening","sleep"],"char":"","fitzpatrick_scale":false,"category":"animals_and_nature"},"last_quarter_moon_with_face":{"keywords":["nature","twilight","planet","space","night","evening","sleep"],"char":"","fitzpatrick_scale":false,"category":"animals_and_nature"},"sun_with_face":{"keywords":["nature","morning","sky"],"char":"","fitzpatrick_scale":false,"category":"animals_and_nature"},"crescent_moon":{"keywords":["night","sleep","sky","evening","magic"],"char":"","fitzpatrick_scale":false,"category":"animals_and_nature"},"star":{"keywords":["night","yellow"],"char":"","fitzpatrick_scale":false,"category":"animals_and_nature"},"star2":{"keywords":["night","sparkle","awesome","good","magic"],"char":"","fitzpatrick_scale":false,"category":"animals_and_nature"},"dizzy":{"keywords":["star","sparkle","shoot","magic"],"char":"","fitzpatrick_scale":false,"category":"animals_and_nature"},"sparkles":{"keywords":["stars","shine","shiny","cool","awesome","good","magic"],"char":"","fitzpatrick_scale":false,"category":"animals_and_nature"},"comet":{"keywords":["space"],"char":"","fitzpatrick_scale":false,"category":"animals_and_nature"},"sunny":{"keywords":["weather","nature","brightness","summer","beach","spring"],"char":"","fitzpatrick_scale":false,"category":"animals_and_nature"},"sun_behind_small_cloud":{"keywords":["weather"],"char":"","fitzpatrick_scale":false,"category":"animals_and_nature"},"partly_sunny":{"keywords":["weather","nature","cloudy","morning","fall","spring"],"char":"","fitzpatrick_scale":false,"category":"animals_and_nature"},"sun_behind_large_cloud":{"keywords":["weather"],"char":"","fitzpatrick_scale":false,"category":"animals_and_nature"},"sun_behind_rain_cloud":{"keywords":["weather"],"char":"","fitzpatrick_scale":false,"category":"animals_and_nature"},"cloud":{"keywords":["weather","sky"],"char":"","fitzpatrick_scale":false,"category":"animals_and_nature"},"cloud_with_rain":{"keywords":["weather"],"char":"","fitzpatrick_scale":false,"category":"animals_and_nature"},"cloud_with_lightning_and_rain":{"keywords":["weather","lightning"],"char":"","fitzpatrick_scale":false,"category":"animals_and_nature"},"cloud_with_lightning":{"keywords":["weather","thunder"],"char":"","fitzpatrick_scale":false,"category":"animals_and_nature"},"zap":{"keywords":["thunder","weather","lightning bolt","fast"],"char":"","fitzpatrick_scale":false,"category":"animals_and_nature"},"fire":{"keywords":["hot","cook","flame"],"char":"","fitzpatrick_scale":false,"category":"animals_and_nature"},"boom":{"keywords":["bomb","explode","explosion","collision","blown"],"char":"","fitzpatrick_scale":false,"category":"animals_and_nature"},"snowflake":{"keywords":["winter","season","cold","weather","christmas","xmas"],"char":"","fitzpatrick_scale":false,"category":"animals_and_nature"},"cloud_with_snow":{"keywords":["weather"],"char":"","fitzpatrick_scale":false,"category":"animals_and_nature"},"snowman":{"keywords":["winter","season","cold","weather","christmas","xmas","frozen","without_snow"],"char":"","fitzpatrick_scale":false,"category":"animals_and_nature"},"snowman_with_snow":{"keywords":["winter","season","cold","weather","christmas","xmas","frozen"],"char":"","fitzpatrick_scale":false,"category":"animals_and_nature"},"wind_face":{"keywords":["gust","air"],"char":"","fitzpatrick_scale":false,"category":"animals_and_nature"},"dash":{"keywords":["wind","air","fast","shoo","fart","smoke","puff"],"char":"","fitzpatrick_scale":false,"category":"animals_and_nature"},"tornado":{"keywords":["weather","cyclone","twister"],"char":"","fitzpatrick_scale":false,"category":"animals_and_nature"},"fog":{"keywords":["weather"],"char":"","fitzpatrick_scale":false,"category":"animals_and_nature"},"open_umbrella":{"keywords":["weather","spring"],"char":"","fitzpatrick_scale":false,"category":"animals_and_nature"},"umbrella":{"keywords":["rainy","weather","spring"],"char":"","fitzpatrick_scale":false,"category":"animals_and_nature"},"droplet":{"keywords":["water","drip","faucet","spring"],"char":"","fitzpatrick_scale":false,"category":"animals_and_nature"},"sweat_drops":{"keywords":["water","drip","oops"],"char":"","fitzpatrick_scale":false,"category":"animals_and_nature"},"ocean":{"keywords":["sea","water","wave","nature","tsunami","disaster"],"char":"","fitzpatrick_scale":false,"category":"animals_and_nature"},"green_apple":{"keywords":["fruit","nature"],"char":"","fitzpatrick_scale":false,"category":"food_and_drink"},"apple":{"keywords":["fruit","mac","school"],"char":"","fitzpatrick_scale":false,"category":"food_and_drink"},"pear":{"keywords":["fruit","nature","food"],"char":"","fitzpatrick_scale":false,"category":"food_and_drink"},"tangerine":{"keywords":["food","fruit","nature","orange"],"char":"","fitzpatrick_scale":false,"category":"food_and_drink"},"lemon":{"keywords":["fruit","nature"],"char":"","fitzpatrick_scale":false,"category":"food_and_drink"},"banana":{"keywords":["fruit","food","monkey"],"char":"","fitzpatrick_scale":false,"category":"food_and_drink"},"watermelon":{"keywords":["fruit","food","picnic","summer"],"char":"","fitzpatrick_scale":false,"category":"food_and_drink"},"grapes":{"keywords":["fruit","food","wine"],"char":"","fitzpatrick_scale":false,"category":"food_and_drink"},"strawberry":{"keywords":["fruit","food","nature"],"char":"","fitzpatrick_scale":false,"category":"food_and_drink"},"melon":{"keywords":["fruit","nature","food"],"char":"","fitzpatrick_scale":false,"category":"food_and_drink"},"cherries":{"keywords":["food","fruit"],"char":"","fitzpatrick_scale":false,"category":"food_and_drink"},"peach":{"keywords":["fruit","nature","food"],"char":"","fitzpatrick_scale":false,"category":"food_and_drink"},"pineapple":{"keywords":["fruit","nature","food"],"char":"","fitzpatrick_scale":false,"category":"food_and_drink"},"coconut":{"keywords":["fruit","nature","food","palm"],"char":"","fitzpatrick_scale":false,"category":"food_and_drink"},"kiwi_fruit":{"keywords":["fruit","food"],"char":"","fitzpatrick_scale":false,"category":"food_and_drink"},"mango":{"keywords":["fruit","food","tropical"],"char":"","fitzpatrick_scale":false,"category":"food_and_drink"},"avocado":{"keywords":["fruit","food"],"char":"","fitzpatrick_scale":false,"category":"food_and_drink"},"broccoli":{"keywords":["fruit","food","vegetable"],"char":"","fitzpatrick_scale":false,"category":"food_and_drink"},"tomato":{"keywords":["fruit","vegetable","nature","food"],"char":"","fitzpatrick_scale":false,"category":"food_and_drink"},"eggplant":{"keywords":["vegetable","nature","food","aubergine"],"char":"","fitzpatrick_scale":false,"category":"food_and_drink"},"cucumber":{"keywords":["fruit","food","pickle"],"char":"","fitzpatrick_scale":false,"category":"food_and_drink"},"carrot":{"keywords":["vegetable","food","orange"],"char":"","fitzpatrick_scale":false,"category":"food_and_drink"},"hot_pepper":{"keywords":["food","spicy","chilli","chili"],"char":"","fitzpatrick_scale":false,"category":"food_and_drink"},"potato":{"keywords":["food","tuber","vegatable","starch"],"char":"","fitzpatrick_scale":false,"category":"food_and_drink"},"corn":{"keywords":["food","vegetable","plant"],"char":"","fitzpatrick_scale":false,"category":"food_and_drink"},"leafy_greens":{"keywords":["food","vegetable","plant","bok choy","cabbage","kale","lettuce"],"char":"","fitzpatrick_scale":false,"category":"food_and_drink"},"sweet_potato":{"keywords":["food","nature"],"char":"","fitzpatrick_scale":false,"category":"food_and_drink"},"peanuts":{"keywords":["food","nut"],"char":"","fitzpatrick_scale":false,"category":"food_and_drink"},"honey_pot":{"keywords":["bees","sweet","kitchen"],"char":"","fitzpatrick_scale":false,"category":"food_and_drink"},"croissant":{"keywords":["food","bread","french"],"char":"","fitzpatrick_scale":false,"category":"food_and_drink"},"bread":{"keywords":["food","wheat","breakfast","toast"],"char":"","fitzpatrick_scale":false,"category":"food_and_drink"},"baguette_bread":{"keywords":["food","bread","french"],"char":"","fitzpatrick_scale":false,"category":"food_and_drink"},"bagel":{"keywords":["food","bread","bakery","schmear"],"char":"","fitzpatrick_scale":false,"category":"food_and_drink"},"pretzel":{"keywords":["food","bread","twisted"],"char":"","fitzpatrick_scale":false,"category":"food_and_drink"},"cheese":{"keywords":["food","chadder"],"char":"","fitzpatrick_scale":false,"category":"food_and_drink"},"egg":{"keywords":["food","chicken","breakfast"],"char":"","fitzpatrick_scale":false,"category":"food_and_drink"},"bacon":{"keywords":["food","breakfast","pork","pig","meat"],"char":"","fitzpatrick_scale":false,"category":"food_and_drink"},"steak":{"keywords":["food","cow","meat","cut","chop","lambchop","porkchop"],"char":"","fitzpatrick_scale":false,"category":"food_and_drink"},"pancakes":{"keywords":["food","breakfast","flapjacks","hotcakes"],"char":"","fitzpatrick_scale":false,"category":"food_and_drink"},"poultry_leg":{"keywords":["food","meat","drumstick","bird","chicken","turkey"],"char":"","fitzpatrick_scale":false,"category":"food_and_drink"},"meat_on_bone":{"keywords":["good","food","drumstick"],"char":"","fitzpatrick_scale":false,"category":"food_and_drink"},"bone":{"keywords":["skeleton"],"char":"","fitzpatrick_scale":false,"category":"food_and_drink"},"fried_shrimp":{"keywords":["food","animal","appetizer","summer"],"char":"","fitzpatrick_scale":false,"category":"food_and_drink"},"fried_egg":{"keywords":["food","breakfast","kitchen","egg"],"char":"","fitzpatrick_scale":false,"category":"food_and_drink"},"hamburger":{"keywords":["meat","fast food","beef","cheeseburger","mcdonalds","burger king"],"char":"","fitzpatrick_scale":false,"category":"food_and_drink"},"fries":{"keywords":["chips","snack","fast food"],"char":"","fitzpatrick_scale":false,"category":"food_and_drink"},"stuffed_flatbread":{"keywords":["food","flatbread","stuffed","gyro"],"char":"","fitzpatrick_scale":false,"category":"food_and_drink"},"hotdog":{"keywords":["food","frankfurter"],"char":"","fitzpatrick_scale":false,"category":"food_and_drink"},"pizza":{"keywords":["food","party"],"char":"","fitzpatrick_scale":false,"category":"food_and_drink"},"sandwich":{"keywords":["food","lunch","bread"],"char":"","fitzpatrick_scale":false,"category":"food_and_drink"},"canned_food":{"keywords":["food","soup"],"char":"","fitzpatrick_scale":false,"category":"food_and_drink"},"spaghetti":{"keywords":["food","italian","noodle"],"char":"","fitzpatrick_scale":false,"category":"food_and_drink"},"taco":{"keywords":["food","mexican"],"char":"","fitzpatrick_scale":false,"category":"food_and_drink"},"burrito":{"keywords":["food","mexican"],"char":"","fitzpatrick_scale":false,"category":"food_and_drink"},"green_salad":{"keywords":["food","healthy","lettuce"],"char":"","fitzpatrick_scale":false,"category":"food_and_drink"},"shallow_pan_of_food":{"keywords":["food","cooking","casserole","paella"],"char":"","fitzpatrick_scale":false,"category":"food_and_drink"},"ramen":{"keywords":["food","japanese","noodle","chopsticks"],"char":"","fitzpatrick_scale":false,"category":"food_and_drink"},"stew":{"keywords":["food","meat","soup"],"char":"","fitzpatrick_scale":false,"category":"food_and_drink"},"fish_cake":{"keywords":["food","japan","sea","beach","narutomaki","pink","swirl","kamaboko","surimi","ramen"],"char":"","fitzpatrick_scale":false,"category":"food_and_drink"},"fortune_cookie":{"keywords":["food","prophecy"],"char":"","fitzpatrick_scale":false,"category":"food_and_drink"},"sushi":{"keywords":["food","fish","japanese","rice"],"char":"","fitzpatrick_scale":false,"category":"food_and_drink"},"bento":{"keywords":["food","japanese","box"],"char":"","fitzpatrick_scale":false,"category":"food_and_drink"},"curry":{"keywords":["food","spicy","hot","indian"],"char":"","fitzpatrick_scale":false,"category":"food_and_drink"},"rice_ball":{"keywords":["food","japanese"],"char":"","fitzpatrick_scale":false,"category":"food_and_drink"},"rice":{"keywords":["food","china","asian"],"char":"","fitzpatrick_scale":false,"category":"food_and_drink"},"rice_cracker":{"keywords":["food","japanese"],"char":"","fitzpatrick_scale":false,"category":"food_and_drink"},"oden":{"keywords":["food","japanese"],"char":"","fitzpatrick_scale":false,"category":"food_and_drink"},"dango":{"keywords":["food","dessert","sweet","japanese","barbecue","meat"],"char":"","fitzpatrick_scale":false,"category":"food_and_drink"},"shaved_ice":{"keywords":["hot","dessert","summer"],"char":"","fitzpatrick_scale":false,"category":"food_and_drink"},"ice_cream":{"keywords":["food","hot","dessert"],"char":"","fitzpatrick_scale":false,"category":"food_and_drink"},"icecream":{"keywords":["food","hot","dessert","summer"],"char":"","fitzpatrick_scale":false,"category":"food_and_drink"},"pie":{"keywords":["food","dessert","pastry"],"char":"","fitzpatrick_scale":false,"category":"food_and_drink"},"cake":{"keywords":["food","dessert"],"char":"","fitzpatrick_scale":false,"category":"food_and_drink"},"cupcake":{"keywords":["food","dessert","bakery","sweet"],"char":"","fitzpatrick_scale":false,"category":"food_and_drink"},"moon_cake":{"keywords":["food","autumn"],"char":"","fitzpatrick_scale":false,"category":"food_and_drink"},"birthday":{"keywords":["food","dessert","cake"],"char":"","fitzpatrick_scale":false,"category":"food_and_drink"},"custard":{"keywords":["dessert","food"],"char":"","fitzpatrick_scale":false,"category":"food_and_drink"},"candy":{"keywords":["snack","dessert","sweet","lolly"],"char":"","fitzpatrick_scale":false,"category":"food_and_drink"},"lollipop":{"keywords":["food","snack","candy","sweet"],"char":"","fitzpatrick_scale":false,"category":"food_and_drink"},"chocolate_bar":{"keywords":["food","snack","dessert","sweet"],"char":"","fitzpatrick_scale":false,"category":"food_and_drink"},"popcorn":{"keywords":["food","movie theater","films","snack"],"char":"","fitzpatrick_scale":false,"category":"food_and_drink"},"dumpling":{"keywords":["food","empanada","pierogi","potsticker"],"char":"","fitzpatrick_scale":false,"category":"food_and_drink"},"doughnut":{"keywords":["food","dessert","snack","sweet","donut"],"char":"","fitzpatrick_scale":false,"category":"food_and_drink"},"cookie":{"keywords":["food","snack","oreo","chocolate","sweet","dessert"],"char":"","fitzpatrick_scale":false,"category":"food_and_drink"},"milk_glass":{"keywords":["beverage","drink","cow"],"char":"","fitzpatrick_scale":false,"category":"food_and_drink"},"beer":{"keywords":["relax","beverage","drink","drunk","party","pub","summer","alcohol","booze"],"char":"","fitzpatrick_scale":false,"category":"food_and_drink"},"beers":{"keywords":["relax","beverage","drink","drunk","party","pub","summer","alcohol","booze"],"char":"","fitzpatrick_scale":false,"category":"food_and_drink"},"clinking_glasses":{"keywords":["beverage","drink","party","alcohol","celebrate","cheers","wine","champagne","toast"],"char":"","fitzpatrick_scale":false,"category":"food_and_drink"},"wine_glass":{"keywords":["drink","beverage","drunk","alcohol","booze"],"char":"","fitzpatrick_scale":false,"category":"food_and_drink"},"tumbler_glass":{"keywords":["drink","beverage","drunk","alcohol","liquor","booze","bourbon","scotch","whisky","glass","shot"],"char":"","fitzpatrick_scale":false,"category":"food_and_drink"},"cocktail":{"keywords":["drink","drunk","alcohol","beverage","booze","mojito"],"char":"","fitzpatrick_scale":false,"category":"food_and_drink"},"tropical_drink":{"keywords":["beverage","cocktail","summer","beach","alcohol","booze","mojito"],"char":"","fitzpatrick_scale":false,"category":"food_and_drink"},"champagne":{"keywords":["drink","wine","bottle","celebration"],"char":"","fitzpatrick_scale":false,"category":"food_and_drink"},"sake":{"keywords":["wine","drink","drunk","beverage","japanese","alcohol","booze"],"char":"","fitzpatrick_scale":false,"category":"food_and_drink"},"tea":{"keywords":["drink","bowl","breakfast","green","british"],"char":"","fitzpatrick_scale":false,"category":"food_and_drink"},"cup_with_straw":{"keywords":["drink","soda"],"char":"","fitzpatrick_scale":false,"category":"food_and_drink"},"coffee":{"keywords":["beverage","caffeine","latte","espresso"],"char":"","fitzpatrick_scale":false,"category":"food_and_drink"},"baby_bottle":{"keywords":["food","container","milk"],"char":"","fitzpatrick_scale":false,"category":"food_and_drink"},"salt":{"keywords":["condiment","shaker"],"char":"","fitzpatrick_scale":false,"category":"food_and_drink"},"spoon":{"keywords":["cutlery","kitchen","tableware"],"char":"","fitzpatrick_scale":false,"category":"food_and_drink"},"fork_and_knife":{"keywords":["cutlery","kitchen"],"char":"","fitzpatrick_scale":false,"category":"food_and_drink"},"plate_with_cutlery":{"keywords":["food","eat","meal","lunch","dinner","restaurant"],"char":"","fitzpatrick_scale":false,"category":"food_and_drink"},"bowl_with_spoon":{"keywords":["food","breakfast","cereal","oatmeal","porridge"],"char":"","fitzpatrick_scale":false,"category":"food_and_drink"},"takeout_box":{"keywords":["food","leftovers"],"char":"","fitzpatrick_scale":false,"category":"food_and_drink"},"chopsticks":{"keywords":["food"],"char":"","fitzpatrick_scale":false,"category":"food_and_drink"},"soccer":{"keywords":["sports","football"],"char":"","fitzpatrick_scale":false,"category":"activity"},"basketball":{"keywords":["sports","balls","NBA"],"char":"","fitzpatrick_scale":false,"category":"activity"},"football":{"keywords":["sports","balls","NFL"],"char":"","fitzpatrick_scale":false,"category":"activity"},"baseball":{"keywords":["sports","balls"],"char":"","fitzpatrick_scale":false,"category":"activity"},"softball":{"keywords":["sports","balls"],"char":"","fitzpatrick_scale":false,"category":"activity"},"tennis":{"keywords":["sports","balls","green"],"char":"","fitzpatrick_scale":false,"category":"activity"},"volleyball":{"keywords":["sports","balls"],"char":"","fitzpatrick_scale":false,"category":"activity"},"rugby_football":{"keywords":["sports","team"],"char":"","fitzpatrick_scale":false,"category":"activity"},"flying_disc":{"keywords":["sports","frisbee","ultimate"],"char":"","fitzpatrick_scale":false,"category":"activity"},"8ball":{"keywords":["pool","hobby","game","luck","magic"],"char":"","fitzpatrick_scale":false,"category":"activity"},"golf":{"keywords":["sports","business","flag","hole","summer"],"char":"","fitzpatrick_scale":false,"category":"activity"},"golfing_woman":{"keywords":["sports","business","woman","female"],"char":"","fitzpatrick_scale":false,"category":"activity"},"golfing_man":{"keywords":["sports","business"],"char":"","fitzpatrick_scale":true,"category":"activity"},"ping_pong":{"keywords":["sports","pingpong"],"char":"","fitzpatrick_scale":false,"category":"activity"},"badminton":{"keywords":["sports"],"char":"","fitzpatrick_scale":false,"category":"activity"},"goal_net":{"keywords":["sports"],"char":"","fitzpatrick_scale":false,"category":"activity"},"ice_hockey":{"keywords":["sports"],"char":"","fitzpatrick_scale":false,"category":"activity"},"field_hockey":{"keywords":["sports"],"char":"","fitzpatrick_scale":false,"category":"activity"},"lacrosse":{"keywords":["sports","ball","stick"],"char":"","fitzpatrick_scale":false,"category":"activity"},"cricket":{"keywords":["sports"],"char":"","fitzpatrick_scale":false,"category":"activity"},"ski":{"keywords":["sports","winter","cold","snow"],"char":"","fitzpatrick_scale":false,"category":"activity"},"skier":{"keywords":["sports","winter","snow"],"char":"","fitzpatrick_scale":false,"category":"activity"},"snowboarder":{"keywords":["sports","winter"],"char":"","fitzpatrick_scale":true,"category":"activity"},"person_fencing":{"keywords":["sports","fencing","sword"],"char":"","fitzpatrick_scale":false,"category":"activity"},"women_wrestling":{"keywords":["sports","wrestlers"],"char":"","fitzpatrick_scale":false,"category":"activity"},"men_wrestling":{"keywords":["sports","wrestlers"],"char":"","fitzpatrick_scale":false,"category":"activity"},"woman_cartwheeling":{"keywords":["gymnastics"],"char":"","fitzpatrick_scale":true,"category":"activity"},"man_cartwheeling":{"keywords":["gymnastics"],"char":"","fitzpatrick_scale":true,"category":"activity"},"woman_playing_handball":{"keywords":["sports"],"char":"","fitzpatrick_scale":true,"category":"activity"},"man_playing_handball":{"keywords":["sports"],"char":"","fitzpatrick_scale":true,"category":"activity"},"ice_skate":{"keywords":["sports"],"char":"","fitzpatrick_scale":false,"category":"activity"},"curling_stone":{"keywords":["sports"],"char":"","fitzpatrick_scale":false,"category":"activity"},"skateboard":{"keywords":["board"],"char":"","fitzpatrick_scale":false,"category":"activity"},"sled":{"keywords":["sleigh","luge","toboggan"],"char":"","fitzpatrick_scale":false,"category":"activity"},"bow_and_arrow":{"keywords":["sports"],"char":"","fitzpatrick_scale":false,"category":"activity"},"fishing_pole_and_fish":{"keywords":["food","hobby","summer"],"char":"","fitzpatrick_scale":false,"category":"activity"},"boxing_glove":{"keywords":["sports","fighting"],"char":"","fitzpatrick_scale":false,"category":"activity"},"martial_arts_uniform":{"keywords":["judo","karate","taekwondo"],"char":"","fitzpatrick_scale":false,"category":"activity"},"rowing_woman":{"keywords":["sports","hobby","water","ship","woman","female"],"char":"","fitzpatrick_scale":true,"category":"activity"},"rowing_man":{"keywords":["sports","hobby","water","ship"],"char":"","fitzpatrick_scale":true,"category":"activity"},"climbing_woman":{"keywords":["sports","hobby","woman","female","rock"],"char":"","fitzpatrick_scale":true,"category":"activity"},"climbing_man":{"keywords":["sports","hobby","man","male","rock"],"char":"","fitzpatrick_scale":true,"category":"activity"},"swimming_woman":{"keywords":["sports","exercise","human","athlete","water","summer","woman","female"],"char":"","fitzpatrick_scale":true,"category":"activity"},"swimming_man":{"keywords":["sports","exercise","human","athlete","water","summer"],"char":"","fitzpatrick_scale":true,"category":"activity"},"woman_playing_water_polo":{"keywords":["sports","pool"],"char":"","fitzpatrick_scale":true,"category":"activity"},"man_playing_water_polo":{"keywords":["sports","pool"],"char":"","fitzpatrick_scale":true,"category":"activity"},"woman_in_lotus_position":{"keywords":["woman","female","meditation","yoga","serenity","zen","mindfulness"],"char":"","fitzpatrick_scale":true,"category":"activity"},"man_in_lotus_position":{"keywords":["man","male","meditation","yoga","serenity","zen","mindfulness"],"char":"","fitzpatrick_scale":true,"category":"activity"},"surfing_woman":{"keywords":["sports","ocean","sea","summer","beach","woman","female"],"char":"","fitzpatrick_scale":true,"category":"activity"},"surfing_man":{"keywords":["sports","ocean","sea","summer","beach"],"char":"","fitzpatrick_scale":true,"category":"activity"},"bath":{"keywords":["clean","shower","bathroom"],"char":"","fitzpatrick_scale":true,"category":"activity"},"basketball_woman":{"keywords":["sports","human","woman","female"],"char":"","fitzpatrick_scale":true,"category":"activity"},"basketball_man":{"keywords":["sports","human"],"char":"","fitzpatrick_scale":true,"category":"activity"},"weight_lifting_woman":{"keywords":["sports","training","exercise","woman","female"],"char":"","fitzpatrick_scale":true,"category":"activity"},"weight_lifting_man":{"keywords":["sports","training","exercise"],"char":"","fitzpatrick_scale":true,"category":"activity"},"biking_woman":{"keywords":["sports","bike","exercise","hipster","woman","female"],"char":"","fitzpatrick_scale":true,"category":"activity"},"biking_man":{"keywords":["sports","bike","exercise","hipster"],"char":"","fitzpatrick_scale":true,"category":"activity"},"mountain_biking_woman":{"keywords":["transportation","sports","human","race","bike","woman","female"],"char":"","fitzpatrick_scale":true,"category":"activity"},"mountain_biking_man":{"keywords":["transportation","sports","human","race","bike"],"char":"","fitzpatrick_scale":true,"category":"activity"},"horse_racing":{"keywords":["animal","betting","competition","gambling","luck"],"char":"","fitzpatrick_scale":true,"category":"activity"},"business_suit_levitating":{"keywords":["suit","business","levitate","hover","jump"],"char":"","fitzpatrick_scale":true,"category":"activity"},"trophy":{"keywords":["win","award","contest","place","ftw","ceremony"],"char":"","fitzpatrick_scale":false,"category":"activity"},"running_shirt_with_sash":{"keywords":["play","pageant"],"char":"","fitzpatrick_scale":false,"category":"activity"},"medal_sports":{"keywords":["award","winning"],"char":"","fitzpatrick_scale":false,"category":"activity"},"medal_military":{"keywords":["award","winning","army"],"char":"","fitzpatrick_scale":false,"category":"activity"},"1st_place_medal":{"keywords":["award","winning","first"],"char":"","fitzpatrick_scale":false,"category":"activity"},"2nd_place_medal":{"keywords":["award","second"],"char":"","fitzpatrick_scale":false,"category":"activity"},"3rd_place_medal":{"keywords":["award","third"],"char":"","fitzpatrick_scale":false,"category":"activity"},"reminder_ribbon":{"keywords":["sports","cause","support","awareness"],"char":"","fitzpatrick_scale":false,"category":"activity"},"rosette":{"keywords":["flower","decoration","military"],"char":"","fitzpatrick_scale":false,"category":"activity"},"ticket":{"keywords":["event","concert","pass"],"char":"","fitzpatrick_scale":false,"category":"activity"},"tickets":{"keywords":["sports","concert","entrance"],"char":"","fitzpatrick_scale":false,"category":"activity"},"performing_arts":{"keywords":["acting","theater","drama"],"char":"","fitzpatrick_scale":false,"category":"activity"},"art":{"keywords":["design","paint","draw","colors"],"char":"","fitzpatrick_scale":false,"category":"activity"},"circus_tent":{"keywords":["festival","carnival","party"],"char":"","fitzpatrick_scale":false,"category":"activity"},"woman_juggling":{"keywords":["juggle","balance","skill","multitask"],"char":"","fitzpatrick_scale":true,"category":"activity"},"man_juggling":{"keywords":["juggle","balance","skill","multitask"],"char":"","fitzpatrick_scale":true,"category":"activity"},"microphone":{"keywords":["sound","music","PA","sing","talkshow"],"char":"","fitzpatrick_scale":false,"category":"activity"},"headphones":{"keywords":["music","score","gadgets"],"char":"","fitzpatrick_scale":false,"category":"activity"},"musical_score":{"keywords":["treble","clef","compose"],"char":"","fitzpatrick_scale":false,"category":"activity"},"musical_keyboard":{"keywords":["piano","instrument","compose"],"char":"","fitzpatrick_scale":false,"category":"activity"},"drum":{"keywords":["music","instrument","drumsticks","snare"],"char":"","fitzpatrick_scale":false,"category":"activity"},"saxophone":{"keywords":["music","instrument","jazz","blues"],"char":"","fitzpatrick_scale":false,"category":"activity"},"trumpet":{"keywords":["music","brass"],"char":"","fitzpatrick_scale":false,"category":"activity"},"guitar":{"keywords":["music","instrument"],"char":"","fitzpatrick_scale":false,"category":"activity"},"violin":{"keywords":["music","instrument","orchestra","symphony"],"char":"","fitzpatrick_scale":false,"category":"activity"},"clapper":{"keywords":["movie","film","record"],"char":"","fitzpatrick_scale":false,"category":"activity"},"video_game":{"keywords":["play","console","PS4","controller"],"char":"","fitzpatrick_scale":false,"category":"activity"},"space_invader":{"keywords":["game","arcade","play"],"char":"","fitzpatrick_scale":false,"category":"activity"},"dart":{"keywords":["game","play","bar","target","bullseye"],"char":"","fitzpatrick_scale":false,"category":"activity"},"game_die":{"keywords":["dice","random","tabletop","play","luck"],"char":"","fitzpatrick_scale":false,"category":"activity"},"chess_pawn":{"keywords":["expendable"],"char":"","fitzpatrick_scale":false,"category":"activity"},"slot_machine":{"keywords":["bet","gamble","vegas","fruit machine","luck","casino"],"char":"","fitzpatrick_scale":false,"category":"activity"},"jigsaw":{"keywords":["interlocking","puzzle","piece"],"char":"","fitzpatrick_scale":false,"category":"activity"},"bowling":{"keywords":["sports","fun","play"],"char":"","fitzpatrick_scale":false,"category":"activity"},"red_car":{"keywords":["red","transportation","vehicle"],"char":"","fitzpatrick_scale":false,"category":"travel_and_places"},"taxi":{"keywords":["uber","vehicle","cars","transportation"],"char":"","fitzpatrick_scale":false,"category":"travel_and_places"},"blue_car":{"keywords":["transportation","vehicle"],"char":"","fitzpatrick_scale":false,"category":"travel_and_places"},"bus":{"keywords":["car","vehicle","transportation"],"char":"","fitzpatrick_scale":false,"category":"travel_and_places"},"trolleybus":{"keywords":["bart","transportation","vehicle"],"char":"","fitzpatrick_scale":false,"category":"travel_and_places"},"racing_car":{"keywords":["sports","race","fast","formula","f1"],"char":"","fitzpatrick_scale":false,"category":"travel_and_places"},"police_car":{"keywords":["vehicle","cars","transportation","law","legal","enforcement"],"char":"","fitzpatrick_scale":false,"category":"travel_and_places"},"ambulance":{"keywords":["health","911","hospital"],"char":"","fitzpatrick_scale":false,"category":"travel_and_places"},"fire_engine":{"keywords":["transportation","cars","vehicle"],"char":"","fitzpatrick_scale":false,"category":"travel_and_places"},"minibus":{"keywords":["vehicle","car","transportation"],"char":"","fitzpatrick_scale":false,"category":"travel_and_places"},"truck":{"keywords":["cars","transportation"],"char":"","fitzpatrick_scale":false,"category":"travel_and_places"},"articulated_lorry":{"keywords":["vehicle","cars","transportation","express"],"char":"","fitzpatrick_scale":false,"category":"travel_and_places"},"tractor":{"keywords":["vehicle","car","farming","agriculture"],"char":"","fitzpatrick_scale":false,"category":"travel_and_places"},"kick_scooter":{"keywords":["vehicle","kick","razor"],"char":"","fitzpatrick_scale":false,"category":"travel_and_places"},"motorcycle":{"keywords":["race","sports","fast"],"char":"","fitzpatrick_scale":false,"category":"travel_and_places"},"bike":{"keywords":["sports","bicycle","exercise","hipster"],"char":"","fitzpatrick_scale":false,"category":"travel_and_places"},"motor_scooter":{"keywords":["vehicle","vespa","sasha"],"char":"","fitzpatrick_scale":false,"category":"travel_and_places"},"rotating_light":{"keywords":["police","ambulance","911","emergency","alert","error","pinged","law","legal"],"char":"","fitzpatrick_scale":false,"category":"travel_and_places"},"oncoming_police_car":{"keywords":["vehicle","law","legal","enforcement","911"],"char":"","fitzpatrick_scale":false,"category":"travel_and_places"},"oncoming_bus":{"keywords":["vehicle","transportation"],"char":"","fitzpatrick_scale":false,"category":"travel_and_places"},"oncoming_automobile":{"keywords":["car","vehicle","transportation"],"char":"","fitzpatrick_scale":false,"category":"travel_and_places"},"oncoming_taxi":{"keywords":["vehicle","cars","uber"],"char":"","fitzpatrick_scale":false,"category":"travel_and_places"},"aerial_tramway":{"keywords":["transportation","vehicle","ski"],"char":"","fitzpatrick_scale":false,"category":"travel_and_places"},"mountain_cableway":{"keywords":["transportation","vehicle","ski"],"char":"","fitzpatrick_scale":false,"category":"travel_and_places"},"suspension_railway":{"keywords":["vehicle","transportation"],"char":"","fitzpatrick_scale":false,"category":"travel_and_places"},"railway_car":{"keywords":["transportation","vehicle"],"char":"","fitzpatrick_scale":false,"category":"travel_and_places"},"train":{"keywords":["transportation","vehicle","carriage","public","travel"],"char":"","fitzpatrick_scale":false,"category":"travel_and_places"},"monorail":{"keywords":["transportation","vehicle"],"char":"","fitzpatrick_scale":false,"category":"travel_and_places"},"bullettrain_side":{"keywords":["transportation","vehicle"],"char":"","fitzpatrick_scale":false,"category":"travel_and_places"},"bullettrain_front":{"keywords":["transportation","vehicle","speed","fast","public","travel"],"char":"","fitzpatrick_scale":false,"category":"travel_and_places"},"light_rail":{"keywords":["transportation","vehicle"],"char":"","fitzpatrick_scale":false,"category":"travel_and_places"},"mountain_railway":{"keywords":["transportation","vehicle"],"char":"","fitzpatrick_scale":false,"category":"travel_and_places"},"steam_locomotive":{"keywords":["transportation","vehicle","train"],"char":"","fitzpatrick_scale":false,"category":"travel_and_places"},"train2":{"keywords":["transportation","vehicle"],"char":"","fitzpatrick_scale":false,"category":"travel_and_places"},"metro":{"keywords":["transportation","blue-square","mrt","underground","tube"],"char":"","fitzpatrick_scale":false,"category":"travel_and_places"},"tram":{"keywords":["transportation","vehicle"],"char":"","fitzpatrick_scale":false,"category":"travel_and_places"},"station":{"keywords":["transportation","vehicle","public"],"char":"","fitzpatrick_scale":false,"category":"travel_and_places"},"flying_saucer":{"keywords":["transportation","vehicle","ufo"],"char":"","fitzpatrick_scale":false,"category":"travel_and_places"},"helicopter":{"keywords":["transportation","vehicle","fly"],"char":"","fitzpatrick_scale":false,"category":"travel_and_places"},"small_airplane":{"keywords":["flight","transportation","fly","vehicle"],"char":"","fitzpatrick_scale":false,"category":"travel_and_places"},"airplane":{"keywords":["vehicle","transportation","flight","fly"],"char":"","fitzpatrick_scale":false,"category":"travel_and_places"},"flight_departure":{"keywords":["airport","flight","landing"],"char":"","fitzpatrick_scale":false,"category":"travel_and_places"},"flight_arrival":{"keywords":["airport","flight","boarding"],"char":"","fitzpatrick_scale":false,"category":"travel_and_places"},"sailboat":{"keywords":["ship","summer","transportation","water","sailing"],"char":"","fitzpatrick_scale":false,"category":"travel_and_places"},"motor_boat":{"keywords":["ship"],"char":"","fitzpatrick_scale":false,"category":"travel_and_places"},"speedboat":{"keywords":["ship","transportation","vehicle","summer"],"char":"","fitzpatrick_scale":false,"category":"travel_and_places"},"ferry":{"keywords":["boat","ship","yacht"],"char":"","fitzpatrick_scale":false,"category":"travel_and_places"},"passenger_ship":{"keywords":["yacht","cruise","ferry"],"char":"","fitzpatrick_scale":false,"category":"travel_and_places"},"rocket":{"keywords":["launch","ship","staffmode","NASA","outer space","outer_space","fly"],"char":"","fitzpatrick_scale":false,"category":"travel_and_places"},"artificial_satellite":{"keywords":["communication","gps","orbit","spaceflight","NASA","ISS"],"char":"","fitzpatrick_scale":false,"category":"travel_and_places"},"seat":{"keywords":["sit","airplane","transport","bus","flight","fly"],"char":"","fitzpatrick_scale":false,"category":"travel_and_places"},"canoe":{"keywords":["boat","paddle","water","ship"],"char":"","fitzpatrick_scale":false,"category":"travel_and_places"},"anchor":{"keywords":["ship","ferry","sea","boat"],"char":"","fitzpatrick_scale":false,"category":"travel_and_places"},"construction":{"keywords":["wip","progress","caution","warning"],"char":"","fitzpatrick_scale":false,"category":"travel_and_places"},"fuelpump":{"keywords":["gas station","petroleum"],"char":"","fitzpatrick_scale":false,"category":"travel_and_places"},"busstop":{"keywords":["transportation","wait"],"char":"","fitzpatrick_scale":false,"category":"travel_and_places"},"vertical_traffic_light":{"keywords":["transportation","driving"],"char":"","fitzpatrick_scale":false,"category":"travel_and_places"},"traffic_light":{"keywords":["transportation","signal"],"char":"","fitzpatrick_scale":false,"category":"travel_and_places"},"checkered_flag":{"keywords":["contest","finishline","race","gokart"],"char":"","fitzpatrick_scale":false,"category":"travel_and_places"},"ship":{"keywords":["transportation","titanic","deploy"],"char":"","fitzpatrick_scale":false,"category":"travel_and_places"},"ferris_wheel":{"keywords":["photo","carnival","londoneye"],"char":"","fitzpatrick_scale":false,"category":"travel_and_places"},"roller_coaster":{"keywords":["carnival","playground","photo","fun"],"char":"","fitzpatrick_scale":false,"category":"travel_and_places"},"carousel_horse":{"keywords":["photo","carnival"],"char":"","fitzpatrick_scale":false,"category":"travel_and_places"},"building_construction":{"keywords":["wip","working","progress"],"char":"","fitzpatrick_scale":false,"category":"travel_and_places"},"foggy":{"keywords":["photo","mountain"],"char":"","fitzpatrick_scale":false,"category":"travel_and_places"},"tokyo_tower":{"keywords":["photo","japanese"],"char":"","fitzpatrick_scale":false,"category":"travel_and_places"},"factory":{"keywords":["building","industry","pollution","smoke"],"char":"","fitzpatrick_scale":false,"category":"travel_and_places"},"fountain":{"keywords":["photo","summer","water","fresh"],"char":"","fitzpatrick_scale":false,"category":"travel_and_places"},"rice_scene":{"keywords":["photo","japan","asia","tsukimi"],"char":"","fitzpatrick_scale":false,"category":"travel_and_places"},"mountain":{"keywords":["photo","nature","environment"],"char":"","fitzpatrick_scale":false,"category":"travel_and_places"},"mountain_snow":{"keywords":["photo","nature","environment","winter","cold"],"char":"","fitzpatrick_scale":false,"category":"travel_and_places"},"mount_fuji":{"keywords":["photo","mountain","nature","japanese"],"char":"","fitzpatrick_scale":false,"category":"travel_and_places"},"volcano":{"keywords":["photo","nature","disaster"],"char":"","fitzpatrick_scale":false,"category":"travel_and_places"},"japan":{"keywords":["nation","country","japanese","asia"],"char":"","fitzpatrick_scale":false,"category":"travel_and_places"},"camping":{"keywords":["photo","outdoors","tent"],"char":"","fitzpatrick_scale":false,"category":"travel_and_places"},"tent":{"keywords":["photo","camping","outdoors"],"char":"","fitzpatrick_scale":false,"category":"travel_and_places"},"national_park":{"keywords":["photo","environment","nature"],"char":"","fitzpatrick_scale":false,"category":"travel_and_places"},"motorway":{"keywords":["road","cupertino","interstate","highway"],"char":"","fitzpatrick_scale":false,"category":"travel_and_places"},"railway_track":{"keywords":["train","transportation"],"char":"","fitzpatrick_scale":false,"category":"travel_and_places"},"sunrise":{"keywords":["morning","view","vacation","photo"],"char":"","fitzpatrick_scale":false,"category":"travel_and_places"},"sunrise_over_mountains":{"keywords":["view","vacation","photo"],"char":"","fitzpatrick_scale":false,"category":"travel_and_places"},"desert":{"keywords":["photo","warm","saharah"],"char":"","fitzpatrick_scale":false,"category":"travel_and_places"},"beach_umbrella":{"keywords":["weather","summer","sunny","sand","mojito"],"char":"","fitzpatrick_scale":false,"category":"travel_and_places"},"desert_island":{"keywords":["photo","tropical","mojito"],"char":"","fitzpatrick_scale":false,"category":"travel_and_places"},"city_sunrise":{"keywords":["photo","good morning","dawn"],"char":"","fitzpatrick_scale":false,"category":"travel_and_places"},"city_sunset":{"keywords":["photo","evening","sky","buildings"],"char":"","fitzpatrick_scale":false,"category":"travel_and_places"},"cityscape":{"keywords":["photo","night life","urban"],"char":"","fitzpatrick_scale":false,"category":"travel_and_places"},"night_with_stars":{"keywords":["evening","city","downtown"],"char":"","fitzpatrick_scale":false,"category":"travel_and_places"},"bridge_at_night":{"keywords":["photo","sanfrancisco"],"char":"","fitzpatrick_scale":false,"category":"travel_and_places"},"milky_way":{"keywords":["photo","space","stars"],"char":"","fitzpatrick_scale":false,"category":"travel_and_places"},"stars":{"keywords":["night","photo"],"char":"","fitzpatrick_scale":false,"category":"travel_and_places"},"sparkler":{"keywords":["stars","night","shine"],"char":"","fitzpatrick_scale":false,"category":"travel_and_places"},"fireworks":{"keywords":["photo","festival","carnival","congratulations"],"char":"","fitzpatrick_scale":false,"category":"travel_and_places"},"rainbow":{"keywords":["nature","happy","unicorn_face","photo","sky","spring"],"char":"","fitzpatrick_scale":false,"category":"travel_and_places"},"houses":{"keywords":["buildings","photo"],"char":"","fitzpatrick_scale":false,"category":"travel_and_places"},"european_castle":{"keywords":["building","royalty","history"],"char":"","fitzpatrick_scale":false,"category":"travel_and_places"},"japanese_castle":{"keywords":["photo","building"],"char":"","fitzpatrick_scale":false,"category":"travel_and_places"},"stadium":{"keywords":["photo","place","sports","concert","venue"],"char":"","fitzpatrick_scale":false,"category":"travel_and_places"},"statue_of_liberty":{"keywords":["american","newyork"],"char":"","fitzpatrick_scale":false,"category":"travel_and_places"},"house":{"keywords":["building","home"],"char":"","fitzpatrick_scale":false,"category":"travel_and_places"},"house_with_garden":{"keywords":["home","plant","nature"],"char":"","fitzpatrick_scale":false,"category":"travel_and_places"},"derelict_house":{"keywords":["abandon","evict","broken","building"],"char":"","fitzpatrick_scale":false,"category":"travel_and_places"},"office":{"keywords":["building","bureau","work"],"char":"","fitzpatrick_scale":false,"category":"travel_and_places"},"department_store":{"keywords":["building","shopping","mall"],"char":"","fitzpatrick_scale":false,"category":"travel_and_places"},"post_office":{"keywords":["building","envelope","communication"],"char":"","fitzpatrick_scale":false,"category":"travel_and_places"},"european_post_office":{"keywords":["building","email"],"char":"","fitzpatrick_scale":false,"category":"travel_and_places"},"hospital":{"keywords":["building","health","surgery","doctor"],"char":"","fitzpatrick_scale":false,"category":"travel_and_places"},"bank":{"keywords":["building","money","sales","cash","business","enterprise"],"char":"","fitzpatrick_scale":false,"category":"travel_and_places"},"hotel":{"keywords":["building","accomodation","checkin"],"char":"","fitzpatrick_scale":false,"category":"travel_and_places"},"convenience_store":{"keywords":["building","shopping","groceries"],"char":"","fitzpatrick_scale":false,"category":"travel_and_places"},"school":{"keywords":["building","student","education","learn","teach"],"char":"","fitzpatrick_scale":false,"category":"travel_and_places"},"love_hotel":{"keywords":["like","affection","dating"],"char":"","fitzpatrick_scale":false,"category":"travel_and_places"},"wedding":{"keywords":["love","like","affection","couple","marriage","bride","groom"],"char":"","fitzpatrick_scale":false,"category":"travel_and_places"},"classical_building":{"keywords":["art","culture","history"],"char":"","fitzpatrick_scale":false,"category":"travel_and_places"},"church":{"keywords":["building","religion","christ"],"char":"","fitzpatrick_scale":false,"category":"travel_and_places"},"mosque":{"keywords":["islam","worship","minaret"],"char":"","fitzpatrick_scale":false,"category":"travel_and_places"},"synagogue":{"keywords":["judaism","worship","temple","jewish"],"char":"","fitzpatrick_scale":false,"category":"travel_and_places"},"kaaba":{"keywords":["mecca","mosque","islam"],"char":"","fitzpatrick_scale":false,"category":"travel_and_places"},"shinto_shrine":{"keywords":["temple","japan","kyoto"],"char":"","fitzpatrick_scale":false,"category":"travel_and_places"},"watch":{"keywords":["time","accessories"],"char":"","fitzpatrick_scale":false,"category":"objects"},"iphone":{"keywords":["technology","apple","gadgets","dial"],"char":"","fitzpatrick_scale":false,"category":"objects"},"calling":{"keywords":["iphone","incoming"],"char":"","fitzpatrick_scale":false,"category":"objects"},"computer":{"keywords":["technology","laptop","screen","display","monitor"],"char":"","fitzpatrick_scale":false,"category":"objects"},"keyboard":{"keywords":["technology","computer","type","input","text"],"char":"","fitzpatrick_scale":false,"category":"objects"},"desktop_computer":{"keywords":["technology","computing","screen"],"char":"","fitzpatrick_scale":false,"category":"objects"},"printer":{"keywords":["paper","ink"],"char":"","fitzpatrick_scale":false,"category":"objects"},"computer_mouse":{"keywords":["click"],"char":"","fitzpatrick_scale":false,"category":"objects"},"trackball":{"keywords":["technology","trackpad"],"char":"","fitzpatrick_scale":false,"category":"objects"},"joystick":{"keywords":["game","play"],"char":"","fitzpatrick_scale":false,"category":"objects"},"clamp":{"keywords":["tool"],"char":"","fitzpatrick_scale":false,"category":"objects"},"minidisc":{"keywords":["technology","record","data","disk","90s"],"char":"","fitzpatrick_scale":false,"category":"objects"},"floppy_disk":{"keywords":["oldschool","technology","save","90s","80s"],"char":"","fitzpatrick_scale":false,"category":"objects"},"cd":{"keywords":["technology","dvd","disk","disc","90s"],"char":"","fitzpatrick_scale":false,"category":"objects"},"dvd":{"keywords":["cd","disk","disc"],"char":"","fitzpatrick_scale":false,"category":"objects"},"vhs":{"keywords":["record","video","oldschool","90s","80s"],"char":"","fitzpatrick_scale":false,"category":"objects"},"camera":{"keywords":["gadgets","photography"],"char":"","fitzpatrick_scale":false,"category":"objects"},"camera_flash":{"keywords":["photography","gadgets"],"char":"","fitzpatrick_scale":false,"category":"objects"},"video_camera":{"keywords":["film","record"],"char":"","fitzpatrick_scale":false,"category":"objects"},"movie_camera":{"keywords":["film","record"],"char":"","fitzpatrick_scale":false,"category":"objects"},"film_projector":{"keywords":["video","tape","record","movie"],"char":"","fitzpatrick_scale":false,"category":"objects"},"film_strip":{"keywords":["movie"],"char":"","fitzpatrick_scale":false,"category":"objects"},"telephone_receiver":{"keywords":["technology","communication","dial"],"char":"","fitzpatrick_scale":false,"category":"objects"},"phone":{"keywords":["technology","communication","dial","telephone"],"char":"","fitzpatrick_scale":false,"category":"objects"},"pager":{"keywords":["bbcall","oldschool","90s"],"char":"","fitzpatrick_scale":false,"category":"objects"},"fax":{"keywords":["communication","technology"],"char":"","fitzpatrick_scale":false,"category":"objects"},"tv":{"keywords":["technology","program","oldschool","show","television"],"char":"","fitzpatrick_scale":false,"category":"objects"},"radio":{"keywords":["communication","music","podcast","program"],"char":"","fitzpatrick_scale":false,"category":"objects"},"studio_microphone":{"keywords":["sing","recording","artist","talkshow"],"char":"","fitzpatrick_scale":false,"category":"objects"},"level_slider":{"keywords":["scale"],"char":"","fitzpatrick_scale":false,"category":"objects"},"control_knobs":{"keywords":["dial"],"char":"","fitzpatrick_scale":false,"category":"objects"},"compass":{"keywords":["magnetic","navigation","orienteering"],"char":"","fitzpatrick_scale":false,"category":"objects"},"stopwatch":{"keywords":["time","deadline"],"char":"","fitzpatrick_scale":false,"category":"objects"},"timer_clock":{"keywords":["alarm"],"char":"","fitzpatrick_scale":false,"category":"objects"},"alarm_clock":{"keywords":["time","wake"],"char":"","fitzpatrick_scale":false,"category":"objects"},"mantelpiece_clock":{"keywords":["time"],"char":"","fitzpatrick_scale":false,"category":"objects"},"hourglass_flowing_sand":{"keywords":["oldschool","time","countdown"],"char":"","fitzpatrick_scale":false,"category":"objects"},"hourglass":{"keywords":["time","clock","oldschool","limit","exam","quiz","test"],"char":"","fitzpatrick_scale":false,"category":"objects"},"satellite":{"keywords":["communication","future","radio","space"],"char":"","fitzpatrick_scale":false,"category":"objects"},"battery":{"keywords":["power","energy","sustain"],"char":"","fitzpatrick_scale":false,"category":"objects"},"electric_plug":{"keywords":["charger","power"],"char":"","fitzpatrick_scale":false,"category":"objects"},"bulb":{"keywords":["light","electricity","idea"],"char":"","fitzpatrick_scale":false,"category":"objects"},"flashlight":{"keywords":["dark","camping","sight","night"],"char":"","fitzpatrick_scale":false,"category":"objects"},"candle":{"keywords":["fire","wax"],"char":"","fitzpatrick_scale":false,"category":"objects"},"fire_extinguisher":{"keywords":["quench"],"char":"","fitzpatrick_scale":false,"category":"objects"},"wastebasket":{"keywords":["bin","trash","rubbish","garbage","toss"],"char":"","fitzpatrick_scale":false,"category":"objects"},"oil_drum":{"keywords":["barrell"],"char":"","fitzpatrick_scale":false,"category":"objects"},"money_with_wings":{"keywords":["dollar","bills","payment","sale"],"char":"","fitzpatrick_scale":false,"category":"objects"},"dollar":{"keywords":["money","sales","bill","currency"],"char":"","fitzpatrick_scale":false,"category":"objects"},"yen":{"keywords":["money","sales","japanese","dollar","currency"],"char":"","fitzpatrick_scale":false,"category":"objects"},"euro":{"keywords":["money","sales","dollar","currency"],"char":"","fitzpatrick_scale":false,"category":"objects"},"pound":{"keywords":["british","sterling","money","sales","bills","uk","england","currency"],"char":"","fitzpatrick_scale":false,"category":"objects"},"moneybag":{"keywords":["dollar","payment","coins","sale"],"char":"","fitzpatrick_scale":false,"category":"objects"},"credit_card":{"keywords":["money","sales","dollar","bill","payment","shopping"],"char":"","fitzpatrick_scale":false,"category":"objects"},"gem":{"keywords":["blue","ruby","diamond","jewelry"],"char":"","fitzpatrick_scale":false,"category":"objects"},"balance_scale":{"keywords":["law","fairness","weight"],"char":"","fitzpatrick_scale":false,"category":"objects"},"toolbox":{"keywords":["tools","diy","fix","maintainer","mechanic"],"char":"","fitzpatrick_scale":false,"category":"objects"},"wrench":{"keywords":["tools","diy","ikea","fix","maintainer"],"char":"","fitzpatrick_scale":false,"category":"objects"},"hammer":{"keywords":["tools","build","create"],"char":"","fitzpatrick_scale":false,"category":"objects"},"hammer_and_pick":{"keywords":["tools","build","create"],"char":"","fitzpatrick_scale":false,"category":"objects"},"hammer_and_wrench":{"keywords":["tools","build","create"],"char":"","fitzpatrick_scale":false,"category":"objects"},"pick":{"keywords":["tools","dig"],"char":"","fitzpatrick_scale":false,"category":"objects"},"nut_and_bolt":{"keywords":["handy","tools","fix"],"char":"","fitzpatrick_scale":false,"category":"objects"},"gear":{"keywords":["cog"],"char":"","fitzpatrick_scale":false,"category":"objects"},"brick":{"keywords":["bricks"],"char":"","fitzpatrick_scale":false,"category":"objects"},"chains":{"keywords":["lock","arrest"],"char":"","fitzpatrick_scale":false,"category":"objects"},"magnet":{"keywords":["attraction","magnetic"],"char":"","fitzpatrick_scale":false,"category":"objects"},"gun":{"keywords":["violence","weapon","pistol","revolver"],"char":"","fitzpatrick_scale":false,"category":"objects"},"bomb":{"keywords":["boom","explode","explosion","terrorism"],"char":"","fitzpatrick_scale":false,"category":"objects"},"firecracker":{"keywords":["dynamite","boom","explode","explosion","explosive"],"char":"","fitzpatrick_scale":false,"category":"objects"},"hocho":{"keywords":["knife","blade","cutlery","kitchen","weapon"],"char":"","fitzpatrick_scale":false,"category":"objects"},"dagger":{"keywords":["weapon"],"char":"","fitzpatrick_scale":false,"category":"objects"},"crossed_swords":{"keywords":["weapon"],"char":"","fitzpatrick_scale":false,"category":"objects"},"shield":{"keywords":["protection","security"],"char":"","fitzpatrick_scale":false,"category":"objects"},"smoking":{"keywords":["kills","tobacco","cigarette","joint","smoke"],"char":"","fitzpatrick_scale":false,"category":"objects"},"skull_and_crossbones":{"keywords":["poison","danger","deadly","scary","death","pirate","evil"],"char":"","fitzpatrick_scale":false,"category":"objects"},"coffin":{"keywords":["vampire","dead","die","death","rip","graveyard","cemetery","casket","funeral","box"],"char":"","fitzpatrick_scale":false,"category":"objects"},"funeral_urn":{"keywords":["dead","die","death","rip","ashes"],"char":"","fitzpatrick_scale":false,"category":"objects"},"amphora":{"keywords":["vase","jar"],"char":"","fitzpatrick_scale":false,"category":"objects"},"crystal_ball":{"keywords":["disco","party","magic","circus","fortune_teller"],"char":"","fitzpatrick_scale":false,"category":"objects"},"prayer_beads":{"keywords":["dhikr","religious"],"char":"","fitzpatrick_scale":false,"category":"objects"},"nazar_amulet":{"keywords":["bead","charm"],"char":"","fitzpatrick_scale":false,"category":"objects"},"barber":{"keywords":["hair","salon","style"],"char":"","fitzpatrick_scale":false,"category":"objects"},"alembic":{"keywords":["distilling","science","experiment","chemistry"],"char":"","fitzpatrick_scale":false,"category":"objects"},"telescope":{"keywords":["stars","space","zoom","science","astronomy"],"char":"","fitzpatrick_scale":false,"category":"objects"},"microscope":{"keywords":["laboratory","experiment","zoomin","science","study"],"char":"","fitzpatrick_scale":false,"category":"objects"},"hole":{"keywords":["embarrassing"],"char":"","fitzpatrick_scale":false,"category":"objects"},"pill":{"keywords":["health","medicine","doctor","pharmacy","drug"],"char":"","fitzpatrick_scale":false,"category":"objects"},"syringe":{"keywords":["health","hospital","drugs","blood","medicine","needle","doctor","nurse"],"char":"","fitzpatrick_scale":false,"category":"objects"},"dna":{"keywords":["biologist","genetics","life"],"char":"","fitzpatrick_scale":false,"category":"objects"},"microbe":{"keywords":["amoeba","bacteria","germs"],"char":"","fitzpatrick_scale":false,"category":"objects"},"petri_dish":{"keywords":["bacteria","biology","culture","lab"],"char":"","fitzpatrick_scale":false,"category":"objects"},"test_tube":{"keywords":["chemistry","experiment","lab","science"],"char":"","fitzpatrick_scale":false,"category":"objects"},"thermometer":{"keywords":["weather","temperature","hot","cold"],"char":"","fitzpatrick_scale":false,"category":"objects"},"broom":{"keywords":["cleaning","sweeping","witch"],"char":"","fitzpatrick_scale":false,"category":"objects"},"basket":{"keywords":["laundry"],"char":"","fitzpatrick_scale":false,"category":"objects"},"toilet_paper":{"keywords":["roll"],"char":"","fitzpatrick_scale":false,"category":"objects"},"label":{"keywords":["sale","tag"],"char":"","fitzpatrick_scale":false,"category":"objects"},"bookmark":{"keywords":["favorite","label","save"],"char":"","fitzpatrick_scale":false,"category":"objects"},"toilet":{"keywords":["restroom","wc","washroom","bathroom","potty"],"char":"","fitzpatrick_scale":false,"category":"objects"},"shower":{"keywords":["clean","water","bathroom"],"char":"","fitzpatrick_scale":false,"category":"objects"},"bathtub":{"keywords":["clean","shower","bathroom"],"char":"","fitzpatrick_scale":false,"category":"objects"},"soap":{"keywords":["bar","bathing","cleaning","lather"],"char":"","fitzpatrick_scale":false,"category":"objects"},"sponge":{"keywords":["absorbing","cleaning","porous"],"char":"","fitzpatrick_scale":false,"category":"objects"},"lotion_bottle":{"keywords":["moisturizer","sunscreen"],"char":"","fitzpatrick_scale":false,"category":"objects"},"key":{"keywords":["lock","door","password"],"char":"","fitzpatrick_scale":false,"category":"objects"},"old_key":{"keywords":["lock","door","password"],"char":"","fitzpatrick_scale":false,"category":"objects"},"couch_and_lamp":{"keywords":["read","chill"],"char":"","fitzpatrick_scale":false,"category":"objects"},"sleeping_bed":{"keywords":["bed","rest"],"char":"","fitzpatrick_scale":true,"category":"objects"},"bed":{"keywords":["sleep","rest"],"char":"","fitzpatrick_scale":false,"category":"objects"},"door":{"keywords":["house","entry","exit"],"char":"","fitzpatrick_scale":false,"category":"objects"},"bellhop_bell":{"keywords":["service"],"char":"","fitzpatrick_scale":false,"category":"objects"},"teddy_bear":{"keywords":["plush","stuffed"],"char":"","fitzpatrick_scale":false,"category":"objects"},"framed_picture":{"keywords":["photography"],"char":"","fitzpatrick_scale":false,"category":"objects"},"world_map":{"keywords":["location","direction"],"char":"","fitzpatrick_scale":false,"category":"objects"},"parasol_on_ground":{"keywords":["weather","summer"],"char":"","fitzpatrick_scale":false,"category":"objects"},"moyai":{"keywords":["rock","easter island","moai"],"char":"","fitzpatrick_scale":false,"category":"objects"},"shopping":{"keywords":["mall","buy","purchase"],"char":"","fitzpatrick_scale":false,"category":"objects"},"shopping_cart":{"keywords":["trolley"],"char":"","fitzpatrick_scale":false,"category":"objects"},"balloon":{"keywords":["party","celebration","birthday","circus"],"char":"","fitzpatrick_scale":false,"category":"objects"},"flags":{"keywords":["fish","japanese","koinobori","carp","banner"],"char":"","fitzpatrick_scale":false,"category":"objects"},"ribbon":{"keywords":["decoration","pink","girl","bowtie"],"char":"","fitzpatrick_scale":false,"category":"objects"},"gift":{"keywords":["present","birthday","christmas","xmas"],"char":"","fitzpatrick_scale":false,"category":"objects"},"confetti_ball":{"keywords":["festival","party","birthday","circus"],"char":"","fitzpatrick_scale":false,"category":"objects"},"tada":{"keywords":["party","congratulations","birthday","magic","circus","celebration"],"char":"","fitzpatrick_scale":false,"category":"objects"},"dolls":{"keywords":["japanese","toy","kimono"],"char":"","fitzpatrick_scale":false,"category":"objects"},"wind_chime":{"keywords":["nature","ding","spring","bell"],"char":"","fitzpatrick_scale":false,"category":"objects"},"crossed_flags":{"keywords":["japanese","nation","country","border"],"char":"","fitzpatrick_scale":false,"category":"objects"},"izakaya_lantern":{"keywords":["light","paper","halloween","spooky"],"char":"","fitzpatrick_scale":false,"category":"objects"},"red_envelope":{"keywords":["gift"],"char":"","fitzpatrick_scale":false,"category":"objects"},"email":{"keywords":["letter","postal","inbox","communication"],"char":"","fitzpatrick_scale":false,"category":"objects"},"envelope_with_arrow":{"keywords":["email","communication"],"char":"","fitzpatrick_scale":false,"category":"objects"},"incoming_envelope":{"keywords":["email","inbox"],"char":"","fitzpatrick_scale":false,"category":"objects"},"e-mail":{"keywords":["communication","inbox"],"char":"","fitzpatrick_scale":false,"category":"objects"},"love_letter":{"keywords":["email","like","affection","envelope","valentines"],"char":"","fitzpatrick_scale":false,"category":"objects"},"postbox":{"keywords":["email","letter","envelope"],"char":"","fitzpatrick_scale":false,"category":"objects"},"mailbox_closed":{"keywords":["email","communication","inbox"],"char":"","fitzpatrick_scale":false,"category":"objects"},"mailbox":{"keywords":["email","inbox","communication"],"char":"","fitzpatrick_scale":false,"category":"objects"},"mailbox_with_mail":{"keywords":["email","inbox","communication"],"char":"","fitzpatrick_scale":false,"category":"objects"},"mailbox_with_no_mail":{"keywords":["email","inbox"],"char":"","fitzpatrick_scale":false,"category":"objects"},"package":{"keywords":["mail","gift","cardboard","box","moving"],"char":"","fitzpatrick_scale":false,"category":"objects"},"postal_horn":{"keywords":["instrument","music"],"char":"","fitzpatrick_scale":false,"category":"objects"},"inbox_tray":{"keywords":["email","documents"],"char":"","fitzpatrick_scale":false,"category":"objects"},"outbox_tray":{"keywords":["inbox","email"],"char":"","fitzpatrick_scale":false,"category":"objects"},"scroll":{"keywords":["documents","ancient","history","paper"],"char":"","fitzpatrick_scale":false,"category":"objects"},"page_with_curl":{"keywords":["documents","office","paper"],"char":"","fitzpatrick_scale":false,"category":"objects"},"bookmark_tabs":{"keywords":["favorite","save","order","tidy"],"char":"","fitzpatrick_scale":false,"category":"objects"},"receipt":{"keywords":["accounting","expenses"],"char":"","fitzpatrick_scale":false,"category":"objects"},"bar_chart":{"keywords":["graph","presentation","stats"],"char":"","fitzpatrick_scale":false,"category":"objects"},"chart_with_upwards_trend":{"keywords":["graph","presentation","stats","recovery","business","economics","money","sales","good","success"],"char":"","fitzpatrick_scale":false,"category":"objects"},"chart_with_downwards_trend":{"keywords":["graph","presentation","stats","recession","business","economics","money","sales","bad","failure"],"char":"","fitzpatrick_scale":false,"category":"objects"},"page_facing_up":{"keywords":["documents","office","paper","information"],"char":"","fitzpatrick_scale":false,"category":"objects"},"date":{"keywords":["calendar","schedule"],"char":"","fitzpatrick_scale":false,"category":"objects"},"calendar":{"keywords":["schedule","date","planning"],"char":"","fitzpatrick_scale":false,"category":"objects"},"spiral_calendar":{"keywords":["date","schedule","planning"],"char":"","fitzpatrick_scale":false,"category":"objects"},"card_index":{"keywords":["business","stationery"],"char":"","fitzpatrick_scale":false,"category":"objects"},"card_file_box":{"keywords":["business","stationery"],"char":"","fitzpatrick_scale":false,"category":"objects"},"ballot_box":{"keywords":["election","vote"],"char":"","fitzpatrick_scale":false,"category":"objects"},"file_cabinet":{"keywords":["filing","organizing"],"char":"","fitzpatrick_scale":false,"category":"objects"},"clipboard":{"keywords":["stationery","documents"],"char":"","fitzpatrick_scale":false,"category":"objects"},"spiral_notepad":{"keywords":["memo","stationery"],"char":"","fitzpatrick_scale":false,"category":"objects"},"file_folder":{"keywords":["documents","business","office"],"char":"","fitzpatrick_scale":false,"category":"objects"},"open_file_folder":{"keywords":["documents","load"],"char":"","fitzpatrick_scale":false,"category":"objects"},"card_index_dividers":{"keywords":["organizing","business","stationery"],"char":"","fitzpatrick_scale":false,"category":"objects"},"newspaper_roll":{"keywords":["press","headline"],"char":"","fitzpatrick_scale":false,"category":"objects"},"newspaper":{"keywords":["press","headline"],"char":"","fitzpatrick_scale":false,"category":"objects"},"notebook":{"keywords":["stationery","record","notes","paper","study"],"char":"","fitzpatrick_scale":false,"category":"objects"},"closed_book":{"keywords":["read","library","knowledge","textbook","learn"],"char":"","fitzpatrick_scale":false,"category":"objects"},"green_book":{"keywords":["read","library","knowledge","study"],"char":"","fitzpatrick_scale":false,"category":"objects"},"blue_book":{"keywords":["read","library","knowledge","learn","study"],"char":"","fitzpatrick_scale":false,"category":"objects"},"orange_book":{"keywords":["read","library","knowledge","textbook","study"],"char":"","fitzpatrick_scale":false,"category":"objects"},"notebook_with_decorative_cover":{"keywords":["classroom","notes","record","paper","study"],"char":"","fitzpatrick_scale":false,"category":"objects"},"ledger":{"keywords":["notes","paper"],"char":"","fitzpatrick_scale":false,"category":"objects"},"books":{"keywords":["literature","library","study"],"char":"","fitzpatrick_scale":false,"category":"objects"},"open_book":{"keywords":["book","read","library","knowledge","literature","learn","study"],"char":"","fitzpatrick_scale":false,"category":"objects"},"safety_pin":{"keywords":["diaper"],"char":"","fitzpatrick_scale":false,"category":"objects"},"link":{"keywords":["rings","url"],"char":"","fitzpatrick_scale":false,"category":"objects"},"paperclip":{"keywords":["documents","stationery"],"char":"","fitzpatrick_scale":false,"category":"objects"},"paperclips":{"keywords":["documents","stationery"],"char":"","fitzpatrick_scale":false,"category":"objects"},"scissors":{"keywords":["stationery","cut"],"char":"","fitzpatrick_scale":false,"category":"objects"},"triangular_ruler":{"keywords":["stationery","math","architect","sketch"],"char":"","fitzpatrick_scale":false,"category":"objects"},"straight_ruler":{"keywords":["stationery","calculate","length","math","school","drawing","architect","sketch"],"char":"","fitzpatrick_scale":false,"category":"objects"},"abacus":{"keywords":["calculation"],"char":"","fitzpatrick_scale":false,"category":"objects"},"pushpin":{"keywords":["stationery","mark","here"],"char":"","fitzpatrick_scale":false,"category":"objects"},"round_pushpin":{"keywords":["stationery","location","map","here"],"char":"","fitzpatrick_scale":false,"category":"objects"},"triangular_flag_on_post":{"keywords":["mark","milestone","place"],"char":"","fitzpatrick_scale":false,"category":"objects"},"white_flag":{"keywords":["losing","loser","lost","surrender","give up","fail"],"char":"","fitzpatrick_scale":false,"category":"objects"},"black_flag":{"keywords":["pirate"],"char":"","fitzpatrick_scale":false,"category":"objects"},"rainbow_flag":{"keywords":["flag","rainbow","pride","gay","lgbt","glbt","queer","homosexual","lesbian","bisexual","transgender"],"char":"","fitzpatrick_scale":false,"category":"objects"},"closed_lock_with_key":{"keywords":["security","privacy"],"char":"","fitzpatrick_scale":false,"category":"objects"},"lock":{"keywords":["security","password","padlock"],"char":"","fitzpatrick_scale":false,"category":"objects"},"unlock":{"keywords":["privacy","security"],"char":"","fitzpatrick_scale":false,"category":"objects"},"lock_with_ink_pen":{"keywords":["security","secret"],"char":"","fitzpatrick_scale":false,"category":"objects"},"pen":{"keywords":["stationery","writing","write"],"char":"","fitzpatrick_scale":false,"category":"objects"},"fountain_pen":{"keywords":["stationery","writing","write"],"char":"","fitzpatrick_scale":false,"category":"objects"},"black_nib":{"keywords":["pen","stationery","writing","write"],"char":"","fitzpatrick_scale":false,"category":"objects"},"memo":{"keywords":["write","documents","stationery","pencil","paper","writing","legal","exam","quiz","test","study","compose"],"char":"","fitzpatrick_scale":false,"category":"objects"},"pencil2":{"keywords":["stationery","write","paper","writing","school","study"],"char":"","fitzpatrick_scale":false,"category":"objects"},"crayon":{"keywords":["drawing","creativity"],"char":"","fitzpatrick_scale":false,"category":"objects"},"paintbrush":{"keywords":["drawing","creativity","art"],"char":"","fitzpatrick_scale":false,"category":"objects"},"mag":{"keywords":["search","zoom","find","detective"],"char":"","fitzpatrick_scale":false,"category":"objects"},"mag_right":{"keywords":["search","zoom","find","detective"],"char":"","fitzpatrick_scale":false,"category":"objects"},"heart":{"keywords":["love","like","valentines"],"char":"","fitzpatrick_scale":false,"category":"symbols"},"orange_heart":{"keywords":["love","like","affection","valentines"],"char":"","fitzpatrick_scale":false,"category":"symbols"},"yellow_heart":{"keywords":["love","like","affection","valentines"],"char":"","fitzpatrick_scale":false,"category":"symbols"},"green_heart":{"keywords":["love","like","affection","valentines"],"char":"","fitzpatrick_scale":false,"category":"symbols"},"blue_heart":{"keywords":["love","like","affection","valentines"],"char":"","fitzpatrick_scale":false,"category":"symbols"},"purple_heart":{"keywords":["love","like","affection","valentines"],"char":"","fitzpatrick_scale":false,"category":"symbols"},"black_heart":{"keywords":["evil"],"char":"","fitzpatrick_scale":false,"category":"symbols"},"broken_heart":{"keywords":["sad","sorry","break","heart","heartbreak"],"char":"","fitzpatrick_scale":false,"category":"symbols"},"heavy_heart_exclamation":{"keywords":["decoration","love"],"char":"","fitzpatrick_scale":false,"category":"symbols"},"two_hearts":{"keywords":["love","like","affection","valentines","heart"],"char":"","fitzpatrick_scale":false,"category":"symbols"},"revolving_hearts":{"keywords":["love","like","affection","valentines"],"char":"","fitzpatrick_scale":false,"category":"symbols"},"heartbeat":{"keywords":["love","like","affection","valentines","pink","heart"],"char":"","fitzpatrick_scale":false,"category":"symbols"},"heartpulse":{"keywords":["like","love","affection","valentines","pink"],"char":"","fitzpatrick_scale":false,"category":"symbols"},"sparkling_heart":{"keywords":["love","like","affection","valentines"],"char":"","fitzpatrick_scale":false,"category":"symbols"},"cupid":{"keywords":["love","like","heart","affection","valentines"],"char":"","fitzpatrick_scale":false,"category":"symbols"},"gift_heart":{"keywords":["love","valentines"],"char":"","fitzpatrick_scale":false,"category":"symbols"},"heart_decoration":{"keywords":["purple-square","love","like"],"char":"","fitzpatrick_scale":false,"category":"symbols"},"peace_symbol":{"keywords":["hippie"],"char":"","fitzpatrick_scale":false,"category":"symbols"},"latin_cross":{"keywords":["christianity"],"char":"","fitzpatrick_scale":false,"category":"symbols"},"star_and_crescent":{"keywords":["islam"],"char":"","fitzpatrick_scale":false,"category":"symbols"},"om":{"keywords":["hinduism","buddhism","sikhism","jainism"],"char":"","fitzpatrick_scale":false,"category":"symbols"},"wheel_of_dharma":{"keywords":["hinduism","buddhism","sikhism","jainism"],"char":"","fitzpatrick_scale":false,"category":"symbols"},"star_of_david":{"keywords":["judaism"],"char":"","fitzpatrick_scale":false,"category":"symbols"},"six_pointed_star":{"keywords":["purple-square","religion","jewish","hexagram"],"char":"","fitzpatrick_scale":false,"category":"symbols"},"menorah":{"keywords":["hanukkah","candles","jewish"],"char":"","fitzpatrick_scale":false,"category":"symbols"},"yin_yang":{"keywords":["balance"],"char":"","fitzpatrick_scale":false,"category":"symbols"},"orthodox_cross":{"keywords":["suppedaneum","religion"],"char":"","fitzpatrick_scale":false,"category":"symbols"},"place_of_worship":{"keywords":["religion","church","temple","prayer"],"char":"","fitzpatrick_scale":false,"category":"symbols"},"ophiuchus":{"keywords":["sign","purple-square","constellation","astrology"],"char":"","fitzpatrick_scale":false,"category":"symbols"},"aries":{"keywords":["sign","purple-square","zodiac","astrology"],"char":"","fitzpatrick_scale":false,"category":"symbols"},"taurus":{"keywords":["purple-square","sign","zodiac","astrology"],"char":"","fitzpatrick_scale":false,"category":"symbols"},"gemini":{"keywords":["sign","zodiac","purple-square","astrology"],"char":"","fitzpatrick_scale":false,"category":"symbols"},"cancer":{"keywords":["sign","zodiac","purple-square","astrology"],"char":"","fitzpatrick_scale":false,"category":"symbols"},"leo":{"keywords":["sign","purple-square","zodiac","astrology"],"char":"","fitzpatrick_scale":false,"category":"symbols"},"virgo":{"keywords":["sign","zodiac","purple-square","astrology"],"char":"","fitzpatrick_scale":false,"category":"symbols"},"libra":{"keywords":["sign","purple-square","zodiac","astrology"],"char":"","fitzpatrick_scale":false,"category":"symbols"},"scorpius":{"keywords":["sign","zodiac","purple-square","astrology","scorpio"],"char":"","fitzpatrick_scale":false,"category":"symbols"},"sagittarius":{"keywords":["sign","zodiac","purple-square","astrology"],"char":"","fitzpatrick_scale":false,"category":"symbols"},"capricorn":{"keywords":["sign","zodiac","purple-square","astrology"],"char":"","fitzpatrick_scale":false,"category":"symbols"},"aquarius":{"keywords":["sign","purple-square","zodiac","astrology"],"char":"","fitzpatrick_scale":false,"category":"symbols"},"pisces":{"keywords":["purple-square","sign","zodiac","astrology"],"char":"","fitzpatrick_scale":false,"category":"symbols"},"id":{"keywords":["purple-square","words"],"char":"","fitzpatrick_scale":false,"category":"symbols"},"atom_symbol":{"keywords":["science","physics","chemistry"],"char":"","fitzpatrick_scale":false,"category":"symbols"},"u7a7a":{"keywords":["kanji","japanese","chinese","empty","sky","blue-square"],"char":"","fitzpatrick_scale":false,"category":"symbols"},"u5272":{"keywords":["cut","divide","chinese","kanji","pink-square"],"char":"","fitzpatrick_scale":false,"category":"symbols"},"radioactive":{"keywords":["nuclear","danger"],"char":"","fitzpatrick_scale":false,"category":"symbols"},"biohazard":{"keywords":["danger"],"char":"","fitzpatrick_scale":false,"category":"symbols"},"mobile_phone_off":{"keywords":["mute","orange-square","silence","quiet"],"char":"","fitzpatrick_scale":false,"category":"symbols"},"vibration_mode":{"keywords":["orange-square","phone"],"char":"","fitzpatrick_scale":false,"category":"symbols"},"u6709":{"keywords":["orange-square","chinese","have","kanji"],"char":"","fitzpatrick_scale":false,"category":"symbols"},"u7121":{"keywords":["nothing","chinese","kanji","japanese","orange-square"],"char":"","fitzpatrick_scale":false,"category":"symbols"},"u7533":{"keywords":["chinese","japanese","kanji","orange-square"],"char":"","fitzpatrick_scale":false,"category":"symbols"},"u55b6":{"keywords":["japanese","opening hours","orange-square"],"char":"","fitzpatrick_scale":false,"category":"symbols"},"u6708":{"keywords":["chinese","month","moon","japanese","orange-square","kanji"],"char":"","fitzpatrick_scale":false,"category":"symbols"},"eight_pointed_black_star":{"keywords":["orange-square","shape","polygon"],"char":"","fitzpatrick_scale":false,"category":"symbols"},"vs":{"keywords":["words","orange-square"],"char":"","fitzpatrick_scale":false,"category":"symbols"},"accept":{"keywords":["ok","good","chinese","kanji","agree","yes","orange-circle"],"char":"","fitzpatrick_scale":false,"category":"symbols"},"white_flower":{"keywords":["japanese","spring"],"char":"","fitzpatrick_scale":false,"category":"symbols"},"ideograph_advantage":{"keywords":["chinese","kanji","obtain","get","circle"],"char":"","fitzpatrick_scale":false,"category":"symbols"},"secret":{"keywords":["privacy","chinese","sshh","kanji","red-circle"],"char":"","fitzpatrick_scale":false,"category":"symbols"},"congratulations":{"keywords":["chinese","kanji","japanese","red-circle"],"char":"","fitzpatrick_scale":false,"category":"symbols"},"u5408":{"keywords":["japanese","chinese","join","kanji","red-square"],"char":"","fitzpatrick_scale":false,"category":"symbols"},"u6e80":{"keywords":["full","chinese","japanese","red-square","kanji"],"char":"","fitzpatrick_scale":false,"category":"symbols"},"u7981":{"keywords":["kanji","japanese","chinese","forbidden","limit","restricted","red-square"],"char":"","fitzpatrick_scale":false,"category":"symbols"},"a":{"keywords":["red-square","alphabet","letter"],"char":"","fitzpatrick_scale":false,"category":"symbols"},"b":{"keywords":["red-square","alphabet","letter"],"char":"","fitzpatrick_scale":false,"category":"symbols"},"ab":{"keywords":["red-square","alphabet"],"char":"","fitzpatrick_scale":false,"category":"symbols"},"cl":{"keywords":["alphabet","words","red-square"],"char":"","fitzpatrick_scale":false,"category":"symbols"},"o2":{"keywords":["alphabet","red-square","letter"],"char":"","fitzpatrick_scale":false,"category":"symbols"},"sos":{"keywords":["help","red-square","words","emergency","911"],"char":"","fitzpatrick_scale":false,"category":"symbols"},"no_entry":{"keywords":["limit","security","privacy","bad","denied","stop","circle"],"char":"","fitzpatrick_scale":false,"category":"symbols"},"name_badge":{"keywords":["fire","forbid"],"char":"","fitzpatrick_scale":false,"category":"symbols"},"no_entry_sign":{"keywords":["forbid","stop","limit","denied","disallow","circle"],"char":"","fitzpatrick_scale":false,"category":"symbols"},"x":{"keywords":["no","delete","remove","cancel","red"],"char":"","fitzpatrick_scale":false,"category":"symbols"},"o":{"keywords":["circle","round"],"char":"","fitzpatrick_scale":false,"category":"symbols"},"stop_sign":{"keywords":["stop"],"char":"","fitzpatrick_scale":false,"category":"symbols"},"anger":{"keywords":["angry","mad"],"char":"","fitzpatrick_scale":false,"category":"symbols"},"hotsprings":{"keywords":["bath","warm","relax"],"char":"","fitzpatrick_scale":false,"category":"symbols"},"no_pedestrians":{"keywords":["rules","crossing","walking","circle"],"char":"","fitzpatrick_scale":false,"category":"symbols"},"do_not_litter":{"keywords":["trash","bin","garbage","circle"],"char":"","fitzpatrick_scale":false,"category":"symbols"},"no_bicycles":{"keywords":["cyclist","prohibited","circle"],"char":"","fitzpatrick_scale":false,"category":"symbols"},"non-potable_water":{"keywords":["drink","faucet","tap","circle"],"char":"","fitzpatrick_scale":false,"category":"symbols"},"underage":{"keywords":["18","drink","pub","night","minor","circle"],"char":"","fitzpatrick_scale":false,"category":"symbols"},"no_mobile_phones":{"keywords":["iphone","mute","circle"],"char":"","fitzpatrick_scale":false,"category":"symbols"},"exclamation":{"keywords":["heavy_exclamation_mark","danger","surprise","punctuation","wow","warning"],"char":"","fitzpatrick_scale":false,"category":"symbols"},"grey_exclamation":{"keywords":["surprise","punctuation","gray","wow","warning"],"char":"","fitzpatrick_scale":false,"category":"symbols"},"question":{"keywords":["doubt","confused"],"char":"","fitzpatrick_scale":false,"category":"symbols"},"grey_question":{"keywords":["doubts","gray","huh","confused"],"char":"","fitzpatrick_scale":false,"category":"symbols"},"bangbang":{"keywords":["exclamation","surprise"],"char":"","fitzpatrick_scale":false,"category":"symbols"},"interrobang":{"keywords":["wat","punctuation","surprise"],"char":"","fitzpatrick_scale":false,"category":"symbols"},"low_brightness":{"keywords":["sun","afternoon","warm","summer"],"char":"","fitzpatrick_scale":false,"category":"symbols"},"high_brightness":{"keywords":["sun","light"],"char":"","fitzpatrick_scale":false,"category":"symbols"},"trident":{"keywords":["weapon","spear"],"char":"","fitzpatrick_scale":false,"category":"symbols"},"fleur_de_lis":{"keywords":["decorative","scout"],"char":"","fitzpatrick_scale":false,"category":"symbols"},"part_alternation_mark":{"keywords":["graph","presentation","stats","business","economics","bad"],"char":"","fitzpatrick_scale":false,"category":"symbols"},"warning":{"keywords":["exclamation","wip","alert","error","problem","issue"],"char":"","fitzpatrick_scale":false,"category":"symbols"},"children_crossing":{"keywords":["school","warning","danger","sign","driving","yellow-diamond"],"char":"","fitzpatrick_scale":false,"category":"symbols"},"beginner":{"keywords":["badge","shield"],"char":"","fitzpatrick_scale":false,"category":"symbols"},"recycle":{"keywords":["arrow","environment","garbage","trash"],"char":"","fitzpatrick_scale":false,"category":"symbols"},"u6307":{"keywords":["chinese","point","green-square","kanji"],"char":"","fitzpatrick_scale":false,"category":"symbols"},"chart":{"keywords":["green-square","graph","presentation","stats"],"char":"","fitzpatrick_scale":false,"category":"symbols"},"sparkle":{"keywords":["stars","green-square","awesome","good","fireworks"],"char":"","fitzpatrick_scale":false,"category":"symbols"},"eight_spoked_asterisk":{"keywords":["star","sparkle","green-square"],"char":"","fitzpatrick_scale":false,"category":"symbols"},"negative_squared_cross_mark":{"keywords":["x","green-square","no","deny"],"char":"","fitzpatrick_scale":false,"category":"symbols"},"white_check_mark":{"keywords":["green-square","ok","agree","vote","election","answer","tick"],"char":"","fitzpatrick_scale":false,"category":"symbols"},"diamond_shape_with_a_dot_inside":{"keywords":["jewel","blue","gem","crystal","fancy"],"char":"","fitzpatrick_scale":false,"category":"symbols"},"cyclone":{"keywords":["weather","swirl","blue","cloud","vortex","spiral","whirlpool","spin","tornado","hurricane","typhoon"],"char":"","fitzpatrick_scale":false,"category":"symbols"},"loop":{"keywords":["tape","cassette"],"char":"","fitzpatrick_scale":false,"category":"symbols"},"globe_with_meridians":{"keywords":["earth","international","world","internet","interweb","i18n"],"char":"","fitzpatrick_scale":false,"category":"symbols"},"m":{"keywords":["alphabet","blue-circle","letter"],"char":"","fitzpatrick_scale":false,"category":"symbols"},"atm":{"keywords":["money","sales","cash","blue-square","payment","bank"],"char":"","fitzpatrick_scale":false,"category":"symbols"},"sa":{"keywords":["japanese","blue-square","katakana"],"char":"","fitzpatrick_scale":false,"category":"symbols"},"passport_control":{"keywords":["custom","blue-square"],"char":"","fitzpatrick_scale":false,"category":"symbols"},"customs":{"keywords":["passport","border","blue-square"],"char":"","fitzpatrick_scale":false,"category":"symbols"},"baggage_claim":{"keywords":["blue-square","airport","transport"],"char":"","fitzpatrick_scale":false,"category":"symbols"},"left_luggage":{"keywords":["blue-square","travel"],"char":"","fitzpatrick_scale":false,"category":"symbols"},"wheelchair":{"keywords":["blue-square","disabled","a11y","accessibility"],"char":"","fitzpatrick_scale":false,"category":"symbols"},"no_smoking":{"keywords":["cigarette","blue-square","smell","smoke"],"char":"","fitzpatrick_scale":false,"category":"symbols"},"wc":{"keywords":["toilet","restroom","blue-square"],"char":"","fitzpatrick_scale":false,"category":"symbols"},"parking":{"keywords":["cars","blue-square","alphabet","letter"],"char":"","fitzpatrick_scale":false,"category":"symbols"},"potable_water":{"keywords":["blue-square","liquid","restroom","cleaning","faucet"],"char":"","fitzpatrick_scale":false,"category":"symbols"},"mens":{"keywords":["toilet","restroom","wc","blue-square","gender","male"],"char":"","fitzpatrick_scale":false,"category":"symbols"},"womens":{"keywords":["purple-square","woman","female","toilet","loo","restroom","gender"],"char":"","fitzpatrick_scale":false,"category":"symbols"},"baby_symbol":{"keywords":["orange-square","child"],"char":"","fitzpatrick_scale":false,"category":"symbols"},"restroom":{"keywords":["blue-square","toilet","refresh","wc","gender"],"char":"","fitzpatrick_scale":false,"category":"symbols"},"put_litter_in_its_place":{"keywords":["blue-square","sign","human","info"],"char":"","fitzpatrick_scale":false,"category":"symbols"},"cinema":{"keywords":["blue-square","record","film","movie","curtain","stage","theater"],"char":"","fitzpatrick_scale":false,"category":"symbols"},"signal_strength":{"keywords":["blue-square","reception","phone","internet","connection","wifi","bluetooth","bars"],"char":"","fitzpatrick_scale":false,"category":"symbols"},"koko":{"keywords":["blue-square","here","katakana","japanese","destination"],"char":"","fitzpatrick_scale":false,"category":"symbols"},"ng":{"keywords":["blue-square","words","shape","icon"],"char":"","fitzpatrick_scale":false,"category":"symbols"},"ok":{"keywords":["good","agree","yes","blue-square"],"char":"","fitzpatrick_scale":false,"category":"symbols"},"up":{"keywords":["blue-square","above","high"],"char":"","fitzpatrick_scale":false,"category":"symbols"},"cool":{"keywords":["words","blue-square"],"char":"","fitzpatrick_scale":false,"category":"symbols"},"new":{"keywords":["blue-square","words","start"],"char":"","fitzpatrick_scale":false,"category":"symbols"},"free":{"keywords":["blue-square","words"],"char":"","fitzpatrick_scale":false,"category":"symbols"},"zero":{"keywords":["0","numbers","blue-square","null"],"char":"0","fitzpatrick_scale":false,"category":"symbols"},"one":{"keywords":["blue-square","numbers","1"],"char":"1","fitzpatrick_scale":false,"category":"symbols"},"two":{"keywords":["numbers","2","prime","blue-square"],"char":"2","fitzpatrick_scale":false,"category":"symbols"},"three":{"keywords":["3","numbers","prime","blue-square"],"char":"3","fitzpatrick_scale":false,"category":"symbols"},"four":{"keywords":["4","numbers","blue-square"],"char":"4","fitzpatrick_scale":false,"category":"symbols"},"five":{"keywords":["5","numbers","blue-square","prime"],"char":"5","fitzpatrick_scale":false,"category":"symbols"},"six":{"keywords":["6","numbers","blue-square"],"char":"6","fitzpatrick_scale":false,"category":"symbols"},"seven":{"keywords":["7","numbers","blue-square","prime"],"char":"7","fitzpatrick_scale":false,"category":"symbols"},"eight":{"keywords":["8","blue-square","numbers"],"char":"8","fitzpatrick_scale":false,"category":"symbols"},"nine":{"keywords":["blue-square","numbers","9"],"char":"9","fitzpatrick_scale":false,"category":"symbols"},"keycap_ten":{"keywords":["numbers","10","blue-square"],"char":"","fitzpatrick_scale":false,"category":"symbols"},"asterisk":{"keywords":["star","keycap"],"char":"*","fitzpatrick_scale":false,"category":"symbols"},"eject_button":{"keywords":["blue-square"],"char":"","fitzpatrick_scale":false,"category":"symbols"},"arrow_forward":{"keywords":["blue-square","right","direction","play"],"char":"","fitzpatrick_scale":false,"category":"symbols"},"pause_button":{"keywords":["pause","blue-square"],"char":"","fitzpatrick_scale":false,"category":"symbols"},"next_track_button":{"keywords":["forward","next","blue-square"],"char":"","fitzpatrick_scale":false,"category":"symbols"},"stop_button":{"keywords":["blue-square"],"char":"","fitzpatrick_scale":false,"category":"symbols"},"record_button":{"keywords":["blue-square"],"char":"","fitzpatrick_scale":false,"category":"symbols"},"play_or_pause_button":{"keywords":["blue-square","play","pause"],"char":"","fitzpatrick_scale":false,"category":"symbols"},"previous_track_button":{"keywords":["backward"],"char":"","fitzpatrick_scale":false,"category":"symbols"},"fast_forward":{"keywords":["blue-square","play","speed","continue"],"char":"","fitzpatrick_scale":false,"category":"symbols"},"rewind":{"keywords":["play","blue-square"],"char":"","fitzpatrick_scale":false,"category":"symbols"},"twisted_rightwards_arrows":{"keywords":["blue-square","shuffle","music","random"],"char":"","fitzpatrick_scale":false,"category":"symbols"},"repeat":{"keywords":["loop","record"],"char":"","fitzpatrick_scale":false,"category":"symbols"},"repeat_one":{"keywords":["blue-square","loop"],"char":"","fitzpatrick_scale":false,"category":"symbols"},"arrow_backward":{"keywords":["blue-square","left","direction"],"char":"","fitzpatrick_scale":false,"category":"symbols"},"arrow_up_small":{"keywords":["blue-square","triangle","direction","point","forward","top"],"char":"","fitzpatrick_scale":false,"category":"symbols"},"arrow_down_small":{"keywords":["blue-square","direction","bottom"],"char":"","fitzpatrick_scale":false,"category":"symbols"},"arrow_double_up":{"keywords":["blue-square","direction","top"],"char":"","fitzpatrick_scale":false,"category":"symbols"},"arrow_double_down":{"keywords":["blue-square","direction","bottom"],"char":"","fitzpatrick_scale":false,"category":"symbols"},"arrow_right":{"keywords":["blue-square","next"],"char":"","fitzpatrick_scale":false,"category":"symbols"},"arrow_left":{"keywords":["blue-square","previous","back"],"char":"","fitzpatrick_scale":false,"category":"symbols"},"arrow_up":{"keywords":["blue-square","continue","top","direction"],"char":"","fitzpatrick_scale":false,"category":"symbols"},"arrow_down":{"keywords":["blue-square","direction","bottom"],"char":"","fitzpatrick_scale":false,"category":"symbols"},"arrow_upper_right":{"keywords":["blue-square","point","direction","diagonal","northeast"],"char":"","fitzpatrick_scale":false,"category":"symbols"},"arrow_lower_right":{"keywords":["blue-square","direction","diagonal","southeast"],"char":"","fitzpatrick_scale":false,"category":"symbols"},"arrow_lower_left":{"keywords":["blue-square","direction","diagonal","southwest"],"char":"","fitzpatrick_scale":false,"category":"symbols"},"arrow_upper_left":{"keywords":["blue-square","point","direction","diagonal","northwest"],"char":"","fitzpatrick_scale":false,"category":"symbols"},"arrow_up_down":{"keywords":["blue-square","direction","way","vertical"],"char":"","fitzpatrick_scale":false,"category":"symbols"},"left_right_arrow":{"keywords":["shape","direction","horizontal","sideways"],"char":"","fitzpatrick_scale":false,"category":"symbols"},"arrows_counterclockwise":{"keywords":["blue-square","sync","cycle"],"char":"","fitzpatrick_scale":false,"category":"symbols"},"arrow_right_hook":{"keywords":["blue-square","return","rotate","direction"],"char":"","fitzpatrick_scale":false,"category":"symbols"},"leftwards_arrow_with_hook":{"keywords":["back","return","blue-square","undo","enter"],"char":"","fitzpatrick_scale":false,"category":"symbols"},"arrow_heading_up":{"keywords":["blue-square","direction","top"],"char":"","fitzpatrick_scale":false,"category":"symbols"},"arrow_heading_down":{"keywords":["blue-square","direction","bottom"],"char":"","fitzpatrick_scale":false,"category":"symbols"},"hash":{"keywords":["symbol","blue-square","twitter"],"char":"#","fitzpatrick_scale":false,"category":"symbols"},"information_source":{"keywords":["blue-square","alphabet","letter"],"char":"","fitzpatrick_scale":false,"category":"symbols"},"abc":{"keywords":["blue-square","alphabet"],"char":"","fitzpatrick_scale":false,"category":"symbols"},"abcd":{"keywords":["blue-square","alphabet"],"char":"","fitzpatrick_scale":false,"category":"symbols"},"capital_abcd":{"keywords":["alphabet","words","blue-square"],"char":"","fitzpatrick_scale":false,"category":"symbols"},"symbols":{"keywords":["blue-square","music","note","ampersand","percent","glyphs","characters"],"char":"","fitzpatrick_scale":false,"category":"symbols"},"musical_note":{"keywords":["score","tone","sound"],"char":"","fitzpatrick_scale":false,"category":"symbols"},"notes":{"keywords":["music","score"],"char":"","fitzpatrick_scale":false,"category":"symbols"},"wavy_dash":{"keywords":["draw","line","moustache","mustache","squiggle","scribble"],"char":"","fitzpatrick_scale":false,"category":"symbols"},"curly_loop":{"keywords":["scribble","draw","shape","squiggle"],"char":"","fitzpatrick_scale":false,"category":"symbols"},"heavy_check_mark":{"keywords":["ok","nike","answer","yes","tick"],"char":"","fitzpatrick_scale":false,"category":"symbols"},"arrows_clockwise":{"keywords":["sync","cycle","round","repeat"],"char":"","fitzpatrick_scale":false,"category":"symbols"},"heavy_plus_sign":{"keywords":["math","calculation","addition","more","increase"],"char":"","fitzpatrick_scale":false,"category":"symbols"},"heavy_minus_sign":{"keywords":["math","calculation","subtract","less"],"char":"","fitzpatrick_scale":false,"category":"symbols"},"heavy_division_sign":{"keywords":["divide","math","calculation"],"char":"","fitzpatrick_scale":false,"category":"symbols"},"heavy_multiplication_x":{"keywords":["math","calculation"],"char":"","fitzpatrick_scale":false,"category":"symbols"},"infinity":{"keywords":["forever"],"char":"","fitzpatrick_scale":false,"category":"symbols"},"heavy_dollar_sign":{"keywords":["money","sales","payment","currency","buck"],"char":"","fitzpatrick_scale":false,"category":"symbols"},"currency_exchange":{"keywords":["money","sales","dollar","travel"],"char":"","fitzpatrick_scale":false,"category":"symbols"},"copyright":{"keywords":["ip","license","circle","law","legal"],"char":"","fitzpatrick_scale":false,"category":"symbols"},"registered":{"keywords":["alphabet","circle"],"char":"","fitzpatrick_scale":false,"category":"symbols"},"tm":{"keywords":["trademark","brand","law","legal"],"char":"","fitzpatrick_scale":false,"category":"symbols"},"end":{"keywords":["words","arrow"],"char":"","fitzpatrick_scale":false,"category":"symbols"},"back":{"keywords":["arrow","words","return"],"char":"","fitzpatrick_scale":false,"category":"symbols"},"on":{"keywords":["arrow","words"],"char":"","fitzpatrick_scale":false,"category":"symbols"},"top":{"keywords":["words","blue-square"],"char":"","fitzpatrick_scale":false,"category":"symbols"},"soon":{"keywords":["arrow","words"],"char":"","fitzpatrick_scale":false,"category":"symbols"},"ballot_box_with_check":{"keywords":["ok","agree","confirm","black-square","vote","election","yes","tick"],"char":"","fitzpatrick_scale":false,"category":"symbols"},"radio_button":{"keywords":["input","old","music","circle"],"char":"","fitzpatrick_scale":false,"category":"symbols"},"white_circle":{"keywords":["shape","round"],"char":"","fitzpatrick_scale":false,"category":"symbols"},"black_circle":{"keywords":["shape","button","round"],"char":"","fitzpatrick_scale":false,"category":"symbols"},"red_circle":{"keywords":["shape","error","danger"],"char":"","fitzpatrick_scale":false,"category":"symbols"},"large_blue_circle":{"keywords":["shape","icon","button"],"char":"","fitzpatrick_scale":false,"category":"symbols"},"small_orange_diamond":{"keywords":["shape","jewel","gem"],"char":"","fitzpatrick_scale":false,"category":"symbols"},"small_blue_diamond":{"keywords":["shape","jewel","gem"],"char":"","fitzpatrick_scale":false,"category":"symbols"},"large_orange_diamond":{"keywords":["shape","jewel","gem"],"char":"","fitzpatrick_scale":false,"category":"symbols"},"large_blue_diamond":{"keywords":["shape","jewel","gem"],"char":"","fitzpatrick_scale":false,"category":"symbols"},"small_red_triangle":{"keywords":["shape","direction","up","top"],"char":"","fitzpatrick_scale":false,"category":"symbols"},"black_small_square":{"keywords":["shape","icon"],"char":"","fitzpatrick_scale":false,"category":"symbols"},"white_small_square":{"keywords":["shape","icon"],"char":"","fitzpatrick_scale":false,"category":"symbols"},"black_large_square":{"keywords":["shape","icon","button"],"char":"","fitzpatrick_scale":false,"category":"symbols"},"white_large_square":{"keywords":["shape","icon","stone","button"],"char":"","fitzpatrick_scale":false,"category":"symbols"},"small_red_triangle_down":{"keywords":["shape","direction","bottom"],"char":"","fitzpatrick_scale":false,"category":"symbols"},"black_medium_square":{"keywords":["shape","button","icon"],"char":"","fitzpatrick_scale":false,"category":"symbols"},"white_medium_square":{"keywords":["shape","stone","icon"],"char":"","fitzpatrick_scale":false,"category":"symbols"},"black_medium_small_square":{"keywords":["icon","shape","button"],"char":"","fitzpatrick_scale":false,"category":"symbols"},"white_medium_small_square":{"keywords":["shape","stone","icon","button"],"char":"","fitzpatrick_scale":false,"category":"symbols"},"black_square_button":{"keywords":["shape","input","frame"],"char":"","fitzpatrick_scale":false,"category":"symbols"},"white_square_button":{"keywords":["shape","input"],"char":"","fitzpatrick_scale":false,"category":"symbols"},"speaker":{"keywords":["sound","volume","silence","broadcast"],"char":"","fitzpatrick_scale":false,"category":"symbols"},"sound":{"keywords":["volume","speaker","broadcast"],"char":"","fitzpatrick_scale":false,"category":"symbols"},"loud_sound":{"keywords":["volume","noise","noisy","speaker","broadcast"],"char":"","fitzpatrick_scale":false,"category":"symbols"},"mute":{"keywords":["sound","volume","silence","quiet"],"char":"","fitzpatrick_scale":false,"category":"symbols"},"mega":{"keywords":["sound","speaker","volume"],"char":"","fitzpatrick_scale":false,"category":"symbols"},"loudspeaker":{"keywords":["volume","sound"],"char":"","fitzpatrick_scale":false,"category":"symbols"},"bell":{"keywords":["sound","notification","christmas","xmas","chime"],"char":"","fitzpatrick_scale":false,"category":"symbols"},"no_bell":{"keywords":["sound","volume","mute","quiet","silent"],"char":"","fitzpatrick_scale":false,"category":"symbols"},"black_joker":{"keywords":["poker","cards","game","play","magic"],"char":"","fitzpatrick_scale":false,"category":"symbols"},"mahjong":{"keywords":["game","play","chinese","kanji"],"char":"","fitzpatrick_scale":false,"category":"symbols"},"spades":{"keywords":["poker","cards","suits","magic"],"char":"","fitzpatrick_scale":false,"category":"symbols"},"clubs":{"keywords":["poker","cards","magic","suits"],"char":"","fitzpatrick_scale":false,"category":"symbols"},"hearts":{"keywords":["poker","cards","magic","suits"],"char":"","fitzpatrick_scale":false,"category":"symbols"},"diamonds":{"keywords":["poker","cards","magic","suits"],"char":"","fitzpatrick_scale":false,"category":"symbols"},"flower_playing_cards":{"keywords":["game","sunset","red"],"char":"","fitzpatrick_scale":false,"category":"symbols"},"thought_balloon":{"keywords":["bubble","cloud","speech","thinking","dream"],"char":"","fitzpatrick_scale":false,"category":"symbols"},"right_anger_bubble":{"keywords":["caption","speech","thinking","mad"],"char":"","fitzpatrick_scale":false,"category":"symbols"},"speech_balloon":{"keywords":["bubble","words","message","talk","chatting"],"char":"","fitzpatrick_scale":false,"category":"symbols"},"left_speech_bubble":{"keywords":["words","message","talk","chatting"],"char":"","fitzpatrick_scale":false,"category":"symbols"},"clock1":{"keywords":["time","late","early","schedule"],"char":"","fitzpatrick_scale":false,"category":"symbols"},"clock2":{"keywords":["time","late","early","schedule"],"char":"","fitzpatrick_scale":false,"category":"symbols"},"clock3":{"keywords":["time","late","early","schedule"],"char":"","fitzpatrick_scale":false,"category":"symbols"},"clock4":{"keywords":["time","late","early","schedule"],"char":"","fitzpatrick_scale":false,"category":"symbols"},"clock5":{"keywords":["time","late","early","schedule"],"char":"","fitzpatrick_scale":false,"category":"symbols"},"clock6":{"keywords":["time","late","early","schedule","dawn","dusk"],"char":"","fitzpatrick_scale":false,"category":"symbols"},"clock7":{"keywords":["time","late","early","schedule"],"char":"","fitzpatrick_scale":false,"category":"symbols"},"clock8":{"keywords":["time","late","early","schedule"],"char":"","fitzpatrick_scale":false,"category":"symbols"},"clock9":{"keywords":["time","late","early","schedule"],"char":"","fitzpatrick_scale":false,"category":"symbols"},"clock10":{"keywords":["time","late","early","schedule"],"char":"","fitzpatrick_scale":false,"category":"symbols"},"clock11":{"keywords":["time","late","early","schedule"],"char":"","fitzpatrick_scale":false,"category":"symbols"},"clock12":{"keywords":["time","noon","midnight","midday","late","early","schedule"],"char":"","fitzpatrick_scale":false,"category":"symbols"},"clock130":{"keywords":["time","late","early","schedule"],"char":"","fitzpatrick_scale":false,"category":"symbols"},"clock230":{"keywords":["time","late","early","schedule"],"char":"","fitzpatrick_scale":false,"category":"symbols"},"clock330":{"keywords":["time","late","early","schedule"],"char":"","fitzpatrick_scale":false,"category":"symbols"},"clock430":{"keywords":["time","late","early","schedule"],"char":"","fitzpatrick_scale":false,"category":"symbols"},"clock530":{"keywords":["time","late","early","schedule"],"char":"","fitzpatrick_scale":false,"category":"symbols"},"clock630":{"keywords":["time","late","early","schedule"],"char":"","fitzpatrick_scale":false,"category":"symbols"},"clock730":{"keywords":["time","late","early","schedule"],"char":"","fitzpatrick_scale":false,"category":"symbols"},"clock830":{"keywords":["time","late","early","schedule"],"char":"","fitzpatrick_scale":false,"category":"symbols"},"clock930":{"keywords":["time","late","early","schedule"],"char":"","fitzpatrick_scale":false,"category":"symbols"},"clock1030":{"keywords":["time","late","early","schedule"],"char":"","fitzpatrick_scale":false,"category":"symbols"},"clock1130":{"keywords":["time","late","early","schedule"],"char":"","fitzpatrick_scale":false,"category":"symbols"},"clock1230":{"keywords":["time","late","early","schedule"],"char":"","fitzpatrick_scale":false,"category":"symbols"},"afghanistan":{"keywords":["af","flag","nation","country","banner"],"char":"","fitzpatrick_scale":false,"category":"flags"},"aland_islands":{"keywords":["land","islands","flag","nation","country","banner"],"char":"","fitzpatrick_scale":false,"category":"flags"},"albania":{"keywords":["al","flag","nation","country","banner"],"char":"","fitzpatrick_scale":false,"category":"flags"},"algeria":{"keywords":["dz","flag","nation","country","banner"],"char":"","fitzpatrick_scale":false,"category":"flags"},"american_samoa":{"keywords":["american","ws","flag","nation","country","banner"],"char":"","fitzpatrick_scale":false,"category":"flags"},"andorra":{"keywords":["ad","flag","nation","country","banner"],"char":"","fitzpatrick_scale":false,"category":"flags"},"angola":{"keywords":["ao","flag","nation","country","banner"],"char":"","fitzpatrick_scale":false,"category":"flags"},"anguilla":{"keywords":["ai","flag","nation","country","banner"],"char":"","fitzpatrick_scale":false,"category":"flags"},"antarctica":{"keywords":["aq","flag","nation","country","banner"],"char":"","fitzpatrick_scale":false,"category":"flags"},"antigua_barbuda":{"keywords":["antigua","barbuda","flag","nation","country","banner"],"char":"","fitzpatrick_scale":false,"category":"flags"},"argentina":{"keywords":["ar","flag","nation","country","banner"],"char":"","fitzpatrick_scale":false,"category":"flags"},"armenia":{"keywords":["am","flag","nation","country","banner"],"char":"","fitzpatrick_scale":false,"category":"flags"},"aruba":{"keywords":["aw","flag","nation","country","banner"],"char":"","fitzpatrick_scale":false,"category":"flags"},"australia":{"keywords":["au","flag","nation","country","banner"],"char":"","fitzpatrick_scale":false,"category":"flags"},"austria":{"keywords":["at","flag","nation","country","banner"],"char":"","fitzpatrick_scale":false,"category":"flags"},"azerbaijan":{"keywords":["az","flag","nation","country","banner"],"char":"","fitzpatrick_scale":false,"category":"flags"},"bahamas":{"keywords":["bs","flag","nation","country","banner"],"char":"","fitzpatrick_scale":false,"category":"flags"},"bahrain":{"keywords":["bh","flag","nation","country","banner"],"char":"","fitzpatrick_scale":false,"category":"flags"},"bangladesh":{"keywords":["bd","flag","nation","country","banner"],"char":"","fitzpatrick_scale":false,"category":"flags"},"barbados":{"keywords":["bb","flag","nation","country","banner"],"char":"","fitzpatrick_scale":false,"category":"flags"},"belarus":{"keywords":["by","flag","nation","country","banner"],"char":"","fitzpatrick_scale":false,"category":"flags"},"belgium":{"keywords":["be","flag","nation","country","banner"],"char":"","fitzpatrick_scale":false,"category":"flags"},"belize":{"keywords":["bz","flag","nation","country","banner"],"char":"","fitzpatrick_scale":false,"category":"flags"},"benin":{"keywords":["bj","flag","nation","country","banner"],"char":"","fitzpatrick_scale":false,"category":"flags"},"bermuda":{"keywords":["bm","flag","nation","country","banner"],"char":"","fitzpatrick_scale":false,"category":"flags"},"bhutan":{"keywords":["bt","flag","nation","country","banner"],"char":"","fitzpatrick_scale":false,"category":"flags"},"bolivia":{"keywords":["bo","flag","nation","country","banner"],"char":"","fitzpatrick_scale":false,"category":"flags"},"caribbean_netherlands":{"keywords":["bonaire","flag","nation","country","banner"],"char":"","fitzpatrick_scale":false,"category":"flags"},"bosnia_herzegovina":{"keywords":["bosnia","herzegovina","flag","nation","country","banner"],"char":"","fitzpatrick_scale":false,"category":"flags"},"botswana":{"keywords":["bw","flag","nation","country","banner"],"char":"","fitzpatrick_scale":false,"category":"flags"},"brazil":{"keywords":["br","flag","nation","country","banner"],"char":"","fitzpatrick_scale":false,"category":"flags"},"british_indian_ocean_territory":{"keywords":["british","indian","ocean","territory","flag","nation","country","banner"],"char":"","fitzpatrick_scale":false,"category":"flags"},"british_virgin_islands":{"keywords":["british","virgin","islands","bvi","flag","nation","country","banner"],"char":"","fitzpatrick_scale":false,"category":"flags"},"brunei":{"keywords":["bn","darussalam","flag","nation","country","banner"],"char":"","fitzpatrick_scale":false,"category":"flags"},"bulgaria":{"keywords":["bg","flag","nation","country","banner"],"char":"","fitzpatrick_scale":false,"category":"flags"},"burkina_faso":{"keywords":["burkina","faso","flag","nation","country","banner"],"char":"","fitzpatrick_scale":false,"category":"flags"},"burundi":{"keywords":["bi","flag","nation","country","banner"],"char":"","fitzpatrick_scale":false,"category":"flags"},"cape_verde":{"keywords":["cabo","verde","flag","nation","country","banner"],"char":"","fitzpatrick_scale":false,"category":"flags"},"cambodia":{"keywords":["kh","flag","nation","country","banner"],"char":"","fitzpatrick_scale":false,"category":"flags"},"cameroon":{"keywords":["cm","flag","nation","country","banner"],"char":"","fitzpatrick_scale":false,"category":"flags"},"canada":{"keywords":["ca","flag","nation","country","banner"],"char":"","fitzpatrick_scale":false,"category":"flags"},"canary_islands":{"keywords":["canary","islands","flag","nation","country","banner"],"char":"","fitzpatrick_scale":false,"category":"flags"},"cayman_islands":{"keywords":["cayman","islands","flag","nation","country","banner"],"char":"","fitzpatrick_scale":false,"category":"flags"},"central_african_republic":{"keywords":["central","african","republic","flag","nation","country","banner"],"char":"","fitzpatrick_scale":false,"category":"flags"},"chad":{"keywords":["td","flag","nation","country","banner"],"char":"","fitzpatrick_scale":false,"category":"flags"},"chile":{"keywords":["flag","nation","country","banner"],"char":"","fitzpatrick_scale":false,"category":"flags"},"cn":{"keywords":["china","chinese","prc","flag","country","nation","banner"],"char":"","fitzpatrick_scale":false,"category":"flags"},"christmas_island":{"keywords":["christmas","island","flag","nation","country","banner"],"char":"","fitzpatrick_scale":false,"category":"flags"},"cocos_islands":{"keywords":["cocos","keeling","islands","flag","nation","country","banner"],"char":"","fitzpatrick_scale":false,"category":"flags"},"colombia":{"keywords":["co","flag","nation","country","banner"],"char":"","fitzpatrick_scale":false,"category":"flags"},"comoros":{"keywords":["km","flag","nation","country","banner"],"char":"","fitzpatrick_scale":false,"category":"flags"},"congo_brazzaville":{"keywords":["congo","flag","nation","country","banner"],"char":"","fitzpatrick_scale":false,"category":"flags"},"congo_kinshasa":{"keywords":["congo","democratic","republic","flag","nation","country","banner"],"char":"","fitzpatrick_scale":false,"category":"flags"},"cook_islands":{"keywords":["cook","islands","flag","nation","country","banner"],"char":"","fitzpatrick_scale":false,"category":"flags"},"costa_rica":{"keywords":["costa","rica","flag","nation","country","banner"],"char":"","fitzpatrick_scale":false,"category":"flags"},"croatia":{"keywords":["hr","flag","nation","country","banner"],"char":"","fitzpatrick_scale":false,"category":"flags"},"cuba":{"keywords":["cu","flag","nation","country","banner"],"char":"","fitzpatrick_scale":false,"category":"flags"},"curacao":{"keywords":["curaao","flag","nation","country","banner"],"char":"","fitzpatrick_scale":false,"category":"flags"},"cyprus":{"keywords":["cy","flag","nation","country","banner"],"char":"","fitzpatrick_scale":false,"category":"flags"},"czech_republic":{"keywords":["cz","flag","nation","country","banner"],"char":"","fitzpatrick_scale":false,"category":"flags"},"denmark":{"keywords":["dk","flag","nation","country","banner"],"char":"","fitzpatrick_scale":false,"category":"flags"},"djibouti":{"keywords":["dj","flag","nation","country","banner"],"char":"","fitzpatrick_scale":false,"category":"flags"},"dominica":{"keywords":["dm","flag","nation","country","banner"],"char":"","fitzpatrick_scale":false,"category":"flags"},"dominican_republic":{"keywords":["dominican","republic","flag","nation","country","banner"],"char":"","fitzpatrick_scale":false,"category":"flags"},"ecuador":{"keywords":["ec","flag","nation","country","banner"],"char":"","fitzpatrick_scale":false,"category":"flags"},"egypt":{"keywords":["eg","flag","nation","country","banner"],"char":"","fitzpatrick_scale":false,"category":"flags"},"el_salvador":{"keywords":["el","salvador","flag","nation","country","banner"],"char":"","fitzpatrick_scale":false,"category":"flags"},"equatorial_guinea":{"keywords":["equatorial","gn","flag","nation","country","banner"],"char":"","fitzpatrick_scale":false,"category":"flags"},"eritrea":{"keywords":["er","flag","nation","country","banner"],"char":"","fitzpatrick_scale":false,"category":"flags"},"estonia":{"keywords":["ee","flag","nation","country","banner"],"char":"","fitzpatrick_scale":false,"category":"flags"},"ethiopia":{"keywords":["et","flag","nation","country","banner"],"char":"","fitzpatrick_scale":false,"category":"flags"},"eu":{"keywords":["european","union","flag","banner"],"char":"","fitzpatrick_scale":false,"category":"flags"},"falkland_islands":{"keywords":["falkland","islands","malvinas","flag","nation","country","banner"],"char":"","fitzpatrick_scale":false,"category":"flags"},"faroe_islands":{"keywords":["faroe","islands","flag","nation","country","banner"],"char":"","fitzpatrick_scale":false,"category":"flags"},"fiji":{"keywords":["fj","flag","nation","country","banner"],"char":"","fitzpatrick_scale":false,"category":"flags"},"finland":{"keywords":["fi","flag","nation","country","banner"],"char":"","fitzpatrick_scale":false,"category":"flags"},"fr":{"keywords":["banner","flag","nation","france","french","country"],"char":"","fitzpatrick_scale":false,"category":"flags"},"french_guiana":{"keywords":["french","guiana","flag","nation","country","banner"],"char":"","fitzpatrick_scale":false,"category":"flags"},"french_polynesia":{"keywords":["french","polynesia","flag","nation","country","banner"],"char":"","fitzpatrick_scale":false,"category":"flags"},"french_southern_territories":{"keywords":["french","southern","territories","flag","nation","country","banner"],"char":"","fitzpatrick_scale":false,"category":"flags"},"gabon":{"keywords":["ga","flag","nation","country","banner"],"char":"","fitzpatrick_scale":false,"category":"flags"},"gambia":{"keywords":["gm","flag","nation","country","banner"],"char":"","fitzpatrick_scale":false,"category":"flags"},"georgia":{"keywords":["ge","flag","nation","country","banner"],"char":"","fitzpatrick_scale":false,"category":"flags"},"de":{"keywords":["german","nation","flag","country","banner"],"char":"","fitzpatrick_scale":false,"category":"flags"},"ghana":{"keywords":["gh","flag","nation","country","banner"],"char":"","fitzpatrick_scale":false,"category":"flags"},"gibraltar":{"keywords":["gi","flag","nation","country","banner"],"char":"","fitzpatrick_scale":false,"category":"flags"},"greece":{"keywords":["gr","flag","nation","country","banner"],"char":"","fitzpatrick_scale":false,"category":"flags"},"greenland":{"keywords":["gl","flag","nation","country","banner"],"char":"","fitzpatrick_scale":false,"category":"flags"},"grenada":{"keywords":["gd","flag","nation","country","banner"],"char":"","fitzpatrick_scale":false,"category":"flags"},"guadeloupe":{"keywords":["gp","flag","nation","country","banner"],"char":"","fitzpatrick_scale":false,"category":"flags"},"guam":{"keywords":["gu","flag","nation","country","banner"],"char":"","fitzpatrick_scale":false,"category":"flags"},"guatemala":{"keywords":["gt","flag","nation","country","banner"],"char":"","fitzpatrick_scale":false,"category":"flags"},"guernsey":{"keywords":["gg","flag","nation","country","banner"],"char":"","fitzpatrick_scale":false,"category":"flags"},"guinea":{"keywords":["gn","flag","nation","country","banner"],"char":"","fitzpatrick_scale":false,"category":"flags"},"guinea_bissau":{"keywords":["gw","bissau","flag","nation","country","banner"],"char":"","fitzpatrick_scale":false,"category":"flags"},"guyana":{"keywords":["gy","flag","nation","country","banner"],"char":"","fitzpatrick_scale":false,"category":"flags"},"haiti":{"keywords":["ht","flag","nation","country","banner"],"char":"","fitzpatrick_scale":false,"category":"flags"},"honduras":{"keywords":["hn","flag","nation","country","banner"],"char":"","fitzpatrick_scale":false,"category":"flags"},"hong_kong":{"keywords":["hong","kong","flag","nation","country","banner"],"char":"","fitzpatrick_scale":false,"category":"flags"},"hungary":{"keywords":["hu","flag","nation","country","banner"],"char":"","fitzpatrick_scale":false,"category":"flags"},"iceland":{"keywords":["is","flag","nation","country","banner"],"char":"","fitzpatrick_scale":false,"category":"flags"},"india":{"keywords":["in","flag","nation","country","banner"],"char":"","fitzpatrick_scale":false,"category":"flags"},"indonesia":{"keywords":["flag","nation","country","banner"],"char":"","fitzpatrick_scale":false,"category":"flags"},"iran":{"keywords":["iran,","islamic","republic","flag","nation","country","banner"],"char":"","fitzpatrick_scale":false,"category":"flags"},"iraq":{"keywords":["iq","flag","nation","country","banner"],"char":"","fitzpatrick_scale":false,"category":"flags"},"ireland":{"keywords":["ie","flag","nation","country","banner"],"char":"","fitzpatrick_scale":false,"category":"flags"},"isle_of_man":{"keywords":["isle","man","flag","nation","country","banner"],"char":"","fitzpatrick_scale":false,"category":"flags"},"israel":{"keywords":["il","flag","nation","country","banner"],"char":"","fitzpatrick_scale":false,"category":"flags"},"it":{"keywords":["italy","flag","nation","country","banner"],"char":"","fitzpatrick_scale":false,"category":"flags"},"cote_divoire":{"keywords":["ivory","coast","flag","nation","country","banner"],"char":"","fitzpatrick_scale":false,"category":"flags"},"jamaica":{"keywords":["jm","flag","nation","country","banner"],"char":"","fitzpatrick_scale":false,"category":"flags"},"jp":{"keywords":["japanese","nation","flag","country","banner"],"char":"","fitzpatrick_scale":false,"category":"flags"},"jersey":{"keywords":["je","flag","nation","country","banner"],"char":"","fitzpatrick_scale":false,"category":"flags"},"jordan":{"keywords":["jo","flag","nation","country","banner"],"char":"","fitzpatrick_scale":false,"category":"flags"},"kazakhstan":{"keywords":["kz","flag","nation","country","banner"],"char":"","fitzpatrick_scale":false,"category":"flags"},"kenya":{"keywords":["ke","flag","nation","country","banner"],"char":"","fitzpatrick_scale":false,"category":"flags"},"kiribati":{"keywords":["ki","flag","nation","country","banner"],"char":"","fitzpatrick_scale":false,"category":"flags"},"kosovo":{"keywords":["xk","flag","nation","country","banner"],"char":"","fitzpatrick_scale":false,"category":"flags"},"kuwait":{"keywords":["kw","flag","nation","country","banner"],"char":"","fitzpatrick_scale":false,"category":"flags"},"kyrgyzstan":{"keywords":["kg","flag","nation","country","banner"],"char":"","fitzpatrick_scale":false,"category":"flags"},"laos":{"keywords":["lao","democratic","republic","flag","nation","country","banner"],"char":"","fitzpatrick_scale":false,"category":"flags"},"latvia":{"keywords":["lv","flag","nation","country","banner"],"char":"","fitzpatrick_scale":false,"category":"flags"},"lebanon":{"keywords":["lb","flag","nation","country","banner"],"char":"","fitzpatrick_scale":false,"category":"flags"},"lesotho":{"keywords":["ls","flag","nation","country","banner"],"char":"","fitzpatrick_scale":false,"category":"flags"},"liberia":{"keywords":["lr","flag","nation","country","banner"],"char":"","fitzpatrick_scale":false,"category":"flags"},"libya":{"keywords":["ly","flag","nation","country","banner"],"char":"","fitzpatrick_scale":false,"category":"flags"},"liechtenstein":{"keywords":["li","flag","nation","country","banner"],"char":"","fitzpatrick_scale":false,"category":"flags"},"lithuania":{"keywords":["lt","flag","nation","country","banner"],"char":"","fitzpatrick_scale":false,"category":"flags"},"luxembourg":{"keywords":["lu","flag","nation","country","banner"],"char":"","fitzpatrick_scale":false,"category":"flags"},"macau":{"keywords":["macao","flag","nation","country","banner"],"char":"","fitzpatrick_scale":false,"category":"flags"},"macedonia":{"keywords":["macedonia,","flag","nation","country","banner"],"char":"","fitzpatrick_scale":false,"category":"flags"},"madagascar":{"keywords":["mg","flag","nation","country","banner"],"char":"","fitzpatrick_scale":false,"category":"flags"},"malawi":{"keywords":["mw","flag","nation","country","banner"],"char":"","fitzpatrick_scale":false,"category":"flags"},"malaysia":{"keywords":["my","flag","nation","country","banner"],"char":"","fitzpatrick_scale":false,"category":"flags"},"maldives":{"keywords":["mv","flag","nation","country","banner"],"char":"","fitzpatrick_scale":false,"category":"flags"},"mali":{"keywords":["ml","flag","nation","country","banner"],"char":"","fitzpatrick_scale":false,"category":"flags"},"malta":{"keywords":["mt","flag","nation","country","banner"],"char":"","fitzpatrick_scale":false,"category":"flags"},"marshall_islands":{"keywords":["marshall","islands","flag","nation","country","banner"],"char":"","fitzpatrick_scale":false,"category":"flags"},"martinique":{"keywords":["mq","flag","nation","country","banner"],"char":"","fitzpatrick_scale":false,"category":"flags"},"mauritania":{"keywords":["mr","flag","nation","country","banner"],"char":"","fitzpatrick_scale":false,"category":"flags"},"mauritius":{"keywords":["mu","flag","nation","country","banner"],"char":"","fitzpatrick_scale":false,"category":"flags"},"mayotte":{"keywords":["yt","flag","nation","country","banner"],"char":"","fitzpatrick_scale":false,"category":"flags"},"mexico":{"keywords":["mx","flag","nation","country","banner"],"char":"","fitzpatrick_scale":false,"category":"flags"},"micronesia":{"keywords":["micronesia,","federated","states","flag","nation","country","banner"],"char":"","fitzpatrick_scale":false,"category":"flags"},"moldova":{"keywords":["moldova,","republic","flag","nation","country","banner"],"char":"","fitzpatrick_scale":false,"category":"flags"},"monaco":{"keywords":["mc","flag","nation","country","banner"],"char":"","fitzpatrick_scale":false,"category":"flags"},"mongolia":{"keywords":["mn","flag","nation","country","banner"],"char":"","fitzpatrick_scale":false,"category":"flags"},"montenegro":{"keywords":["me","flag","nation","country","banner"],"char":"","fitzpatrick_scale":false,"category":"flags"},"montserrat":{"keywords":["ms","flag","nation","country","banner"],"char":"","fitzpatrick_scale":false,"category":"flags"},"morocco":{"keywords":["ma","flag","nation","country","banner"],"char":"","fitzpatrick_scale":false,"category":"flags"},"mozambique":{"keywords":["mz","flag","nation","country","banner"],"char":"","fitzpatrick_scale":false,"category":"flags"},"myanmar":{"keywords":["mm","flag","nation","country","banner"],"char":"","fitzpatrick_scale":false,"category":"flags"},"namibia":{"keywords":["na","flag","nation","country","banner"],"char":"","fitzpatrick_scale":false,"category":"flags"},"nauru":{"keywords":["nr","flag","nation","country","banner"],"char":"","fitzpatrick_scale":false,"category":"flags"},"nepal":{"keywords":["np","flag","nation","country","banner"],"char":"","fitzpatrick_scale":false,"category":"flags"},"netherlands":{"keywords":["nl","flag","nation","country","banner"],"char":"","fitzpatrick_scale":false,"category":"flags"},"new_caledonia":{"keywords":["new","caledonia","flag","nation","country","banner"],"char":"","fitzpatrick_scale":false,"category":"flags"},"new_zealand":{"keywords":["new","zealand","flag","nation","country","banner"],"char":"","fitzpatrick_scale":false,"category":"flags"},"nicaragua":{"keywords":["ni","flag","nation","country","banner"],"char":"","fitzpatrick_scale":false,"category":"flags"},"niger":{"keywords":["ne","flag","nation","country","banner"],"char":"","fitzpatrick_scale":false,"category":"flags"},"nigeria":{"keywords":["flag","nation","country","banner"],"char":"","fitzpatrick_scale":false,"category":"flags"},"niue":{"keywords":["nu","flag","nation","country","banner"],"char":"","fitzpatrick_scale":false,"category":"flags"},"norfolk_island":{"keywords":["norfolk","island","flag","nation","country","banner"],"char":"","fitzpatrick_scale":false,"category":"flags"},"northern_mariana_islands":{"keywords":["northern","mariana","islands","flag","nation","country","banner"],"char":"","fitzpatrick_scale":false,"category":"flags"},"north_korea":{"keywords":["north","korea","nation","flag","country","banner"],"char":"","fitzpatrick_scale":false,"category":"flags"},"norway":{"keywords":["no","flag","nation","country","banner"],"char":"","fitzpatrick_scale":false,"category":"flags"},"oman":{"keywords":["om_symbol","flag","nation","country","banner"],"char":"","fitzpatrick_scale":false,"category":"flags"},"pakistan":{"keywords":["pk","flag","nation","country","banner"],"char":"","fitzpatrick_scale":false,"category":"flags"},"palau":{"keywords":["pw","flag","nation","country","banner"],"char":"","fitzpatrick_scale":false,"category":"flags"},"palestinian_territories":{"keywords":["palestine","palestinian","territories","flag","nation","country","banner"],"char":"","fitzpatrick_scale":false,"category":"flags"},"panama":{"keywords":["pa","flag","nation","country","banner"],"char":"","fitzpatrick_scale":false,"category":"flags"},"papua_new_guinea":{"keywords":["papua","new","guinea","flag","nation","country","banner"],"char":"","fitzpatrick_scale":false,"category":"flags"},"paraguay":{"keywords":["py","flag","nation","country","banner"],"char":"","fitzpatrick_scale":false,"category":"flags"},"peru":{"keywords":["pe","flag","nation","country","banner"],"char":"","fitzpatrick_scale":false,"category":"flags"},"philippines":{"keywords":["ph","flag","nation","country","banner"],"char":"","fitzpatrick_scale":false,"category":"flags"},"pitcairn_islands":{"keywords":["pitcairn","flag","nation","country","banner"],"char":"","fitzpatrick_scale":false,"category":"flags"},"poland":{"keywords":["pl","flag","nation","country","banner"],"char":"","fitzpatrick_scale":false,"category":"flags"},"portugal":{"keywords":["pt","flag","nation","country","banner"],"char":"","fitzpatrick_scale":false,"category":"flags"},"puerto_rico":{"keywords":["puerto","rico","flag","nation","country","banner"],"char":"","fitzpatrick_scale":false,"category":"flags"},"qatar":{"keywords":["qa","flag","nation","country","banner"],"char":"","fitzpatrick_scale":false,"category":"flags"},"reunion":{"keywords":["runion","flag","nation","country","banner"],"char":"","fitzpatrick_scale":false,"category":"flags"},"romania":{"keywords":["ro","flag","nation","country","banner"],"char":"","fitzpatrick_scale":false,"category":"flags"},"ru":{"keywords":["russian","federation","flag","nation","country","banner"],"char":"","fitzpatrick_scale":false,"category":"flags"},"rwanda":{"keywords":["rw","flag","nation","country","banner"],"char":"","fitzpatrick_scale":false,"category":"flags"},"st_barthelemy":{"keywords":["saint","barthlemy","flag","nation","country","banner"],"char":"","fitzpatrick_scale":false,"category":"flags"},"st_helena":{"keywords":["saint","helena","ascension","tristan","cunha","flag","nation","country","banner"],"char":"","fitzpatrick_scale":false,"category":"flags"},"st_kitts_nevis":{"keywords":["saint","kitts","nevis","flag","nation","country","banner"],"char":"","fitzpatrick_scale":false,"category":"flags"},"st_lucia":{"keywords":["saint","lucia","flag","nation","country","banner"],"char":"","fitzpatrick_scale":false,"category":"flags"},"st_pierre_miquelon":{"keywords":["saint","pierre","miquelon","flag","nation","country","banner"],"char":"","fitzpatrick_scale":false,"category":"flags"},"st_vincent_grenadines":{"keywords":["saint","vincent","grenadines","flag","nation","country","banner"],"char":"","fitzpatrick_scale":false,"category":"flags"},"samoa":{"keywords":["ws","flag","nation","country","banner"],"char":"","fitzpatrick_scale":false,"category":"flags"},"san_marino":{"keywords":["san","marino","flag","nation","country","banner"],"char":"","fitzpatrick_scale":false,"category":"flags"},"sao_tome_principe":{"keywords":["sao","tome","principe","flag","nation","country","banner"],"char":"","fitzpatrick_scale":false,"category":"flags"},"saudi_arabia":{"keywords":["flag","nation","country","banner"],"char":"","fitzpatrick_scale":false,"category":"flags"},"senegal":{"keywords":["sn","flag","nation","country","banner"],"char":"","fitzpatrick_scale":false,"category":"flags"},"serbia":{"keywords":["rs","flag","nation","country","banner"],"char":"","fitzpatrick_scale":false,"category":"flags"},"seychelles":{"keywords":["sc","flag","nation","country","banner"],"char":"","fitzpatrick_scale":false,"category":"flags"},"sierra_leone":{"keywords":["sierra","leone","flag","nation","country","banner"],"char":"","fitzpatrick_scale":false,"category":"flags"},"singapore":{"keywords":["sg","flag","nation","country","banner"],"char":"","fitzpatrick_scale":false,"category":"flags"},"sint_maarten":{"keywords":["sint","maarten","dutch","flag","nation","country","banner"],"char":"","fitzpatrick_scale":false,"category":"flags"},"slovakia":{"keywords":["sk","flag","nation","country","banner"],"char":"","fitzpatrick_scale":false,"category":"flags"},"slovenia":{"keywords":["si","flag","nation","country","banner"],"char":"","fitzpatrick_scale":false,"category":"flags"},"solomon_islands":{"keywords":["solomon","islands","flag","nation","country","banner"],"char":"","fitzpatrick_scale":false,"category":"flags"},"somalia":{"keywords":["so","flag","nation","country","banner"],"char":"","fitzpatrick_scale":false,"category":"flags"},"south_africa":{"keywords":["south","africa","flag","nation","country","banner"],"char":"","fitzpatrick_scale":false,"category":"flags"},"south_georgia_south_sandwich_islands":{"keywords":["south","georgia","sandwich","islands","flag","nation","country","banner"],"char":"","fitzpatrick_scale":false,"category":"flags"},"kr":{"keywords":["south","korea","nation","flag","country","banner"],"char":"","fitzpatrick_scale":false,"category":"flags"},"south_sudan":{"keywords":["south","sd","flag","nation","country","banner"],"char":"","fitzpatrick_scale":false,"category":"flags"},"es":{"keywords":["spain","flag","nation","country","banner"],"char":"","fitzpatrick_scale":false,"category":"flags"},"sri_lanka":{"keywords":["sri","lanka","flag","nation","country","banner"],"char":"","fitzpatrick_scale":false,"category":"flags"},"sudan":{"keywords":["sd","flag","nation","country","banner"],"char":"","fitzpatrick_scale":false,"category":"flags"},"suriname":{"keywords":["sr","flag","nation","country","banner"],"char":"","fitzpatrick_scale":false,"category":"flags"},"swaziland":{"keywords":["sz","flag","nation","country","banner"],"char":"","fitzpatrick_scale":false,"category":"flags"},"sweden":{"keywords":["se","flag","nation","country","banner"],"char":"","fitzpatrick_scale":false,"category":"flags"},"switzerland":{"keywords":["ch","flag","nation","country","banner"],"char":"","fitzpatrick_scale":false,"category":"flags"},"syria":{"keywords":["syrian","arab","republic","flag","nation","country","banner"],"char":"","fitzpatrick_scale":false,"category":"flags"},"taiwan":{"keywords":["tw","flag","nation","country","banner"],"char":"","fitzpatrick_scale":false,"category":"flags"},"tajikistan":{"keywords":["tj","flag","nation","country","banner"],"char":"","fitzpatrick_scale":false,"category":"flags"},"tanzania":{"keywords":["tanzania,","united","republic","flag","nation","country","banner"],"char":"","fitzpatrick_scale":false,"category":"flags"},"thailand":{"keywords":["th","flag","nation","country","banner"],"char":"","fitzpatrick_scale":false,"category":"flags"},"timor_leste":{"keywords":["timor","leste","flag","nation","country","banner"],"char":"","fitzpatrick_scale":false,"category":"flags"},"togo":{"keywords":["tg","flag","nation","country","banner"],"char":"","fitzpatrick_scale":false,"category":"flags"},"tokelau":{"keywords":["tk","flag","nation","country","banner"],"char":"","fitzpatrick_scale":false,"category":"flags"},"tonga":{"keywords":["to","flag","nation","country","banner"],"char":"","fitzpatrick_scale":false,"category":"flags"},"trinidad_tobago":{"keywords":["trinidad","tobago","flag","nation","country","banner"],"char":"","fitzpatrick_scale":false,"category":"flags"},"tunisia":{"keywords":["tn","flag","nation","country","banner"],"char":"","fitzpatrick_scale":false,"category":"flags"},"tr":{"keywords":["turkey","flag","nation","country","banner"],"char":"","fitzpatrick_scale":false,"category":"flags"},"turkmenistan":{"keywords":["flag","nation","country","banner"],"char":"","fitzpatrick_scale":false,"category":"flags"},"turks_caicos_islands":{"keywords":["turks","caicos","islands","flag","nation","country","banner"],"char":"","fitzpatrick_scale":false,"category":"flags"},"tuvalu":{"keywords":["flag","nation","country","banner"],"char":"","fitzpatrick_scale":false,"category":"flags"},"uganda":{"keywords":["ug","flag","nation","country","banner"],"char":"","fitzpatrick_scale":false,"category":"flags"},"ukraine":{"keywords":["ua","flag","nation","country","banner"],"char":"","fitzpatrick_scale":false,"category":"flags"},"united_arab_emirates":{"keywords":["united","arab","emirates","flag","nation","country","banner"],"char":"","fitzpatrick_scale":false,"category":"flags"},"uk":{"keywords":["united","kingdom","great","britain","northern","ireland","flag","nation","country","banner","british","UK","english","england","union jack"],"char":"","fitzpatrick_scale":false,"category":"flags"},"england":{"keywords":["flag","english"],"char":"","fitzpatrick_scale":false,"category":"flags"},"scotland":{"keywords":["flag","scottish"],"char":"","fitzpatrick_scale":false,"category":"flags"},"wales":{"keywords":["flag","welsh"],"char":"","fitzpatrick_scale":false,"category":"flags"},"us":{"keywords":["united","states","america","flag","nation","country","banner"],"char":"","fitzpatrick_scale":false,"category":"flags"},"us_virgin_islands":{"keywords":["virgin","islands","us","flag","nation","country","banner"],"char":"","fitzpatrick_scale":false,"category":"flags"},"uruguay":{"keywords":["uy","flag","nation","country","banner"],"char":"","fitzpatrick_scale":false,"category":"flags"},"uzbekistan":{"keywords":["uz","flag","nation","country","banner"],"char":"","fitzpatrick_scale":false,"category":"flags"},"vanuatu":{"keywords":["vu","flag","nation","country","banner"],"char":"","fitzpatrick_scale":false,"category":"flags"},"vatican_city":{"keywords":["vatican","city","flag","nation","country","banner"],"char":"","fitzpatrick_scale":false,"category":"flags"},"venezuela":{"keywords":["ve","bolivarian","republic","flag","nation","country","banner"],"char":"","fitzpatrick_scale":false,"category":"flags"},"vietnam":{"keywords":["viet","nam","flag","nation","country","banner"],"char":"","fitzpatrick_scale":false,"category":"flags"},"wallis_futuna":{"keywords":["wallis","futuna","flag","nation","country","banner"],"char":"","fitzpatrick_scale":false,"category":"flags"},"western_sahara":{"keywords":["western","sahara","flag","nation","country","banner"],"char":"","fitzpatrick_scale":false,"category":"flags"},"yemen":{"keywords":["ye","flag","nation","country","banner"],"char":"","fitzpatrick_scale":false,"category":"flags"},"zambia":{"keywords":["zm","flag","nation","country","banner"],"char":"","fitzpatrick_scale":false,"category":"flags"},"zimbabwe":{"keywords":["zw","flag","nation","country","banner"],"char":"","fitzpatrick_scale":false,"category":"flags"},"united_nations":{"keywords":["un","flag","banner"],"char":"","fitzpatrick_scale":false,"category":"flags"},"pirate_flag":{"keywords":["skull","crossbones","flag","banner"],"char":"","fitzpatrick_scale":false,"category":"flags"}}')},4393:e=>{"use strict";e.exports=JSON.parse('["grinning","smiley","smile","grin","laughing","sweat_smile","joy","rofl","relaxed","blush","innocent","slightly_smiling_face","upside_down_face","wink","relieved","heart_eyes","smiling_face_with_three_hearts","kissing_heart","kissing","kissing_smiling_eyes","kissing_closed_eyes","yum","stuck_out_tongue","stuck_out_tongue_closed_eyes","stuck_out_tongue_winking_eye","zany","raised_eyebrow","monocle","nerd_face","sunglasses","star_struck","partying","smirk","unamused","disappointed","pensive","worried","confused","slightly_frowning_face","frowning_face","persevere","confounded","tired_face","weary","pleading","cry","sob","triumph","angry","rage","symbols_over_mouth","exploding_head","flushed","hot","cold","scream","fearful","cold_sweat","disappointed_relieved","sweat","hugs","thinking","hand_over_mouth","shushing","lying_face","no_mouth","neutral_face","expressionless","grimacing","roll_eyes","hushed","frowning","anguished","open_mouth","astonished","sleeping","drooling_face","sleepy","dizzy_face","zipper_mouth_face","woozy","nauseated_face","vomiting","sneezing_face","mask","face_with_thermometer","face_with_head_bandage","money_mouth_face","cowboy_hat_face","smiling_imp","imp","japanese_ogre","japanese_goblin","clown_face","poop","ghost","skull","skull_and_crossbones","alien","space_invader","robot","jack_o_lantern","smiley_cat","smile_cat","joy_cat","heart_eyes_cat","smirk_cat","kissing_cat","scream_cat","crying_cat_face","pouting_cat","palms_up","open_hands","raised_hands","clap","handshake","+1","-1","facepunch","fist","fist_left","fist_right","crossed_fingers","v","love_you","metal","ok_hand","point_left","point_right","point_up","point_down","point_up_2","raised_hand","raised_back_of_hand","raised_hand_with_fingers_splayed","vulcan_salute","wave","call_me_hand","muscle","fu","writing_hand","pray","foot","leg","ring","lipstick","kiss","lips","tooth","tongue","ear","nose","footprints","eye","eyes","brain","speaking_head","bust_in_silhouette","busts_in_silhouette","baby","girl","child","boy","woman","adult","man","blonde_woman","blonde_man","bearded_person","older_woman","older_adult","older_man","man_with_gua_pi_mao","woman_with_headscarf","woman_with_turban","man_with_turban","policewoman","policeman","construction_worker_woman","construction_worker_man","guardswoman","guardsman","female_detective","male_detective","woman_health_worker","man_health_worker","woman_farmer","man_farmer","woman_cook","man_cook","woman_student","man_student","woman_singer","man_singer","woman_teacher","man_teacher","woman_factory_worker","man_factory_worker","woman_technologist","man_technologist","woman_office_worker","man_office_worker","woman_mechanic","man_mechanic","woman_scientist","man_scientist","woman_artist","man_artist","woman_firefighter","man_firefighter","woman_pilot","man_pilot","woman_astronaut","man_astronaut","woman_judge","man_judge","bride_with_veil","man_in_tuxedo","princess","prince","woman_superhero","man_superhero","woman_supervillain","man_supervillain","mrs_claus","santa","sorceress","wizard","woman_elf","man_elf","woman_vampire","man_vampire","woman_zombie","man_zombie","woman_genie","man_genie","mermaid","merman","woman_fairy","man_fairy","angel","pregnant_woman","breastfeeding","bowing_woman","bowing_man","tipping_hand_woman","tipping_hand_man","no_good_woman","no_good_man","ok_woman","ok_man","raising_hand_woman","raising_hand_man","woman_facepalming","man_facepalming","woman_shrugging","man_shrugging","pouting_woman","pouting_man","frowning_woman","frowning_man","haircut_woman","haircut_man","massage_woman","massage_man","woman_in_steamy_room","man_in_steamy_room","nail_care","selfie","dancer","man_dancing","dancing_women","dancing_men","business_suit_levitating","walking_woman","walking_man","running_woman","running_man","couple","two_women_holding_hands","two_men_holding_hands","couple_with_heart_woman_man","couple_with_heart_woman_woman","couple_with_heart_man_man","couplekiss_man_woman","couplekiss_woman_woman","couplekiss_man_man","family_man_woman_boy","family_man_woman_girl","family_man_woman_girl_boy","family_man_woman_boy_boy","family_man_woman_girl_girl","family_woman_woman_boy","family_woman_woman_girl","family_woman_woman_girl_boy","family_woman_woman_boy_boy","family_woman_woman_girl_girl","family_man_man_boy","family_man_man_girl","family_man_man_girl_boy","family_man_man_boy_boy","family_man_man_girl_girl","family_woman_boy","family_woman_girl","family_woman_girl_boy","family_woman_boy_boy","family_woman_girl_girl","family_man_boy","family_man_girl","family_man_girl_boy","family_man_boy_boy","family_man_girl_girl","yarn","thread","coat","labcoat","womans_clothes","tshirt","jeans","necktie","dress","bikini","kimono","flat_shoe","high_heel","sandal","boot","mans_shoe","athletic_shoe","hiking_boot","socks","gloves","scarf","tophat","billed_hat","womans_hat","mortar_board","rescue_worker_helmet","crown","pouch","purse","handbag","briefcase","school_satchel","luggage","eyeglasses","dark_sunglasses","goggles","closed_umbrella","dog","cat","mouse","hamster","rabbit","fox_face","bear","panda_face","koala","tiger","lion","cow","pig","pig_nose","frog","monkey_face","see_no_evil","hear_no_evil","speak_no_evil","monkey","chicken","penguin","bird","baby_chick","hatching_chick","hatched_chick","duck","eagle","owl","bat","wolf","boar","horse","unicorn","honeybee","bug","butterfly","snail","shell","beetle","ant","mosquito","grasshopper","spider","spider_web","scorpion","turtle","snake","lizard","t-rex","sauropod","octopus","squid","shrimp","lobster","crab","blowfish","tropical_fish","fish","dolphin","whale","whale2","shark","crocodile","tiger2","leopard","zebra","gorilla","elephant","hippopotamus","rhinoceros","dromedary_camel","giraffe","kangaroo","camel","water_buffalo","ox","cow2","racehorse","pig2","ram","sheep","llama","goat","deer","dog2","poodle","cat2","rooster","turkey","peacock","parrot","swan","dove","rabbit2","raccoon","badger","rat","mouse2","chipmunk","hedgehog","paw_prints","dragon","dragon_face","cactus","christmas_tree","evergreen_tree","deciduous_tree","palm_tree","seedling","herb","shamrock","four_leaf_clover","bamboo","tanabata_tree","leaves","fallen_leaf","maple_leaf","ear_of_rice","hibiscus","sunflower","rose","wilted_flower","tulip","blossom","cherry_blossom","bouquet","mushroom","earth_americas","earth_africa","earth_asia","full_moon","waning_gibbous_moon","last_quarter_moon","waning_crescent_moon","new_moon","waxing_crescent_moon","first_quarter_moon","waxing_gibbous_moon","new_moon_with_face","full_moon_with_face","first_quarter_moon_with_face","last_quarter_moon_with_face","sun_with_face","crescent_moon","star","star2","dizzy","sparkles","comet","sunny","sun_behind_small_cloud","partly_sunny","sun_behind_large_cloud","sun_behind_rain_cloud","cloud","cloud_with_rain","cloud_with_lightning_and_rain","cloud_with_lightning","zap","fire","boom","snowflake","cloud_with_snow","snowman","snowman_with_snow","wind_face","dash","tornado","fog","open_umbrella","umbrella","droplet","sweat_drops","ocean","green_apple","apple","pear","tangerine","lemon","banana","watermelon","grapes","strawberry","melon","cherries","peach","mango","pineapple","coconut","kiwi_fruit","tomato","eggplant","avocado","broccoli","leafy_greens","cucumber","hot_pepper","corn","carrot","potato","sweet_potato","croissant","bagel","bread","baguette_bread","pretzel","cheese","egg","fried_egg","pancakes","bacon","steak","poultry_leg","meat_on_bone","bone","hotdog","hamburger","fries","pizza","sandwich","stuffed_flatbread","taco","burrito","green_salad","shallow_pan_of_food","canned_food","spaghetti","ramen","stew","curry","sushi","bento","fried_shrimp","rice_ball","rice","rice_cracker","fish_cake","fortune_cookie","moon_cake","oden","dango","shaved_ice","ice_cream","icecream","pie","cupcake","cake","birthday","custard","lollipop","candy","chocolate_bar","popcorn","doughnut","dumpling","cookie","chestnut","peanuts","honey_pot","milk_glass","baby_bottle","coffee","tea","cup_with_straw","sake","beer","beers","clinking_glasses","wine_glass","tumbler_glass","cocktail","tropical_drink","champagne","spoon","fork_and_knife","plate_with_cutlery","bowl_with_spoon","takeout_box","chopsticks","salt","soccer","basketball","football","baseball","softball","tennis","volleyball","rugby_football","flying_disc","8ball","golf","golfing_woman","golfing_man","ping_pong","badminton","goal_net","ice_hockey","field_hockey","lacrosse","cricket","ski","skier","snowboarder","person_fencing","women_wrestling","men_wrestling","woman_cartwheeling","man_cartwheeling","woman_playing_handball","man_playing_handball","ice_skate","curling_stone","skateboard","sled","bow_and_arrow","fishing_pole_and_fish","boxing_glove","martial_arts_uniform","rowing_woman","rowing_man","climbing_woman","climbing_man","swimming_woman","swimming_man","woman_playing_water_polo","man_playing_water_polo","woman_in_lotus_position","man_in_lotus_position","surfing_woman","surfing_man","basketball_woman","basketball_man","weight_lifting_woman","weight_lifting_man","biking_woman","biking_man","mountain_biking_woman","mountain_biking_man","horse_racing","trophy","running_shirt_with_sash","medal_sports","medal_military","1st_place_medal","2nd_place_medal","3rd_place_medal","reminder_ribbon","rosette","ticket","tickets","performing_arts","art","circus_tent","woman_juggling","man_juggling","microphone","headphones","musical_score","musical_keyboard","drum","saxophone","trumpet","guitar","violin","clapper","video_game","dart","game_die","chess_pawn","slot_machine","jigsaw","bowling","red_car","taxi","blue_car","bus","trolleybus","racing_car","police_car","ambulance","fire_engine","minibus","truck","articulated_lorry","tractor","kick_scooter","motorcycle","bike","motor_scooter","rotating_light","oncoming_police_car","oncoming_bus","oncoming_automobile","oncoming_taxi","aerial_tramway","mountain_cableway","suspension_railway","railway_car","train","monorail","bullettrain_side","bullettrain_front","light_rail","mountain_railway","steam_locomotive","train2","metro","tram","station","flying_saucer","helicopter","small_airplane","airplane","flight_departure","flight_arrival","sailboat","motor_boat","speedboat","ferry","passenger_ship","rocket","artificial_satellite","seat","canoe","anchor","construction","fuelpump","busstop","vertical_traffic_light","traffic_light","ship","ferris_wheel","roller_coaster","carousel_horse","building_construction","foggy","tokyo_tower","factory","fountain","rice_scene","mountain","mountain_snow","mount_fuji","volcano","japan","camping","tent","national_park","motorway","railway_track","sunrise","sunrise_over_mountains","desert","beach_umbrella","desert_island","city_sunrise","city_sunset","cityscape","night_with_stars","bridge_at_night","milky_way","stars","sparkler","fireworks","rainbow","houses","european_castle","japanese_castle","stadium","statue_of_liberty","house","house_with_garden","derelict_house","office","department_store","post_office","european_post_office","hospital","bank","hotel","convenience_store","school","love_hotel","wedding","classical_building","church","mosque","synagogue","kaaba","shinto_shrine","watch","iphone","calling","computer","keyboard","desktop_computer","printer","computer_mouse","trackball","joystick","clamp","minidisc","floppy_disk","cd","dvd","vhs","camera","camera_flash","video_camera","movie_camera","film_projector","film_strip","telephone_receiver","phone","pager","fax","tv","radio","studio_microphone","level_slider","control_knobs","compass","stopwatch","timer_clock","alarm_clock","mantelpiece_clock","hourglass_flowing_sand","hourglass","satellite","battery","electric_plug","bulb","flashlight","candle","fire_extinguisher","wastebasket","oil_drum","money_with_wings","dollar","yen","euro","pound","moneybag","credit_card","gem","balance_scale","toolbox","wrench","hammer","hammer_and_pick","hammer_and_wrench","pick","nut_and_bolt","gear","brick","chains","magnet","gun","bomb","firecracker","hocho","dagger","crossed_swords","shield","smoking","coffin","funeral_urn","amphora","crystal_ball","prayer_beads","nazar_amulet","barber","alembic","telescope","microscope","hole","pill","syringe","dna","microbe","petri_dish","test_tube","thermometer","broom","basket","toilet_paper","label","bookmark","toilet","shower","bathtub","bath","soap","sponge","lotion_bottle","key","old_key","couch_and_lamp","sleeping_bed","bed","door","bellhop_bell","teddy_bear","framed_picture","world_map","parasol_on_ground","moyai","shopping","shopping_cart","balloon","flags","ribbon","gift","confetti_ball","tada","dolls","wind_chime","crossed_flags","izakaya_lantern","red_envelope","email","envelope_with_arrow","incoming_envelope","e-mail","love_letter","postbox","mailbox_closed","mailbox","mailbox_with_mail","mailbox_with_no_mail","package","postal_horn","inbox_tray","outbox_tray","scroll","page_with_curl","bookmark_tabs","receipt","bar_chart","chart_with_upwards_trend","chart_with_downwards_trend","page_facing_up","date","calendar","spiral_calendar","card_index","card_file_box","ballot_box","file_cabinet","clipboard","spiral_notepad","file_folder","open_file_folder","card_index_dividers","newspaper_roll","newspaper","notebook","closed_book","green_book","blue_book","orange_book","notebook_with_decorative_cover","ledger","books","open_book","safety_pin","link","paperclip","paperclips","scissors","triangular_ruler","straight_ruler","abacus","pushpin","round_pushpin","closed_lock_with_key","lock","unlock","lock_with_ink_pen","pen","fountain_pen","black_nib","memo","pencil2","crayon","paintbrush","mag","mag_right","heart","orange_heart","yellow_heart","green_heart","blue_heart","purple_heart","black_heart","broken_heart","heavy_heart_exclamation","two_hearts","revolving_hearts","heartbeat","heartpulse","sparkling_heart","cupid","gift_heart","heart_decoration","peace_symbol","latin_cross","star_and_crescent","om","wheel_of_dharma","star_of_david","six_pointed_star","menorah","yin_yang","orthodox_cross","place_of_worship","ophiuchus","aries","taurus","gemini","cancer","leo","virgo","libra","scorpius","sagittarius","capricorn","aquarius","pisces","id","atom_symbol","u7a7a","u5272","radioactive","biohazard","mobile_phone_off","vibration_mode","u6709","u7121","u7533","u55b6","u6708","eight_pointed_black_star","vs","accept","white_flower","ideograph_advantage","secret","congratulations","u5408","u6e80","u7981","a","b","ab","cl","o2","sos","no_entry","name_badge","no_entry_sign","x","o","stop_sign","anger","hotsprings","no_pedestrians","do_not_litter","no_bicycles","non-potable_water","underage","no_mobile_phones","exclamation","grey_exclamation","question","grey_question","bangbang","interrobang","100","low_brightness","high_brightness","trident","fleur_de_lis","part_alternation_mark","warning","children_crossing","beginner","recycle","u6307","chart","sparkle","eight_spoked_asterisk","negative_squared_cross_mark","white_check_mark","diamond_shape_with_a_dot_inside","cyclone","loop","globe_with_meridians","m","atm","zzz","sa","passport_control","customs","baggage_claim","left_luggage","wheelchair","no_smoking","wc","parking","potable_water","mens","womens","baby_symbol","restroom","put_litter_in_its_place","cinema","signal_strength","koko","ng","ok","up","cool","new","free","zero","one","two","three","four","five","six","seven","eight","nine","keycap_ten","asterisk","1234","eject_button","arrow_forward","pause_button","next_track_button","stop_button","record_button","play_or_pause_button","previous_track_button","fast_forward","rewind","twisted_rightwards_arrows","repeat","repeat_one","arrow_backward","arrow_up_small","arrow_down_small","arrow_double_up","arrow_double_down","arrow_right","arrow_left","arrow_up","arrow_down","arrow_upper_right","arrow_lower_right","arrow_lower_left","arrow_upper_left","arrow_up_down","left_right_arrow","arrows_counterclockwise","arrow_right_hook","leftwards_arrow_with_hook","arrow_heading_up","arrow_heading_down","hash","information_source","abc","abcd","capital_abcd","symbols","musical_note","notes","wavy_dash","curly_loop","heavy_check_mark","arrows_clockwise","heavy_plus_sign","heavy_minus_sign","heavy_division_sign","heavy_multiplication_x","infinity","heavy_dollar_sign","currency_exchange","copyright","registered","tm","end","back","on","top","soon","ballot_box_with_check","radio_button","white_circle","black_circle","red_circle","large_blue_circle","small_orange_diamond","small_blue_diamond","large_orange_diamond","large_blue_diamond","small_red_triangle","black_small_square","white_small_square","black_large_square","white_large_square","small_red_triangle_down","black_medium_square","white_medium_square","black_medium_small_square","white_medium_small_square","black_square_button","white_square_button","speaker","sound","loud_sound","mute","mega","loudspeaker","bell","no_bell","black_joker","mahjong","spades","clubs","hearts","diamonds","flower_playing_cards","thought_balloon","right_anger_bubble","speech_balloon","left_speech_bubble","clock1","clock2","clock3","clock4","clock5","clock6","clock7","clock8","clock9","clock10","clock11","clock12","clock130","clock230","clock330","clock430","clock530","clock630","clock730","clock830","clock930","clock1030","clock1130","clock1230","white_flag","black_flag","pirate_flag","checkered_flag","triangular_flag_on_post","rainbow_flag","united_nations","afghanistan","aland_islands","albania","algeria","american_samoa","andorra","angola","anguilla","antarctica","antigua_barbuda","argentina","armenia","aruba","australia","austria","azerbaijan","bahamas","bahrain","bangladesh","barbados","belarus","belgium","belize","benin","bermuda","bhutan","bolivia","caribbean_netherlands","bosnia_herzegovina","botswana","brazil","british_indian_ocean_territory","british_virgin_islands","brunei","bulgaria","burkina_faso","burundi","cape_verde","cambodia","cameroon","canada","canary_islands","cayman_islands","central_african_republic","chad","chile","cn","christmas_island","cocos_islands","colombia","comoros","congo_brazzaville","congo_kinshasa","cook_islands","costa_rica","croatia","cuba","curacao","cyprus","czech_republic","denmark","djibouti","dominica","dominican_republic","ecuador","egypt","el_salvador","equatorial_guinea","eritrea","estonia","ethiopia","eu","falkland_islands","faroe_islands","fiji","finland","fr","french_guiana","french_polynesia","french_southern_territories","gabon","gambia","georgia","de","ghana","gibraltar","greece","greenland","grenada","guadeloupe","guam","guatemala","guernsey","guinea","guinea_bissau","guyana","haiti","honduras","hong_kong","hungary","iceland","india","indonesia","iran","iraq","ireland","isle_of_man","israel","it","cote_divoire","jamaica","jp","jersey","jordan","kazakhstan","kenya","kiribati","kosovo","kuwait","kyrgyzstan","laos","latvia","lebanon","lesotho","liberia","libya","liechtenstein","lithuania","luxembourg","macau","macedonia","madagascar","malawi","malaysia","maldives","mali","malta","marshall_islands","martinique","mauritania","mauritius","mayotte","mexico","micronesia","moldova","monaco","mongolia","montenegro","montserrat","morocco","mozambique","myanmar","namibia","nauru","nepal","netherlands","new_caledonia","new_zealand","nicaragua","niger","nigeria","niue","norfolk_island","northern_mariana_islands","north_korea","norway","oman","pakistan","palau","palestinian_territories","panama","papua_new_guinea","paraguay","peru","philippines","pitcairn_islands","poland","portugal","puerto_rico","qatar","reunion","romania","ru","rwanda","st_barthelemy","st_helena","st_kitts_nevis","st_lucia","st_pierre_miquelon","st_vincent_grenadines","samoa","san_marino","sao_tome_principe","saudi_arabia","senegal","serbia","seychelles","sierra_leone","singapore","sint_maarten","slovakia","slovenia","solomon_islands","somalia","south_africa","south_georgia_south_sandwich_islands","kr","south_sudan","es","sri_lanka","sudan","suriname","swaziland","sweden","switzerland","syria","taiwan","tajikistan","tanzania","thailand","timor_leste","togo","tokelau","tonga","trinidad_tobago","tunisia","tr","turkmenistan","turks_caicos_islands","tuvalu","uganda","ukraine","united_arab_emirates","uk","england","scotland","wales","us","us_virgin_islands","uruguay","uzbekistan","vanuatu","vatican_city","venezuela","vietnam","wallis_futuna","western_sahara","yemen","zambia","zimbabwe"]')}},i={};function a(e){var t=i[e];if(void 0!==t)return t.exports;var r=i[e]={id:e,loaded:!1,exports:{}};return o[e].call(r.exports,r,r.exports,a),r.loaded=!0,r.exports}a.m=o,a.n=e=>{var t=e&&e.__esModule?()=>e.default:()=>e;return a.d(t,{a:t}),t},t=Object.getPrototypeOf?e=>Object.getPrototypeOf(e):e=>e.__proto__,a.t=function(r,n){if(1&n&&(r=this(r)),8&n)return r;if("object"==typeof r&&r){if(4&n&&r.__esModule)return r;if(16&n&&"function"==typeof r.then)return r}var o=Object.create(null);a.r(o);var i={};e=e||[null,t({}),t([]),t(t)];for(var s=2&n&&r;"object"==typeof s&&!~e.indexOf(s);s=t(s))Object.getOwnPropertyNames(s).forEach((e=>i[e]=()=>r[e]));return i.default=()=>r,a.d(o,i),o},a.d=(e,t)=>{for(var r in t)a.o(t,r)&&!a.o(e,r)&&Object.defineProperty(e,r,{enumerable:!0,get:t[r]})},a.f={},a.e=e=>Promise.all(Object.keys(a.f).reduce(((t,r)=>(a.f[r](e,t),t)),[])),a.u=e=>"rgl.min.js",a.g=function(){if("object"==typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"==typeof window)return window}}(),a.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t),r={},n="gui.ajax:",a.l=(e,t,o,i)=>{if(r[e])r[e].push(t);else{var s,c;if(void 0!==o)for(var l=document.getElementsByTagName("script"),u=0;u<l.length;u++){var d=l[u];if(d.getAttribute("src")==e||d.getAttribute("data-webpack")==n+o){s=d;break}}s||(c=!0,(s=document.createElement("script")).charset="utf-8",s.timeout=120,a.nc&&s.setAttribute("nonce",a.nc),s.setAttribute("data-webpack",n+o),s.src=e),r[e]=[t];var p=(t,n)=>{s.onerror=s.onload=null,clearTimeout(f);var o=r[e];if(delete r[e],s.parentNode&&s.parentNode.removeChild(s),o&&o.forEach((e=>e(n))),t)return t(n)},f=setTimeout(p.bind(null,void 0,{type:"timeout",target:s}),12e4);s.onerror=p.bind(null,s.onerror),s.onload=p.bind(null,s.onload),c&&document.head.appendChild(s)}},a.r=e=>{"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},a.nmd=e=>(e.paths=[],e.children||(e.children=[]),e),a.p="plug/gui.ajax/res/dist/libs/",(()=>{var e={543:0};a.f.j=(t,r)=>{var n=a.o(e,t)?e[t]:void 0;if(0!==n)if(n)r.push(n[2]);else{var o=new Promise(((r,o)=>n=e[t]=[r,o]));r.push(n[2]=o);var i=a.p+a.u(t),s=new Error;a.l(i,(r=>{if(a.o(e,t)&&(0!==(n=e[t])&&(e[t]=void 0),n)){var o=r&&("load"===r.type?"missing":r.type),i=r&&r.target&&r.target.src;s.message="Loading chunk "+t+" failed.\n("+o+": "+i+")",s.name="ChunkLoadError",s.type=o,s.request=i,n[1](s)}}),"chunk-"+t,t)}};var t=(t,r)=>{var n,o,[i,s,c]=r,l=0;if(i.some((t=>0!==e[t]))){for(n in s)a.o(s,n)&&(a.m[n]=s[n]);c&&c(a)}for(t&&t(r);l<i.length;l++)o=i[l],a.o(e,o)&&e[o]&&e[o][0](),e[o]=0},r=self.webpackChunkgui_ajax=self.webpackChunkgui_ajax||[];r.forEach(t.bind(null,0)),r.push=t.bind(null,r.push.bind(r))})(),a.nc=void 0;var s={};(()=>{"use strict";a.r(s),a.d(s,{default:()=>GI});var e=a(6689),t=a.n(e),r=a(6405),n=a.n(r),o=a(4603),i=a.n(o);function c(e){return c="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},c(e)}function l(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,(void 0,o=function(e,t){if("object"!==c(e)||null===e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,"string");if("object"!==c(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(n.key),"symbol"===c(o)?o:String(o)),n)}var o}var u=a(7180),d=a(2610),p={NODE_PROVIDER:"node",SORTABLE_LIST_ITEM:"sortable-list-item"};function f(e,t){return{connectDragSource:e.dragSource(),isDragging:t.isDragging()}}function h(e,t){return{connectDropTarget:e.dropTarget(),canDrop:t.canDrop(),isOver:t.isOver(),isOverCurrent:t.isOver({shallow:!0})}}var m=function(){function e(t,r,n,o){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this._source=t,this._target=r,this._step=n,this._dropEffect=o}var t,r;return t=e,(r=[{key:"getSource",value:function(){return this._source}},{key:"getTarget",value:function(){return this._target}},{key:"getStep",value:function(){return this._step}},{key:"getDropEffect",value:function(){return this._dropEffect}}])&&l(t.prototype,r),Object.defineProperty(t,"prototype",{writable:!1}),e}();m.STEP_BEGIN_DRAG="beginDrag",m.STEP_END_DRAG="endDrag",m.STEP_CAN_DROP="canDrop",m.STEP_HOVER_DROP="hover";var y=function(e,t,r,n){var o=window.pydio.Controller,a=o.defaultActions.get("dragndrop");if(!a)throw new Error("No DND Actions available");var s=o.getActionByName(a);if(s.deny){var c=new(i());if(c.setSelectedNodes([e]),s.fireSelectionChange(c),s.deny)throw new Error("DND action disabled")}var l=new m(e,t,r,n),p=s.options.dragndropCheckModule;if(r===m.STEP_CAN_DROP&&p){if(!u.getFunctionByName(p,window))throw d.detectModuleToLoadAndApply(p,(function(){})),new Error("Cannot find test module, trying to load it");u.executeFunctionByName(s.options.dragndropCheckModule,window,o,l)}else s.apply(l)},g={beginDrag:function(e){return{node:e.node}},endDrag:function(e,t,r){if(t.didDrop()){var n=t.getItem(),o=t.getDropResult();try{y(n.node,o.node,m.STEP_END_DRAG,o.dropEffect)}catch(e){}}}},b={hover:function(e,t){},canDrop:function(e,t){var r=t.getItem().node,n=e.node;try{y(r,n,m.STEP_CAN_DROP)}catch(e){return!1}return!0},drop:function(e,t){if(!t.didDrop())return{node:e.node}}},v=a(9455);const k=require("react-dnd");var w=a.n(k);function _(e){return _="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},_(e)}function S(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function O(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?S(Object(r),!0).forEach((function(t){P(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):S(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function P(e,t,r){return(t=j(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function E(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function C(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,j(n.key),n)}}function x(e,t,r){return t&&C(e.prototype,t),r&&C(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e}function j(e){var t=function(e,t){if("object"!==_(e)||null===e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,"string");if("object"!==_(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"===_(t)?t:String(t)}function T(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&R(e,t)}function R(e,t){return R=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},R(e,t)}function z(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var r,n=I(e);if(t){var o=I(this).constructor;r=Reflect.construct(n,arguments,o)}else r=n.apply(this,arguments);return function(e,t){if(t&&("object"===_(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}(this,r)}}function I(e){return I=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},I(e)}var A=function(e){T(o,e);var r=z(o);function o(){return E(this,o),r.apply(this,arguments)}return x(o,[{key:"removeClicked",value:function(){this.props.onRemove(this.props.id)}},{key:"render",value:function(){var e,r=this,o=this.props,i=o.isDragging,a=o.connectDragSource,s=o.connectDropTarget,c=o.renderItem,l=o.style,u=o.item,d=o.removable,p=o.className,f=o.label;return d&&(e=t().createElement("span",{className:"button mdi mdi-close",onClick:function(e){return r.removeClicked(e)}})),c?t().createElement("div",{ref:function(e){s(n().findDOMNode(e)),a(n().findDOMNode(e))},style:O(O({},l),{},{opacity:i?0:1})},c(u)):t().createElement(v.Paper,{ref:function(e){s(n().findDOMNode(e)),a(n().findDOMNode(e))},zDepth:1,style:{opacity:i?0:1,margin:"8px 0"}},t().createElement("div",{className:p},f,e))}}]),o}(t().Component),M=function(e){T(n,e);var r=z(n);function n(){return E(this,n),r.apply(this,arguments)}return x(n,[{key:"removeClicked",value:function(){this.props.onRemove(this.props.id)}},{key:"render",value:function(){var e,r=this;return this.props.removable&&(e=t().createElement("span",{className:"button mdi mdi-close",onClick:function(e){return r.removeClicked(e)}})),t().createElement(v.Paper,{zDepth:1,style:{margin:"8px 0"}},t().createElement("div",{className:this.props.className},this.props.label,e))}}]),n}(t().Component),D=M;w()&&(D=w().flow(w().DragSource(p.SORTABLE_LIST_ITEM,{beginDrag:function(e){return{id:e.id}},endDrag:function(e){e.endSwitching()}},f),w().DropTarget(p.SORTABLE_LIST_ITEM,{hover:function(e,t){var r=t.getItem().id;r!==e.id&&e.switchItems(r,e.id)}},h))(A));var N=function(e){T(n,e);var r=z(n);function n(e){var t;return E(this,n),(t=r.call(this,e)).state={values:t.props.values},t}return x(n,[{key:"componentWillReceiveProps",value:function(e){this.setState({values:e.values,switchData:null})}},{key:"findItemIndex",value:function(e,t){for(var r=0;r<t.length;r++)if(t[r].payload===e)return r}},{key:"switchItems",value:function(e,t){var r=this.findItemIndex(e,this.state.values),n=this.state.values[r],o=this.findItemIndex(t,this.state.values),i=this.state.values[o],a=this.state.values.slice();a[r]=i,a[o]=n;var s=this.findItemIndex(e,this.props.values),c=this.findItemIndex(t,this.props.values);s===o&&c===r?this.setState({values:a,switchData:null}):this.setState({values:a,switchData:{oldId:e,newId:t}})}},{key:"endSwitching",value:function(){this.state.switchData&&this.props.onOrderUpdated&&this.props.onOrderUpdated(this.state.switchData.oldId,this.state.switchData.newId,this.state.values),this.setState({switchData:null})}},{key:"render",value:function(){return t().createElement("div",{className:this.props.className},this.state.values.map(function(e){return t().createElement(D,{id:e.payload,key:e.payload,label:e.text,switchItems:this.switchItems.bind(this),endSwitching:this.endSwitching.bind(this),removable:this.props.removable,onRemove:this.props.onRemove,className:this.props.itemClassName,item:e,style:this.props.itemStyle,renderItem:this.props.renderItem})}.bind(this)))}}]),n}(t().Component);const L=require("create-react-class");var U=a.n(L),B=a(580),F=a.n(B),q=a(757),W=a.n(q);const Z=require("react-infinite");var H=a.n(Z),$=a(7108),V=a.n($);const G=require("pydio/util/lang");var J=a.n(G),K=a(3173),Y=a(9105),X=a.n(Y);function Q(e){return Q="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Q(e)}var ee=["muiTheme","node","iconCell","firstLine","secondLine"];function te(){return te=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},te.apply(this,arguments)}function re(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function ne(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?re(Object(r),!0).forEach((function(t){oe(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):re(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function oe(e,t,r){return(t=se(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function ie(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function ae(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,se(n.key),n)}}function se(e){var t=function(e,t){if("object"!==Q(e)||null===e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,"string");if("object"!==Q(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"===Q(t)?t:String(t)}function ce(e,t){return ce=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},ce(e,t)}function le(e){return le=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},le(e)}var ue=W().requireLib("hoc").withContextMenu,de=function(r){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&ce(e,t)}(l,r);var o,i,a,s,c=(a=l,s=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,t=le(a);if(s){var r=le(this).constructor;e=Reflect.construct(t,arguments,r)}else e=t.apply(this,arguments);return function(e,t){if(t&&("object"===Q(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}(this,e)});function l(t){var r;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,l),(r=c.call(this,t)).inlineEditorRef=(0,e.createRef)(),r}return o=l,(i=[{key:"componentDidMount",value:function(){var e=this.props.setInlineEditionAnchor;e&&this.inlineEditorRef.current&&e(this.inlineEditorRef.current)}},{key:"onClick",value:function(e){if(this.props.showSelector){if(this.props.selectorDisabled)return;this.props.onSelect(this.props.node,e),e.stopPropagation(),e.preventDefault()}else this.props.onClick&&this.props.onClick(this.props.node,e)}},{key:"onDoubleClick",value:function(e){this.props.onDoubleClick&&this.props.onDoubleClick(this.props.node,e)}},{key:"render",value:function(){var e,r,o,i=this,a=this.props,s=a.node,c=a.showSelector,l=a.selected,u=a.selectorDisabled,d=a.firstLine,p=a.secondLine,f=a.thirdLine,h=a.style,m=a.actions,y=a.iconCell,g=a.mainIcon,b=a.className,k=a.muiTheme,w=a.canDrop,_=a.isOver,S=a.nativeIsOver,O=a.connectDragSource,P=a.connectDropTarget,E=a.selectedAsBorder,C=["material-list-entry","material-list-entry-"+(f?3:p?2:1)+"-lines"];b&&C.push(b),c&&(e=t().createElement("div",{className:"material-list-selector"},t().createElement(v.Checkbox,{checked:l,ref:"selector",disabled:u}))),y?r=this.props.iconCell:this.props.mainIcon&&(r=t().createElement(v.FontIcon,{className:"mui-font-icon "+this.props.mainIcon,style:{fontSize:18,color:"#FFF",display:"inline-block",margin:16,backgroundColor:"rgb(189, 189, 189)",padding:"7px 3px",width:33,height:33,textAlign:"center"}})),(w&&_||S)&&C.push("droppable-active"),s&&(C.push("listentry_"+J().computeStringSlug(s.getPath())),C.push("ajxp_node_"+(s.isLeaf()?"leaf":"collection")),s.getAjxpMime()&&C.push("ajxp_mime_"+s.getAjxpMime()),s.getMetadata().has("local:entry-classes")&&C.push.apply(C,function(e){if(Array.isArray(e))return ie(e)}(o=s.getMetadata().get("local:entry-classes"))||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(o)||function(e,t){if(e){if("string"==typeof e)return ie(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?Array.from(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?ie(e,t):void 0}}(o)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()));var x={};if(this.state&&this.state.hover&&!this.props.noHover&&(x=ne(ne({},x),{},{backgroundColor:k.darkMode?"rgba(255,255,255,0.05)":"rgba(0,0,0,0.05)",borderBottom:"1px solid transparent"})),l){var j=k.palette.accent2Color,T=X()(j).dark();x=ne(ne({},x),{},E?{boxShadow:"0 0 0 2px "+j+",rgba(0, 0, 0, .4) 0px 0px 10px"}:{backgroundColor:j,color:T?"white":"rgba(0,0,0,.87)"}),C.push("selected"),C.push("selected-"+(T?"dark":"light"))}return t().createElement(pe,te({},this.props,{ref:function(e){var t=n().findDOMNode(e);"function"==typeof P&&P(t),"function"==typeof O&&O(t)},onClick:this.onClick.bind(this),onDoubleClick:c?null:this.onDoubleClick.bind(this),className:C.join(" "),onMouseOver:function(){i.setState({hover:!0})},onMouseOut:function(){i.setState({hover:!1})},style:ne(ne({},h),x)}),e,t().createElement("div",{className:"material-list-icon"+(g||y?"":" material-list-icon-none")},r),t().createElement("div",{className:"material-list-text"},t().createElement("div",{key:"line-1",className:"material-list-line-1",ref:this.inlineEditorRef},d),t().createElement("div",{key:"line-2",className:"material-list-line-2"},p),t().createElement("div",{key:"line-3",className:"material-list-line-3"},f)),t().createElement("div",{className:"material-list-actions"},m))}}])&&ae(o.prototype,i),Object.defineProperty(o,"prototype",{writable:!1}),l}(t().Component),pe=function(e){e.muiTheme,e.node,e.iconCell,e.firstLine,e.secondLine;var r=function(e,t){if(null==e)return{};var r,n,o=function(e,t){if(null==e)return{};var r,n,o={},i=Object.keys(e);for(n=0;n<i.length;n++)r=i[n],t.indexOf(r)>=0||(o[r]=e[r]);return o}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(n=0;n<i.length;n++)r=i[n],t.indexOf(r)>=0||Object.prototype.propertyIsEnumerable.call(e,r)&&(o[r]=e[r])}return o}(e,ee);return t().createElement("div",r)};pe=ue(pe),de.propTypes={showSelector:F().bool,selected:F().bool,selectorDisabled:F().bool,onSelect:F().func,onClick:F().func,iconCell:F().element,mainIcon:F().string,firstLine:F().node,secondLine:F().node,thirdLine:F().node,actions:F().element,activeDroppable:F().bool,className:F().string,style:F().object,noHover:F().bool},de=(0,K.muiThemeable)()(de);var fe=(0,k.flow)((0,k.DragSource)(p.NODE_PROVIDER,g,f),(0,k.DropTarget)(p.NODE_PROVIDER,b,h))(de);const he=require("pydio/util/path");var me=a.n(he),ye=a(212),ge=a(305),be=a(633),ve=a(9807),ke=a(127),we=a(7116),_e=a(1788);function Se(e){if(null==e)return window;if("[object Window]"!==e.toString()){var t=e.ownerDocument;return t&&t.defaultView||window}return e}function Oe(e){return e instanceof Se(e).Element||e instanceof Element}function Pe(e){return e instanceof Se(e).HTMLElement||e instanceof HTMLElement}function Ee(e){return"undefined"!=typeof ShadowRoot&&(e instanceof Se(e).ShadowRoot||e instanceof ShadowRoot)}var Ce=Math.max,xe=Math.min,je=Math.round;function Te(){var e=navigator.userAgentData;return null!=e&&e.brands?e.brands.map((function(e){return e.brand+"/"+e.version})).join(" "):navigator.userAgent}function Re(){return!/^((?!chrome|android).)*safari/i.test(Te())}function ze(e,t,r){void 0===t&&(t=!1),void 0===r&&(r=!1);var n=e.getBoundingClientRect(),o=1,i=1;t&&Pe(e)&&(o=e.offsetWidth>0&&je(n.width)/e.offsetWidth||1,i=e.offsetHeight>0&&je(n.height)/e.offsetHeight||1);var a=(Oe(e)?Se(e):window).visualViewport,s=!Re()&&r,c=(n.left+(s&&a?a.offsetLeft:0))/o,l=(n.top+(s&&a?a.offsetTop:0))/i,u=n.width/o,d=n.height/i;return{width:u,height:d,top:l,right:c+u,bottom:l+d,left:c,x:c,y:l}}function Ie(e){var t=Se(e);return{scrollLeft:t.pageXOffset,scrollTop:t.pageYOffset}}function Ae(e){return e?(e.nodeName||"").toLowerCase():null}function Me(e){return((Oe(e)?e.ownerDocument:e.document)||window.document).documentElement}function De(e){return ze(Me(e)).left+Ie(e).scrollLeft}function Ne(e){return Se(e).getComputedStyle(e)}function Le(e){var t=Ne(e),r=t.overflow,n=t.overflowX,o=t.overflowY;return/auto|scroll|overlay|hidden/.test(r+o+n)}function Ue(e,t,r){void 0===r&&(r=!1);var n,o,i=Pe(t),a=Pe(t)&&function(e){var t=e.getBoundingClientRect(),r=je(t.width)/e.offsetWidth||1,n=je(t.height)/e.offsetHeight||1;return 1!==r||1!==n}(t),s=Me(t),c=ze(e,a,r),l={scrollLeft:0,scrollTop:0},u={x:0,y:0};return(i||!i&&!r)&&(("body"!==Ae(t)||Le(s))&&(l=(n=t)!==Se(n)&&Pe(n)?{scrollLeft:(o=n).scrollLeft,scrollTop:o.scrollTop}:Ie(n)),Pe(t)?((u=ze(t,!0)).x+=t.clientLeft,u.y+=t.clientTop):s&&(u.x=De(s))),{x:c.left+l.scrollLeft-u.x,y:c.top+l.scrollTop-u.y,width:c.width,height:c.height}}function Be(e){var t=ze(e),r=e.offsetWidth,n=e.offsetHeight;return Math.abs(t.width-r)<=1&&(r=t.width),Math.abs(t.height-n)<=1&&(n=t.height),{x:e.offsetLeft,y:e.offsetTop,width:r,height:n}}function Fe(e){return"html"===Ae(e)?e:e.assignedSlot||e.parentNode||(Ee(e)?e.host:null)||Me(e)}function qe(e){return["html","body","#document"].indexOf(Ae(e))>=0?e.ownerDocument.body:Pe(e)&&Le(e)?e:qe(Fe(e))}function We(e,t){var r;void 0===t&&(t=[]);var n=qe(e),o=n===(null==(r=e.ownerDocument)?void 0:r.body),i=Se(n),a=o?[i].concat(i.visualViewport||[],Le(n)?n:[]):n,s=t.concat(a);return o?s:s.concat(We(Fe(a)))}function Ze(e){return["table","td","th"].indexOf(Ae(e))>=0}function He(e){return Pe(e)&&"fixed"!==Ne(e).position?e.offsetParent:null}function $e(e){for(var t=Se(e),r=He(e);r&&Ze(r)&&"static"===Ne(r).position;)r=He(r);return r&&("html"===Ae(r)||"body"===Ae(r)&&"static"===Ne(r).position)?t:r||function(e){var t=/firefox/i.test(Te());if(/Trident/i.test(Te())&&Pe(e)&&"fixed"===Ne(e).position)return null;var r=Fe(e);for(Ee(r)&&(r=r.host);Pe(r)&&["html","body"].indexOf(Ae(r))<0;){var n=Ne(r);if("none"!==n.transform||"none"!==n.perspective||"paint"===n.contain||-1!==["transform","perspective"].indexOf(n.willChange)||t&&"filter"===n.willChange||t&&n.filter&&"none"!==n.filter)return r;r=r.parentNode}return null}(e)||t}var Ve="top",Ge="bottom",Je="right",Ke="left",Ye="auto",Xe=[Ve,Ge,Je,Ke],Qe="start",et="end",tt="viewport",rt="popper",nt=Xe.reduce((function(e,t){return e.concat([t+"-"+Qe,t+"-"+et])}),[]),ot=[].concat(Xe,[Ye]).reduce((function(e,t){return e.concat([t,t+"-"+Qe,t+"-"+et])}),[]),it=["beforeRead","read","afterRead","beforeMain","main","afterMain","beforeWrite","write","afterWrite"];function at(e){var t=new Map,r=new Set,n=[];function o(e){r.add(e.name),[].concat(e.requires||[],e.requiresIfExists||[]).forEach((function(e){if(!r.has(e)){var n=t.get(e);n&&o(n)}})),n.push(e)}return e.forEach((function(e){t.set(e.name,e)})),e.forEach((function(e){r.has(e.name)||o(e)})),n}var st={placement:"bottom",modifiers:[],strategy:"absolute"};function ct(){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];return!t.some((function(e){return!(e&&"function"==typeof e.getBoundingClientRect)}))}function lt(e){void 0===e&&(e={});var t=e,r=t.defaultModifiers,n=void 0===r?[]:r,o=t.defaultOptions,i=void 0===o?st:o;return function(e,t,r){void 0===r&&(r=i);var o,a,s={placement:"bottom",orderedModifiers:[],options:Object.assign({},st,i),modifiersData:{},elements:{reference:e,popper:t},attributes:{},styles:{}},c=[],l=!1,u={state:s,setOptions:function(r){var o="function"==typeof r?r(s.options):r;d(),s.options=Object.assign({},i,s.options,o),s.scrollParents={reference:Oe(e)?We(e):e.contextElement?We(e.contextElement):[],popper:We(t)};var a,l,p=function(e){var t=at(e);return it.reduce((function(e,r){return e.concat(t.filter((function(e){return e.phase===r})))}),[])}((a=[].concat(n,s.options.modifiers),l=a.reduce((function(e,t){var r=e[t.name];return e[t.name]=r?Object.assign({},r,t,{options:Object.assign({},r.options,t.options),data:Object.assign({},r.data,t.data)}):t,e}),{}),Object.keys(l).map((function(e){return l[e]}))));return s.orderedModifiers=p.filter((function(e){return e.enabled})),s.orderedModifiers.forEach((function(e){var t=e.name,r=e.options,n=void 0===r?{}:r,o=e.effect;if("function"==typeof o){var i=o({state:s,name:t,instance:u,options:n});c.push(i||function(){})}})),u.update()},forceUpdate:function(){if(!l){var e=s.elements,t=e.reference,r=e.popper;if(ct(t,r)){s.rects={reference:Ue(t,$e(r),"fixed"===s.options.strategy),popper:Be(r)},s.reset=!1,s.placement=s.options.placement,s.orderedModifiers.forEach((function(e){return s.modifiersData[e.name]=Object.assign({},e.data)}));for(var n=0;n<s.orderedModifiers.length;n++)if(!0!==s.reset){var o=s.orderedModifiers[n],i=o.fn,a=o.options,c=void 0===a?{}:a,d=o.name;"function"==typeof i&&(s=i({state:s,options:c,name:d,instance:u})||s)}else s.reset=!1,n=-1}}},update:(o=function(){return new Promise((function(e){u.forceUpdate(),e(s)}))},function(){return a||(a=new Promise((function(e){Promise.resolve().then((function(){a=void 0,e(o())}))}))),a}),destroy:function(){d(),l=!0}};if(!ct(e,t))return u;function d(){c.forEach((function(e){return e()})),c=[]}return u.setOptions(r).then((function(e){!l&&r.onFirstUpdate&&r.onFirstUpdate(e)})),u}}var ut={passive:!0};const dt={name:"eventListeners",enabled:!0,phase:"write",fn:function(){},effect:function(e){var t=e.state,r=e.instance,n=e.options,o=n.scroll,i=void 0===o||o,a=n.resize,s=void 0===a||a,c=Se(t.elements.popper),l=[].concat(t.scrollParents.reference,t.scrollParents.popper);return i&&l.forEach((function(e){e.addEventListener("scroll",r.update,ut)})),s&&c.addEventListener("resize",r.update,ut),function(){i&&l.forEach((function(e){e.removeEventListener("scroll",r.update,ut)})),s&&c.removeEventListener("resize",r.update,ut)}},data:{}};function pt(e){return e.split("-")[0]}function ft(e){return e.split("-")[1]}function ht(e){return["top","bottom"].indexOf(e)>=0?"x":"y"}function mt(e){var t,r=e.reference,n=e.element,o=e.placement,i=o?pt(o):null,a=o?ft(o):null,s=r.x+r.width/2-n.width/2,c=r.y+r.height/2-n.height/2;switch(i){case Ve:t={x:s,y:r.y-n.height};break;case Ge:t={x:s,y:r.y+r.height};break;case Je:t={x:r.x+r.width,y:c};break;case Ke:t={x:r.x-n.width,y:c};break;default:t={x:r.x,y:r.y}}var l=i?ht(i):null;if(null!=l){var u="y"===l?"height":"width";switch(a){case Qe:t[l]=t[l]-(r[u]/2-n[u]/2);break;case et:t[l]=t[l]+(r[u]/2-n[u]/2)}}return t}var yt={top:"auto",right:"auto",bottom:"auto",left:"auto"};function gt(e){var t,r=e.popper,n=e.popperRect,o=e.placement,i=e.variation,a=e.offsets,s=e.position,c=e.gpuAcceleration,l=e.adaptive,u=e.roundOffsets,d=e.isFixed,p=a.x,f=void 0===p?0:p,h=a.y,m=void 0===h?0:h,y="function"==typeof u?u({x:f,y:m}):{x:f,y:m};f=y.x,m=y.y;var g=a.hasOwnProperty("x"),b=a.hasOwnProperty("y"),v=Ke,k=Ve,w=window;if(l){var _=$e(r),S="clientHeight",O="clientWidth";_===Se(r)&&"static"!==Ne(_=Me(r)).position&&"absolute"===s&&(S="scrollHeight",O="scrollWidth"),(o===Ve||(o===Ke||o===Je)&&i===et)&&(k=Ge,m-=(d&&_===w&&w.visualViewport?w.visualViewport.height:_[S])-n.height,m*=c?1:-1),o!==Ke&&(o!==Ve&&o!==Ge||i!==et)||(v=Je,f-=(d&&_===w&&w.visualViewport?w.visualViewport.width:_[O])-n.width,f*=c?1:-1)}var P,E=Object.assign({position:s},l&&yt),C=!0===u?function(e){var t=e.x,r=e.y,n=window.devicePixelRatio||1;return{x:je(t*n)/n||0,y:je(r*n)/n||0}}({x:f,y:m}):{x:f,y:m};return f=C.x,m=C.y,c?Object.assign({},E,((P={})[k]=b?"0":"",P[v]=g?"0":"",P.transform=(w.devicePixelRatio||1)<=1?"translate("+f+"px, "+m+"px)":"translate3d("+f+"px, "+m+"px, 0)",P)):Object.assign({},E,((t={})[k]=b?m+"px":"",t[v]=g?f+"px":"",t.transform="",t))}const bt={name:"computeStyles",enabled:!0,phase:"beforeWrite",fn:function(e){var t=e.state,r=e.options,n=r.gpuAcceleration,o=void 0===n||n,i=r.adaptive,a=void 0===i||i,s=r.roundOffsets,c=void 0===s||s,l={placement:pt(t.placement),variation:ft(t.placement),popper:t.elements.popper,popperRect:t.rects.popper,gpuAcceleration:o,isFixed:"fixed"===t.options.strategy};null!=t.modifiersData.popperOffsets&&(t.styles.popper=Object.assign({},t.styles.popper,gt(Object.assign({},l,{offsets:t.modifiersData.popperOffsets,position:t.options.strategy,adaptive:a,roundOffsets:c})))),null!=t.modifiersData.arrow&&(t.styles.arrow=Object.assign({},t.styles.arrow,gt(Object.assign({},l,{offsets:t.modifiersData.arrow,position:"absolute",adaptive:!1,roundOffsets:c})))),t.attributes.popper=Object.assign({},t.attributes.popper,{"data-popper-placement":t.placement})},data:{}},vt={name:"applyStyles",enabled:!0,phase:"write",fn:function(e){var t=e.state;Object.keys(t.elements).forEach((function(e){var r=t.styles[e]||{},n=t.attributes[e]||{},o=t.elements[e];Pe(o)&&Ae(o)&&(Object.assign(o.style,r),Object.keys(n).forEach((function(e){var t=n[e];!1===t?o.removeAttribute(e):o.setAttribute(e,!0===t?"":t)})))}))},effect:function(e){var t=e.state,r={popper:{position:t.options.strategy,left:"0",top:"0",margin:"0"},arrow:{position:"absolute"},reference:{}};return Object.assign(t.elements.popper.style,r.popper),t.styles=r,t.elements.arrow&&Object.assign(t.elements.arrow.style,r.arrow),function(){Object.keys(t.elements).forEach((function(e){var n=t.elements[e],o=t.attributes[e]||{},i=Object.keys(t.styles.hasOwnProperty(e)?t.styles[e]:r[e]).reduce((function(e,t){return e[t]="",e}),{});Pe(n)&&Ae(n)&&(Object.assign(n.style,i),Object.keys(o).forEach((function(e){n.removeAttribute(e)})))}))}},requires:["computeStyles"]},kt={name:"offset",enabled:!0,phase:"main",requires:["popperOffsets"],fn:function(e){var t=e.state,r=e.options,n=e.name,o=r.offset,i=void 0===o?[0,0]:o,a=ot.reduce((function(e,r){return e[r]=function(e,t,r){var n=pt(e),o=[Ke,Ve].indexOf(n)>=0?-1:1,i="function"==typeof r?r(Object.assign({},t,{placement:e})):r,a=i[0],s=i[1];return a=a||0,s=(s||0)*o,[Ke,Je].indexOf(n)>=0?{x:s,y:a}:{x:a,y:s}}(r,t.rects,i),e}),{}),s=a[t.placement],c=s.x,l=s.y;null!=t.modifiersData.popperOffsets&&(t.modifiersData.popperOffsets.x+=c,t.modifiersData.popperOffsets.y+=l),t.modifiersData[n]=a}};var wt={left:"right",right:"left",bottom:"top",top:"bottom"};function _t(e){return e.replace(/left|right|bottom|top/g,(function(e){return wt[e]}))}var St={start:"end",end:"start"};function Ot(e){return e.replace(/start|end/g,(function(e){return St[e]}))}function Pt(e,t){var r=t.getRootNode&&t.getRootNode();if(e.contains(t))return!0;if(r&&Ee(r)){var n=t;do{if(n&&e.isSameNode(n))return!0;n=n.parentNode||n.host}while(n)}return!1}function Et(e){return Object.assign({},e,{left:e.x,top:e.y,right:e.x+e.width,bottom:e.y+e.height})}function Ct(e,t,r){return t===tt?Et(function(e,t){var r=Se(e),n=Me(e),o=r.visualViewport,i=n.clientWidth,a=n.clientHeight,s=0,c=0;if(o){i=o.width,a=o.height;var l=Re();(l||!l&&"fixed"===t)&&(s=o.offsetLeft,c=o.offsetTop)}return{width:i,height:a,x:s+De(e),y:c}}(e,r)):Oe(t)?function(e,t){var r=ze(e,!1,"fixed"===t);return r.top=r.top+e.clientTop,r.left=r.left+e.clientLeft,r.bottom=r.top+e.clientHeight,r.right=r.left+e.clientWidth,r.width=e.clientWidth,r.height=e.clientHeight,r.x=r.left,r.y=r.top,r}(t,r):Et(function(e){var t,r=Me(e),n=Ie(e),o=null==(t=e.ownerDocument)?void 0:t.body,i=Ce(r.scrollWidth,r.clientWidth,o?o.scrollWidth:0,o?o.clientWidth:0),a=Ce(r.scrollHeight,r.clientHeight,o?o.scrollHeight:0,o?o.clientHeight:0),s=-n.scrollLeft+De(e),c=-n.scrollTop;return"rtl"===Ne(o||r).direction&&(s+=Ce(r.clientWidth,o?o.clientWidth:0)-i),{width:i,height:a,x:s,y:c}}(Me(e)))}function xt(e){return Object.assign({},{top:0,right:0,bottom:0,left:0},e)}function jt(e,t){return t.reduce((function(t,r){return t[r]=e,t}),{})}function Tt(e,t){void 0===t&&(t={});var r=t,n=r.placement,o=void 0===n?e.placement:n,i=r.strategy,a=void 0===i?e.strategy:i,s=r.boundary,c=void 0===s?"clippingParents":s,l=r.rootBoundary,u=void 0===l?tt:l,d=r.elementContext,p=void 0===d?rt:d,f=r.altBoundary,h=void 0!==f&&f,m=r.padding,y=void 0===m?0:m,g=xt("number"!=typeof y?y:jt(y,Xe)),b=p===rt?"reference":rt,v=e.rects.popper,k=e.elements[h?b:p],w=function(e,t,r,n){var o="clippingParents"===t?function(e){var t=We(Fe(e)),r=["absolute","fixed"].indexOf(Ne(e).position)>=0&&Pe(e)?$e(e):e;return Oe(r)?t.filter((function(e){return Oe(e)&&Pt(e,r)&&"body"!==Ae(e)})):[]}(e):[].concat(t),i=[].concat(o,[r]),a=i[0],s=i.reduce((function(t,r){var o=Ct(e,r,n);return t.top=Ce(o.top,t.top),t.right=xe(o.right,t.right),t.bottom=xe(o.bottom,t.bottom),t.left=Ce(o.left,t.left),t}),Ct(e,a,n));return s.width=s.right-s.left,s.height=s.bottom-s.top,s.x=s.left,s.y=s.top,s}(Oe(k)?k:k.contextElement||Me(e.elements.popper),c,u,a),_=ze(e.elements.reference),S=mt({reference:_,element:v,strategy:"absolute",placement:o}),O=Et(Object.assign({},v,S)),P=p===rt?O:_,E={top:w.top-P.top+g.top,bottom:P.bottom-w.bottom+g.bottom,left:w.left-P.left+g.left,right:P.right-w.right+g.right},C=e.modifiersData.offset;if(p===rt&&C){var x=C[o];Object.keys(E).forEach((function(e){var t=[Je,Ge].indexOf(e)>=0?1:-1,r=[Ve,Ge].indexOf(e)>=0?"y":"x";E[e]+=x[r]*t}))}return E}const Rt={name:"flip",enabled:!0,phase:"main",fn:function(e){var t=e.state,r=e.options,n=e.name;if(!t.modifiersData[n]._skip){for(var o=r.mainAxis,i=void 0===o||o,a=r.altAxis,s=void 0===a||a,c=r.fallbackPlacements,l=r.padding,u=r.boundary,d=r.rootBoundary,p=r.altBoundary,f=r.flipVariations,h=void 0===f||f,m=r.allowedAutoPlacements,y=t.options.placement,g=pt(y),b=c||(g!==y&&h?function(e){if(pt(e)===Ye)return[];var t=_t(e);return[Ot(e),t,Ot(t)]}(y):[_t(y)]),v=[y].concat(b).reduce((function(e,r){return e.concat(pt(r)===Ye?function(e,t){void 0===t&&(t={});var r=t,n=r.placement,o=r.boundary,i=r.rootBoundary,a=r.padding,s=r.flipVariations,c=r.allowedAutoPlacements,l=void 0===c?ot:c,u=ft(n),d=u?s?nt:nt.filter((function(e){return ft(e)===u})):Xe,p=d.filter((function(e){return l.indexOf(e)>=0}));0===p.length&&(p=d);var f=p.reduce((function(t,r){return t[r]=Tt(e,{placement:r,boundary:o,rootBoundary:i,padding:a})[pt(r)],t}),{});return Object.keys(f).sort((function(e,t){return f[e]-f[t]}))}(t,{placement:r,boundary:u,rootBoundary:d,padding:l,flipVariations:h,allowedAutoPlacements:m}):r)}),[]),k=t.rects.reference,w=t.rects.popper,_=new Map,S=!0,O=v[0],P=0;P<v.length;P++){var E=v[P],C=pt(E),x=ft(E)===Qe,j=[Ve,Ge].indexOf(C)>=0,T=j?"width":"height",R=Tt(t,{placement:E,boundary:u,rootBoundary:d,altBoundary:p,padding:l}),z=j?x?Je:Ke:x?Ge:Ve;k[T]>w[T]&&(z=_t(z));var I=_t(z),A=[];if(i&&A.push(R[C]<=0),s&&A.push(R[z]<=0,R[I]<=0),A.every((function(e){return e}))){O=E,S=!1;break}_.set(E,A)}if(S)for(var M=function(e){var t=v.find((function(t){var r=_.get(t);if(r)return r.slice(0,e).every((function(e){return e}))}));if(t)return O=t,"break"},D=h?3:1;D>0&&"break"!==M(D);D--);t.placement!==O&&(t.modifiersData[n]._skip=!0,t.placement=O,t.reset=!0)}},requiresIfExists:["offset"],data:{_skip:!1}};function zt(e,t,r){return Ce(e,xe(t,r))}const It={name:"preventOverflow",enabled:!0,phase:"main",fn:function(e){var t=e.state,r=e.options,n=e.name,o=r.mainAxis,i=void 0===o||o,a=r.altAxis,s=void 0!==a&&a,c=r.boundary,l=r.rootBoundary,u=r.altBoundary,d=r.padding,p=r.tether,f=void 0===p||p,h=r.tetherOffset,m=void 0===h?0:h,y=Tt(t,{boundary:c,rootBoundary:l,padding:d,altBoundary:u}),g=pt(t.placement),b=ft(t.placement),v=!b,k=ht(g),w="x"===k?"y":"x",_=t.modifiersData.popperOffsets,S=t.rects.reference,O=t.rects.popper,P="function"==typeof m?m(Object.assign({},t.rects,{placement:t.placement})):m,E="number"==typeof P?{mainAxis:P,altAxis:P}:Object.assign({mainAxis:0,altAxis:0},P),C=t.modifiersData.offset?t.modifiersData.offset[t.placement]:null,x={x:0,y:0};if(_){if(i){var j,T="y"===k?Ve:Ke,R="y"===k?Ge:Je,z="y"===k?"height":"width",I=_[k],A=I+y[T],M=I-y[R],D=f?-O[z]/2:0,N=b===Qe?S[z]:O[z],L=b===Qe?-O[z]:-S[z],U=t.elements.arrow,B=f&&U?Be(U):{width:0,height:0},F=t.modifiersData["arrow#persistent"]?t.modifiersData["arrow#persistent"].padding:{top:0,right:0,bottom:0,left:0},q=F[T],W=F[R],Z=zt(0,S[z],B[z]),H=v?S[z]/2-D-Z-q-E.mainAxis:N-Z-q-E.mainAxis,$=v?-S[z]/2+D+Z+W+E.mainAxis:L+Z+W+E.mainAxis,V=t.elements.arrow&&$e(t.elements.arrow),G=V?"y"===k?V.clientTop||0:V.clientLeft||0:0,J=null!=(j=null==C?void 0:C[k])?j:0,K=I+$-J,Y=zt(f?xe(A,I+H-J-G):A,I,f?Ce(M,K):M);_[k]=Y,x[k]=Y-I}if(s){var X,Q="x"===k?Ve:Ke,ee="x"===k?Ge:Je,te=_[w],re="y"===w?"height":"width",ne=te+y[Q],oe=te-y[ee],ie=-1!==[Ve,Ke].indexOf(g),ae=null!=(X=null==C?void 0:C[w])?X:0,se=ie?ne:te-S[re]-O[re]-ae+E.altAxis,ce=ie?te+S[re]+O[re]-ae-E.altAxis:oe,le=f&&ie?function(e,t,r){var n=zt(e,t,r);return n>r?r:n}(se,te,ce):zt(f?se:ne,te,f?ce:oe);_[w]=le,x[w]=le-te}t.modifiersData[n]=x}},requiresIfExists:["offset"]},At={name:"arrow",enabled:!0,phase:"main",fn:function(e){var t,r=e.state,n=e.name,o=e.options,i=r.elements.arrow,a=r.modifiersData.popperOffsets,s=pt(r.placement),c=ht(s),l=[Ke,Je].indexOf(s)>=0?"height":"width";if(i&&a){var u=function(e,t){return xt("number"!=typeof(e="function"==typeof e?e(Object.assign({},t.rects,{placement:t.placement})):e)?e:jt(e,Xe))}(o.padding,r),d=Be(i),p="y"===c?Ve:Ke,f="y"===c?Ge:Je,h=r.rects.reference[l]+r.rects.reference[c]-a[c]-r.rects.popper[l],m=a[c]-r.rects.reference[c],y=$e(i),g=y?"y"===c?y.clientHeight||0:y.clientWidth||0:0,b=h/2-m/2,v=u[p],k=g-d[l]-u[f],w=g/2-d[l]/2+b,_=zt(v,w,k),S=c;r.modifiersData[n]=((t={})[S]=_,t.centerOffset=_-w,t)}},effect:function(e){var t=e.state,r=e.options.element,n=void 0===r?"[data-popper-arrow]":r;null!=n&&("string"!=typeof n||(n=t.elements.popper.querySelector(n)))&&Pt(t.elements.popper,n)&&(t.elements.arrow=n)},requires:["popperOffsets"],requiresIfExists:["preventOverflow"]};function Mt(e,t,r){return void 0===r&&(r={x:0,y:0}),{top:e.top-t.height-r.y,right:e.right-t.width+r.x,bottom:e.bottom-t.height+r.y,left:e.left-t.width-r.x}}function Dt(e){return[Ve,Je,Ge,Ke].some((function(t){return e[t]>=0}))}var Nt=lt({defaultModifiers:[dt,{name:"popperOffsets",enabled:!0,phase:"read",fn:function(e){var t=e.state,r=e.name;t.modifiersData[r]=mt({reference:t.rects.reference,element:t.rects.popper,strategy:"absolute",placement:t.placement})},data:{}},bt,vt,kt,Rt,It,At,{name:"hide",enabled:!0,phase:"main",requiresIfExists:["preventOverflow"],fn:function(e){var t=e.state,r=e.name,n=t.rects.reference,o=t.rects.popper,i=t.modifiersData.preventOverflow,a=Tt(t,{elementContext:"reference"}),s=Tt(t,{altBoundary:!0}),c=Mt(a,n),l=Mt(s,o,i),u=Dt(c),d=Dt(l);t.modifiersData[r]={referenceClippingOffsets:c,popperEscapeOffsets:l,isReferenceHidden:u,hasPopperEscaped:d},t.attributes.popper=Object.assign({},t.attributes.popper,{"data-popper-reference-hidden":u,"data-popper-escaped":d})}}]}),Lt=a(7283),Ut=a(7630),Bt=a(1827);function Ft(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}const qt=e.forwardRef((function(t,n){var o=t.children,i=t.container,a=t.disablePortal,s=void 0!==a&&a,c=function(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var r=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=r){var n,o,i,a,s=[],c=!0,l=!1;try{if(i=(r=r.call(e)).next,0===t){if(Object(r)!==r)return;c=!1}else for(;!(c=(n=i.call(r)).done)&&(s.push(n.value),s.length!==t);c=!0);}catch(e){l=!0,o=e}finally{try{if(!c&&null!=r.return&&(a=r.return(),Object(a)!==a))return}finally{if(l)throw o}}return s}}(e,t)||function(e,t){if(e){if("string"==typeof e)return Ft(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?Array.from(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?Ft(e,t):void 0}}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}(e.useState(null),2),l=c[0],u=c[1],d=(0,ke.Z)(e.isValidElement(o)?o.ref:null,n);if((0,we.Z)((function(){s||u(function(e){return"function"==typeof e?e():e}(i)||document.body)}),[i,s]),(0,we.Z)((function(){if(l&&!s)return(0,Ut.Z)(n,l),function(){(0,Ut.Z)(n,null)}}),[n,l,s]),s){if(e.isValidElement(o)){var p={ref:d};return e.cloneElement(o,p)}return(0,Bt.jsx)(e.Fragment,{children:o})}return(0,Bt.jsx)(e.Fragment,{children:l?r.createPortal(o,l):l})}));var Wt=a(9691),Zt=a(4177);function Ht(e){return(0,Wt.Z)("MuiPopperUnstyled",e)}(0,Zt.Z)("MuiPopperUnstyled",["root"]);function $t(e,t,r){return void 0===e||"string"==typeof e?t:(0,be.Z)({},t,{ownerState:(0,be.Z)({},t.ownerState,r)})}var Vt=a(2053);function Gt(e){if(void 0===e)return{};var t={};return Object.keys(e).filter((function(t){return!(t.match(/^on[A-Z]/)&&"function"==typeof e[t])})).forEach((function(r){t[r]=e[r]})),t}var Jt=["elementType","externalSlotProps","ownerState"];function Kt(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var r=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=r){var n,o,i,a,s=[],c=!0,l=!1;try{if(i=(r=r.call(e)).next,0===t){if(Object(r)!==r)return;c=!1}else for(;!(c=(n=i.call(r)).done)&&(s.push(n.value),s.length!==t);c=!0);}catch(e){l=!0,o=e}finally{try{if(!c&&null!=r.return&&(a=r.return(),Object(a)!==a))return}finally{if(l)throw o}}return s}}(e,t)||function(e,t){if(e){if("string"==typeof e)return Yt(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?Array.from(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?Yt(e,t):void 0}}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Yt(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}var Xt=["anchorEl","children","component","direction","disablePortal","modifiers","open","ownerState","placement","popperOptions","popperRef","slotProps","slots","TransitionProps"],Qt=["anchorEl","children","container","direction","disablePortal","keepMounted","modifiers","open","placement","popperOptions","popperRef","style","transition","slotProps","slots"];function er(e){return"function"==typeof e?e():e}var tr={},rr=e.forwardRef((function(t,r){var n,o=t.anchorEl,i=t.children,a=t.component,s=t.direction,c=t.disablePortal,l=t.modifiers,u=t.open,d=t.ownerState,p=t.placement,f=t.popperOptions,h=t.popperRef,m=t.slotProps,y=void 0===m?{}:m,g=t.slots,b=void 0===g?{}:g,v=t.TransitionProps,k=(0,ve.Z)(t,Xt),w=e.useRef(null),_=(0,ke.Z)(w,r),S=e.useRef(null),O=(0,ke.Z)(S,h),P=e.useRef(O);(0,we.Z)((function(){P.current=O}),[O]),e.useImperativeHandle(h,(function(){return S.current}),[]);var E=function(e,t){if("ltr"===t)return e;switch(e){case"bottom-end":return"bottom-start";case"bottom-start":return"bottom-end";case"top-end":return"top-start";case"top-start":return"top-end";default:return e}}(p,s),C=Kt(e.useState(E),2),x=C[0],j=C[1],T=Kt(e.useState(er(o)),2),R=T[0],z=T[1];e.useEffect((function(){S.current&&S.current.forceUpdate()})),e.useEffect((function(){o&&z(er(o))}),[o]),(0,we.Z)((function(){if(R&&u){var e=[{name:"preventOverflow",options:{altBoundary:c}},{name:"flip",options:{altBoundary:c}},{name:"onUpdate",enabled:!0,phase:"afterWrite",fn:function(e){var t=e.state;j(t.placement)}}];null!=l&&(e=e.concat(l)),f&&null!=f.modifiers&&(e=e.concat(f.modifiers));var t=Nt(R,w.current,(0,be.Z)({placement:E},f,{modifiers:e}));return P.current(t),function(){t.destroy(),P.current(null)}}}),[R,c,l,u,f,E]);var I={placement:x};null!==v&&(I.TransitionProps=v);var A=(0,Lt.Z)({root:["root"]},Ht,{}),M=null!=(n=null!=a?a:b.root)?n:"div",D=function(e){var t,r=e.elementType,n=e.externalSlotProps,o=e.ownerState,i=(0,ve.Z)(e,Jt),a=function(e,t){return"function"==typeof e?e(t):e}(n,o),s=function(e){var t=e.getSlotProps,r=e.additionalProps,n=e.externalSlotProps,o=e.externalForwardedProps,i=e.className;if(!t){var a=(0,Vt.Z)(null==o?void 0:o.className,null==n?void 0:n.className,i,null==r?void 0:r.className),s=(0,be.Z)({},null==r?void 0:r.style,null==o?void 0:o.style,null==n?void 0:n.style),c=(0,be.Z)({},r,o,n);return a.length>0&&(c.className=a),Object.keys(s).length>0&&(c.style=s),{props:c,internalRef:void 0}}var l=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[];if(void 0===e)return{};var r={};return Object.keys(e).filter((function(r){return r.match(/^on[A-Z]/)&&"function"==typeof e[r]&&!t.includes(r)})).forEach((function(t){r[t]=e[t]})),r}((0,be.Z)({},o,n)),u=Gt(n),d=Gt(o),p=t(l),f=(0,Vt.Z)(null==p?void 0:p.className,null==r?void 0:r.className,i,null==o?void 0:o.className,null==n?void 0:n.className),h=(0,be.Z)({},null==p?void 0:p.style,null==r?void 0:r.style,null==o?void 0:o.style,null==n?void 0:n.style),m=(0,be.Z)({},p,r,d,u);return f.length>0&&(m.className=f),Object.keys(h).length>0&&(m.style=h),{props:m,internalRef:p.ref}}((0,be.Z)({},i,{externalSlotProps:a})),c=s.props,l=s.internalRef,u=(0,ke.Z)(l,null==a?void 0:a.ref,null==(t=e.additionalProps)?void 0:t.ref);return $t(r,(0,be.Z)({},c,{ref:u}),o)}({elementType:M,externalSlotProps:y.root,externalForwardedProps:k,additionalProps:{role:"tooltip",ref:_},ownerState:(0,be.Z)({},t,d),className:A.root});return(0,Bt.jsx)(M,(0,be.Z)({},D,{children:"function"==typeof i?i(I):i}))}));const nr=e.forwardRef((function(t,r){var n,o=t.anchorEl,i=t.children,a=t.container,s=t.direction,c=void 0===s?"ltr":s,l=t.disablePortal,u=void 0!==l&&l,d=t.keepMounted,p=void 0!==d&&d,f=t.modifiers,h=t.open,m=t.placement,y=void 0===m?"bottom":m,g=t.popperOptions,b=void 0===g?tr:g,v=t.popperRef,k=t.style,w=t.transition,_=void 0!==w&&w,S=t.slotProps,O=void 0===S?{}:S,P=t.slots,E=void 0===P?{}:P,C=(0,ve.Z)(t,Qt),x=Kt(e.useState(!0),2),j=x[0],T=x[1];if(!p&&!h&&(!_||j))return null;if(a)n=a;else if(o){var R=er(o);n=R&&void 0!==R.nodeType?(0,_e.Z)(R).body:(0,_e.Z)(null).body}var z=h||!p||_&&!j?void 0:"none",I=_?{in:h,onEnter:function(){T(!1)},onExited:function(){T(!0)}}:void 0;return(0,Bt.jsx)(qt,{disablePortal:u,container:n,children:(0,Bt.jsx)(rr,(0,be.Z)({anchorEl:o,direction:c,disablePortal:u,modifiers:f,ref:r,open:_?!j:h,placement:y,popperOptions:b,popperRef:v,slotProps:O,slots:E},C,{style:(0,be.Z)({position:"fixed",top:0,left:0,display:z},k),TransitionProps:I,children:i}))})}));var or=a(4313),ir=a(9812),ar=a(5670),sr=["components","componentsProps","slots","slotProps"],cr=(0,ir.ZP)(nr,{name:"MuiPopper",slot:"Root",overridesResolver:function(e,t){return t.root}})({});const lr=e.forwardRef((function(e,t){var r,n=(0,or.Z)(),o=(0,ar.Z)({props:e,name:"MuiPopper"}),i=o.components,a=o.componentsProps,s=o.slots,c=o.slotProps,l=(0,ge.Z)(o,sr),u=null!=(r=null==s?void 0:s.root)?r:null==i?void 0:i.Root;return(0,Bt.jsx)(cr,(0,ye.Z)({direction:null==n?void 0:n.direction,slots:{root:u},slotProps:null!=c?c:a},l,{ref:t}))}));function ur(e){return ur="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},ur(e)}function dr(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function pr(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?dr(Object(r),!0).forEach((function(t){fr(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):dr(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function fr(e,t,r){return(t=mr(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function hr(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,mr(n.key),n)}}function mr(e){var t=function(e,t){if("object"!==ur(e)||null===e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,"string");if("object"!==ur(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"===ur(t)?t:String(t)}function yr(e,t){return yr=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},yr(e,t)}function gr(e){return gr=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},gr(e)}var br=W().requireLib("boot"),vr=br.PydioContextConsumer,kr=br.PromptValidators,wr=a(9455),_r=wr.Paper,Sr=wr.FlatButton,Or=W().requireLib("hoc").ModernTextField,Pr=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&yr(e,t)}(s,e);var r,n,o,i,a=(o=s,i=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,t=gr(o);if(i){var r=gr(this).constructor;e=Reflect.construct(t,arguments,r)}else e=t.apply(this,arguments);return function(e,t){if(t&&("object"===ur(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}(this,e)});function s(e){var t;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,s);var r=(t=a.call(this,e)).props.node;return t.errorChecks=[kr.Empty,kr.NoSlash,kr.MustDifferFrom(r.getLabel()),kr.MustDifferSiblings()],t.warningChecks=[kr.WarnSpace],t.state={value:r.getLabel()},t}return r=s,n=[{key:"setValue",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;this.setState({value:e,errorString:null,warningString:null});var r=W().getMessages(),n=kr.ApplyChecks(this.errorChecks,this.warningChecks,e),o=n.error,i=n.warning;o?this.setState({errorString:r[o]},t):i?this.setState({warningString:r[i]},t):t&&t()}},{key:"submit",value:function(){var e=this.state,t=e.value;e.errorString||(this.props.callback(t),this.props.onClose())}},{key:"catchClicks",value:function(e){e.stopPropagation()}},{key:"onKeyDown",value:function(e){e.stopPropagation(),"Enter"===e.key?this.submit():"Escape"===e.key&&this.props.onClose()}},{key:"render",value:function(){var e=this,r=W().getMessages(),n=this.props,o=n.node,i=n.onClose,a=n.anchor,s=n.muiTheme,c=n.editorStyle,l=void 0===c?{}:c,u=this.state,d=u.value,p=u.errorString,f=u.warningString;return t().createElement(lr,{id:"rename-popper:"+o.getPath(),open:!0,anchorEl:a,placement:"bottom-start"},t().createElement(_r,{style:pr({width:320,padding:8,fontWeight:"initial",background:s.palette.mui3?s.palette.mui3["surface-2"]:"white"},l),zDepth:2},t().createElement(Or,{value:d,onChange:function(t,r){return e.setValue(r)},onClick:function(t){return e.catchClicks(t)},onDoubleClick:function(t){return e.catchClicks(t)},tabIndex:"0",onKeyDown:function(t){return e.onKeyDown(t)},selectBaseOnMount:!0,hintText:r[6],variant:"v2",fullWidth:!0}),p&&t().createElement("div",{style:{color:"var(--md-sys-color-error)",fontSize:13,padding:"0 6px"}},p),f&&t().createElement("div",{style:{fontSize:13,padding:"0 6px",opacity:.73}},f),t().createElement("div",{style:{textAlign:"right",paddingTop:8}},t().createElement(Sr,{style:{height:32,lineHeight:"32px"},label:r[54],onClick:i}),t().createElement(Sr,{style:{height:32,lineHeight:"32px"},label:r[48],onClick:function(){e.setValue(d,(function(){return e.submit()}))}}))))}}],n&&hr(r.prototype,n),Object.defineProperty(r,"prototype",{writable:!1}),s}(t().Component);function Er(e){return Er="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Er(e)}function Cr(){return Cr=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Cr.apply(this,arguments)}function xr(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,zr(n.key),n)}}function jr(e,t){return jr=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},jr(e,t)}function Tr(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function Rr(e){return Rr=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},Rr(e)}function zr(e){var t=function(e,t){if("object"!==Er(e)||null===e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,"string");if("object"!==Er(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"===Er(t)?t:String(t)}Pr=vr((0,K.muiThemeable)()(Pr));var Ir=function(r){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:void 0,o=function(o){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&jr(e,t)}(u,o);var i,a,s,c,l=(s=u,c=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,t=Rr(s);if(c){var r=Rr(this).constructor;e=Reflect.construct(t,arguments,r)}else e=t.apply(this,arguments);return function(e,t){if(t&&("object"===Er(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return Tr(e)}(this,e)});function u(){var e,t,r,n;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,u);for(var o=arguments.length,i=new Array(o),a=0;a<o;a++)i[a]=arguments[a];return t=Tr(e=l.call.apply(l,[this].concat(i))),n={edit:!1},(r=zr(r="state"))in t?Object.defineProperty(t,r,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[r]=n,e}return i=u,a=[{key:"attach",value:function(e){var t=this;this._nodeListener=function(){t.forceUpdate()},this._actionListener=function(e){return e&&"prompt-rename"===e.type&&e.callback&&t.setState({edit:!0,callback:e.callback}),!0},e.observe("node_replaced",this._nodeListener),e.observe("node_action",this._actionListener)}},{key:"detach",value:function(e){this._nodeListener&&(e.stopObserving("node_replaced",this._nodeListener),e.stopObserving("node_action",this._actionListener))}},{key:"getNode",value:function(){return n?n(this.props):this.props.node}},{key:"componentDidMount",value:function(){this.attach(this.getNode())}},{key:"componentWillUnmount",value:function(){this.detach(this.getNode())}},{key:"render",value:function(){var n=this,o=this.getNode(),i=this.state,a=i.edit,s=i.editorStyle,c=i.callback,l=i.anchor;return t().createElement(e.Fragment,null,t().createElement(r,Cr({},this.props,{setInlineEditionAnchor:function(e,t){n.setState({anchor:e,editorStyle:t})}})),a&&l&&t().createElement(Pr,{node:o,anchor:l,onClose:function(){return n.setState({edit:!1})},callback:c,editorStyle:s}))}}],a&&xr(i.prototype,a),Object.defineProperty(i,"prototype",{writable:!1}),u}(t().Component);return o};function Ar(){return Ar=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Ar.apply(this,arguments)}var Mr=W().requireLib("boot").moment;const Dr=Ir((function(r){var n=r.node,o=r.renderActions,i=r.tableKeys,a=(0,e.useRef)(null);(0,e.useEffect)((function(){var e=r.setInlineEditionAnchor;e&&a.current&&e(a.current,{marginLeft:44})}),[n,i]);var s=r.actions;o&&(s=o(n));var c=[],l=!0,u=n.getMetadata();return Object.keys(i).forEach((function(e){var r,o,s=i[e],d=s.width?{width:s.width}:null;if(s.renderCell)s.name=e,r=s.renderCell(n,s);else if("ajxp_modiftime"===e){var p=Mr(1e3*parseFloat(u.get("ajxp_modiftime"))),f=p.calendar();f.indexOf("/")>-1&&(f=p.fromNow()),r=f}else r="bytesize"===e?parseInt(u.get(e))?me().roundFileSize(parseInt(u.get(e))):"-":u.get(e);o=u.get(e);var h=null;l&&(h=a),c.push(t().createElement("span",{key:e,className:"cell cell-"+e,title:o,style:d,"data-label":s.label,ref:h},r)),l=!1})),t().createElement(fe,Ar({},r,{iconCell:null,firstLine:c,actions:s}))}));function Nr(e){return Nr="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Nr(e)}function Lr(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function Ur(e,t,r){return(t=function(e){var t=function(e,t){if("object"!==Nr(e)||null===e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,"string");if("object"!==Nr(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"===Nr(t)?t:String(t)}(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}const Br={pydioActionsToItems:function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],r=[],n=!1,o=W().getMessages();return t.map(function(t){if(t.separator){if(n)return;return r.push(t),void(n=!0)}var i;n=!1,i=t.label_id&&o[t.label_id]?o[t.label_id]:t.raw_name?t.raw_name:t.name;var a=t.icon_class;if(t.subMenu){var s=t.subMenuBeforeShow?e(t.subMenuBeforeShow()):t.subMenu;r.push({text:i,iconClassName:a,subItems:s})}else r.push({text:i,iconClassName:a,payload:t.callback})}.bind(this)),n&&(r=r.slice(0,r.length-1)),r.length&&r[0]&&r[0].separator&&r.shift(),r},itemsToMenu:function e(t,r){var n=arguments.length>2&&void 0!==arguments[2]&&arguments[2],o=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{};o=function(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?Lr(Object(r),!0).forEach((function(t){Ur(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Lr(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}({display:"normal",width:216,desktop:!0,autoWidth:!1},o);var i=t.map((function(t,n){if(t.separator)return React.createElement(v.Divider,{key:"divider"+n});if(t.subHeader)return React.createElement(v.Subheader,{style:{marginTop:-10,marginBottom:-6}},t.subHeader);var i,a,s,c;t.subItems?i=e(t.subItems,r,!0):t.payload&&(a=function(){t.payload(),r()});var l=t.iconClassName,u=!1;return"__INSET__"===l&&(l="",u=!0),"normal"===o.display?s=l?React.createElement(v.FontIcon,{className:t.iconClassName+" menu-icons",style:{fontSize:16,padding:5}}):null:"right"===o.display&&(c=l?React.createElement(v.FontIcon,{className:t.iconClassName+" menu-icons",style:{fontSize:16,padding:5}}):null),c=i&&i.length?React.createElement(v.FontIcon,{className:"mdi mdi-menu-right menu-icons"}):c,React.createElement(v.MenuItem,{key:t.text,primaryText:t.text,insetChildren:u,leftIcon:s,rightIcon:c,onClick:a,menuItems:i})}));return n?i:React.createElement(v.Menu,o,i)}},Fr=require("lodash");function qr(e){return qr="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},qr(e)}function Wr(){return Wr=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Wr.apply(this,arguments)}function Zr(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,(void 0,o=function(e,t){if("object"!==qr(e)||null===e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,"string");if("object"!==qr(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(n.key),"symbol"===qr(o)?o:String(o)),n)}var o}function Hr(e,t){return Hr=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},Hr(e,t)}function $r(e){return $r=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},$r(e)}var Vr=a(6689),Gr=a(580),Jr=a(2282);const Kr=function(e){var t=function(t){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&Hr(e,t)}(s,t);var r,n,o,i,a=(o=s,i=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,t=$r(o);if(i){var r=$r(this).constructor;e=Reflect.construct(t,arguments,r)}else e=t.apply(this,arguments);return function(e,t){if(t&&("object"===qr(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}(this,e)});function s(e,t){var r;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,s),(r=a.call(this,e,t)).state={menuItems:r.props.menuItems||[]},r}return r=s,(n=[{key:"componentDidMount",value:function(){var e=this;this.props.controller&&!this.props.menuItems&&(this._observer=(0,Fr.debounce)((function(){var t=e.props.controller.getContextActions("genericContext",null,e.props.toolbars),r=Br.pydioActionsToItems(t);e.setState({menuItems:r})}),50),this.props.controller===this.props.pydio.Controller?this.props.pydio.observe("actions_refreshed",this._observer):this.props.controller.observe("actions_refreshed",this._observer),this._observer())}},{key:"componentWillUnmount",value:function(){this._observer&&(this.props.controller===this.props.pydio.Controller?this.props.pydio.stopObserving("actions_refreshed",this._observer):this.props.controller.stopObserving("actions_refreshed",this._observer))}},{key:"componentWillReceiveProps",value:function(e){e.menuItems&&e.menuItems!==this.props.menuItems&&this.setState({menuItems:e.menuItems})}},{key:"render",value:function(){return Vr.createElement(e,Wr({},this.props,{menuItems:this.state.menuItems}))}}])&&Zr(r.prototype,n),Object.defineProperty(r,"prototype",{writable:!1}),s}(Vr.Component);return t.propTypes={menuItems:Gr.array,toolbars:Gr.array,controller:Gr.instanceOf(Jr),pydio:Gr.instanceOf(Pydio)},t};function Yr(e){return Yr="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Yr(e)}function Xr(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,(void 0,o=function(e,t){if("object"!==Yr(e)||null===e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,"string");if("object"!==Yr(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(n.key),"symbol"===Yr(o)?o:String(o)),n)}var o}function Qr(e,t){return Qr=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},Qr(e,t)}function en(e){return en=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},en(e)}var tn=a(580),rn=a(6689),nn=W().requireLib("hoc").ThemedContainers,on=nn.Popover,an=nn.IconButton,sn=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&Qr(e,t)}(a,e);var t,r,n,o,i=(n=a,o=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,t=en(n);if(o){var r=en(this).constructor;e=Reflect.construct(t,arguments,r)}else e=t.apply(this,arguments);return function(e,t){if(t&&("object"===Yr(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}(this,e)});function a(e,t){var r;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,a),(r=i.call(this,e,t)).state={showMenu:!1},r}return t=a,(r=[{key:"showMenu",value:function(e){this.setState({showMenu:!0,anchor:e.currentTarget})}},{key:"closeMenu",value:function(e,t,r){this.setState({showMenu:!1})}},{key:"render",value:function(){var e=this,t=this.props,r=t.menuItems,n=t.className,o=t.buttonTitle,i=t.buttonClassName,a=t.containerStyle,s=t.style,c=t.buttonStyle,l=t.popoverDirection,u=t.popoverTargetPosition,d=t.menuProps;return r.length?rn.createElement("span",{className:"toolbars-button-menu "+(n||""),style:a},rn.createElement(an,{ref:"menuButton",tooltip:o,iconClassName:i,onClick:this.showMenu.bind(this),iconStyle:c,style:s}),rn.createElement(on,{open:this.state.showMenu,anchorEl:this.state.anchor,anchorOrigin:{horizontal:l||"right",vertical:u||"bottom"},targetOrigin:{horizontal:l||"right",vertical:"top"},onRequestClose:function(){e.setState({showMenu:!1})},useLayerForClickAway:!1},Br.itemsToMenu(r,this.closeMenu.bind(this),!1,d||void 0))):null}}])&&Xr(t.prototype,r),Object.defineProperty(t,"prototype",{writable:!1}),a}(rn.Component);sn.propTypes={buttonTitle:tn.string.isRequired,buttonClassName:tn.string.isRequired,className:tn.string,popoverDirection:tn.oneOf(["right","left"]),popoverPosition:tn.oneOf(["top","bottom"]),menuProps:tn.object,menuItems:tn.array.isRequired};const cn=Kr(sn);function ln(e){return ln="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},ln(e)}function un(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,(void 0,o=function(e,t){if("object"!==ln(e)||null===e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,"string");if("object"!==ln(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(n.key),"symbol"===ln(o)?o:String(o)),n)}var o}function dn(e,t){return dn=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},dn(e,t)}function pn(e){return pn=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},pn(e)}var fn=W().requireLib("boot").PydioContextConsumer,hn=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&dn(e,t)}(s,e);var r,n,o,i,a=(o=s,i=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,t=pn(o);if(i){var r=pn(this).constructor;e=Reflect.construct(t,arguments,r)}else e=t.apply(this,arguments);return function(e,t){if(t&&("object"===ln(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}(this,e)});function s(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,s),a.apply(this,arguments)}return r=s,n=[{key:"onMenuClicked",value:function(e){this.props.columnClicked(e.payload)}},{key:"onHeaderClick",value:function(e,t){var r=this.props.tableKeys[e];r&&r.sortType&&this.props.columnClicked&&(r.name=e,this.props.columnClicked(r,t))}},{key:"getColumnsItems",value:function(e){var r=this,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,o=function(){n&&n.notify("actions_refreshed")},i=this.props,a=i.tableKeys,s=i.sortingInfo;return Object.keys(a).map((function(n){var i,c,l=a[n],u=l.width?{width:l.width}:null,d="cell header_cell cell-"+n;return l.sortType&&(d+=" sortable",s&&(s.attribute===n||s.remote&&l.remoteSortAttribute&&s.attribute===l.remoteSortAttribute)&&(i="number"===l.sortType?"asc"===s.direction?"mdi mdi-sort-numeric-ascending":"mdi mdi-sort-numeric-descending":"asc"===s.direction?"mdi mdi-sort-alphabetical-ascending":"mdi mdi-sort-alphabetical-descending",d+=" active-sort-"+s.direction,c=!0)),"menu"===e?(l.name=n,{payload:l,text:l.label,iconClassName:i}):"menu_data"===e?{name:t().createElement("span",{style:{display:"flex"}},t().createElement("span",{style:{flex:1,fontWeight:c?500:"inherit"}},l.label),c&&t().createElement("span",{className:"mdi mdi-checkbox-marked-circle-outline"})),callback:function(){r.onHeaderClick(n,o)},icon_class:i||"mdi mdi-sort"}:t().createElement("span",{key:n,className:d,style:u,onClick:function(){r.onHeaderClick(n,o)}},l.label)}))}},{key:"buildSortingMenuItems",value:function(e){return this.getColumnsItems("menu_data",e)}},{key:"componentDidMount",value:function(){var e=new Action({name:"sort_action",icon_class:"mdi mdi-sort-descending",text_id:450,title_id:450,text:this.props.getMessage(450),title:this.props.getMessage(450),hasAccessKey:!1,subMenu:!0,subMenuUpdateImage:!0,weight:50},{selection:!1,dir:!0,actionBar:!0,actionBarGroup:"display_toolbar",contextMenu:!1,infoPanel:!1},{},{},{dynamicBuilder:this.buildSortingMenuItems.bind(this)}),t=new Map;t.set("sort_action",e),this.props.pydio.getController().updateGuiActions(t)}},{key:"componentWillUnmount",value:function(){this.props.pydio.getController().deleteFromGuiActions("sort_action")}},{key:"render",value:function(){var e=this;return"hidden"===this.props.displayMode?null:"menu"===this.props.displayMode?t().createElement(cn,{buttonTitle:"Sort by...",buttonClassName:"mdi mdi-sort-descending",menuItems:this.getColumnsItems("menu",this.props.pydio.getController()),onMenuClicked:function(t){return e.onMenuClicked(t)}}):t().createElement("div",{className:"mui-toolbar-group mui-left"},this.getColumnsItems("header",this.props.pydio.getController()))}}],n&&un(r.prototype,n),Object.defineProperty(r,"prototype",{writable:!1}),s}(t().Component);function mn(e){return mn="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},mn(e)}function yn(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function gn(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?yn(Object(r),!0).forEach((function(t){bn(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):yn(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function bn(e,t,r){return(t=kn(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function vn(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,kn(n.key),n)}}function kn(e){var t=function(e,t){if("object"!==mn(e)||null===e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,"string");if("object"!==mn(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"===mn(t)?t:String(t)}function wn(e,t){return wn=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},wn(e,t)}function _n(e){return _n=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},_n(e)}hn=fn(hn);var Sn=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&wn(e,t)}(s,e);var r,n,o,i,a=(o=s,i=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,t=_n(o);if(i){var r=_n(this).constructor;e=Reflect.construct(t,arguments,r)}else e=t.apply(this,arguments);return function(e,t){if(t&&("object"===mn(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}(this,e)});function s(e){var t;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,s),(t=a.call(this,e)).state={node:t.props.node},t}return r=s,n=[{key:"componentDidMount",value:function(){var e=this;if(!this.props.node){var t=this.props.dataModel;this._dmObserver=function(){e.setState({node:t.getContextNode()})},t.observe("context_changed",this._dmObserver),this.setState({node:t.getContextNode()})}}},{key:"componentWillUnmount",value:function(){this._dmObserver&&this.props.dataModel.stopObserving("context_changed",this._dmObserver)}},{key:"changePage",value:function(e){this.state.node.getMetadata().get("paginationData").set("new_page",e.currentTarget.getAttribute("data-page")),this.props.dataModel.requireContextChange(this.state.node)}},{key:"onMenuChange",value:function(e,t,r){this.state.node.getMetadata().get("paginationData").set("new_page",r),this.props.dataModel.requireContextChange(this.state.node)}},{key:"render",value:function(){var e=this,r=this.state.node,n=this.props,o=n.toolbarDisplay,i=n.toolbarColor,a=n.smallDisplay,s=n.style,c=n.menuStyle,l=n.id;if(!r||!r.getMetadata().get("paginationData"))return null;var u,d,p,f,h,m=r.getMetadata().get("paginationData"),y=parseInt(m.get("current")),g=parseInt(m.get("total")),b=g>0,k=[],w=W().getMessages()[331];if(b){for(var _=1;_<=g;_++)k.push(t().createElement(v.MenuItem,{value:_,primaryText:w+" "+_+(_===y?" / "+g:"")}));if(k.length<=1)return null}return o&&(i&&(p={color:i}),a&&(f={fontSize:13},h={fontSize:20})),d=t().createElement(v.IconButton,{onClick:function(){e.onMenuChange(null,0,y-1)},iconClassName:"mdi mdi-chevron-left",disabled:1===y,iconStyle:gn(gn({},p),h),style:a?{marginRight:-10,marginTop:-2,width:40,height:40}:null}),u=t().createElement(v.IconButton,{onClick:function(){e.onMenuChange(null,0,y+1)},iconClassName:"mdi mdi-chevron-right",disabled:g>-1&&y===g,style:a?{marginLeft:-40,marginTop:-2,width:40,height:40}:{marginLeft:-20},iconStyle:gn(gn({},p),h)}),t().createElement("div",{id:l,style:gn({display:"flex",alignItems:"center"},s)},d,b&&t().createElement(v.DropDownMenu,{style:{width:150,marginTop:-6},onChange:this.onMenuChange.bind(this),value:y,underlineStyle:{display:"none"},labelStyle:gn(gn({},p),f),menuStyle:c},k),!b&&t().createElement("div",{style:{width:100,paddingLeft:10}},w+" "+y),u)}}],n&&vn(r.prototype,n),Object.defineProperty(r,"prototype",{writable:!1}),s}(t().Component);function On(e){return On="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},On(e)}function Pn(){return Pn=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Pn.apply(this,arguments)}function En(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,(void 0,o=function(e,t){if("object"!==On(e)||null===e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,"string");if("object"!==On(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(n.key),"symbol"===On(o)?o:String(o)),n)}var o}function Cn(e,t){return Cn=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},Cn(e,t)}function xn(e){return xn=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},xn(e)}var jn=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&Cn(e,t)}(s,e);var r,n,o,i,a=(o=s,i=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,t=xn(o);if(i){var r=xn(this).constructor;e=Reflect.construct(t,arguments,r)}else e=t.apply(this,arguments);return function(e,t){if(t&&("object"===On(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}(this,e)});function s(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,s),a.apply(this,arguments)}return r=s,(n=[{key:"render",value:function(){var e;return this.props.node.getMetadata().get("paginationData")&&this.props.node.getMetadata().get("paginationData").get("total")>1&&(e=t().createElement(Sn,{dataModel:this.props.dm,node:this.props.node})),t().createElement("div",{className:"mui-toolbar toolbarTableHeader"},t().createElement(hn,Pn({displayMode:"tableHeader"},this.props,{columnClicked:this.props.onHeaderClick})),t().createElement("div",{className:"mui-toolbar-group mui-right"},e,t().createElement(v.FontIcon,{key:1,title:W().getMessages[149],className:"mdi mdi-refresh"+(this.props.loading?" rotating":""),onClick:this.props.reload,style:{padding:16,display:"block",cursor:"pointer",fontSize:24,color:"#9E9E9E"}}),this.props.additionalActions))}}])&&En(r.prototype,n),Object.defineProperty(r,"prototype",{writable:!1}),s}(t().Component),Tn=a(6880),Rn=a.n(Tn);const zn=require("pydio/model/node");var In=a.n(zn);function An(e){return An="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},An(e)}function Mn(){return Mn=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Mn.apply(this,arguments)}function Dn(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,(void 0,o=function(e,t){if("object"!==An(e)||null===e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,"string");if("object"!==An(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(n.key),"symbol"===An(o)?o:String(o)),n)}var o}function Nn(e,t){return Nn=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},Nn(e,t)}function Ln(e){return Ln=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},Ln(e)}var Un=W().requireLib("hoc").NativeFileDropProvider,Bn=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&Nn(e,t)}(s,e);var r,n,o,i,a=(o=s,i=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,t=Ln(o);if(i){var r=Ln(this).constructor;e=Reflect.construct(t,arguments,r)}else e=t.apply(this,arguments);return function(e,t){if(t&&("object"===An(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}(this,e)});function s(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,s),a.apply(this,arguments)}return r=s,n=[{key:"render",value:function(){var e,r,n,o=this.props,i=o.secondLine,a=o.thirdLine,s=o.style,c=void 0===s?{}:s,l=o.actions,u=this.props,d=u.renderIcon,p=u.node,f=u.renderFirstLine,h=u.renderSecondLine,m=u.renderThirdLine,y=u.renderActions,g=u.isOver;if(d)e=d(p,this.props);else{var b=p.getMetadata().get("icon_class")?p.getMetadata().get("icon_class"):p.isLeaf()?"mdi mdi-file":"mdi mdi-folder";e=t().createElement(v.FontIcon,{className:b})}if(r=f?f(this.props.node):p.getLabel(),h&&(i=h(p)),m&&(a=m(p)),y&&(l=y(p)),p.isLeaf()&&p.getMetadata().has("mime")&&W().getInstance().getController().getActionByName("download")){var k=p.getMetadata().get("mime");n=function(e){try{Rn().getClient().buildPresignedGetUrl(p).then((function(t){e.dataTransfer.setData("DownloadURL",k+":"+p.getLabel()+":"+t)}))}catch(e){console.error("Cannot set dataTransfer",e)}}}return t().createElement(fe,Mn({},this.props,{iconCell:e,firstLine:r,secondLine:i,thirdLine:a,actions:l,style:c,nativeIsOver:g,onDragStart:n}))}}],n&&Dn(r.prototype,n),Object.defineProperty(r,"prototype",{writable:!1}),s}(t().Component);Bn.propTypes={node:F().instanceOf(In()),renderIcon:F().func,renderFirstLine:F().func,renderSecondLine:F().func,renderThirdLine:F().func,renderActions:F().func,style:F().object};var Fn=Un(Bn=Ir(Bn),(function(e,t,r){var n=a.g,o=n.pydio,i=n.UploaderModel,s=r.node;if("true"!==s.getMetadata().get("node_readonly")&&"true"!==s.getMetadata().get("level_readonly")){var c=i.Store.getInstance();c.handleDropEventResults(e,t,s),c.getAutoStart()&&!o.Parameters.get("MINISITE")||o.getController().fireAction("upload")}else o.UI.displayMessage("ERROR","You are not allowed to upload files here")}));function qn(e){return qn="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},qn(e)}function Wn(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,$n(n.key),n)}}function Zn(e,t){return Zn=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},Zn(e,t)}function Hn(e){return Hn=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},Hn(e)}function $n(e){var t=function(e,t){if("object"!==qn(e)||null===e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,"string");if("object"!==qn(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"===qn(t)?t:String(t)}var Vn,Gn,Jn,Kn=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&Zn(e,t)}(s,e);var r,n,o,i,a=(o=s,i=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,t=Hn(o);if(i){var r=Hn(this).constructor;e=Reflect.construct(t,arguments,r)}else e=t.apply(this,arguments);return function(e,t){if(t&&("object"===qn(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}(this,e)});function s(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,s),a.apply(this,arguments)}return r=s,n=[{key:"clickAction",value:function(e){var t=W().getInstance(),r=e.currentTarget.getAttribute("data-action"),n=this.props,o=n.dataModel,i=n.node;o.setSelectedNodes([i]);var a=t.Controller.getActionByName(r);a.fireContextChange(o,!0,t.user),a.apply([o]),e.stopPropagation(),e.preventDefault()}},{key:"render",value:function(){var e=this.props.actions.map(function(e){var r=this;return t().createElement("div",{key:e.options.name,className:e.options.icon_class+" material-list-action-inline"||0,title:e.options.title,"data-action":e.options.name,onClick:function(e){return r.clickAction(e)}})}.bind(this));return t().createElement("span",null,e)}}],n&&Wn(r.prototype,n),Object.defineProperty(r,"prototype",{writable:!1}),s}(t().Component);function Yn(e){return Yn="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Yn(e)}function Xn(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function Qn(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?Xn(Object(r),!0).forEach((function(t){eo(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Xn(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function eo(e,t,r){return(t=ro(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function to(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,ro(n.key),n)}}function ro(e){var t=function(e,t){if("object"!==Yn(e)||null===e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,"string");if("object"!==Yn(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"===Yn(t)?t:String(t)}function no(e,t){return no=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},no(e,t)}function oo(e){return oo=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},oo(e)}Vn=Kn,Gn="propTypes",Jn={dataModel:F().instanceOf(o.PydioDataModel).isRequired,node:F().instanceOf(zn.Node).isRequired,actions:F().array},(Gn=$n(Gn))in Vn?Object.defineProperty(Vn,Gn,{value:Jn,enumerable:!0,configurable:!0,writable:!0}):Vn[Gn]=Jn;var io=a(6689).Component,ao=a(9455),so=ao.FlatButton,co=ao.FontIcon,lo=a(3173).muiThemeable,uo=a(9105),po=a(580),fo=a(757),ho=fo.requireLib("boot").PydioContextConsumer,mo=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&no(e,t)}(a,e);var t,r,n,o,i=(n=a,o=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,t=oo(n);if(o){var r=oo(this).constructor;e=Reflect.construct(t,arguments,r)}else e=t.apply(this,arguments);return function(e,t){if(t&&("object"===Yn(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}(this,e)});function a(e,t){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,a),i.call(this,e,t)}return t=a,r=[{key:"render",value:function(){var e=this.props,t=e.style,r=e.iconClassName,n=e.primaryTextId,o=e.secondaryTextId,i=e.actionLabelId,a=e.actionCallback,s=e.actionStyle,c=e.actionIconClassName,l=e.getMessage,u=e.iconStyle,d=e.legendStyle,p=e.muiTheme,f=uo(p.palette.mui3.outline||"#aaa"),h={container:Qn({display:"flex",alignItems:"center",justifyContent:"center",height:"100%",width:"100%",flex:1,backgroundColor:f.lightness(97).rgb().toString()},t),centered:{maxWidth:280,textAlign:"center",color:f.toString()},icon:Qn({fontSize:100},u),primaryText:Qn({fontSize:16,fontWeight:500},d),secondaryText:{marginTop:20,fontSize:13},buttonContainer:{marginTop:100,textAlign:"center"},buttonStyle:{color:p.palette.mui3.primary}},m=c?React.createElement(co,{className:c}):null;return React.createElement("div",{style:h.container},React.createElement("div",{style:h.centered},React.createElement("div",{className:r,style:h.icon}),React.createElement("div",{style:h.primaryText},l(n)),o&&React.createElement("div",{style:h.secondaryText},l(o)),i&&a&&React.createElement("div",{style:Qn(Qn({},h.buttonContainer),s)},React.createElement(so,{style:h.buttonStyle,label:l(i),onClick:a,icon:m}))))}}],r&&to(t.prototype,r),Object.defineProperty(t,"prototype",{writable:!1}),a}(io);mo.propTypes={pydio:po.instanceOf(fo).isRequired,iconClassName:po.string.isRequired,primaryTextId:po.string.isRequired,secondaryTextId:po.string,actionLabelId:po.string,actionCallback:po.func,actionStyle:po.object,style:po.object,iconStyle:po.object,legendStyle:po.object,getMessage:po.func},mo=ho(mo),mo=lo()(mo);var yo=W().requireLib("hoc"),go=yo.PlaceHolder,bo=yo.PhRoundShape,vo=yo.PhTextRow;function ko(e){var r,n=e.displayMode,o=e.elementHeight,i=e.tableKeys,a=[];if("grid"===n){var s=Math.max(40,o);r=t().createElement("div",{style:{width:s,height:s,display:"flex",flexDirection:"column",alignItems:"center",margin:2}},t().createElement("div",{style:{flex:1,display:"flex",alignItems:"center",justifyContent:"center"}},t().createElement(bo,{style:{width:40,height:40,borderRadius:6}})),t().createElement(vo,{style:{fontSize:20}}));for(var c=0;c<10;c++)a.push(r);a=t().createElement("div",{style:{display:"flex",flexWrap:"wrap"}},a)}else if(i){r=t().createElement("div",{style:{width:"100%",display:"flex",alignItems:"baseline",height:42,borderBottom:"1px solid rgba(0,0,0,.03)"}},Object.keys(i).map((function(e){return"ajxp_label"===e?t().createElement("span",{className:"cell cell-"+e,style:{display:"flex",fontSize:16,paddingTop:6,marginBottom:2,paddingLeft:16,paddingRight:10}},t().createElement(vo,{style:{display:"inline-block",width:16,marginRight:16}}),t().createElement(vo,{style:{flex:1}})):t().createElement("span",{className:"cell cell-"+e,style:{display:"inline-block",paddingTop:6,marginBottom:2,paddingLeft:10,paddingRight:10}},t().createElement(vo,null))})));for(var l=0;l<5;l++)a.push(r)}else{r=t().createElement("div",{style:{display:"flex",padding:"0 16px",alignItems:"center",height:o,borderBottom:"1px solid rgba(0,0,0,.03)"}},t().createElement(bo,{style:{width:40,height:40,marginRight:20,borderRadius:6}}),t().createElement("div",{style:{flex:1}},t().createElement(vo,{style:{fontSize:16,width:"80%",marginTop:0}}),t().createElement(vo,{style:{fontSize:13,width:"70%"}})));for(var u=0;u<5;u++)a.push(r)}return t().createElement(go,{showLoadingAnimation:!0,customPlaceholder:a})}function wo(e,t){if(e.getMetadata().has("local:pinSort")&&!t.getMetadata().has("local:pinSort"))return-1;if(t.getMetadata().has("local:pinSort")&&!e.getMetadata().has("local:pinSort"))return 1;if(e.isRecycle())return 1;if(t.isRecycle())return-1;var r=e.isLeaf(),n=t.isLeaf(),o=r&&!n?1:!r&&n?-1:0;return 0===o?e.getLabel().localeCompare(t.getLabel(),void 0,{numeric:!0}):o}var _o=function(){},So="undefined"!=typeof window;const Oo=So?e.useLayoutEffect:e.useEffect;var Po={x:0,y:0,width:0,height:0,top:0,left:0,bottom:0,right:0};const Eo=So&&void 0!==window.ResizeObserver?function(){var t=(0,e.useState)(null),r=t[0],n=t[1],o=(0,e.useState)(Po),i=o[0],a=o[1],s=(0,e.useMemo)((function(){return new window.ResizeObserver((function(e){if(e[0]){var t=e[0].contentRect,r=t.x,n=t.y,o=t.width,i=t.height,s=t.top,c=t.left,l=t.bottom,u=t.right;a({x:r,y:n,width:o,height:i,top:s,left:c,bottom:l,right:u})}}))}),[]);return Oo((function(){if(r)return s.observe(r),function(){s.disconnect()}}),[r]),[n,i]}:function(){return[_o,Po]};function Co(e){return Co="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Co(e)}function xo(){return xo=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},xo.apply(this,arguments)}function jo(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function To(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?jo(Object(r),!0).forEach((function(t){Ro(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):jo(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function Ro(e,t,r){return(t=function(e){var t=function(e,t){if("object"!==Co(e)||null===e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,"string");if("object"!==Co(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"===Co(t)?t:String(t)}(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function zo(e,t){if(e){if("string"==typeof e)return Io(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?Array.from(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?Io(e,t):void 0}}function Io(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}var Ao=a(4603),Mo=a(4021),Do=function(e){var r=e.className,n=e.children,o=function(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var r=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=r){var n,o,i,a,s=[],c=!0,l=!1;try{if(i=(r=r.call(e)).next,0===t){if(Object(r)!==r)return;c=!1}else for(;!(c=(n=i.call(r)).done)&&(s.push(n.value),s.length!==t);c=!0);}catch(e){l=!0,o=e}finally{try{if(!c&&null!=r.return&&(a=r.return(),Object(a)!==a))return}finally{if(l)throw o}}return s}}(e,t)||zo(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}(Eo(),2),i=o[0],a=o[1].height;return t().createElement("div",{ref:i,className:r},n(a))},No=U()({displayName:"SimpleList",propTypes:{filterNodes:F().func,customToolbar:F().object,tableKeys:F().object,autoRefresh:F().number,reloadAtCursor:F().bool,clearSelectionOnReload:F().bool,observeNodeReload:F().bool,defaultGroupBy:F().string,groupByLabel:F().string,groupByValueFunc:F().func,skipParentNavigation:F().bool,skipInternalDataModel:F().bool,delayInitialLoad:F().number,entryEnableSelector:F().func,renderCustomEntry:F().func,entryRenderIcon:F().func,entryRenderActions:F().func,entryRenderFirstLine:F().func,entryRenderSecondLine:F().func,entryRenderThirdLine:F().func,entryHandleClicks:F().func,hideToolbar:F().bool,computeActionsForNode:F().bool,multipleActions:F().array,openEditor:F().func,openCollection:F().func,elementStyle:F().object,passScrollingStateToChildren:F().bool,elementHeight:F().oneOfType([F().number,F().object]).isRequired},statics:{HEIGHT_ONE_LINE:50,HEIGHT_TWO_LINES:71,CLICK_TYPE_SIMPLE:"simple",CLICK_TYPE_DOUBLE:"double",PARENT_FOLDER_ICON:"mdi mdi-chevron-left"},getDefaultProps:function(){return{clearSelectionOnReload:!0}},getMessage:function(e){return W().getMessages()[e]||e},clickRow:function(e,t){var r;if(r=e.props?e.props.data.node:e,this.props.entryHandleClicks)this.props.entryHandleClicks(r,No.CLICK_TYPE_SIMPLE,t);else if(r.isLeaf()&&this.props.openEditor){if(!1===this.props.openEditor(r))return;var n=new Map;n.set(r,!0),this.setState({selection:n},this.rebuildLoadedElements)}else r.isLeaf()||(this.props.openCollection?this.props.openCollection(r):this.props.dataModel.setSelectedNodes([r]))},doubleClickRow:function(e,t){var r;r=e.props?e.props.data.node:e,this.props.entryHandleClicks&&this.props.entryHandleClicks(r,No.CLICK_TYPE_DOUBLE,t)},onColumnSort:function(e){var t=this,r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,n=!(arguments.length>2&&void 0!==arguments[2])||arguments[2],o=arguments.length>3&&void 0!==arguments[3]&&arguments[3],i=this.props,a=i.node,s=i.pydio,c=i.defaultSortingInfo,l=i.sortingPreferenceKey,u=s.user,d=a.getMetadata(),p=d.get("paginationData");if(e.remoteSortAttribute&&p&&p.get("total")>1){var f=d.get("remoteOrder")||new Map,h="asc"===f.get("order_direction")?"desc":"asc";if(f.get("order_column")===e.remoteSortAttribute&&("asc"===h&&n||o))d.delete("remoteOrder"),this.setState({sortingInfo:null},(function(){return t.sortingInfoChange({})}));else{var m=new Map;m.set("order_column",e.remoteSortAttribute),m.set("order_direction",h),d.set("remoteOrder",m)}this.props.dataModel.requireContextChange(a,!0)}else{d.has("remoteOrder")&&d.delete("remoteOrder");var y,g=e.sortAttribute?e.sortAttribute:e.name,b=this.state.sortingInfo,v=b.attribute,k=b.direction;y=v===g&&k?o||"desc"===k&&n?c||{}:{attribute:g,sortType:e.sortType,direction:"asc"===k?"desc":"asc"}:{attribute:g,sortType:e.sortType,direction:"asc"},this.setState({sortingInfo:y},(function(){t.rebuildLoadedElements(),null!==r&&r instanceof Function&&r(),l&&u.setWorkspacePreference(l,y),t.sortingInfoChange(y)}))}},computeSelectionFromCurrentPlusTargetNode:function(e,t){var r,n,o=!1;if(!this.indexedElements)return[];for(var i=e[0],a=e[e.length-1],s=[],c=0;c<this.indexedElements.length;c++){if(void 0!==r&&s.push(this.indexedElements[c].node),this.indexedElements[c].node===t){if(void 0!==r&&void 0===n){n=c;break}r=c,o=!0,s.push(this.indexedElements[c].node)}if(this.indexedElements[c].node===i&&void 0===r&&(r=c,s.push(this.indexedElements[c].node)),this.indexedElements[c].node===a&&o){n=c;break}}return s},onKeyDown:function(e){var t,r,n=this.dm,o=this.props.elementsPerLine||1,i=e.shiftKey,a=e.key;if(!n.isEmpty()&&this.indexedElements){var s=n.getSelectedNodes(),c=s[0],l=s[s.length-1];if("Enter"!==a){if("Delete"!==a||!W().getInstance().Controller.fireActionByKey("key_delete")){for(var u=0;u<this.indexedElements.length;u++)if(this.indexedElements[u].node===c&&(t=u),this.indexedElements[u].node===l){r=u;break}var d,p=this.indexedElements.length-1,f="PageDown"===a||"PageUp"===a?10:1;if("ArrowDown"===a||"PageDown"===a?d=Math.min(r+o*f,p):"ArrowUp"===a||"PageUp"===a?d=Math.max(t-o*f,0):"Home"===a?d=0:"End"===a&&(d=p),o>1&&("ArrowRight"===a?d=r+1:"ArrowLeft"===a&&(d=t-1)),i&&void 0!==d){var h=Math.min(t,r,d),m=Math.max(t,r,d);if(h!==m){for(var y=[],g=h;g<m+1;g++)this.indexedElements[g]&&y.push(this.indexedElements[g].node);n.setSelectedNodes(y)}}else this.indexedElements[d]&&this.indexedElements[d].node&&n.setSelectedNodes([this.indexedElements[d].node])}}else this.doubleClickRow(c)}},getInitialState:function(){this.actionsCache={multiple:new Map};var e=this.props,t=e.skipInternalDataModel,r=e.dataModel,n=e.node,o=e.defaultSortingInfo,i=e.pydio,a=e.sortingPreferenceKey;t?this.dm=r:(this.dm=new Ao,this.dm.setRootNode(r.getContextNode()),this.dm.setContextNode(r.getContextNode()));var s=o||null;a&&(s=i.user.getWorkspacePreference(a,s));var c={loaded:n.isLoaded(),loading:!n.isLoaded(),showSelector:!1,elements:n.isLoaded()?this.buildElements():[],sortingInfo:s,infiniteLoadBeginBottomOffset:200};return this.sortingInfoChange(s),c},componentWillReceiveProps:function(e){this.indexedElements=null;var t=e.defaultSortingInfo,r=e.node,n=e.sortingPreferenceKey,o=e.pydio,i=e.autoRefresh,a=e.elementsPerLine,s=this.state.sortingInfo,c=void 0===s?t:s,l=this.remoteSortingInfo(r,c);-1===l?c={}:l instanceof Object?c=l:r!==this.props.node&&n&&(c=o.user.getWorkspacePreference(n,c)),this.sortingInfoChange(c),this.setState({loaded:r.isLoaded(),loading:!r.isLoaded(),showSelector:!1,elements:r.isLoaded()?this.buildElements(r,e):[],infiniteLoadBeginBottomOffset:200,sortingInfo:c}),!i&&this.refreshInterval?(window.clearInterval(this.refreshInterval),this.refreshInterval=null):i&&!this.refreshInterval&&(this.refreshInterval=window.setInterval(this.reload,i)),this.patchInfiniteGrid(a),this.props.node&&r!==this.props.node&&this.observeNodeChildren(this.props.node,!0),this._manualScrollPe&&(this._manualScrollPe.stop(),this._manualScrollPe=null)},sortingInfoChange:function(e){var t=this,r=this.props,n=r.defaultSortingInfo,o=r.onSortingInfoChange;o&&(e!==n&&e.attribute?o(To(To({},e),{},{toggle:function(){var r=arguments.length>0&&void 0!==arguments[0]&&arguments[0],n=t.props.sortKeys,o=e.remote?{remoteSortAttribute:e.attribute}:n[e.attribute];t.onColumnSort(o,null,!1,r)}})):o({}))},observeNodeChildren:function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];t&&!this._childrenObserver||(this._childrenObserver||(this._childrenObserver=function(){this.indexedElements=null,this.rebuildLoadedElements()}.bind(this)),t?(e.stopObserving("child_added",this._childrenObserver),e.stopObserving("child_removed",this._childrenObserver),e.stopObserving("child_replaced",this._childrenObserver)):(e.observe("child_added",this._childrenObserver),e.observe("child_removed",this._childrenObserver),e.observe("child_replaced",this._childrenObserver)))},_loadNodeIfNotLoaded:function(){var e=this.props.node;e.isLoaded()?this.observeNodeChildren(e):(e.observeOnce("loaded",function(){this.props.node===e&&(this.observeNodeChildren(e),this.setState({loaded:!0,loading:!1,elements:this.buildElements()}))}.bind(this)),e.load())},_loadingListener:function(){this.observeNodeChildren(this.props.node,!0),this.setState({loaded:!1,loading:!0}),this.indexedElements=null},_loadedListener:function(){this.setState({loading:!1,elements:this.buildElements()}),this.observeNodeChildren(this.props.node)},reload:function(){this.props.reloadAtCursor&&this._currentCursor?this.loadStartingAtCursor():(this.props.clearSelectionOnReload&&this.props.dataModel.setSelectedNodes([]),this._loadingListener(),this.props.node.observeOnce("loaded",this._loadedListener),this.props.node.reload())},loadStartingAtCursor:function(){this._loadingListener();var e=this.props.node,t=e.getChildren(),r=[];e.observeOnce("loaded",function(){var n=new Map;r.map((function(e){n.set(e.getPath(),e)})),t.forEach((function(e){n.set(e.getPath(),e)})),e._children=n,this._loadedListener()}.bind(this)),e.setLoaded(!1),e.observe("child_added",(function(t){r.push(e._children.get(t))})),this.props.node.load(null,{cursor:this._currentCursor})},wireReloadListeners:function(){this.wrappedLoading=this._loadingListener,this.wrappedLoaded=this._loadedListener,this.props.node.observe("loading",this.wrappedLoading),this.props.node.observe("loaded",this.wrappedLoaded)},stopReloadListeners:function(){this.props.node.stopObserving("loading",this.wrappedLoading),this.props.node.stopObserving("loaded",this.wrappedLoaded)},toggleSelector:function(){this.setState({showSelector:!this.state.showSelector,selection:new Map,bulkSelectorChecked:!1},this.rebuildLoadedElements)},toggleSelection:function(e){var t=this.state.selection||new Map;t.get(e)?t.delete(e):t.set(e,!0),this.setState({selection:t,bulkSelectorChecked:!1},this.rebuildLoadedElements)},selectAll:function(e){if(e){var t=new Map;this.props.node.getChildren().forEach(function(e){this.props.filterNodes&&!this.props.filterNodes(e)||this.props.entryEnableSelector&&!this.props.entryEnableSelector(e)||e.isLeaf()&&t.set(e,!0)}.bind(this)),this.setState({selection:t,bulkSelectorChecked:!0},this.rebuildLoadedElements)}else this.setState({selection:new Map,bulkSelectorChecked:!1},this.rebuildLoadedElements)},applyMultipleAction:function(e){if(this.state.selection&&this.state.selection.size){var t=e.currentTarget.getAttribute("data-action"),r=this.dm||new Ao;r.setContextNode(this.props.node);var n=[];this.state.selection.forEach((function(e,t){n.push(t)})),r.setSelectedNodes(n);var o=this.props.pydio.Controller.getActionByName(t);o.fireContextChange(r,!0,this.props.pydio.user),o.apply([r]),e.stopPropagation(),e.preventDefault()}},getActionsForNode:function(e,t){var r=this.props,n=r.computeActionsForNode,o=r.pydio;if(!n)return[];var i=t.isLeaf()?"file-"+t.getAjxpMime():"folder",a=t.isLeaf()?"file":"dir",s=[];return this.actionsCache[i]?s=this.actionsCache[i]:(e.setSelectedNodes([t]),o.Controller.actions.forEach(function(r){r.fireContextChange(e,!0,o.user),!(r.context.selection&&r.context.actionBar&&r.selectionContext[a]&&!r.deny&&r.options.icon_class)||this.props.actionBarGroups&&-1===this.props.actionBarGroups.indexOf(r.context.actionBarGroup)||r.selectionContext.allowedMimes.length&&-1===r.selectionContext.allowedMimes.indexOf(t.getAjxpMime())||(s.push(r),t.isLeaf()&&!1===r.selectionContext.unique&&this.actionsCache.multiple.set(r.options.name,r))}.bind(this)),this.actionsCache[i]=s),s},patchInfiniteGrid:function(e){this.infinite.current&&e>1&&(this.infinite.current.state.infiniteComputer.__proto__.getDisplayIndexStart=function(t){return e*Math.floor(t/this.heightData/e)},this.infinite.current.state.infiniteComputer.__proto__.getDisplayIndexEnd=function(t){return e*Math.ceil(t/this.heightData/e)})},componentWillMount:function(){this.infinite=(0,e.createRef)()},componentDidMount:function(){var e=this;this.props.delayInitialLoad?setTimeout((function(){e._loadNodeIfNotLoaded()}),this.props.delayInitialLoad):this._loadNodeIfNotLoaded(),this.patchInfiniteGrid(this.props.elementsPerLine),this.props.autoRefresh&&(this.refreshInterval=window.setInterval(this.reload,this.props.autoRefresh)),this.props.observeNodeReload&&this.wireReloadListeners(),this.props.dataModel.observe("root_node_changed",(function(t){e.rootNodeChangedFlag=!0})),this.props.dataModel.observe("selection_changed",function(){var e=this;if(this.isMounted()){var t=new Map,r=this.props.dataModel.getSelectedNodes();r.map((function(e){t.set(e,!0)})),this.setState({selection:t},(function(){e.rebuildLoadedElements(),1===r.length&&e.scrollToView(r[0])}))}}.bind(this));var t=new Map,r=this.props.dataModel.getSelectedNodes();r.length&&(r.map((function(e){t.set(e,!0)})),this.setState({selection:t},(function(){setTimeout((function(){e.scrollToView(r[0])}),500)})))},componentWillUnmount:function(){this.refreshInterval&&window.clearInterval(this.refreshInterval),this.props.observeNodeReload&&this.stopReloadListeners(),this.props.node&&this.observeNodeChildren(this.props.node,!0)},componentDidUpdate:function(e,t){!this.rootNodeChangedFlag&&e.node&&this.props.node&&e.node.getPath()===this.props.node.getPath()||(this._loadNodeIfNotLoaded(),this.rootNodeChangedFlag=!1)},onScroll:function(e){if(this.props.onScroll&&this.props.onScroll(e),this.props.passScrollingStateToChildren){this.state.scrollTimeout&&clearTimeout(this.state.scrollTimeout);var t=this,r=setTimeout((function(){t.setState({isScrolling:!1,scrollTimeout:void 0})}),150);this.setState({isScrolling:!0,scrollTimeout:r})}},scrollToLast:function(){this.indexedElements&&this.indexedElements[this.indexedElements.length-1].node&&this.scrollToView(this.indexedElements[this.indexedElements.length-1].node)},scrollToView:function(e){var t=this;if(this.indexedElements&&this.infinite.current&&this.infinite.current.scrollable){var r=n().findDOMNode(this.infinite.current),o=this.infinite.current.scrollable,i=o.scrollTop+this.props.elementHeight/2,a=o.scrollTop+r.clientHeight-this.props.elementHeight/2,s=this.indexedElements.length*this.props.elementHeight-r.clientHeight,c=-1;if(this.indexedElements.forEach((function(t,r){t.node&&t.node===e&&(c=r)})),-1!==c){var l=this.props.elementHeight,u=c*l;u>i&&u<a||(u>=a&&(u-=r.clientHeight-2*l),u=Math.min(u,s),o.scrollTop=u,this._manualScrollPe&&this._manualScrollPe.stop(),o.scrollHeight<u&&(this._manualScrollPe=new Mo((function(){o.scrollTop=u,o.scrollHeight>=u&&(t._manualScrollPe.stop(),t._manualScrollPe=null)}),.25)))}}},buildElementsFromNodeEntries:function(e,r){var n=[],o=e.length,i=this.props,a=i.entriesProps,s=i.elementStyle,c=i.tableKeys,l=i.passScrollingStateToChildren;return a=To(To({},a),{},{style:s}),l&&(a.parentIsScrolling=this.state.isScrolling),e.forEach(function(e,i){var s;if(e.parent)s=To({node:e.node,key:i+":"+e.node.getPath(),id:e.node.getPath(),mainIcon:No.PARENT_FOLDER_ICON,firstLine:"..",className:"list-parent-node",secondLine:this.getMessage("react.1"),onClick:this.clickRow.bind(this),onDoubleClick:this.doubleClickRow.bind(this),showSelector:!1,selectorDisabled:!0,noHover:!1},a),this.props.entryRenderParentIcon&&!this.props.tableKeys?s.iconCell=this.props.entryRenderParentIcon(e.node,e):s.mainIcon=No.PARENT_FOLDER_ICON,c&&(s.onClick=s.onDoubleClick),n.push(t().createElement(de,s));else if(e.groupHeader){var l=e.groupHeader,u=e.groupHeaderLabel;this.props.entryRenderGroupHeader&&(u=this.props.entryRenderGroupHeader(l,u)),s=To({node:null,key:i+":"+l,id:l,mainIcon:null,firstLine:u,className:"list-group-header",onClick:null,showSelector:!1,selectorDisabled:!0,noHover:!0},a),e.groupFill&&(s.style=To(To({},s.style),{},{visibility:"hidden"})),n.push(t().createElement(de,s))}else(s=To({node:e.node,onClick:this.clickRow.bind(this),onDoubleClick:this.doubleClickRow.bind(this),onSelect:this.toggleSelection.bind(this),key:i+":"+e.node.getPath(),id:e.node.getPath(),renderIcon:this.props.entryRenderIcon,renderFirstLine:this.props.entryRenderFirstLine,renderSecondLine:this.props.entryRenderSecondLine,renderThirdLine:this.props.entryRenderThirdLine,renderActions:this.props.entryRenderActions,showSelector:r,selected:!(!this.state||!this.state.selection)&&this.state.selection.get(e.node),actions:t().createElement(Kn,{node:e.node,actions:e.actions,dataModel:this.dm}),selectorDisabled:!(this.props.entryEnableSelector?this.props.entryEnableSelector(e.node):e.node.isLeaf())},a)).isFirst=0===i,s.isLast=i===o-1,i++,this.props.renderCustomEntry?n.push(this.props.renderCustomEntry(s)):c?(this.props.defaultGroupBy?(s.tableKeys=To({},c),delete s.tableKeys[this.props.defaultGroupBy]):s.tableKeys=c,n.push(t().createElement(Dr,s))):!e.node.isLeaf()||e.node.getMetadata().has("local:dropFunc")?n.push(t().createElement(Fn,s)):n.push(t().createElement(Bn,s))}.bind(this)),n},prepareSortFunction:function(){var e=(this.state||{}).sortingInfo;if(!e)return null;var t,r=e.attribute,n=e.direction,o=e.sortType;return t="file-natural"===o?wo:function(e,t,r){return function(n,o){if(n.getMetadata().has("local:pinSort")&&!o.getMetadata().has("local:pinSort"))return-1;if(o.getMetadata().has("local:pinSort")&&!n.getMetadata().has("local:pinSort"))return 1;var i;if("number"===t){var a=n.getMetadata().get(e)||0,s=o.getMetadata().get(e)||0;a=parseFloat(a),s=parseFloat(s),i="asc"===r?a-s:s-a}else if("string"===t){var c=n.getMetadata().get(e)||"",l=o.getMetadata().get(e)||"";i="asc"===r?c.localeCompare(l):l.localeCompare(c)}if(0===i){var u=n.getLabel().localeCompare(o.getLabel(),void 0,{numeric:!0});i="asc"===r?u:-u}return i}}(r,o,n),function(e,r){return e.parent?-1:r.parent?1:t(e.node,r.node)}},buildElements:function(){var e,t,r,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:void 0,o=(arguments.length>0&&void 0!==arguments[0]?arguments[0]:void 0)||this.props.node,i=n||this.props,a=this.prepareSortFunction();if(!this.indexedElements||this.indexedElements.length!==o.getChildren().size){this.indexedElements=[];var s,c,l,u,d=i.defaultGroupBy,p=i.groupByLabel,f=void 0!==p&&p;d&&(s={},c=[],l={}),i.skipParentNavigation||!o.getParent()||i.dataModel.getContextNode()===o&&!i.skipInternalDataModel||(t=!0,this.indexedElements.push({node:o.getParent(),parent:!0,actions:null})),o.getChildren().forEach(function(e){if(e.getMetadata().has("cursor")){var t=parseInt(e.getMetadata().get("cursor"));this._currentCursor=Math.max(this._currentCursor?this._currentCursor:0,t)}if(!i.filterNodes||i.filterNodes(e)){var r,n=this.getActionsForNode(this.dm,e);d?(r=i.groupByValueFunc?i.groupByValueFunc(e.getMetadata().get(d))||"N/A":e.getMetadata().get(d)||"N/A",s[r]||(s[r]=[],c.push(r)),f&&e.getMetadata().has(f)&&!l[r]&&(l[r]=e.getMetadata().get(f)),s[r].push({node:e,parent:!1,actions:n})):this.indexedElements.push({node:e,parent:!1,actions:n})}}.bind(this)),d&&(i.groupSkipUnique&&1===c.length?(u=this.indexedElements).push.apply(u,function(e){if(Array.isArray(e))return Io(e)}(r=s[c[0]])||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(r)||zo(r)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()):(e=!0,(c=c.sort()).map(function(e,r){var n=e;if(l[e]?n=l[e]:i.renderGroupLabels&&(n=i.renderGroupLabels(d,e)),this.indexedElements.push({node:null,groupHeader:e,groupHeaderLabel:n,parent:!1,actions:null}),a&&s[e].sort(a),this.indexedElements=this.indexedElements.concat(s[e]),i.elementsPerLine>1){var o=i.elementsPerLine-s[e].length%i.elementsPerLine-1;0===r&&t&&(o-=1);for(var c=0;c<o;c++)this.indexedElements.push({node:null,groupHeader:Math.random(),groupFill:!0,parent:!1,actions:null})}}.bind(this))))}return!e&&a&&this.indexedElements.sort(a),this.indexedElements},rebuildLoadedElements:function(){this.state.elements,this.setState({elements:this.buildElements()})},remoteSortingInfo:function(e){if(!e)return null;var t=e.getMetadata();if(!0===t.get("search_root"))return-1;var r=t.get("paginationData")||new Map,n=t.get("remoteOrder")||new Map;return r.get("total")>1?n.has("order_column")&&n.has("order_direction")?{remote:!0,attribute:n.get("order_column"),direction:n.get("order_direction")}:-1:0},renderToolbar:function(){var e=this,r=arguments.length>0&&void 0!==arguments[0]&&arguments[0],n=this.state.sortingInfo;if(r)return this.props.sortKeys?t().createElement(hn,{displayMode:"hidden",tableKeys:this.props.sortKeys,columnClicked:this.onColumnSort,sortingInfo:n}):null;var o,i,a=[t().createElement(v.FontIcon,{key:1,tooltip:"Reload",className:"mdi mdi-reload"+(this.state.loading?" rotating":""),onClick:this.reload})],s=2;if(this.props.sortKeys&&(a.push(t().createElement(hn,{key:s,displayMode:"menu",tableKeys:this.props.sortKeys,columnClicked:this.onColumnSort,sortingInfo:n})),s++),this.props.additionalActions&&a.push(this.props.additionalActions),this.props.node.getMetadata().get("paginationData")&&this.props.node.getMetadata().get("paginationData").get("total")>1&&(i=t().createElement(Sn,{dataModel:this.dm,node:this.props.node})),this.props.listTitle&&(o=t().createElement(v.ToolbarGroup,{key:0,float:"left"},t().createElement("div",{className:"list-title"},this.props.listTitle))),this.props.searchResultData)o=t().createElement(v.ToolbarGroup,{key:0,float:"left"},t().createElement("div",{style:{fontSize:14,fontWeight:500,color:"#9e9e9e"}},this.getMessage("searchengine.topbar.title")+" "+this.props.searchResultData.term)),a=t().createElement(v.RaisedButton,{key:1,label:this.getMessage("86"),primary:!0,onClick:this.props.searchResultData.toggleState,buttonStyle:{borderRadius:20,height:30,lineHeight:"30px"},labelStyle:{textTransform:"capitalize"},style:{boxShadow:"none",marginRight:-10}});else if(this.actionsCache.multiple.size||this.props.multipleActions){var c=this.getMessage("react.2"),l={transform:"translateX(-80px)"},u=To({width:24},l),d=To({},l),p=this.state,f=p.showSelector,h=p.selection,m=p.bulkSelectorChecked;f&&(u={width:24,transform:"translateX(-12px)"},d={transform:"translateX(-40px)"}),h&&f&&(c+=" ("+h.size+")"),o=t().createElement(v.ToolbarGroup,{key:0,float:"left",className:"hide-on-vertical-layout"},t().createElement(v.Checkbox,{checked:m,onCheck:function(t,r){return e.selectAll(r)},style:u}),t().createElement(v.FlatButton,{label:c,onClick:function(){return e.toggleSelector()},style:To(To({},d),{},{borderRadius:20}),buttonStyle:{height:30,lineHeight:"30px"},labelStyle:{textTransform:"capitalize",opacity:.5}})),f&&(a=[],(this.props.multipleActions||this.actionsCache.multiple).forEach(function(e){a.push(t().createElement(v.RaisedButton,{key:0,label:e.options.text,"data-action":e.options.name,onClick:this.applyMultipleAction,primary:!0,disabled:!h||!h.size,buttonStyle:{borderRadius:20},labelStyle:{textTransform:"capitalize",height:30,lineHeight:"30px"},style:{marginLeft:5,boxShadow:"none"}}))}.bind(this)),a=t().createElement("span",null,a))}return t().createElement(v.Toolbar,{style:this.props.toolbarStyle},o,t().createElement(v.ToolbarGroup,{key:1,float:"right"},i,a))},render:function(){var e,r,n,o=this,i="material-list vertical-layout layout-fill",a=this.props,s=a.className,c=a.showSelector,l=a.tableKeys,u=a.defaultGroupBy,d=a.dataModel,p=a.node,f=a.additionalActions,h=a.customToolbar,m=a.hideToolbar,y=a.emptyStateProps,g=a.entryHandleClicks;if(s&&(i+=" "+s),c&&(i+=" list-show-selectors"),l&&(i+=" table-mode"),l){var b;u?delete(b=To({},l))[u]:b=this.props.tableKeys;var v=this.state,k=v.sortingInfo,w=v.loading;e=t().createElement(jn,{tableKeys:b,loading:w,reload:this.reload,ref:"loading_indicator",dm:d,node:p,additionalActions:f,onHeaderClick:this.onColumnSort,sortingInfo:k})}else e=h||(m?null:this.renderToolbar()),(m||h)&&(r=this.renderToolbar(!0));if(y&&p.isLoaded()&&!p.isLoading()&&(!this.state.elements.length||1===this.state.elements.length&&this.state.elements[0].parent)){var _={};if(1===this.state.elements.length&&this.state.elements[0].parent){var S=this.state.elements[0].node;_={actionLabelId:"react.1",actionIconClassName:No.PARENT_FOLDER_ICON,actionCallback:function(e){g&&g(S,No.CLICK_TYPE_DOUBLE,e)}}}n=t().createElement(mo,xo({},y,_))}else y&&y.checkEmptyState&&y.checkEmptyState(p)&&(n=t().createElement(mo,y));var O,P,E=this.buildElementsFromNodeEntries(this.state.elements,this.state.showSelector),C=this.props,x=C.verticalScroller,j=C.usePlaceHolder,T=E;if(!E.length&&j&&(T=t().createElement(ko,this.props)),n)T=n;else if(x)O=function(e){return t().createElement(V(),{speed:.8,horizontalScroll:!1,style:{height:e},verticalScrollbarStyle:{borderRadius:10,width:6},verticalContainerStyle:{width:8}},t().createElement("div",null,T))};else{if(l)return t().createElement("div",{className:i,tabIndex:"0",onKeyDown:this.onKeyDown,style:To(To({},this.props.style),{},{overflowX:"auto"})},r,t().createElement("div",{style:{display:"flex",flexDirection:"column",flex:1,height:"100%",width:"100%",minWidth:"fit-content"}},e,t().createElement(Do,{className:n?"layout-fill vertical_layout":"layout-fill"},(function(e){return t().createElement(H(),{elementHeight:o.state.elementHeight?o.state.elementHeight:o.props.elementHeight,containerHeight:e||1,handleScroll:o.onScroll,ref:o.infinite},T)}))));P=function(e){return t().createElement(H(),{elementHeight:o.state.elementHeight?o.state.elementHeight:o.props.elementHeight,containerHeight:e||1,handleScroll:o.onScroll,ref:o.infinite},O?O(e):T)}}return t().createElement("div",{className:i,tabIndex:"0",onKeyDown:this.onKeyDown,style:this.props.style},e,r,t().createElement(Do,{className:n?"layout-fill vertical_layout":"layout-fill"},P||function(){return T}))}});function Lo(e){return Lo="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Lo(e)}function Uo(){return Uo=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Uo.apply(this,arguments)}function Bo(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,Fo(n.key),n)}}function Fo(e){var t=function(e,t){if("object"!==Lo(e)||null===e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,"string");if("object"!==Lo(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"===Lo(t)?t:String(t)}function qo(e,t){return qo=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},qo(e,t)}function Wo(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function Zo(e){return Zo=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},Zo(e)}var Ho=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&qo(e,t)}(s,e);var r,n,o,i,a=(o=s,i=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,t=Zo(o);if(i){var r=Zo(this).constructor;e=Reflect.construct(t,arguments,r)}else e=t.apply(this,arguments);return function(e,t){if(t&&("object"===Lo(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return Wo(e)}(this,e)});function s(e){var t,r;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,s),r=(t=a.call(this,e)).props.presetDataModel?t.props.presetDataModel:PydioDataModel.RemoteDataModelFactory(t.props.nodeProviderProperties);var n=t.props.presetRootNode||r.getRootNode();return t.props.nodeClicked&&(t.openEditor=function(e){return this.props.nodeClicked(e),!1}.bind(Wo(t)),t._selObserver=function(e){var r=e.memo.getSelectedNodes();r.length&&(t.props.nodeClicked(r[0]),e.memo.setSelectedNodes([]))},r.observe("selection_changed",t._selObserver)),t.props.reloadOnServerMessage&&t.props.pydio&&(t._smObs=function(e){XMLUtils.XPathSelectSingleNode(e,this.props.reloadOnServerMessage)&&this.reload()}.bind(Wo(t)),t.props.pydio.observe("server_message",t._smObs),t.props.pydio.observe("server_message:"+t.props.reloadOnServerMessage,t.reload)),t.state={node:n,dataModel:r},t}return r=s,(n=[{key:"reload",value:function(){this.refs.list&&this.isMounted()&&this.refs.list.reload()}},{key:"componentWillUnmount",value:function(){this._smObs&&(this.props.pydio.stopObserving("server_message",this._smObs),this.props.pydio.stopObserving("server_message:"+this.props.reloadOnServerMessage,this.reload)),this._selObserver&&this.state.dataModel.stopObserving("selection_changed",this._selObserver)}},{key:"componentWillReceiveProps",value:function(e){if(this.props.nodeProviderProperties&&this.props.nodeProviderProperties!==e.nodeProviderProperties){var t=this.state,r=t.dataModel,n=t.node,o=new RemoteNodeProvider(e.nodeProviderProperties);r.setAjxpNodeProvider(o),n.updateProvider(o),this.setState({dataModel:r,node:n})}else this.props.presetDataModel!==e.presetDataModel&&this.setState({dataModel:e.presetDataModel,node:e.presetRootNode||e.presetDataModel.getRootNode()})}},{key:"render",value:function(){return t().createElement("div",{className:this.props.heightAutoWithMax?"":"layout-fill vertical-layout",style:this.props.containerStyle},t().createElement(No,Uo({},this.props,{openEditor:this.openEditor,ref:"list",style:Object.assign({height:"100%"},this.props.style||{}),node:this.state.node,dataModel:this.state.dataModel,actionBarGroups:this.props.actionBarGroups,skipParentNavigation:!0,observeNodeReload:!0,hideToolbar:!0})))}}])&&Bo(r.prototype,n),Object.defineProperty(r,"prototype",{writable:!1}),s}(t().Component);function $o(){return $o=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},$o.apply(this,arguments)}function Vo(e,t){return Vo=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},Vo(e,t)}function Go(e){return Go=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},Go(e)}function Jo(e){return Jo="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Jo(e)}function Ko(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function Yo(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function Xo(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?Yo(Object(r),!0).forEach((function(t){Qo(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Yo(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function Qo(e,t,r){return(t=ni(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function ei(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function ti(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,ni(n.key),n)}}function ri(e,t,r){return t&&ti(e.prototype,t),r&&ti(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e}function ni(e){var t=function(e,t){if("object"!==Jo(e)||null===e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,"string");if("object"!==Jo(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"===Jo(t)?t:String(t)}var oi=W().requireLib("boot").moment,ii=W().requireLib("hoc").ThemedModernStyles,ai=function(){function e(t,r){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null,o=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null;ei(this,e),this.state=Xo({},t),!t.sortCol&&n&&(this.state.sortCol=n,this.state.sortDir=o||"asc"),this.onSort=r}return ri(e,[{key:"renderHeader",value:function(e,r){var n=this,o=this.state,i=o.sortCol,a=o.sortDir,s={cursor:"pointer",position:"relative"},c={left:-17,position:"absolute"};if(i!==e||""===a)return t().createElement("span",{onClick:function(){n.onSort(e,"asc")},style:s},r);var l=r;return"asc"===a?l=t().createElement("span",{onClick:function(){n.onSort(e,"desc")},style:s},r," ",t().createElement("span",{style:c,className:"mdi mdi-arrow-up"})):"desc"===a&&(l=t().createElement("span",{onClick:function(){n.onSort(e,"")},style:s},r," ",t().createElement("span",{style:c,className:"mdi mdi-arrow-down"}))),l}},{key:"setData",value:function(e,t){this.columns=e,this.data=t}},{key:"sorted",value:function(){var e=this.state,t=e.sortCol,r=e.sortDir;if(!t||!r)return this.data;var n,o=function(e){if(Array.isArray(e))return Ko(e)}(n=this.data)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(n)||function(e,t){if(e){if("string"==typeof e)return Ko(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?Array.from(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?Ko(e,t):void 0}}(n)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}(),i=this.columns.filter((function(e){return e.name===t}))[0],a=i.sorter;return a?(o.sort((function(e,n){var o,s;return a.value?(o=a.value(e),s=a.value(n)):i.renderCell?(o=i.renderCell(e),s=i.renderCell(n)):(o=e[t],s=n[t]),"string"===a.type?(o||(o=""),s||(s=""),o=o.toLowerCase(),s=s.toLowerCase()):"number"===a.type&&(o=parseInt(o),s=parseInt(s)),"asc"===r?o>s?1:o<s?-1:0:o<s?1:o>s?-1:0})),o):this.data}}]),e}(),si=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&Vo(e,t)}(i,e);var r,n,o=(r=i,n=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,t=Go(r);if(n){var o=Go(this).constructor;e=Reflect.construct(t,arguments,o)}else e=t.apply(this,arguments);return function(e,t){if(t&&("object"===Jo(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}(this,e)});function i(e){var t;return ei(this,i),(t=o.call(this,e)).state={},t}return ri(i,[{key:"onRowSelection",value:function(e){var t=this.props,r=t.data,n=t.onSelectRows;if(n)if("none"===e)n([]);else if("all"===e)n(r);else{var o=r,i=this.computeSorter();i&&(o=i.sorted());var a=this.computePagination();a.use&&(o=o.slice(a.sliceStart,a.sliceEnd));var s=[];e.map((function(e){var t=o.slice(0,e).filter((function(e){return e.expandedRow})).length;t&&(e-=t),s.push(o[e])})),n(s)}}},{key:"loadStoredValue",value:function(){var e=this.props,t=e.storageKey,r=e.columns;if(!t)return null;if(!localStorage.getItem(t+".sort"))return null;try{var n=JSON.parse(localStorage.getItem(t+".sort")),o=n.col,i=n.dir;return 0===r.filter((function(e){return e.name===o})).length||-1===["asc","desc",""].indexOf(i)?null:{col:o,dir:i}}catch(e){return null}}},{key:"computeSorter",value:function(){var e,t=this,r=this.props,n=r.columns,o=r.data,i=r.storageKey,a=n.filter((function(e){return e.sorter}));if(a.length){var s,c=a[0].name,l=a.filter((function(e){return e.sorter.default})),u=this.loadStoredValue();u?(c=u.col,s=u.dir):l.length&&(c=l[0].name,l[0].sorter.defaultDir&&(s=l[0].sorter.defaultDir)),(e=new ai(this.state,(function(e,r){t.setState({sortCol:e,sortDir:r}),i&&localStorage.setItem(i+".sort",JSON.stringify({col:e,dir:r}))}),c,s)).setData(n,o)}return e}},{key:"computePagination",value:function(){var e=this.props,t=e.data,r=e.paginate,n=e.defaultPageSize,o=e.pagination;if(o)return Xo(Xo({},o),{},{use:!0});if(!r||!t||!t.length)return{use:!1};var i=this.state.pageSize||n||r[0];if(t.length<=i)return{use:!1};for(var a=this.state.page,s=void 0===a?1:a,c=Math.ceil(t.length/i),l=(s-1)*i,u=Math.min(s*i,t.length),d=[],p=1;p<=c;p++)d.push(p);return{use:!0,sliceStart:l,sliceEnd:u,pages:d,page:s,pageSize:i,pageSizes:r}}},{key:"renderPagination",value:function(e){var r=this,n=this.props,o=n.data,i=n.muiTheme,a=e.page,s=e.pageSize,c=e.pages,l=e.pageSizes,u=e.sliceStart,d=e.sliceEnd,p=e.nextDisabled,f=e.prevDisabled,h=e.onPageNext,m=e.onPagePrev,y=e.onPageSizeChange;return t().createElement("div",{style:{display:"flex",alignItems:"center",justifyContent:"flex-end",color:"#757575"}},l.length>1&&t().createElement("div",{style:{paddingRight:10}},W().getMessages()["material.paginator.rows"]," :"),l.length>1&&t().createElement("div",{style:{width:90}},t().createElement(v.SelectField,$o({},ii(i).selectField,{fullWidth:!0,value:s,onChange:function(e,t,n){y?y(n):r.setState({page:1,pageSize:n})}}),l.map((function(e){return t().createElement(v.MenuItem,{value:e,primaryText:e})})))),m&&t().createElement(v.IconButton,{iconClassName:"mdi mdi-chevron-left",disabled:f,onClick:function(){return m()}}),!m&&t().createElement(v.IconButton,{iconClassName:"mdi mdi-chevron-left",disabled:1===a,onClick:function(){return r.setState({page:a-1})}}),(u||d)&&t().createElement("div",null,u+1,"-",d," ",W().getMessages()["material.paginator.of"]," ",o.length),h&&t().createElement(v.IconButton,{iconClassName:"mdi mdi-chevron-right",disabled:p,onClick:function(){return h()}}),!h&&t().createElement(v.IconButton,{iconClassName:"mdi mdi-chevron-right",disabled:a===c.length,onClick:function(){return r.setState({page:a+1})}}))}},{key:"render",value:function(){var e=this.props,r=e.columns,n=e.deselectOnClickAway,o=e.emptyStateString,i=e.masterStyles,a=void 0===i?{}:i,s=e.emptyStateStyle,c=e.onSelectRows,l=e.computeRowStyle,u=e.rowSelected,d=this.props,p=d.actions,f=d.hideHeaders,h=this.props,m=h.data,y=h.showCheckboxes,g=a.actionsColor||"rgba(0,0,0,.33)",b=this.computeSorter();b&&(m=b.sorted());var k,w=this.computePagination();w.use&&(m=m.slice(w.sliceStart,w.sliceEnd),k=this.renderPagination(w));var _,S=0;p&&p.length&&(_=!0,S=1);var O=[];m.map((function(e){var n;if(l&&(n=l(e)),e.Subheader){var o=Xo({fontSize:12,color:"#616161",backgroundColor:"#FAFAFA",fontWeight:500},e.style);O.push(t().createElement(v.TableRow,{className:"media-small-hide",style:Xo({},a.row)},t().createElement(v.TableRowColumn,{colSpan:r.length+S,style:o},e.Subheader)))}else if(e.colSpan)O.push(t().createElement(v.TableRow,{style:Xo(Xo({},e.rowStyle),a.row)},t().createElement(v.TableRowColumn,{colSpan:r.length+S,style:Xo({height:"auto",paddingLeft:0,paddingRight:0,backgroundColor:"transparent"},e.cellStyle)},e.element)));else{var i=Xo(Xo({},n),a.row);e.expandedRow&&(i=Xo(Xo({},i),a.expanderRow)),O.push(t().createElement(v.TableRow,{selectable:void 0!==c,style:i,selected:u&&u(e)},r.map((function(r){var n=e[r.name],o=n;return r.useMoment&&n?o=n=oi(new Date(1e3*parseInt(n))).fromNow():r.renderCell&&(n=r.renderCell(e))&&"object"===Jo(n)&&n.element&&n.text&&(o=n.text,n=n.element),t().createElement(v.TableRowColumn,{style:r.style||{},title:"object"===Jo(o)?null:o,className:r.hideSmall?"media-small-hide":null},n)})),_&&t().createElement(v.TableRowColumn,{style:{overflow:"visible",textOverflow:"none",width:48*p.length+32}},p.map((function(r){var n=!!r.disable&&r.disable(e);return t().createElement(v.IconButton,{style:{padding:14,opacity:n?.5:null},iconStyle:{fontSize:20,color:g},onClick:function(t){t.stopPropagation(),r.onClick(e)},iconClassName:r.iconClassName,tooltip:r.tooltip,disabled:n})}))))),e.expandedRow&&O.push(t().createElement(v.TableRow,{selectable:!1,style:Xo(Xo({},a.row),a.expandedRow)},t().createElement(v.TableRowColumn,{colSpan:r.length+S,style:Xo({height:"auto",paddingLeft:0,paddingRight:0,backgroundColor:"transparent"},e.cellStyle)},e.expandedRow)))}}));var P=r.map((function(e){var r=e.label;return b&&e.sorter&&(r=b.renderHeader(e.name,e.label)),t().createElement(v.TableHeaderColumn,{style:Xo(Xo({},e.headerStyle),{},{height:48,backgroundColor:"#F5F5F5",fontWeight:500},a.head),className:e.hideSmall?"media-small-hide":null},r)}));return _&&P.push(t().createElement(v.TableHeaderColumn,{style:Xo({width:48*p.length+32,height:48,backgroundColor:"#F5F5F5"},a.head)})),o&&!O.length&&(y=!1,O=[t().createElement(v.TableRow,null,t().createElement(v.TableRowColumn,{colSpan:r.length,style:s},o))]),(m.length&&m[0].Subheader||o&&!O.length)&&O.unshift(t().createElement(v.TableRow,{style:Xo({borderBottom:"none",height:0},a.row)},r.map((function(e){var r=e.style||{};return t().createElement(v.TableRowColumn,{style:Xo(Xo({},r),{},{height:0}),className:e.hideSmall?"media-small-hide":null})})))),t().createElement(v.Table,{onRowSelection:this.onRowSelection.bind(this),multiSelectable:y},!f&&t().createElement(v.TableHeader,{displaySelectAll:y,adjustForCheckbox:y,enableSelectAll:y},t().createElement(v.TableRow,{style:a.row},P)),t().createElement(v.TableBody,{deselectOnClickaway:n,displayRowCheckbox:y},O),k&&t().createElement(v.TableFooter,null,t().createElement(v.TableRow,{style:{backgroundColor:"#fafafa"}},t().createElement(v.TableRowColumn,{colSpan:r.length},k))))}}]),i}(t().Component);(si=(0,K.muiThemeable)()(si)).PropTypes={data:F().array,columns:F().array,onSelectRows:F().func,emptyStateString:F().string};const ci=t()["undefined"!=typeof document&&void 0!==document.createElement?"useLayoutEffect":"useEffect"],li=function(t,r,n,o){var i=e.useRef(n),a=e.useRef(o);ci((function(){i.current=n,a.current=o})),ci((function(){var e=t&&"current"in t?t.current:t;if(e){var n=0;e.addEventListener(r,s);var o=a.current;return function(){n=1,e.removeEventListener(r,s),o&&o()}}function s(){if(!n){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];i.current.apply(this,t)}}}),[t,r])};function ui(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function di(e){return di="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},di(e)}var pi="undefined",fi=("undefined"==typeof window?"undefined":di(window))!==pi?window:{},hi=("undefined"==typeof performance?"undefined":di(performance))!==pi?performance:Date,mi=function(){return hi.now()},yi="AnimationFrame",gi="cancel"+yi,bi="request"+yi,vi=fi[bi]&&fi[bi].bind(fi),ki=fi[gi]&&fi[gi].bind(fi);if(!vi||!ki){var wi=0;vi=function(e){var t=mi(),r=Math.max(wi+1e3/60,t);return setTimeout((function(){e(wi=r)}),r-t)},ki=function(e){return clearTimeout(e)}}const _i=function(t){var r=e.useRef(t);return e.useEffect((function(){r.current=t})),r};var Si="undefined"!=typeof performance?performance:Date,Oi=function(){return Si.now()};function Pi(t){var r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:30,n=arguments.length>2&&void 0!==arguments[2]&&arguments[2],o=_i(t),i=1e3/r,a=e.useRef(0),s=e.useRef(),c=function(){return s.current&&clearTimeout(s.current)},l=[r,n,o];function u(){a.current=0,c()}return e.useEffect((function(){return u}),l),e.useCallback((function(){var e=arguments,t=Oi(),r=function(){a.current=t,c(),o.current.apply(null,e)},l=a.current;if(n&&0===l)return r();if(t-l>i){if(l>0)return r();a.current=t}c(),s.current=setTimeout((function(){r(),a.current=0}),i)}),l)}function Ei(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var r=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=r){var n,o,i,a,s=[],c=!0,l=!1;try{if(i=(r=r.call(e)).next,0===t){if(Object(r)!==r)return;c=!1}else for(;!(c=(n=i.call(r)).done)&&(s.push(n.value),s.length!==t);c=!0);}catch(e){l=!0,o=e}finally{try{if(!c&&null!=r.return&&(a=r.return(),Object(a)!==a))return}finally{if(l)throw o}}return s}}(e,t)||function(e,t){if(e){if("string"==typeof e)return Ci(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?Array.from(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?Ci(e,t):void 0}}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Ci(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function xi(t){var r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=r.offset,o=void 0===n?0:n,i=r.fps,a=void 0===i?12:i,s=t&&"current"in t?t.current:t,c=function(){return s?"scrollTop"in s?s.scrollTop:s.pageYOffset||s.scrollY:0},l=function(t,r,n){var o=e.useState(t);return[o[0],Pi(o[1],r,void 0)]}(c,a),u=Ei(l,2),d=u[0],p=u[1],f=Ei(e.useState(!1),2),h=f[0],m=f[1];function y(){m(!1)}return ci((function(){if(s){var e,t=!1,r=function(){return e&&void ki(e.v||-1)},n=function(){t||(p(c()),m(!0),r(),e=function(e,t){var r=mi(),n={};return n.v=vi((function o(){mi()-r>=t?e.call(null):n.v=vi(o)})),n}(y,1e3/a))};return s.addEventListener("scroll",n),function(){s.removeEventListener("scroll",n),r(),t=!0}}}),[s,a]),{scrollTop:Math.max(0,d-o),isScrolling:h}}var ji={low:0,max:0,high:0,C:2,P:void 0,R:void 0,L:void 0,list:void 0};function Ti(e){var t=e.high;e.L===ji&&e.R===ji?e.max=t:e.L===ji?e.max=Math.max(e.R.max,t):e.R===ji?e.max=Math.max(e.L.max,t):e.max=Math.max(Math.max(e.L.max,e.R.max),t)}function Ri(e){for(var t=e;t.P!==ji;)Ti(t.P),t=t.P}function zi(e,t){if(t.R!==ji){var r=t.R;t.R=r.L,r.L!==ji&&(r.L.P=t),r.P=t.P,t.P===ji?e.root=r:t===t.P.L?t.P.L=r:t.P.R=r,r.L=t,t.P=r,Ti(t),Ti(r)}}function Ii(e,t){if(t.L!==ji){var r=t.L;t.L=r.R,r.R!==ji&&(r.R.P=t),r.P=t.P,t.P===ji?e.root=r:t===t.P.R?t.P.R=r:t.P.L=r,r.R=t,t.P=r,Ti(t),Ti(r)}}function Ai(e,t,r){t.P===ji?e.root=r:t===t.P.L?t.P.L=r:t.P.R=r,r.P=t.P}function Mi(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}ji.P=ji,ji.L=ji,ji.R=ji;var Di=function(e,t){for(var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,n=function(){var e={root:ji,size:0},t={};return{insert:function(r,n,o){for(var i=e.root,a=ji;i!==ji&&r!==(a=i).low;)i=r<i.low?i.L:i.R;if(r===a.low&&a!==ji){if(!function(e,t,r){for(var n,o=e.list;o;){if(o.index===r)return!1;if(t>o.high)break;n=o,o=o.next}return n||(e.list={index:r,high:t,next:o}),n&&(n.next={index:r,high:t,next:n.next}),!0}(a,n,o))return;return a.high=Math.max(a.high,n),Ti(a),Ri(a),t[o]=a,void e.size++}var s={low:r,high:n,max:n,C:0,P:a,L:ji,R:ji,list:{index:o,high:n,next:null}};a===ji?e.root=s:(s.low<a.low?a.L=s:a.R=s,Ri(s)),function(e,t){for(var r;0===t.P.C;)t.P===t.P.P.L?0===(r=t.P.P.R).C?(t.P.C=1,r.C=1,t.P.P.C=0,t=t.P.P):(t===t.P.R&&zi(e,t=t.P),t.P.C=1,t.P.P.C=0,Ii(e,t.P.P)):0===(r=t.P.P.L).C?(t.P.C=1,r.C=1,t.P.P.C=0,t=t.P.P):(t===t.P.L&&Ii(e,t=t.P),t.P.C=1,t.P.P.C=0,zi(e,t.P.P));e.root.C=1}(e,s),t[o]=s,e.size++},remove:function(r){var n=t[r];if(void 0!==n){delete t[r];var o=function(e,t){var r=e.list;if(r.index===t)return null===r.next?0:(e.list=r.next,1);var n=r;for(r=r.next;null!==r;){if(r.index===t)return n.next=r.next,1;n=r,r=r.next}}(n,r);if(void 0!==o){if(1===o)return n.high=n.list.high,Ti(n),Ri(n),void e.size--;var i,a=n,s=a.C;n.L===ji?(i=n.R,Ai(e,n,n.R)):n.R===ji?(i=n.L,Ai(e,n,n.L)):(a=function(e){for(;e.L!==ji;)e=e.L;return e}(n.R),s=a.C,i=a.R,a.P===n?i.P=a:(Ai(e,a,a.R),a.R=n.R,a.R.P=a),Ai(e,n,a),a.L=n.L,a.L.P=a,a.C=n.C),Ti(i),Ri(i),1===s&&function(e,t){for(var r;t!==ji&&1===t.C;)t===t.P.L?(0===(r=t.P.R).C&&(r.C=1,t.P.C=0,zi(e,t.P),r=t.P.R),1===r.L.C&&1===r.R.C?(r.C=0,t=t.P):(1===r.R.C&&(r.L.C=1,r.C=0,Ii(e,r),r=t.P.R),r.C=t.P.C,t.P.C=1,r.R.C=1,zi(e,t.P),t=e.root)):(0===(r=t.P.L).C&&(r.C=1,t.P.C=0,Ii(e,t.P),r=t.P.L),1===r.R.C&&1===r.L.C?(r.C=0,t=t.P):(1===r.L.C&&(r.R.C=1,r.C=0,zi(e,r),r=t.P.L),r.C=t.P.C,t.P.C=1,r.L.C=1,Ii(e,t.P),t=e.root));t.C=1}(e,i),e.size--}}},search:function(t,r,n){for(var o=[e.root];0!==o.length;){var i=o.pop();if(!(i===ji||t>i.max)&&(i.L!==ji&&o.push(i.L),i.R!==ji&&o.push(i.R),i.low<=r&&i.high>=t))for(var a=i.list;null!==a;)a.high>=t&&n(a.index,i.low),a=a.next}},get size(){return e.size}}}(),o=new Array(e),i=[],a=new Array(e),s=0;s<e;s++)o[s]=0,a[s]=[];return{columnCount:e,columnWidth:t,set:function(e){for(var s=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,c=0,l=1;l<o.length;l++)o[l]<o[c]&&(c=l);var u=o[c]||0;o[c]=u+s+r,a[c].push(e),i[e]={left:c*(t+r),top:u,height:s,column:c},n.insert(u,u+s,e)},get:function(e){return i[e]},update:function(t){for(var s=new Array(e),c=0,l=0;c<t.length-1;c++){var u=t[c],d=i[u];d.height=t[++c],n.remove(u),n.insert(d.top,d.top+d.height,u),s[d.column]=void 0===s[d.column]?u:Math.min(u,s[d.column])}for(c=0;c<s.length;c++)if(void 0!==s[c]){var p=a[c],f=Ni(p,s[c]),h=a[c][f],m=i[h];for(o[c]=m.top+m.height+r,l=f+1;l<p.length;l++){var y=p[l],g=i[y];g.top=o[c],o[c]=g.top+g.height+r,n.remove(y),n.insert(g.top,g.top+g.height,y)}}},range:function(e,t,r){return n.search(e,t,(function(e,t){return r(e,i[e].left,t)}))},estimateHeight:function(t,r){var i=Math.max(0,Math.max.apply(null,o));return t===n.size?i:i+Math.ceil((t-n.size)/e)*r},shortestColumn:function(){return o.length>1?Math.min.apply(null,o):o[0]||0},size:function(){return n.size}}},Ni=function(e,t){for(var r=0,n=e.length-1;r<=n;){var o=r+n>>>1,i=e[o];if(i===t)return o;i<=t?r=o+1:n=o-1}return-1},Li=[],Ui=function(e){try{return new e}catch(e){var t={};return{set:function(e,r){t[e]=r},get:function(e){return t[e]}}}};const Bi=function(e,t){var r,n=function(e){var t,r,n,o,i=e.length,a=Ui(e[0]),s=1===i;return i<3?{g:function(e){return void 0===(t=a.get(e[0]))||s?t:t.get(e[1])},s:function(n,o){return s?a.set(n[0],o):void 0===(t=a.get(n[0]))?((r=Ui(e[1])).set(n[1],o),a.set(n[0],r)):t.set(n[1],o),o}}:{g:function(e){for(o=a,n=0;n<i;n++)if(void 0===(o=o.get(e[n])))return;return o},s:function(t,s){for(o=a,n=0;n<i-1;n++)void 0===(r=o.get(t[n]))?(r=Ui(e[n+1]),o.set(t[n],r),o=r):o=r;return o.set(t[i-1],s),s}}}(e),o=n.g,i=n.s;return function(){return void 0===(r=o(arguments))?i(arguments,t.apply(null,arguments)):r}};var Fi=function(){if("undefined"!=typeof Map)return Map;function e(e,t){var r=-1;return e.some((function(e,n){return e[0]===t&&(r=n,!0)})),r}return function(){function t(){this.__entries__=[]}return Object.defineProperty(t.prototype,"size",{get:function(){return this.__entries__.length},enumerable:!0,configurable:!0}),t.prototype.get=function(t){var r=e(this.__entries__,t),n=this.__entries__[r];return n&&n[1]},t.prototype.set=function(t,r){var n=e(this.__entries__,t);~n?this.__entries__[n][1]=r:this.__entries__.push([t,r])},t.prototype.delete=function(t){var r=this.__entries__,n=e(r,t);~n&&r.splice(n,1)},t.prototype.has=function(t){return!!~e(this.__entries__,t)},t.prototype.clear=function(){this.__entries__.splice(0)},t.prototype.forEach=function(e,t){void 0===t&&(t=null);for(var r=0,n=this.__entries__;r<n.length;r++){var o=n[r];e.call(t,o[1],o[0])}},t}()}(),qi="undefined"!=typeof window&&"undefined"!=typeof document&&window.document===document,Wi=void 0!==a.g&&a.g.Math===Math?a.g:"undefined"!=typeof self&&self.Math===Math?self:"undefined"!=typeof window&&window.Math===Math?window:Function("return this")(),Zi="function"==typeof requestAnimationFrame?requestAnimationFrame.bind(Wi):function(e){return setTimeout((function(){return e(Date.now())}),1e3/60)},Hi=["top","right","bottom","left","width","height","size","weight"],$i="undefined"!=typeof MutationObserver,Vi=function(){function e(){this.connected_=!1,this.mutationEventsAdded_=!1,this.mutationsObserver_=null,this.observers_=[],this.onTransitionEnd_=this.onTransitionEnd_.bind(this),this.refresh=function(e,t){var r=!1,n=!1,o=0;function i(){r&&(r=!1,e()),n&&s()}function a(){Zi(i)}function s(){var e=Date.now();if(r){if(e-o<2)return;n=!0}else r=!0,n=!1,setTimeout(a,t);o=e}return s}(this.refresh.bind(this),20)}return e.prototype.addObserver=function(e){~this.observers_.indexOf(e)||this.observers_.push(e),this.connected_||this.connect_()},e.prototype.removeObserver=function(e){var t=this.observers_,r=t.indexOf(e);~r&&t.splice(r,1),!t.length&&this.connected_&&this.disconnect_()},e.prototype.refresh=function(){this.updateObservers_()&&this.refresh()},e.prototype.updateObservers_=function(){var e=this.observers_.filter((function(e){return e.gatherActive(),e.hasActive()}));return e.forEach((function(e){return e.broadcastActive()})),e.length>0},e.prototype.connect_=function(){qi&&!this.connected_&&(document.addEventListener("transitionend",this.onTransitionEnd_),window.addEventListener("resize",this.refresh),$i?(this.mutationsObserver_=new MutationObserver(this.refresh),this.mutationsObserver_.observe(document,{attributes:!0,childList:!0,characterData:!0,subtree:!0})):(document.addEventListener("DOMSubtreeModified",this.refresh),this.mutationEventsAdded_=!0),this.connected_=!0)},e.prototype.disconnect_=function(){qi&&this.connected_&&(document.removeEventListener("transitionend",this.onTransitionEnd_),window.removeEventListener("resize",this.refresh),this.mutationsObserver_&&this.mutationsObserver_.disconnect(),this.mutationEventsAdded_&&document.removeEventListener("DOMSubtreeModified",this.refresh),this.mutationsObserver_=null,this.mutationEventsAdded_=!1,this.connected_=!1)},e.prototype.onTransitionEnd_=function(e){var t=e.propertyName,r=void 0===t?"":t,n=Hi.some((function(e){return!!~r.indexOf(e)}));n&&this.refresh()},e.getInstance=function(){return this.instance_||(this.instance_=new e),this.instance_},e.instance_=null,e}(),Gi=function(e,t){for(var r=0,n=Object.keys(t);r<n.length;r++){var o=n[r];Object.defineProperty(e,o,{value:t[o],enumerable:!1,writable:!1,configurable:!0})}return e},Ji=function(e){return e&&e.ownerDocument&&e.ownerDocument.defaultView||Wi},Ki=ta(0,0,0,0);function Yi(e){return parseFloat(e)||0}function Xi(e){for(var t=[],r=1;r<arguments.length;r++)t[r-1]=arguments[r];return t.reduce((function(t,r){return t+Yi(e["border-"+r+"-width"])}),0)}var Qi="undefined"!=typeof SVGGraphicsElement?function(e){return e instanceof Ji(e).SVGGraphicsElement}:function(e){return e instanceof Ji(e).SVGElement&&"function"==typeof e.getBBox};function ea(e){return qi?Qi(e)?function(e){var t=e.getBBox();return ta(0,0,t.width,t.height)}(e):function(e){var t=e.clientWidth,r=e.clientHeight;if(!t&&!r)return Ki;var n=Ji(e).getComputedStyle(e),o=function(e){for(var t={},r=0,n=["top","right","bottom","left"];r<n.length;r++){var o=n[r],i=e["padding-"+o];t[o]=Yi(i)}return t}(n),i=o.left+o.right,a=o.top+o.bottom,s=Yi(n.width),c=Yi(n.height);if("border-box"===n.boxSizing&&(Math.round(s+i)!==t&&(s-=Xi(n,"left","right")+i),Math.round(c+a)!==r&&(c-=Xi(n,"top","bottom")+a)),!function(e){return e===Ji(e).document.documentElement}(e)){var l=Math.round(s+i)-t,u=Math.round(c+a)-r;1!==Math.abs(l)&&(s-=l),1!==Math.abs(u)&&(c-=u)}return ta(o.left,o.top,s,c)}(e):Ki}function ta(e,t,r,n){return{x:e,y:t,width:r,height:n}}var ra=function(){function e(e){this.broadcastWidth=0,this.broadcastHeight=0,this.contentRect_=ta(0,0,0,0),this.target=e}return e.prototype.isActive=function(){var e=ea(this.target);return this.contentRect_=e,e.width!==this.broadcastWidth||e.height!==this.broadcastHeight},e.prototype.broadcastRect=function(){var e=this.contentRect_;return this.broadcastWidth=e.width,this.broadcastHeight=e.height,e},e}(),na=function(e,t){var r=function(e){var t=e.x,r=e.y,n=e.width,o=e.height,i="undefined"!=typeof DOMRectReadOnly?DOMRectReadOnly:Object,a=Object.create(i.prototype);return Gi(a,{x:t,y:r,width:n,height:o,top:r,right:t+n,bottom:o+r,left:t}),a}(t);Gi(this,{target:e,contentRect:r})},oa=function(){function e(e,t,r){if(this.activeObservations_=[],this.observations_=new Fi,"function"!=typeof e)throw new TypeError("The callback provided as parameter 1 is not a function.");this.callback_=e,this.controller_=t,this.callbackCtx_=r}return e.prototype.observe=function(e){if(!arguments.length)throw new TypeError("1 argument required, but only 0 present.");if("undefined"!=typeof Element&&Element instanceof Object){if(!(e instanceof Ji(e).Element))throw new TypeError('parameter 1 is not of type "Element".');var t=this.observations_;t.has(e)||(t.set(e,new ra(e)),this.controller_.addObserver(this),this.controller_.refresh())}},e.prototype.unobserve=function(e){if(!arguments.length)throw new TypeError("1 argument required, but only 0 present.");if("undefined"!=typeof Element&&Element instanceof Object){if(!(e instanceof Ji(e).Element))throw new TypeError('parameter 1 is not of type "Element".');var t=this.observations_;t.has(e)&&(t.delete(e),t.size||this.controller_.removeObserver(this))}},e.prototype.disconnect=function(){this.clearActive(),this.observations_.clear(),this.controller_.removeObserver(this)},e.prototype.gatherActive=function(){var e=this;this.clearActive(),this.observations_.forEach((function(t){t.isActive()&&e.activeObservations_.push(t)}))},e.prototype.broadcastActive=function(){if(this.hasActive()){var e=this.callbackCtx_,t=this.activeObservations_.map((function(e){return new na(e.target,e.broadcastRect())}));this.callback_.call(e,t,e),this.clearActive()}},e.prototype.clearActive=function(){this.activeObservations_.splice(0)},e.prototype.hasActive=function(){return this.activeObservations_.length>0},e}(),ia="undefined"!=typeof WeakMap?new WeakMap:new Fi,aa=function e(t){if(!(this instanceof e))throw new TypeError("Cannot call a class as a function.");if(!arguments.length)throw new TypeError("1 argument required, but only 0 present.");var r=Vi.getInstance(),n=new oa(t,r,this);ia.set(this,n)};["observe","unobserve","disconnect"].forEach((function(e){aa.prototype[e]=function(){var t;return(t=ia.get(this))[e].apply(t,arguments)}}));const sa=void 0!==Wi.ResizeObserver?Wi.ResizeObserver:aa;var ca=new WeakMap;function la(){var t=e.useState(ua)[1];return e.useRef((function(){return t({})})).current}var ua={},da=Bi([WeakMap],(function(e,t){var r,n,o,i,a=(r=function(r){for(var n=[],o=0;o<r.length;o++){var i=r[o],a=i.target.offsetHeight;if(a>0){var s=ca.get(i.target);if(void 0!==s){var c=e.get(s);void 0!==c&&a!==c.height&&n.push(s,a)}}}n.length>0&&(e.update(n),t(n))},n=[],o=null,i=function(){for(var e=arguments.length,t=new Array(e),i=0;i<e;i++)t[i]=arguments[i];n=t,o||(o=requestAnimationFrame((function(){o=null,r.apply(void 0,n)})))},i.cancel=function(){o&&(cancelAnimationFrame(o),o=null)},i),s=new sa(a),c=s.disconnect.bind(s);return s.disconnect=function(){c(),a.cancel()},s}));function pa(e){return pa="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},pa(e)}function fa(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,ma(n.key),n)}}function ha(e,t,r){return t&&fa(e.prototype,t),r&&fa(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e}function ma(e){var t=function(e,t){if("object"!==pa(e)||null===e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,"string");if("object"!==pa(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"===pa(t)?t:String(t)}var ya=ha((function e(){var t,r;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.set=void 0,this.get=void 0,this.get=function(e){return e===t?r:void 0},this.set=function(e,n){t=e,r=n}}));const ga=ya,ba=function(e,t){var r,n,o=t||va;return function(){return r&&o(arguments,r)?n:n=e.apply(null,r=arguments)}};var va=function(e,t){return e[0]===t[0]&&e[1]===t[1]&&e[2]===t[2]&&e[3]===t[3]};function ka(e){return ka="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},ka(e)}var wa=e.createElement,_a="0",Sa=Bi([ga,{},WeakMap,ga],(function(e,t,r,n){return wa(e,{index:t,data:r,width:n})})),Oa=ba((function(e,t){return{position:"relative",width:"100%",maxWidth:"100%",height:Math.ceil(t),maxHeight:Math.ceil(t),willChange:e?"contents":void 0,pointerEvents:e?"none":void 0}})),Pa=function(e,t){return e[0]===t[0]&&e[1]===t[1]},Ea=ba((function(e,t){return Object.assign({},e,t)}),Pa);function Ca(e,t){return t}var xa=ba((function(e){return{width:e,zIndex:-1e3,visibility:"hidden",position:"absolute",writingMode:"horizontal-tb"}}),(function(e,t){return e[0]===t[0]})),ja=ba((function(e,t){return function(r){return function(n){null!==n&&(t&&(t.observe(n),ca.set(n,r)),void 0===e.get(r)&&e.set(r,n.offsetHeight))}}}),Pa);function Ta(e){return Ta="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Ta(e)}function Ra(){return Ra=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Ra.apply(this,arguments)}function za(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function Ia(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?za(Object(r),!0).forEach((function(t){Aa(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):za(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function Aa(e,t,r){return(t=function(e){var t=function(e,t){if("object"!==Ta(e)||null===e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,"string");if("object"!==Ta(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"===Ta(t)?t:String(t)}(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Ma(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var r=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=r){var n,o,i,a,s=[],c=!0,l=!1;try{if(i=(r=r.call(e)).next,0===t){if(Object(r)!==r)return;c=!1}else for(;!(c=(n=i.call(r)).done)&&(s.push(n.value),s.length!==t);c=!0);}catch(e){l=!0,o=e}finally{try{if(!c&&null!=r.return&&(a=r.return(),Object(a)!==a))return}finally{if(l)throw o}}return s}}(e,t)||function(e,t){if(e){if("string"==typeof e)return Da(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?Array.from(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?Da(e,t):void 0}}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Da(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}var Na=W().requireLib("hoc").useImagePreview,La={2:{scaleX:-1,scaleY:1},3:{rotate:"180deg"},4:{rotate:"180deg",scaleX:-1,scaleY:1},5:{rotate:"90deg",scaleX:1,scaleY:-1,tX:-1,tY:1},6:{rotate:"90deg",tX:-1,tY:-1},7:{rotate:"270deg",scaleX:1,scaleY:-1,tX:1,tY:-1},8:{rotate:"270deg",tX:1,tY:1}};function Ua(e){var t=[];return e.rotate&&t.push("rotate(".concat(e.rotate,")")),e.scaleX&&t.push("scale(".concat(e.scaleX,", ").concat(e.scaleY,")")),e.translateX&&t.push("translate(".concat(e.translateX,"px,").concat(e.translateY,"px)")),t.join(" ")}var Ba=(0,Fr.debounce)((function(){window.dispatchEvent(new Event("resize"))}),500),Fa=Ir((function(r){var n=r.width,o=r.data,i=o.node,a=o.parent,s=o.dataModel,c=o.entryProps,l=r.setInlineEditionAnchor,u=function(e){var t=.5;if(e.getMetadata().has("ImageDimensions")){var r=e.getMetadata().get("ImageDimensions");t=r.Height/r.Width}return{ratio:t,src:Na(e).src}}(i),d=u.ratio,p=u.src,f=Ma((0,e.useState)(s.getSelectedNodes().indexOf(i)>-1),2),h=f[0],m=f[1],y=Ma((0,e.useState)(!1),2),g=y[0],b=y[1];(0,e.useEffect)((function(){var e=function(){m(s.getSelectedNodes().indexOf(i)>-1)};return s.observe("selection_changed",e),function(){s.stopObserving("selection_changed",e)}}),[h,i]);var v=c.handleClicks,k=c.renderIcon,w=c.renderActions,_=W().getMessages()["react.1"],S={};if(p&&d&&i.getMetadata().get("image_exif_orientation")){var O=parseInt(i.getMetadata().get("image_exif_orientation"));if(La[O]){var P=Ia({},La[O]);if(O<5)S={transform:Ua(P)};else{var E=n*(d=1/d),C=(n-E)/2;P.translateX=C*P.tX,P.translateY=C*P.tY,S={transform:Ua(P),width:E}}}}var x=["masonry-card"];g&&x.push("hover"),h&&x.push("selected"),p&&x.push("has-src");var j=(0,e.useRef)(null);return(0,e.useEffect)((function(){l&&j.current&&l(j.current)}),[i]),t().createElement(pe,{node:i,style:{width:n,height:n*d,position:"relative"},className:x.join(" "),onClick:function(e){return v(i,a?No.CLICK_TYPE_DOUBLE:No.CLICK_TYPE_SIMPLE,e)},onDoubleClick:function(e){return v(i,No.CLICK_TYPE_DOUBLE,e)},onMouseOver:function(){return b(!0)},onMouseOut:function(){return b(!1)}},p&&t().createElement(qa,{className:"masonry-image",src:p,alt:i.getPath(),style:Ia({width:n},S)}),a&&t().createElement("div",{className:"mimefont-container"},t().createElement("div",{className:"mimefont mdi mdi-chevron-left"})),!a&&!p&&k(i),!a&&t().createElement("div",{style:{position:"absolute",top:0,left:0}},w(i)),p&&t().createElement("div",{className:"masonry-label-overlay",style:{position:"absolute",bottom:0,left:0,right:0,height:50}}),t().createElement("div",{className:"masonry-label",ref:j,style:Ia({display:g||h||!p?"block":"none"},{position:"absolute",bottom:0,left:0,right:0,height:32,padding:"6px 10px",fontWeight:500,overflow:"hidden",textOverflow:"ellipsis",whiteSpace:"nowrap",borderRadius:"0 0 2px 2px"})},a?_:i.getLabel()))}),(function(e){return e.data.node})),qa=function(r){var n=r.src,o=r.alt,i=r.style,a=r.className,s=(0,e.useRef)(),c=function(t){var r=Ma((0,e.useState)(!1),2),n=r[0],o=r[1];return(0,e.useEffect)((function(){var e=new IntersectionObserver((function(e){var t,r,n=Ma(e,1)[0];if(!(n.target&&!n.rootBounds&&(t=n.target,r=t.getBoundingClientRect(),r.top>=0&&r.left>=0&&r.bottom<=(window.innerHeight||document.documentElement.clientHeight)&&r.right<=(window.innerWidth||document.documentElement.clientWidth))))return n.isIntersecting?o(n.isIntersecting):void 0;o(!0)}),{threshold:.1,root:null});return e.observe(t.current),function(){e.disconnect()}}),[t]),n}(s),l=Ia({},i);return l.transition="opacity 550ms cubic-bezier(0.23, 1, 0.32, 1) 0ms",c||(l.opacity=0),t().createElement("img",{ref:s,alt:o,src:c?n:null,style:l,className:a})};function Wa(e,t){var r=[];return e.getChildren().forEach((function(e,n){r.push(Ia({id:"item-"+n,node:e},t))})),r.sort((function(e,t){return wo(e.node,t.node)})),e.getParent()&&r.unshift(Ia({id:"item-parent",parent:!0,node:e.getParent()},t)),r}const Za=t().memo((function(r){var n=r.className,o=r.dataModel,i=r.entryProps,a=r.emptyStateProps,s=r.containerStyle,c=void 0===s?{}:s,l=r.columnWidth,u=void 0===l?220:l,d=r.onScroll,p={dataModel:o,entryProps:i},f=function(){return Wa(o.getContextNode(),p)},h=Ma((0,e.useState)(f),2),m=h[0],y=h[1],g=Ma((0,e.useState)(o.getContextNode()),2),b=g[0],v=g[1];(0,e.useEffect)((function(){var e=function(){var e=o.getContextNode();e.isLoaded()?v(e):e.observeOnce("loaded",(function(){return v(e)}))};return o.observe("context_changed",e),function(){o.stopObserving("context_changed",e)}})),(0,e.useEffect)((function(){y(f());var e=function(){y(Wa(b,p)),Ba()},t=function(){y(Wa(b,p)),window.dispatchEvent(new Event("resize")),Ba()};return b.observe("child_added",t),b.observe("child_removed",e),b.observe("child_replaced",t),function(){b.stopObserving("child_added",t),b.stopObserving("child_removed",e),b.stopObserving("child_replaced",t)}}),[b]),b.isLoaded()||(b.observeOnce("loaded",(function(){y(Wa(b,p))})),b.load());var k,w,_,S,O,P,E=(0,e.useRef)(null),C=(k=E,w=function(){var e=k.current;if(e){var t=getComputedStyle(e),r=parseFloat;return{width:e.clientWidth-r(t.paddingTop)-r(t.paddingBottom),height:e.clientHeight-r(t.paddingLeft)-r(t.paddingRight)}}return{width:0,height:0}},_=function(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var r=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=r){var n,o,i,a,s=[],c=!0,l=!1;try{if(i=(r=r.call(e)).next,0===t){if(Object(r)!==r)return;c=!1}else for(;!(c=(n=i.call(r)).done)&&(s.push(n.value),s.length!==t);c=!0);}catch(e){l=!0,o=e}finally{try{if(!c&&null!=r.return&&(a=r.return(),Object(a)!==a))return}finally{if(l)throw o}}return s}}(e,t)||function(e,t){if(e){if("string"==typeof e)return ui(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?Array.from(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?ui(e,t):void 0}}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}(e.useState(w),2),S=_[0],O=_[1],P=function(){return O(w())},li(window,"resize",P),li(window,"orientationchange",P),ci((function(){O(w())}),[]),S),x=C.width,j=C.height,T=xi(E),R=T.scrollTop,z=T.isScrolling;(0,e.useEffect)((function(){Ba()}),[c.marginLeft]),d&&(0,e.useEffect)((function(){d({scrollTop:R})}),[R]);var I=function(t){var r=t.width,n=t.columnWidth,o=void 0===n?200:n,i=t.columnGutter,a=void 0===i?0:i,s=t.columnCount,c=arguments.length>1&&void 0!==arguments[1]?arguments[1]:Li,l=function(){var e=function(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var r=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=r){var n,o,i,a,s=[],c=!0,l=!1;try{if(i=(r=r.call(e)).next,0===t){if(Object(r)!==r)return;c=!1}else for(;!(c=(n=i.call(r)).done)&&(s.push(n.value),s.length!==t);c=!0);}catch(e){l=!0,o=e}finally{try{if(!c&&null!=r.return&&(a=r.return(),Object(a)!==a))return}finally{if(l)throw o}}return s}}(e,t)||function(e,t){if(e){if("string"==typeof e)return Mi(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?Array.from(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?Mi(e,t):void 0}}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}(function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:8,n=arguments.length>3?arguments[3]:void 0;return n=n||Math.floor(e/(t+r))||1,[Math.floor((e-r*(n-1))/n),n]}(r,o,a,s),2),t=e[0],n=e[1];return Di(n,t,a)},u=e.useRef();void 0===u.current&&(u.current=l());var d=e.useRef(c),p=[r,o,a,s],f=e.useRef(p),h=!p.every((function(e,t){return f.current[t]===e}));if(h||!c.every((function(e,t){return d.current[t]===e}))){var m=u.current,y=l();if(d.current=c,f.current=p,h)for(var g=m.size(),b=0;b<g;b++){var v=m.get(b);y.set(b,void 0!==v?v.height:0)}u.current=y}return u.current}({width:x,columnWidth:u,columnGutter:8},[m,u]),A=function(t){var r=la(),n=da(t,r);function o(){return n.disconnect()}return e.useEffect((function(){return o}),[n]),n}(I),M=function(t){var r,n=t.positioner,o=t.resizeObserver,i=t.items,a=t.as,s=void 0===a?"div":a,c=t.id,l=t.className,u=t.style,d=t.role,p=void 0===d?"grid":d,f=t.tabIndex,h=void 0===f?0:f,m=t.containerRef,y=t.itemAs,g=void 0===y?"div":y,b=t.itemStyle,v=t.itemHeightEstimate,k=void 0===v?300:v,w=t.itemKey,_=void 0===w?Ca:w,S=t.overscanBy,O=void 0===S?2:S,P=t.scrollTop,E=t.isScrolling,C=t.height,x=t.render,j=t.onRender,T=0,R=la(),z=ja(n,o),I=i.length,A=n.columnWidth,M=n.columnCount,D=n.range,N=n.estimateHeight,L=n.size,U=n.shortestColumn,B=L(),F=U(),q=[],W="list"===p?"listitem":"grid"===p?"gridcell":void 0,Z=_i(j),H=P+(O*=C),$=F<H&&B<I;if(D(Math.max(0,P-O/2),H,(function(e,t,n){var o=i[e],a=_(o,e),s={top:n,left:t,width:A,writingMode:"horizontal-tb",position:"absolute"};q.push(wa(g,{key:a,ref:z(e),role:W,style:"object"===ka(b)&&null!==b?Object.assign({},s,b):s},Sa(x,e,o,A))),void 0===r?(T=e,r=e):(T=Math.min(T,e),r=Math.max(r,e))})),$)for(var V=Math.min(I-B,Math.ceil((P+O-F)/k*M)),G=B,J=xa(A);G<B+V;G++){var K=i[G],Y=_(K,G);q.push(wa(g,{key:Y,ref:z(G),role:W,style:"object"===ka(b)?Object.assign({},J,b):J},Sa(x,G,K,A)))}e.useEffect((function(){"function"==typeof Z.current&&void 0!==r&&Z.current(T,r,i),_a="1"}),[T,r,i,Z]),e.useEffect((function(){$&&R()}),[$]);var X=Oa(E,N(I,k));return wa(s,{ref:m,key:_a,id:c,role:p,className:l,tabIndex:h,style:"object"===ka(u)?Ea(X,u):X,children:q})}({positioner:I,resizeObserver:A,items:m,height:j,scrollTop:R,isScrolling:z,overscanBy:6,render:Fa}),D=a&&!b.isLoading()&&(!m||!m.length);return t().createElement("div",{style:Ia({flex:1,overflowY:"auto"},c),className:n,ref:E,onKeyDown:function(e){"Enter"===e.key&&o.getUniqueNode()?i.handleClicks(o.getUniqueNode(),No.CLICK_TYPE_DOUBLE,e):"Delete"===e.key&&W().getInstance().Controller.fireActionByKey("key_delete")}},D&&t().createElement(mo,Ra({pydio:W().getInstance()},a)),!D&&M)}));function Ha(e){return Ha="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Ha(e)}function $a(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Va(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,Ja(n.key),n)}}function Ga(e,t,r){return t&&Va(e.prototype,t),r&&Va(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e}function Ja(e){var t=function(e,t){if("object"!==Ha(e)||null===e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,"string");if("object"!==Ha(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"===Ha(t)?t:String(t)}function Ka(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&Ya(e,t)}function Ya(e,t){return Ya=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},Ya(e,t)}function Xa(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var r,n=Qa(e);if(t){var o=Qa(this).constructor;r=Reflect.construct(n,arguments,o)}else r=n.apply(this,arguments);return function(e,t){if(t&&("object"===Ha(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}(this,r)}}function Qa(e){return Qa=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},Qa(e)}var es=function(r){Ka(o,r);var n=Xa(o);function o(t){var r;return $a(this,o),(r=n.call(this,t)).root=(0,e.createRef)(),r}return Ga(o,[{key:"componentDidMount",value:function(){this.props.selected&&this.root.current&&this.root.current.scrollIntoView({behavior:"smooth"})}},{key:"render",value:function(){var r=this.props,n=r.item,o=r.prev,i=r.next,a=r.itemUuid,s=r.itemMoment,c=r.itemDesc,l=r.itemAnnotations,u=r.itemActions,d=r.selected,p=r.onSelect,f=r.color,h=s(n),m="tl-block",y="sep-date",g=!1;if(o){var b=s(o);h.format("L")===b.format("L")?(m+=" similar",g=!0):(m+=" newday",y+=" newday")}var v,k=l(n,o,i),w=u(n,o,i);p&&(v=function(){p(a(n))}),d&&(m+=" tl-selected");var _={fontWeight:500,color:f,cursor:"pointer",display:"inline-block",marginLeft:6};return t().createElement(e.Fragment,null,!g&&t().createElement("div",{className:y},t().createElement("div",{className:"daymonth"},h.format("DD")),t().createElement("div",{className:"dayweek"},h.format("ddd"))),t().createElement("div",{className:m,ref:this.root},t().createElement("div",{className:"tl-date"},t().createElement("div",{className:"daymonth"},h.format("DD")),t().createElement("div",{className:"dayweek"},h.format("ddd"))),t().createElement("div",{className:"tl-dot"}),t().createElement("div",{className:"tl-card"+(v?" tl-selectable":""),onClick:v},t().createElement("div",{className:"tl-desc"},t().createElement("div",{className:"desc-date"},h.format(g?"LT":"llll")),c(n,o,i)),t().createElement("div",{className:"tl-actions"},k,d&&w&&t().createElement("div",null,w.map((function(e){return t().createElement("a",{onClick:e.onClick,style:_},e.label)})))))))}}]),o}(e.Component),ts=function(e){Ka(n,e);var r=Xa(n);function n(e){var t;return $a(this,n),(t=r.call(this,e)).state={},t}return Ga(n,[{key:"makeStyle",value:function(e){var r=e.palette.mui3["on-surface"],n=e.palette.mui3.tertiary,o=e.palette.mui3["outline-variant"],i=e.palette.mui3.surface,a="0px 1px 3px "+e.palette.mui3["outline-variant"],s="\n        .timeline{\n            color: ".concat(r,";\n        }\n        .timeline .tl-line {\n            border-right: 3px dashed ").concat(o,"; \n        }\n        .timeline .tl-timeline .tl-block .tl-dot{\n            background-color: ").concat(n,";\n            box-shadow: ").concat(n," 0px 0px 4px;\n        }\n        .timeline .tl-timeline .tl-block .tl-dot:before{\n            border-color: ").concat(n,"\n        }\n        .timeline .tl-timeline .tl-block .tl-card.tl-selectable:hover, \n        .timeline .tl-timeline .tl-block.tl-selected .tl-card {\n            box-shadow: ").concat(a,"\n        }\n        .timeline .tl-timeline .daymonth{\n            color: ").concat(n,"\n        }\n        .timeline .tl-card{\n            background-color: ").concat(i,";\n        }\n        ");return t().createElement("style",{type:"text/css"},s)}},{key:"render",value:function(){var e,r=this,n=this.props.muiTheme,o=this.props,i=o.items,a=o.className,s=void 0===a?"":a,c=o.useSelection,l=void 0!==c&&c,u=o.preSelection,d=this.props,p=d.itemUuid,f=d.itemMoment,h=d.itemActions,m=d.itemAnnotations,y=d.itemDesc,g=d.onItemSelect,b=this.props,v=b.loadMoreAction,k=b.loadMoreLabel,w=b.loadMoreDisabled,_=this.state.selection,S=void 0===_?u:_;return n.palette.mui3.tertiary,g?e=g:l&&(e=function(e){r.setState({selection:e})}),t().createElement("div",{className:"timeline "+s},t().createElement("div",{className:"tl-line"}),t().createElement("div",{className:"tl-timeline"},i.map((function(r,o){return t().createElement(es,{item:r,prev:o>0?i[o-1]:null,next:o<i.length-1?i[o+1]:null,selected:!!l&&p(r)===S,onSelect:e,itemUuid:p,itemMoment:f,itemActions:h,itemAnnotations:m,itemDesc:y,color:n.palette.mui3.primary})})),v&&t().createElement("div",{className:"tl-block tl-more"},t().createElement("div",{className:"tl-date"}),t().createElement("div",{className:"tl-dot"}),t().createElement("div",{className:"tl-card tl-selectable",style:{color:n.palette.mui3.primary},onClick:w?null:v},k))),this.makeStyle(n))}}]),n}(e.Component);const rs=ts=(0,K.muiThemeable)()(ts);function ns(e){return ns="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},ns(e)}function os(){return os=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},os.apply(this,arguments)}function is(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function as(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,ys(n.key),n)}}function ss(e,t,r){return t&&as(e.prototype,t),r&&as(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e}function cs(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&ls(e,t)}function ls(e,t){return ls=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},ls(e,t)}function us(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var r,n=ps(e);if(t){var o=ps(this).constructor;r=Reflect.construct(n,arguments,o)}else r=n.apply(this,arguments);return function(e,t){if(t&&("object"===ns(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return ds(e)}(this,r)}}function ds(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function ps(e){return ps=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},ps(e)}function fs(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function hs(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?fs(Object(r),!0).forEach((function(t){ms(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):fs(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function ms(e,t,r){return(t=ys(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function ys(e){var t=function(e,t){if("object"!==ns(e)||null===e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,"string");if("object"!==ns(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"===ns(t)?t:String(t)}var gs=W().requireLib("hoc").withContextMenu,bs=function(e){return t().createElement("div",e)};bs=gs(bs);var vs=U()({displayName:"SimpleTreeNode",propTypes:{collapse:F().bool,forceExpand:F().bool,childrenOnly:F().bool,depth:F().number,onNodeSelect:F().func,node:F().instanceOf(AjxpNode),dataModel:F().instanceOf(PydioDataModel),forceLabel:F().string,nodeIsSelected:F().func,showLoader:F().bool,checkboxes:F().array,checkboxesValues:F().object,checkboxesComputeStatus:F().func,onCheckboxCheck:F().func,paddingOffset:F().number,offsetSize:F().number},getDefaultProps:function(){return{collapse:!1,childrenOnly:!1,depth:0,paddingOffset:0,offsetSize:20,onNodeSelect:function(e){}}},listenToNode:function(e){this._childrenListener=function(){this.isMounted()&&this.setState({children:this._nodeToChildren(e)})}.bind(this),this._nodeListener=function(){this.isMounted()&&this.forceUpdate()}.bind(this),e.observe("child_added",this._childrenListener),e.observe("child_removed",this._childrenListener),e.observe("loaded",this._childrenListener),e.observe("loading",this._nodeListener),e.observe("node_replaced",this._nodeListener)},stopListening:function(e){e.stopObserving("child_added",this._childrenListener),e.stopObserving("child_removed",this._childrenListener),e.stopObserving("loaded",this._childrenListener),e.stopObserving("loading",this._nodeListener),e.stopObserving("node_replaced",this._nodeListener)},componentDidMount:function(){this.listenToNode(this.props.node)},componentWillUnmount:function(){this.stopListening(this.props.node)},componentWillReceiveProps:function(e){var t=this.props.node,r=e.node;if(r===t&&r.getMetadata().get("paginationData")){var n=this.state.children.map((function(e){return e.setParent(r),e})),o=this.state.children.map((function(e){return e.getPath()}));this._nodeToChildren(r).forEach((function(e){-1===o.indexOf(e.getPath())&&n.push(e)})),this.setState({children:n})}else this.setState({children:this._nodeToChildren(r)});r!==t&&(this.stopListening(t),this.listenToNode(r))},getInitialState:function(){return{showChildren:!this.props.collapse||this.props.forceExpand,children:this._nodeToChildren(this.props.node)}},_nodeToChildren:function(){var e=[];return this.props.node.getChildren().forEach((function(t){t.isLeaf()&&"ajxp_browsable_archive"!==t.getAjxpMime()||e.push(t)})),e.sort((function(e,t){return e.isRecycle()?1:t.isRecycle()?-1:e.getLabel().localeCompare(t.getLabel(),void 0,{numeric:!0})})),e},onNodeSelect:function(e){this.props.onNodeSelect&&this.props.onNodeSelect(this.props.node),e.preventDefault(),e.stopPropagation()},onChildDisplayToggle:function(e){this.props.node.getChildren().size&&this.setState({showChildren:!this.state.showChildren}),e.preventDefault(),e.stopPropagation()},nodeIsSelected:function(e){return this.props.nodeIsSelected?this.props.nodeIsSelected(e):-1!==this.props.dataModel.getSelectedNodes().indexOf(e)},render:function(){var e,r=this.props,o=r.node,i=r.dataModel,a=r.childrenOnly,s=r.canDrop,c=r.isOverCurrent,l=r.checkboxes,u=r.checkboxesComputeStatus,d=r.checkboxesValues,p=r.onCheckboxCheck,f=r.depth,h=r.paddingOffset,m=r.offsetSize,y=r.forceExpand,g=r.selectedItemStyle,b=r.getItemStyle,k=r.getRightIcon,_=r.forceLabel,S=r.showLoader,O=r.noPaginator;if(this.state.children.length)e=t().createElement("span",{onClick:this.onChildDisplayToggle},this.state.showChildren||y?t().createElement("span",{className:"tree-icon mdi mdi-menu-down"}):t().createElement("span",{className:"tree-icon mdi mdi-menu-right"}));else{var P="tree-icon mdi mdi-menu-right";o.isLoaded()&&(P+=" no-folder-children"),e=t().createElement("span",{className:P})}var E,C=this.nodeIsSelected(o)?"mui-menu-item mui-is-selected":"mui-menu-item";if(!a){var x;if(s&&c&&(C+=" droppable-active"),l){var j={},T=!1,R={},z="";if(u){var I=u(o);j=I.VALUES,T=I.INHERITED,R=I.DISABLED,I.CLASSNAME&&(z=" "+I.CLASSNAME)}else d&&d[o.getPath()]&&(j=d[o.getPath()]);var A=[];x=l.map(function(e){var r=void 0!==j[e]&&j[e],n=function(t,r){p(o,e,r)}.bind(this);return r&&A.push(e),t().createElement(v.Checkbox,{name:e,key:e+"-"+(r?"true":"false"),checked:r,onCheck:n,disabled:R[e],className:"cbox-"+e,style:{width:44}})}.bind(this)),C+=T?" inherited ":"",C+=A.length?" checkbox-values-"+A.join("-"):" checkbox-values-empty",x=t().createElement("div",{style:{display:"flex",alignItems:"center"},className:"tree-checkboxes"+z},x)}var M,D={paddingLeft:h+f*m};this.nodeIsSelected(o)&&g&&(D=hs(hs({},D),g)),b&&(D=hs(hs({},D),b(o))),k&&(M=k(o));var N,L="mdi mdi-folder",U=o.getAjxpMime();"ajxp_browsable_archive"===U?L="mdi mdi-archive":"ajxp_recycle"===U&&(L="mdi mdi-delete"),S&&o.isLoading()&&(N=t().createElement(v.CircularProgress,{size:14,style:{marginLeft:7},thickness:1})),E=t().createElement(bs,{node:o,className:"tree-item "+C+(x?" has-checkboxes":""),style:D},t().createElement("div",{className:"tree-item-label",style:{display:"flex",alignItems:"center"},onClick:this.onNodeSelect,title:o.getLabel(),"data-id":o.getPath()},e,t().createElement("span",{className:"tree-icon "+L}),t().createElement("span",{style:{flex:1}},_||o.getLabel()),N,M),x)}var B=[],F=function(e){return e},q=!1;if(w()&&this.props.connectDropTarget&&this.props.connectDragSource){var W=this.props.connectDragSource,Z=this.props.connectDropTarget;F=function(e){W(n().findDOMNode(e)),Z(n().findDOMNode(e))},q=!0}return(this.state.showChildren||y)&&(B=this.state.children.map(function(e){var r=hs(hs({},this.props),{},{forceLabel:null,childrenOnly:!1,key:e.getPath(),node:e,depth:f+1});return t().createElement(q?ks:vs,r)}.bind(this))),t().createElement("li",{ref:F,className:"treenode"+o.getPath().replace(/\//g,"_")},E,t().createElement("ul",null,!O&&o.getMetadata().has("paginationData")&&parseInt(o.getMetadata().get("paginationData").get("total"))>1&&t().createElement(ws,{node:o,dataModel:i,depth:f+1,offsetSize:m,paddingOffset:h}),B))}}),ks=vs;w()&&(ks=w().flow(w().DragSource(p.NODE_PROVIDER,g,f),w().DropTarget(p.NODE_PROVIDER,b,h))(vs));var ws=function(e){cs(n,e);var r=us(n);function n(){return is(this,n),r.apply(this,arguments)}return ss(n,[{key:"goTo",value:function(e){var t=this.props,r=t.dataModel,n=t.node;n.getMetadata().get("paginationData").set("new_page",e),r.requireContextChange(n)}},{key:"render",value:function(){var e=this,r=this.props,n=r.node,o=r.depth,i=r.paddingOffset,a=r.offsetSize,s={style:{width:24,height:24,padding:0}},c=n.getMetadata().get("paginationData"),l=c.get("current"),u=c.get("total"),d=W().getMessages()[331]+" "+l+" / "+u;return t().createElement("li",null,t().createElement("div",{style:{paddingLeft:i+o*a+5,paddingTop:5,paddingBottom:5,display:"flex",alignItems:"center"}},t().createElement("div",{style:{paddingLeft:14,paddingRight:6},className:"mdi mdi-format-list-bulleted"}),t().createElement("div",{style:{display:"flex",alignItems:"center",borderRadius:3,marginRight:10}},t().createElement(v.IconButton,os({iconClassName:"mdi mdi-chevron-left",onClick:function(){e.goTo(l-1)},disabled:1===l},s)),t().createElement("div",{style:{padding:"0 20px",flex:1,textAlign:"center",fontSize:13}},d),t().createElement(v.IconButton,os({iconClassName:"mdi mdi-chevron-right",onClick:function(){e.goTo(l+1)},disabled:l===u},s)))))}}]),n}(t().Component);ws=(0,K.muiThemeable)()(ws);var _s=function(e){cs(n,e);var r=us(n);function n(){var e;is(this,n);for(var t=arguments.length,o=new Array(t),i=0;i<t;i++)o[i]=arguments[i];return ms(ds(e=r.call.apply(r,[this].concat(o))),"onNodeSelect",(function(t){e.props.onNodeSelect?e.props.onNodeSelect(t):e.props.dataModel.setSelectedNodes([t])})),e}return ss(n,[{key:"render",value:function(){return t().createElement("ul",{className:this.props.className},t().createElement(ks,{childrenOnly:!this.props.showRoot,forceExpand:this.props.forceExpand,node:this.props.node?this.props.node:this.props.dataModel.getRootNode(),dataModel:this.props.dataModel,onNodeSelect:this.onNodeSelect,nodeIsSelected:this.props.nodeIsSelected,forceLabel:this.props.rootLabel,checkboxes:this.props.checkboxes,checkboxesValues:this.props.checkboxesValues,checkboxesComputeStatus:this.props.checkboxesComputeStatus,onCheckboxCheck:this.props.onCheckboxCheck,selectedItemStyle:this.props.selectedItemStyle,getItemStyle:this.props.getItemStyle,getRightIcon:this.props.getRightIcon,paddingOffset:this.props.paddingOffset,offsetSize:this.props.offsetSize,noPaginator:this.props.noPaginator,showLoader:this.props.showLoader}))}}]),n}(t().Component);ms(_s,"propTypes",{showRoot:F().bool,rootLabel:F().string,onNodeSelect:F().func,node:F().instanceOf(AjxpNode).isRequired,dataModel:F().instanceOf(PydioDataModel).isRequired,selectable:F().bool,selectableMultiple:F().bool,initialSelectionModel:F().array,onSelectionChange:F().func,forceExpand:F().bool,nodeIsSelected:F().func,showLoader:F().bool,checkboxes:F().array,checkboxesValues:F().object,checkboxesComputeStatus:F().func,onCheckboxCheck:F().func,paddingOffset:F().number,offsetSize:F().number}),ms(_s,"defaultProps",{showRoot:!0,onNodeSelect:_s.onNodeSelect});var Ss=function(e){cs(n,e);var r=us(n);function n(){var e;is(this,n);for(var t=arguments.length,o=new Array(t),i=0;i<t;i++)o[i]=arguments[i];return ms(ds(e=r.call.apply(r,[this].concat(o))),"onNodeSelect",(function(t){e.props.onNodeSelect?e.props.onNodeSelect(t):e.props.dataModel.setSelectedNodes([t])})),e}return ss(n,[{key:"render",value:function(){return t().createElement("ul",{className:this.props.className},t().createElement(vs,{childrenOnly:!this.props.showRoot,forceExpand:this.props.forceExpand,node:this.props.node?this.props.node:this.props.dataModel.getRootNode(),dataModel:this.props.dataModel,onNodeSelect:this.onNodeSelect,nodeIsSelected:this.props.nodeIsSelected,forceLabel:this.props.rootLabel,checkboxes:this.props.checkboxes,checkboxesValues:this.props.checkboxesValues,checkboxesComputeStatus:this.props.checkboxesComputeStatus,onCheckboxCheck:this.props.onCheckboxCheck,selectedItemStyle:this.props.selectedItemStyle,getItemStyle:this.props.getItemStyle,getRightIcon:this.props.getRightIcon,paddingOffset:this.props.paddingOffset,offsetSize:this.props.offsetSize,showLoader:this.props.showLoader}))}}]),n}(t().Component);ms(Ss,"propTypes",{showRoot:F().bool,rootLabel:F().string,onNodeSelect:F().func,node:F().instanceOf(AjxpNode).isRequired,dataModel:F().instanceOf(PydioDataModel).isRequired,selectable:F().bool,selectableMultiple:F().bool,initialSelectionModel:F().array,onSelectionChange:F().func,forceExpand:F().bool,nodeIsSelected:F().func,showLoader:F().bool,checkboxes:F().array,checkboxesValues:F().object,checkboxesComputeStatus:F().func,onCheckboxCheck:F().func,paddingOffset:F().number,offsetSize:F().number}),ms(Ss,"defaultProps",{showRoot:!0,onNodeSelect:Ss.onNodeSelect});var Os=function(e){cs(n,e);var r=us(n);function n(){var e;is(this,n);for(var t=arguments.length,o=new Array(t),i=0;i<t;i++)o[i]=arguments[i];return ms(ds(e=r.call.apply(r,[this].concat(o))),"nodeObserver",(function(){var t=e.props.dataModel.getRootNode();t.isLoaded()?e.forceUpdate():t.observeOnce("loaded",function(){this.forceUpdate()}.bind(ds(e)))})),ms(ds(e),"treeNodeSelected",(function(t){e.props.onNodeSelected?e.props.onNodeSelected(t):e.props.dataModel.requireContextChange(t)})),ms(ds(e),"nodeIsSelected",(function(t){return t===e.props.dataModel.getContextNode()})),e}return ss(n,[{key:"componentDidMount",value:function(){var e=this.props.dataModel;this._dmObs=this.nodeObserver,e.observe("context_changed",this._dmObs),e.observe("root_node_changed",this._dmObs),this.nodeObserver()}},{key:"componentWillUnmount",value:function(){if(this._dmObs){var e=this.props.dataModel;e.stopObserving("context_changed",this._dmObs),e.stopObserving("root_node_changed",this._dmObs)}}},{key:"render",value:function(){return this.props.draggable?t().createElement(_s,{onNodeSelect:this.treeNodeSelected,nodeIsSelected:this.nodeIsSelected,dataModel:this.props.dataModel,node:this.props.rootNode||this.props.dataModel.getRootNode(),showRoot:!!this.props.showRoot,selectedItemStyle:this.props.selectedItemStyle,getItemStyle:this.props.getItemStyle,getRightIcon:this.props.getRightIcon,rootLabel:this.props.rootLabel,noPaginator:this.props.noPaginator,paddingOffset:this.props.paddingOffset,offsetSize:this.props.offsetSize,className:"folders-tree"+(this.props.className?" "+this.props.className:"")}):t().createElement(Ss,{onNodeSelect:this.treeNodeSelected,nodeIsSelected:this.nodeIsSelected,dataModel:this.props.dataModel,node:this.props.rootNode||this.props.dataModel.getRootNode(),selectedItemStyle:this.props.selectedItemStyle,getItemStyle:this.props.getItemStyle,getRightIcon:this.props.getRightIcon,showRoot:!!this.props.showRoot,rootLabel:this.props.rootLabel,noPaginator:this.props.noPaginator,paddingOffset:this.props.paddingOffset,offsetSize:this.props.offsetSize,className:"folders-tree"+(this.props.className?" "+this.props.className:"")})}}]),n}(t().Component);function Ps(e){return Ps="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Ps(e)}function Es(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function Cs(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?Es(Object(r),!0).forEach((function(t){xs(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Es(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function xs(e,t,r){return(t=Ts(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function js(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,Ts(n.key),n)}}function Ts(e){var t=function(e,t){if("object"!==Ps(e)||null===e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,"string");if("object"!==Ps(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"===Ps(t)?t:String(t)}function Rs(e,t){return Rs=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},Rs(e,t)}function zs(e){return zs=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},zs(e)}ms(Os,"propTypes",{pydio:F().instanceOf(W()).isRequired,dataModel:F().instanceOf(PydioDataModel).isRequired,className:F().string,onNodeSelected:F().func,draggable:F().bool,rootLabel:F().string});var Is=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&Rs(e,t)}(s,e);var r,n,o,i,a=(o=s,i=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,t=zs(o);if(i){var r=zs(this).constructor;e=Reflect.construct(t,arguments,r)}else e=t.apply(this,arguments);return function(e,t){if(t&&("object"===Ps(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}(this,e)});function s(e){var t;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,s),(t=a.call(this,e)).state={show:!1},t}return r=s,(n=[{key:"show",value:function(){this.setState({show:!0})}},{key:"hide",value:function(){this.setState({show:!1})}},{key:"render",value:function(){if(this.props.tooltip){var e,r={};this.props.label||this.props.labelElement?this.state.show&&(r={bottom:-10,top:"inherit"}):r={position:"relative"},this.props.label?e=t().createElement("span",{className:"ellipsis-label"},this.props.label):this.props.labelElement&&(e=this.props.labelElement);var n=this.props.style||{position:"relative"};return t().createElement("span",{onMouseEnter:this.show.bind(this),onMouseLeave:this.hide.bind(this),style:n,className:this.props.className},e,this.props.children,t().createElement("div",{label:this.props.tooltip,style:Cs(Cs({},r),{},{display:this.state.show?"block":"none"}),className:this.props.tooltipClassName}))}return this.props.label?t().createElement("span",null,this.props.label):this.props.labelElement?this.props.labelElement:t().createElement("span",null,this.props.children)}}])&&js(r.prototype,n),Object.defineProperty(r,"prototype",{writable:!1}),s}(t().Component);function As(e){return As="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},As(e)}function Ms(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function Ds(e,t,r){return(t=Ls(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Ns(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,Ls(n.key),n)}}function Ls(e){var t=function(e,t){if("object"!==As(e)||null===e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,"string");if("object"!==As(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"===As(t)?t:String(t)}function Us(e,t){return Us=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},Us(e,t)}function Bs(e){return Bs=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},Bs(e)}var Fs=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&Us(e,t)}(s,e);var r,n,o,i,a=(o=s,i=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,t=Bs(o);if(i){var r=Bs(this).constructor;e=Reflect.construct(t,arguments,r)}else e=t.apply(this,arguments);return function(e,t){if(t&&("object"===As(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}(this,e)});function s(e){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,s),a.call(this,function(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?Ms(Object(r),!0).forEach((function(t){Ds(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Ms(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}({colorIndicator:""},e))}return r=s,(n=[{key:"render",value:function(){return t().createElement(v.Paper,{style:{display:"inline-block",marginLeft:16}},t().createElement("div",{className:"figure-badge",style:this.props.colorIndicator?{borderLeftColor:this.props.colorIndicator}:{}},t().createElement("div",{className:"figure"},this.props.figure),t().createElement("div",{className:"legend"},this.props.legend)))}}])&&Ns(r.prototype,n),Object.defineProperty(r,"prototype",{writable:!1}),s}(t().Component);const qs=require("clipboard");var Ws=a.n(qs);function Zs(e){return Zs="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Zs(e)}function Hs(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function $s(e,t,r){return(t=Gs(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Vs(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,Gs(n.key),n)}}function Gs(e){var t=function(e,t){if("object"!==Zs(e)||null===e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,"string");if("object"!==Zs(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"===Zs(t)?t:String(t)}function Js(e,t){return Js=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},Js(e,t)}function Ks(e){return Ks=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},Ks(e)}var Ys=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&Js(e,t)}(c,e);var r,n,o,i,s=(o=c,i=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,t=Ks(o);if(i){var r=Ks(this).constructor;e=Reflect.construct(t,arguments,r)}else e=t.apply(this,arguments);return function(e,t){if(t&&("object"===Zs(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}(this,e)});function c(e){var t;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,c),(t=s.call(this,e)).state={copyMessage:null},t}return r=c,n=[{key:"componentDidMount",value:function(){this.attachClipboard()}},{key:"componentDidUpdate",value:function(){this.attachClipboard()}},{key:"attachClipboard",value:function(){this._clip&&this._clip.destroy(),this.refs["copy-button"]&&(this._clip=new(Ws())(this.refs["copy-button"],{text:function(e){return this.props.inputValue}.bind(this)}),this._clip.on("success",function(){this.setState({copyMessage:this.props.getMessage(this.props.inputCopyMessage||"192")},this.clearCopyMessage.bind(this))}.bind(this)),this._clip.on("error",function(){var e;e=0===a.g.navigator.platform.indexOf("Mac")?this.props.getMessage("144"):this.props.getMessage("143"),this.refs.input.focus(),this.setState({copyMessage:e},this.clearCopyMessage.bind(this))}.bind(this)))}},{key:"clearCopyMessage",value:function(){a.g.setTimeout(function(){this.setState({copyMessage:""})}.bind(this),3e3)}},{key:"render",value:function(){var e=null;if(this.state.copyMessage){var r=function(){return{__html:this.state.copyMessage}}.bind(this);e=t().createElement("div",{style:{color:"rgba(0,0,0,0.23)"},className:"copy-message",dangerouslySetInnerHTML:r()})}var n=function(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?Hs(Object(r),!0).forEach((function(t){$s(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Hs(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}({position:"absolute",right:-8,bottom:13,fontSize:15,color:this.props.buttonColor||"rgba(0, 150, 136, 0.52)",height:26,width:26,lineHeight:"28px",textAlign:"center",cursor:"pointer",borderRadius:"50%"},this.props.buttonStyle);return t().createElement("div",null,t().createElement("div",{style:{position:"relative"}},t().createElement(v.TextField,{fullWidth:!0,ref:"input",floatingLabelText:this.props.floatingLabelText,floatingLabelStyle:{whiteSpace:"nowrap"},underlineShow:this.props.underlineShow,defaultValue:this.props.inputValue,className:this.props.inputClassName,multiLine:this.props.multiLine,rows:this.props.rows,rowsMax:this.props.rowsMax,readOnly:!0,onClick:function(e){e.currentTarget.select()},style:{marginTop:-10,width:"92%",fontSize:14}}),t().createElement("span",{ref:"copy-button",style:n,title:this.props.getMessage("191"),className:"copy-button mdi mdi-content-copy"})),e)}}],n&&Vs(r.prototype,n),Object.defineProperty(r,"prototype",{writable:!1}),c}(t().Component),Xs=a(4951),Qs=a(2957),ec=a(6651);function tc(){return(0,Qs.Z)(ec.Z)}var rc=a(8420);function nc(e,t){return nc=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},nc(e,t)}const oc=t().createContext(null);var ic="unmounted",ac="exited",sc="entering",cc="entered",lc="exiting",uc=function(e){var r,o;function i(t,r){var n;n=e.call(this,t,r)||this;var o,i=r&&!r.isMounting?t.enter:t.appear;return n.appearStatus=null,t.in?i?(o=ac,n.appearStatus=sc):o=cc:o=t.unmountOnExit||t.mountOnEnter?ic:ac,n.state={status:o},n.nextCallback=null,n}o=e,(r=i).prototype=Object.create(o.prototype),r.prototype.constructor=r,nc(r,o),i.getDerivedStateFromProps=function(e,t){return e.in&&t.status===ic?{status:ac}:null};var a=i.prototype;return a.componentDidMount=function(){this.updateStatus(!0,this.appearStatus)},a.componentDidUpdate=function(e){var t=null;if(e!==this.props){var r=this.state.status;this.props.in?r!==sc&&r!==cc&&(t=sc):r!==sc&&r!==cc||(t=lc)}this.updateStatus(!1,t)},a.componentWillUnmount=function(){this.cancelNextCallback()},a.getTimeouts=function(){var e,t,r,n=this.props.timeout;return e=t=r=n,null!=n&&"number"!=typeof n&&(e=n.exit,t=n.enter,r=void 0!==n.appear?n.appear:t),{exit:e,enter:t,appear:r}},a.updateStatus=function(e,t){if(void 0===e&&(e=!1),null!==t)if(this.cancelNextCallback(),t===sc){if(this.props.unmountOnExit||this.props.mountOnEnter){var r=this.props.nodeRef?this.props.nodeRef.current:n().findDOMNode(this);r&&function(e){e.scrollTop}(r)}this.performEnter(e)}else this.performExit();else this.props.unmountOnExit&&this.state.status===ac&&this.setState({status:ic})},a.performEnter=function(e){var t=this,r=this.props.enter,o=this.context?this.context.isMounting:e,i=this.props.nodeRef?[o]:[n().findDOMNode(this),o],a=i[0],s=i[1],c=this.getTimeouts(),l=o?c.appear:c.enter;e||r?(this.props.onEnter(a,s),this.safeSetState({status:sc},(function(){t.props.onEntering(a,s),t.onTransitionEnd(l,(function(){t.safeSetState({status:cc},(function(){t.props.onEntered(a,s)}))}))}))):this.safeSetState({status:cc},(function(){t.props.onEntered(a)}))},a.performExit=function(){var e=this,t=this.props.exit,r=this.getTimeouts(),o=this.props.nodeRef?void 0:n().findDOMNode(this);t?(this.props.onExit(o),this.safeSetState({status:lc},(function(){e.props.onExiting(o),e.onTransitionEnd(r.exit,(function(){e.safeSetState({status:ac},(function(){e.props.onExited(o)}))}))}))):this.safeSetState({status:ac},(function(){e.props.onExited(o)}))},a.cancelNextCallback=function(){null!==this.nextCallback&&(this.nextCallback.cancel(),this.nextCallback=null)},a.safeSetState=function(e,t){t=this.setNextCallback(t),this.setState(e,t)},a.setNextCallback=function(e){var t=this,r=!0;return this.nextCallback=function(n){r&&(r=!1,t.nextCallback=null,e(n))},this.nextCallback.cancel=function(){r=!1},this.nextCallback},a.onTransitionEnd=function(e,t){this.setNextCallback(t);var r=this.props.nodeRef?this.props.nodeRef.current:n().findDOMNode(this),o=null==e&&!this.props.addEndListener;if(r&&!o){if(this.props.addEndListener){var i=this.props.nodeRef?[this.nextCallback]:[r,this.nextCallback],a=i[0],s=i[1];this.props.addEndListener(a,s)}null!=e&&setTimeout(this.nextCallback,e)}else setTimeout(this.nextCallback,0)},a.render=function(){var e=this.state.status;if(e===ic)return null;var r=this.props,n=r.children,o=(r.in,r.mountOnEnter,r.unmountOnExit,r.appear,r.enter,r.exit,r.timeout,r.addEndListener,r.onEnter,r.onEntering,r.onEntered,r.onExit,r.onExiting,r.onExited,r.nodeRef,(0,ve.Z)(r,["children","in","mountOnEnter","unmountOnExit","appear","enter","exit","timeout","addEndListener","onEnter","onEntering","onEntered","onExit","onExiting","onExited","nodeRef"]));return t().createElement(oc.Provider,{value:null},"function"==typeof n?n(e,o):t().cloneElement(t().Children.only(n),o))},i}(t().Component);function dc(){}uc.contextType=oc,uc.propTypes={},uc.defaultProps={in:!1,mountOnEnter:!1,unmountOnExit:!1,appear:!1,enter:!0,exit:!0,onEnter:dc,onEntering:dc,onEntered:dc,onExit:dc,onExiting:dc,onExited:dc},uc.UNMOUNTED=ic,uc.EXITED=ac,uc.ENTERING=sc,uc.ENTERED=cc,uc.EXITING=lc;const pc=uc;function fc(e){return fc="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},fc(e)}function hc(e,t){var r,n,o=e.timeout,i=e.easing,a=e.style,s=void 0===a?{}:a;return{duration:null!=(r=s.transitionDuration)?r:"number"==typeof o?o:o[t.mode]||0,easing:null!=(n=s.transitionTimingFunction)?n:"object"===fc(i)?i[t.mode]:i,delay:s.transitionDelay}}var mc=a(8241),yc=["addEndListener","appear","children","easing","in","onEnter","onEntered","onEntering","onExit","onExited","onExiting","style","timeout","TransitionComponent"];function gc(e){return"scale(".concat(e,", ").concat(Math.pow(e,2),")")}var bc={entering:{opacity:1,transform:gc(1)},entered:{opacity:1,transform:"none"}},vc="undefined"!=typeof navigator&&/^((?!chrome|android).)*(safari|mobile)/i.test(navigator.userAgent)&&/(os |version\/)15(.|_)4/i.test(navigator.userAgent),kc=e.forwardRef((function(t,r){var n=t.addEndListener,o=t.appear,i=void 0===o||o,a=t.children,s=t.easing,c=t.in,l=t.onEnter,u=t.onEntered,d=t.onEntering,p=t.onExit,f=t.onExited,h=t.onExiting,m=t.style,y=t.timeout,g=void 0===y?"auto":y,b=t.TransitionComponent,v=void 0===b?pc:b,k=(0,ge.Z)(t,yc),w=e.useRef(),_=e.useRef(),S=tc(),O=e.useRef(null),P=(0,mc.Z)(O,a.ref,r),E=function(e){return function(t){if(e){var r=O.current;void 0===t?e(r):e(r,t)}}},C=E(d),x=E((function(e,t){!function(e){e.scrollTop}(e);var r,n=hc({style:m,timeout:g,easing:s},{mode:"enter"}),o=n.duration,i=n.delay,a=n.easing;"auto"===g?(r=S.transitions.getAutoHeightDuration(e.clientHeight),_.current=r):r=o,e.style.transition=[S.transitions.create("opacity",{duration:r,delay:i}),S.transitions.create("transform",{duration:vc?r:.666*r,delay:i,easing:a})].join(","),l&&l(e,t)})),j=E(u),T=E(h),R=E((function(e){var t,r=hc({style:m,timeout:g,easing:s},{mode:"exit"}),n=r.duration,o=r.delay,i=r.easing;"auto"===g?(t=S.transitions.getAutoHeightDuration(e.clientHeight),_.current=t):t=n,e.style.transition=[S.transitions.create("opacity",{duration:t,delay:o}),S.transitions.create("transform",{duration:vc?t:.666*t,delay:vc?o:o||.333*t,easing:i})].join(","),e.style.opacity=0,e.style.transform=gc(.75),p&&p(e)})),z=E(f);return e.useEffect((function(){return function(){clearTimeout(w.current)}}),[]),(0,Bt.jsx)(v,(0,ye.Z)({appear:i,in:c,nodeRef:O,onEnter:x,onEntered:j,onEntering:C,onExit:R,onExited:z,onExiting:T,addEndListener:function(e){"auto"===g&&(w.current=setTimeout(e,_.current||0)),n&&n(O.current,e)},timeout:"auto"===g?null:g},k,{children:function(t,r){return e.cloneElement(a,(0,ye.Z)({style:(0,ye.Z)({opacity:0,transform:gc(.75),visibility:"exited"!==t||c?void 0:"hidden"},bc[t],m,a.props.style),ref:P},r))}}))}));kc.muiSupportAuto=!0;const wc=kc;var _c=a(3138),Sc=a(9813),Oc=a(2349),Pc=a(7181);function Ec(e){return(0,Wt.Z)("MuiTooltip",e)}const Cc=(0,Zt.Z)("MuiTooltip",["popper","popperInteractive","popperArrow","popperClose","tooltip","tooltipArrow","touch","tooltipPlacementLeft","tooltipPlacementRight","tooltipPlacementTop","tooltipPlacementBottom","arrow"]);function xc(e){return xc="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},xc(e)}function jc(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var r=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=r){var n,o,i,a,s=[],c=!0,l=!1;try{if(i=(r=r.call(e)).next,0===t){if(Object(r)!==r)return;c=!1}else for(;!(c=(n=i.call(r)).done)&&(s.push(n.value),s.length!==t);c=!0);}catch(e){l=!0,o=e}finally{try{if(!c&&null!=r.return&&(a=r.return(),Object(a)!==a))return}finally{if(l)throw o}}return s}}(e,t)||function(e,t){if(e){if("string"==typeof e)return Tc(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?Array.from(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?Tc(e,t):void 0}}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Tc(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function Rc(e,t,r){return(t=function(e){var t=function(e,t){if("object"!==xc(e)||null===e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,"string");if("object"!==xc(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"===xc(t)?t:String(t)}(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var zc=["arrow","children","classes","components","componentsProps","describeChild","disableFocusListener","disableHoverListener","disableInteractive","disableTouchListener","enterDelay","enterNextDelay","enterTouchDelay","followCursor","id","leaveDelay","leaveTouchDelay","onClose","onOpen","open","placement","PopperComponent","PopperProps","slotProps","slots","title","TransitionComponent","TransitionProps"];function Ic(e){return Math.round(1e5*e)/1e5}var Ac=(0,ir.ZP)(lr,{name:"MuiTooltip",slot:"Popper",overridesResolver:function(e,t){var r=e.ownerState;return[t.popper,!r.disableInteractive&&t.popperInteractive,r.arrow&&t.popperArrow,!r.open&&t.popperClose]}})((function(e){var t,r=e.theme,n=e.ownerState,o=e.open;return(0,ye.Z)({zIndex:(r.vars||r).zIndex.tooltip,pointerEvents:"none"},!n.disableInteractive&&{pointerEvents:"auto"},!o&&{pointerEvents:"none"},n.arrow&&(Rc(t={},'&[data-popper-placement*="bottom"] .'.concat(Cc.arrow),{top:0,marginTop:"-0.71em","&::before":{transformOrigin:"0 100%"}}),Rc(t,'&[data-popper-placement*="top"] .'.concat(Cc.arrow),{bottom:0,marginBottom:"-0.71em","&::before":{transformOrigin:"100% 0"}}),Rc(t,'&[data-popper-placement*="right"] .'.concat(Cc.arrow),(0,ye.Z)({},n.isRtl?{right:0,marginRight:"-0.71em"}:{left:0,marginLeft:"-0.71em"},{height:"1em",width:"0.71em","&::before":{transformOrigin:"100% 100%"}})),Rc(t,'&[data-popper-placement*="left"] .'.concat(Cc.arrow),(0,ye.Z)({},n.isRtl?{left:0,marginLeft:"-0.71em"}:{right:0,marginRight:"-0.71em"},{height:"1em",width:"0.71em","&::before":{transformOrigin:"0 0"}})),t))})),Mc=(0,ir.ZP)("div",{name:"MuiTooltip",slot:"Tooltip",overridesResolver:function(e,t){var r=e.ownerState;return[t.tooltip,r.touch&&t.touch,r.arrow&&t.tooltipArrow,t["tooltipPlacement".concat((0,rc.Z)(r.placement.split("-")[0]))]]}})((function(e){var t,r=e.theme,n=e.ownerState;return(0,ye.Z)({backgroundColor:r.vars?r.vars.palette.Tooltip.bg:(0,Xs.Fq)(r.palette.grey[700],.92),borderRadius:(r.vars||r).shape.borderRadius,color:(r.vars||r).palette.common.white,fontFamily:r.typography.fontFamily,padding:"4px 8px",fontSize:r.typography.pxToRem(11),maxWidth:300,margin:2,wordWrap:"break-word",fontWeight:r.typography.fontWeightMedium},n.arrow&&{position:"relative",margin:0},n.touch&&{padding:"8px 16px",fontSize:r.typography.pxToRem(14),lineHeight:"".concat(Ic(16/14),"em"),fontWeight:r.typography.fontWeightRegular},(Rc(t={},".".concat(Cc.popper,'[data-popper-placement*="left"] &'),(0,ye.Z)({transformOrigin:"right center"},n.isRtl?(0,ye.Z)({marginLeft:"14px"},n.touch&&{marginLeft:"24px"}):(0,ye.Z)({marginRight:"14px"},n.touch&&{marginRight:"24px"}))),Rc(t,".".concat(Cc.popper,'[data-popper-placement*="right"] &'),(0,ye.Z)({transformOrigin:"left center"},n.isRtl?(0,ye.Z)({marginRight:"14px"},n.touch&&{marginRight:"24px"}):(0,ye.Z)({marginLeft:"14px"},n.touch&&{marginLeft:"24px"}))),Rc(t,".".concat(Cc.popper,'[data-popper-placement*="top"] &'),(0,ye.Z)({transformOrigin:"center bottom",marginBottom:"14px"},n.touch&&{marginBottom:"24px"})),Rc(t,".".concat(Cc.popper,'[data-popper-placement*="bottom"] &'),(0,ye.Z)({transformOrigin:"center top",marginTop:"14px"},n.touch&&{marginTop:"24px"})),t))})),Dc=(0,ir.ZP)("span",{name:"MuiTooltip",slot:"Arrow",overridesResolver:function(e,t){return t.arrow}})((function(e){var t=e.theme;return{overflow:"hidden",position:"absolute",width:"1em",height:"0.71em",boxSizing:"border-box",color:t.vars?t.vars.palette.Tooltip.bg:(0,Xs.Fq)(t.palette.grey[700],.9),"&::before":{content:'""',margin:"auto",display:"block",width:"100%",height:"100%",backgroundColor:"currentColor",transform:"rotate(45deg)"}}})),Nc=!1,Lc=null,Uc={x:0,y:0};function Bc(e,t){return function(r){t&&t(r),e(r)}}const Fc=e.forwardRef((function(t,r){var n,o,i,a,s,c,l,u,d,p,f,h,m,y,g,b,v,k,w,_=(0,ar.Z)({props:t,name:"MuiTooltip"}),S=_.arrow,O=void 0!==S&&S,P=_.children,E=_.components,C=void 0===E?{}:E,x=_.componentsProps,j=void 0===x?{}:x,T=_.describeChild,R=void 0!==T&&T,z=_.disableFocusListener,I=void 0!==z&&z,A=_.disableHoverListener,M=void 0!==A&&A,D=_.disableInteractive,N=void 0!==D&&D,L=_.disableTouchListener,U=void 0!==L&&L,B=_.enterDelay,F=void 0===B?100:B,q=_.enterNextDelay,W=void 0===q?0:q,Z=_.enterTouchDelay,H=void 0===Z?700:Z,$=_.followCursor,V=void 0!==$&&$,G=_.id,J=_.leaveDelay,K=void 0===J?0:J,Y=_.leaveTouchDelay,X=void 0===Y?1500:Y,Q=_.onClose,ee=_.onOpen,te=_.open,re=_.placement,ne=void 0===re?"bottom":re,oe=_.PopperComponent,ie=_.PopperProps,ae=void 0===ie?{}:ie,se=_.slotProps,ce=void 0===se?{}:se,le=_.slots,ue=void 0===le?{}:le,de=_.title,pe=_.TransitionComponent,fe=void 0===pe?wc:pe,he=_.TransitionProps,me=(0,ge.Z)(_,zc),be=tc(),ve="rtl"===be.direction,ke=jc(e.useState(),2),we=ke[0],_e=ke[1],Se=jc(e.useState(null),2),Oe=Se[0],Pe=Se[1],Ee=e.useRef(!1),Ce=N||V,xe=e.useRef(),je=e.useRef(),Te=e.useRef(),Re=e.useRef(),ze=jc((0,Pc.Z)({controlled:te,default:!1,name:"Tooltip",state:"open"}),2),Ie=ze[0],Ae=ze[1],Me=Ie,De=(0,Sc.Z)(G),Ne=e.useRef(),Le=e.useCallback((function(){void 0!==Ne.current&&(document.body.style.WebkitUserSelect=Ne.current,Ne.current=void 0),clearTimeout(Re.current)}),[]);e.useEffect((function(){return function(){clearTimeout(xe.current),clearTimeout(je.current),clearTimeout(Te.current),Le()}}),[Le]);var Ue=function(e){clearTimeout(Lc),Nc=!0,Ae(!0),ee&&!Me&&ee(e)},Be=(0,_c.Z)((function(e){clearTimeout(Lc),Lc=setTimeout((function(){Nc=!1}),800+K),Ae(!1),Q&&Me&&Q(e),clearTimeout(xe.current),xe.current=setTimeout((function(){Ee.current=!1}),be.transitions.duration.shortest)})),Fe=function(e){Ee.current&&"touchstart"!==e.type||(we&&we.removeAttribute("title"),clearTimeout(je.current),clearTimeout(Te.current),F||Nc&&W?je.current=setTimeout((function(){Ue(e)}),Nc?W:F):Ue(e))},qe=function(e){clearTimeout(je.current),clearTimeout(Te.current),Te.current=setTimeout((function(){Be(e)}),K)},We=(0,Oc.Z)(),Ze=We.isFocusVisibleRef,He=We.onBlur,$e=We.onFocus,Ve=We.ref,Ge=jc(e.useState(!1),2)[1],Je=function(e){He(e),!1===Ze.current&&(Ge(!1),qe(e))},Ke=function(e){we||_e(e.currentTarget),$e(e),!0===Ze.current&&(Ge(!0),Fe(e))},Ye=function(e){Ee.current=!0;var t=P.props;t.onTouchStart&&t.onTouchStart(e)},Xe=Fe,Qe=qe;e.useEffect((function(){if(Me)return document.addEventListener("keydown",e),function(){document.removeEventListener("keydown",e)};function e(e){"Escape"!==e.key&&"Esc"!==e.key||Be(e)}}),[Be,Me]);var et=(0,mc.Z)(P.ref,Ve,_e,r);de||0===de||(Me=!1);var tt=e.useRef(),rt={},nt="string"==typeof de;R?(rt.title=Me||!nt||M?null:de,rt["aria-describedby"]=Me?De:null):(rt["aria-label"]=nt?de:null,rt["aria-labelledby"]=Me&&!nt?De:null);var ot=(0,ye.Z)({},rt,me,P.props,{className:(0,Vt.Z)(me.className,P.props.className),onTouchStart:Ye,ref:et},V?{onMouseMove:function(e){var t=P.props;t.onMouseMove&&t.onMouseMove(e),Uc={x:e.clientX,y:e.clientY},tt.current&&tt.current.update()}}:{}),it={};U||(ot.onTouchStart=function(e){Ye(e),clearTimeout(Te.current),clearTimeout(xe.current),Le(),Ne.current=document.body.style.WebkitUserSelect,document.body.style.WebkitUserSelect="none",Re.current=setTimeout((function(){document.body.style.WebkitUserSelect=Ne.current,Fe(e)}),H)},ot.onTouchEnd=function(e){P.props.onTouchEnd&&P.props.onTouchEnd(e),Le(),clearTimeout(Te.current),Te.current=setTimeout((function(){Be(e)}),X)}),M||(ot.onMouseOver=Bc(Xe,ot.onMouseOver),ot.onMouseLeave=Bc(Qe,ot.onMouseLeave),Ce||(it.onMouseOver=Xe,it.onMouseLeave=Qe)),I||(ot.onFocus=Bc(Ke,ot.onFocus),ot.onBlur=Bc(Je,ot.onBlur),Ce||(it.onFocus=Ke,it.onBlur=Je));var at=e.useMemo((function(){var e,t=[{name:"arrow",enabled:Boolean(Oe),options:{element:Oe,padding:4}}];return null!=(e=ae.popperOptions)&&e.modifiers&&(t=t.concat(ae.popperOptions.modifiers)),(0,ye.Z)({},ae.popperOptions,{modifiers:t})}),[Oe,ae]),st=(0,ye.Z)({},_,{isRtl:ve,arrow:O,disableInteractive:Ce,placement:ne,PopperComponentProp:oe,touch:Ee.current}),ct=function(e){var t=e.classes,r=e.disableInteractive,n=e.arrow,o=e.touch,i=e.placement,a={popper:["popper",!r&&"popperInteractive",n&&"popperArrow"],tooltip:["tooltip",n&&"tooltipArrow",o&&"touch","tooltipPlacement".concat((0,rc.Z)(i.split("-")[0]))],arrow:["arrow"]};return(0,Lt.Z)(a,Ec,t)}(st),lt=null!=(n=null!=(o=ue.popper)?o:C.Popper)?n:Ac,ut=null!=(i=null!=(a=null!=(s=ue.transition)?s:C.Transition)?a:fe)?i:wc,dt=null!=(c=null!=(l=ue.tooltip)?l:C.Tooltip)?c:Mc,pt=null!=(u=null!=(d=ue.arrow)?d:C.Arrow)?u:Dc,ft=$t(lt,(0,ye.Z)({},ae,null!=(p=ce.popper)?p:j.popper,{className:(0,Vt.Z)(ct.popper,null==ae?void 0:ae.className,null==(f=null!=(h=ce.popper)?h:j.popper)?void 0:f.className)}),st),ht=$t(ut,(0,ye.Z)({},he,null!=(m=ce.transition)?m:j.transition),st),mt=$t(dt,(0,ye.Z)({},null!=(y=ce.tooltip)?y:j.tooltip,{className:(0,Vt.Z)(ct.tooltip,null==(g=null!=(b=ce.tooltip)?b:j.tooltip)?void 0:g.className)}),st),yt=$t(pt,(0,ye.Z)({},null!=(v=ce.arrow)?v:j.arrow,{className:(0,Vt.Z)(ct.arrow,null==(k=null!=(w=ce.arrow)?w:j.arrow)?void 0:k.className)}),st);return(0,Bt.jsxs)(e.Fragment,{children:[e.cloneElement(P,ot),(0,Bt.jsx)(lt,(0,ye.Z)({as:null!=oe?oe:lr,placement:ne,anchorEl:V?{getBoundingClientRect:function(){return{top:Uc.y,left:Uc.x,right:Uc.x,bottom:Uc.y,width:0,height:0}}}:we,popperRef:tt,open:!!we&&Me,id:De,transition:!0},it,ft,{popperOptions:at,children:function(e){var t=e.TransitionProps;return(0,Bt.jsx)(ut,(0,ye.Z)({timeout:be.transitions.duration.shorter},t,ht,{children:(0,Bt.jsxs)(dt,(0,ye.Z)({},mt,{children:[de,O?(0,Bt.jsx)(pt,(0,ye.Z)({},yt,{ref:Pe})):null]}))}))}}))]})}));function qc(e){return qc="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},qc(e)}function Wc(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Zc(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,Qc(n.key),n)}}function Hc(e,t,r){return t&&Zc(e.prototype,t),r&&Zc(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e}function $c(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&Vc(e,t)}function Vc(e,t){return Vc=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},Vc(e,t)}function Gc(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var r,n=Jc(e);if(t){var o=Jc(this).constructor;r=Reflect.construct(n,arguments,o)}else r=n.apply(this,arguments);return function(e,t){if(t&&("object"===qc(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}(this,r)}}function Jc(e){return Jc=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},Jc(e)}function Kc(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function Yc(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?Kc(Object(r),!0).forEach((function(t){Xc(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Kc(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function Xc(e,t,r){return(t=Qc(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Qc(e){var t=function(e,t){if("object"!==qc(e)||null===e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,"string");if("object"!==qc(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"===qc(t)?t:String(t)}var el=W().requireLib("hoc"),tl=el.PlaceHolder,rl=el.PhRoundShape,nl=el.PhTextRow,ol=(el.AdditionalIcons,64),il=(0,K.muiThemeable)()((function(e){var r=e.legend,n=e.data,o=e.legendStyle,i=e.dataStyle,a=(e.placeHolder,e.placeHolderReady,e.muiTheme),s={legend:Yc({fontSize:14,color:a.palette.mui3["on-surface"],fontWeight:500},o),data:Yc({fontSize:12,color:a.palette.mui3["on-surface-variant"],paddingRight:6,overflow:"hidden",textOverflow:"ellipsis"},i)};return t().createElement("div",{style:{marginBottom:20}},t().createElement("div",{style:s.legend},r),t().createElement("div",{style:s.data},n))})),al=function(e){$c(n,e);var r=Gc(n);function n(){return Wc(this,n),r.apply(this,arguments)}return Hc(n,[{key:"render",value:function(){var e=this.props,r=e.iconClassName,n=e.legend,o=e.data,i=e.dataStyle,a=e.legendStyle,s=e.iconStyle,c=e.placeHolder,l=e.placeHolderReady,u=e.muiTheme,d={icon:Yc({margin:"16px 20px 0"},s),legend:Yc({fontSize:12,color:u.palette.mui3["on-surface"],fontWeight:500},a),data:Yc({fontSize:14,paddingRight:6,overflow:"hidden",textOverflow:"ellipsis"},i)},p=t().createElement("div",{style:Yc({display:"flex",marginBottom:8,overflow:"hidden"},this.props.style)},t().createElement("div",{style:{width:ol}},t().createElement(v.FontIcon,{color:u.palette.mui3.secondary||"#aaaaaa",className:r,style:d.icon})),t().createElement("div",{style:{flex:1}},t().createElement("div",{style:d.legend},n),t().createElement("div",{style:d.data},o)));if(c){var f=t().createElement("div",{style:Yc({display:"flex",marginBottom:16,overflow:"hidden"},this.props.style)},t().createElement("div",{style:{width:ol}},t().createElement(rl,{style:{width:35,height:35,margin:"10px 15px 0"}})),t().createElement("div",{style:{flex:1}},t().createElement("div",{style:Yc(Yc({},d.legend),{},{maxWidth:100})},t().createElement(nl,null)),t().createElement("div",{style:Yc(Yc({},d.data),{},{marginRight:24})},t().createElement(nl,{style:{height:"1.3em",marginTop:"0.4em"}}))));return t().createElement(tl,{ready:l,showLoadingAnimation:!0,customPlaceholder:f},p)}return p}}]),n}(t().Component);al=(0,K.muiThemeable)()(al);var sl=function(e){$c(n,e);var r=Gc(n);function n(){return Wc(this,n),r.apply(this,arguments)}return Hc(n,[{key:"render",value:function(){var e=this.props,r=e.title,n=e.onDismissAction,o=e.onEditAction,i=e.onDeleteAction,a=e.otherActions,s=e.moreMenuItems,c=e.children,l=e.muiTheme,u=e.style,d=e.headerSmall,p=e.smallActionsBottom,f=e.genericFlex,h=e.editTooltip,m=e.deleteTooltip,y=e.mui3,g=void 0!==y&&y,b=e.topLeftAvatar,k=l.palette.mui3["secondary-container"],w=l.palette.mui3["on-secondary-container"],_=l.palette.mui3.primary,S={headerHeight:"auto",buttonBarHeight:60,headerBg:k,headerColor:w,buttonBar:{display:"flex",height:60},fabTop:80,button:{style:{height:40,width:40,padding:8},iconStyle:{color:_}},title:{paddingLeft:o?ol:20,fontSize:20,lineHeight:"26px",paddingBottom:16}};g&&(S.headerBg="transparent",S.childrenContainer={padding:"0 20px"},S.buttonBar={padding:20,display:"flex",alignItems:"center"},S.title={fontSize:22,lineHeight:"26px",padding:"0px 20px 16px"}),d&&(S={headerHeight:"auto",headerBg:k,headerColor:w,buttonBar:{display:"flex",alignItems:"center",height:42,padding:"0 7px 0 16px"},fabTop:60,button:{style:{width:38,height:38,padding:9},iconStyle:{color:_,fontSize:18}}}),f&&(S.mainContainer={height:"100%",display:"flex",flexDirection:"column"},S.childrenContainer={flex:1});var O=[],P={padding:"0 4px"};return o&&O.push(t().createElement(Fc,{title:t().createElement("span",{style:P},h),placement:p?"top-end":"bottom-end"},t().createElement("span",null,t().createElement(v.IconButton,{style:S.button.style,iconStyle:S.button.iconStyle,iconClassName:"mdi mdi-pencil",onClick:o})))),i&&O.push(t().createElement(Fc,{title:t().createElement("span",{style:P},m),placement:p?"top-end":"bottom-end"},t().createElement("span",null,t().createElement(v.IconButton,{style:Yc(Yc({},S.button.style),{},{padding:7}),iconClassName:"mdi mdi-delete-outline",iconStyle:S.button.iconStyle,onClick:i})))),t().createElement("div",{style:Yc(Yc({width:"100%",position:"relative",overflowX:"hidden"},S.mainContainer),u)},t().createElement(v.Paper,{zDepth:0,style:{backgroundColor:S.headerBg,color:S.headerColor,height:S.headerHeight,borderRadius:"2px 2px 0 0"}},t().createElement("div",{style:S.buttonBar},b,d&&t().createElement("span",{style:{flex:1,fontSize:14,fontWeight:500}},r),!d&&t().createElement("span",{style:{flex:1}}),a,d&&!p&&O,s&&s.length>0&&t().createElement(v.IconMenu,{anchorOrigin:{vertical:"top",horizontal:d?"right":"left"},targetOrigin:{vertical:"top",horizontal:d?"right":"left"},iconButtonElement:t().createElement(v.IconButton,{style:S.button.style,iconStyle:S.button.iconStyle,iconClassName:"mdi mdi-dots-vertical"})},s),n&&t().createElement(v.IconButton,{style:Yc(Yc({},S.button.style),{},{backgroundColor:l.palette.mui3["surface-variant"],borderRadius:"50%"}),iconStyle:S.button.iconStyle,iconClassName:"mdi mdi-close",onClick:n})),!d&&t().createElement("div",{style:S.title},r)),t().createElement("div",{style:Yc({paddingTop:12,paddingBottom:8,position:"relative"},S.childrenContainer)},!g&&o&&!d&&t().createElement(v.FloatingActionButton,{onClick:o,backgroundColor:l.palette.mui3.tertiary,mini:!0,style:{position:"absolute",top:-20,left:10}},t().createElement(v.FontIcon,{className:"mdi mdi-pencil",style:{color:l.palette.mui3["on-tertiary"]}})),c),d&&p&&t().createElement("div",{style:{display:"flex",borderTop:"1px solid "+l.palette.mui3["outline-variant"]}},t().createElement("span",{style:{flex:1}}),O),(o||i)&&!d&&g&&t().createElement("div",{style:{padding:"12px 0",margin:"0 20px",display:"flex",borderTop:"1px solid "+l.palette.mui3["outline-variant"]}},t().createElement("span",{style:{flex:1}}),i&&t().createElement(v.FlatButton,{label:m,onClick:function(){return i()}}),o&&t().createElement(v.RaisedButton,{style:{marginLeft:5},label:h,onClick:function(){return o()}})))}}]),n}(t().Component);function cl(e){return cl="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},cl(e)}function ll(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,ul(n.key),n)}}function ul(e){var t=function(e,t){if("object"!==cl(e)||null===e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,"string");if("object"!==cl(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"===cl(t)?t:String(t)}function dl(e,t){return dl=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},dl(e,t)}function pl(e){return pl=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},pl(e)}sl=(0,K.muiThemeable)()(sl);var fl=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&dl(e,t)}(s,e);var r,n,o,i,a=(o=s,i=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,t=pl(o);if(i){var r=pl(this).constructor;e=Reflect.construct(t,arguments,r)}else e=t.apply(this,arguments);return function(e,t){if(t&&("object"===cl(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}(this,e)});function s(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,s),a.apply(this,arguments)}return r=s,(n=[{key:"render",value:function(){var e=this.props,r=e.node,n=e.mui3,o=parseInt(r.getMetadata().get("ws_quota_usage")),i=parseInt(r.getMetadata().get("ws_quota"));o=Math.min(o,i);var a=Math.round(o/i*100),s="#4caf50";a>90?s="#e53935":a>60&&(s="#ff9800");var c=W().getMessages()["workspace.quota-usage"]+" ("+me().roundFileSize(i)+")",l=t().createElement("div",{style:{display:"flex",maxWidth:200,alignItems:"center",marginTop:5}},t().createElement("div",{style:{flex:1,paddingRight:12}},t().createElement(v.LinearProgress,{mode:"determinate",min:0,max:i,value:o,color:s})),t().createElement("div",{style:{color:"#bdbdbd",fontWeight:500,fontSize:15}},a,"%"));return n?t().createElement(il,{legend:c,data:l}):t().createElement(al,{iconClassName:"mdi mdi-gauge",legend:c,data:l,iconStyle:{marginTop:30}})}}])&&ll(r.prototype,n),Object.defineProperty(r,"prototype",{writable:!1}),s}(t().Component);function hl(e){return hl="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},hl(e)}var ml=["style","titleStyle","iconStyleRight","iconStyleLeft"];function yl(){return yl=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},yl.apply(this,arguments)}function gl(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function bl(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?gl(Object(r),!0).forEach((function(t){vl(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):gl(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function vl(e,t,r){return(t=function(e){var t=function(e,t){if("object"!==hl(e)||null===e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,"string");if("object"!==hl(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"===hl(t)?t:String(t)}(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function kl(e){return kl="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},kl(e)}function wl(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,_l(n.key),n)}}function _l(e){var t=function(e,t){if("object"!==kl(e)||null===e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,"string");if("object"!==kl(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"===kl(t)?t:String(t)}function Sl(e,t){return Sl=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},Sl(e,t)}function Ol(e){return Ol=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},Ol(e)}var Pl={node:F().instanceOf(AjxpNode).isRequired,registry:F().instanceOf(Registry).isRequired,editorData:F().object.isRequired,icon:F().bool},El=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&Sl(e,t)}(s,e);var r,n,o,i,a=(o=s,i=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,t=Ol(o);if(i){var r=Ol(this).constructor;e=Reflect.construct(t,arguments,r)}else e=t.apply(this,arguments);return function(e,t){if(t&&("object"===kl(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}(this,e)});function s(e){var t;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,s),(t=a.call(this,e)).state={ready:!1},t}return r=s,(n=[{key:"componentDidMount",value:function(){var e=this,t=this.props,r=t.editorData;t.registry.loadEditorResources(r.resourcesManager,(function(){return e.setState({ready:!0})}))}},{key:"render",value:function(){var e,r=this.props.editorData;return this.state.ready?(e=FuncUtils.getFunctionByName(r.editorClass,window))?t().createElement(e.Editor,this.props):t().createElement("div",null,"Cannot find editor component ("+r.editorClass+")!"):null}}])&&wl(r.prototype,n),Object.defineProperty(r,"prototype",{writable:!1}),s}(t().Component);El.propTypes=Pl,El.defaultProps={icon:!1};const Cl=El;var xl=a(2610),jl=a.n(xl),Tl=a(3677),Rl=a.n(Tl);function zl(e){return zl="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},zl(e)}function Il(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,Al(n.key),n)}}function Al(e){var t=function(e,t){if("object"!==zl(e)||null===e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,"string");if("object"!==zl(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"===zl(t)?t:String(t)}function Ml(e,t){return Ml=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},Ml(e,t)}function Dl(e){return Dl=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},Dl(e)}var Nl=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&Ml(e,t)}(a,Observable);var t,r,n,o,i=(n=a,o=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,t=Dl(n);if(o){var r=Dl(this).constructor;e=Reflect.construct(t,arguments,r)}else e=t.apply(this,arguments);return function(e,t){if(t&&("object"===zl(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}(this,e)});function a(e,t,r){var n;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,a),(n=i.call(this))._namespace=e,n._pydio=r,n._cards=n.getUserPreference("Cards"),n._cards||(n._cards=t),n}return t=a,r=[{key:"getUserPreference",value:function(e){return this._pydio.user.getLayoutPreference(this._namespace+e,null)}},{key:"saveUserPreference",value:function(e,t){this._pydio.user.setLayoutPreference(this._namespace+e,t)}},{key:"saveCards",value:function(e){this.saveUserPreference("Cards",e)}},{key:"resetCards",value:function(){this.saveUserPreference("Cards",null)}},{key:"setCards",value:function(e){this._cards=e,this.notify("cards",this._cards),this.saveCards(e)}},{key:"getCards",value:function(){return this._cards}},{key:"removeCard",value:function(e){var t,r=-1,n=this.getCards();n.map((function(t,n){t.id==e&&(r=n)})),-1!=r?(t=0==r?n.slice(1):r==n.length-1?n.slice(0,-1):n.slice(0,r).concat(n.slice(r+1)),this.setCards(t)):console.warn("Card ID not found, this is strange.",e)}},{key:"createCardId",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],r=LangUtils.computeStringSlug(e.title);t&&(r+="-"+Math.round(100*Math.random()+10));var n=!1;return this._cards.map(function(e){e.id==r&&(n=!0)}.bind(this)),n&&(r=this.createCardId(e,!0)),r}},{key:"addCard",value:function(e){e.id=this.createCardId(e),this.setCards(this._cards.concat([e]))}}],r&&Il(t.prototype,r),Object.defineProperty(t,"prototype",{writable:!1}),a}();function Ll(e){return Ll="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Ll(e)}function Ul(){return Ul=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Ul.apply(this,arguments)}function Bl(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,Fl(n.key),n)}}function Fl(e){var t=function(e,t){if("object"!==Ll(e)||null===e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,"string");if("object"!==Ll(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"===Ll(t)?t:String(t)}function ql(e,t){return ql=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},ql(e,t)}function Wl(e){return Wl=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},Wl(e)}var Zl=a(6689),Hl=a(757).requireLib("boot"),$l=Hl.PydioContextConsumer,Vl=Hl.AsyncComponent,Gl=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&ql(e,t)}(s,e);var t,r,n,o,i=(n=s,o=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,t=Wl(n);if(o){var r=Wl(this).constructor;e=Reflect.construct(t,arguments,r)}else e=t.apply(this,arguments);return function(e,t){if(t&&("object"===Ll(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}(this,e)});function s(e){var t;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,s),(t=i.call(this,e)).state={selectedIndex:0,availableWidgets:t.listAvailableWidgets()},t}return t=s,r=[{key:"listAvailableWidgets",value:function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0],t=[],r=[];return this.props.namespaces.map((function(e){if(a.g[e]){for(var n in a.g[e])if(a.g[e].hasOwnProperty(n)){var o=a.g[e][n];o.hasBuilderFields&&o.hasBuilderFields()&&t.push({reactClass:o,fullName:e+"."+o.displayName})}}else r.push(e)})),r.length&&!e&&ResourcesManager.loadClassesAndApply(r,function(){this.setState({availableWidgets:this.listAvailableWidgets(!0)})}.bind(this)),t}},{key:"onDropDownChange",value:function(e,t,r){var n={};0!=t&&r.payload.reactClass.getBuilderFields().map((function(e){e.default&&(n[e.name]=e.default)})),this.props.onEditStatusChange&&this.props.onEditStatusChange(0!=t),this.setState({selectedIndex:t,selectedWidget:r.payload,currentFormValues:n})}},{key:"cancel",value:function(){this.props.onEditStatusChange&&this.props.onEditStatusChange(!1),this.setState({selectedIndex:0})}},{key:"onFormValueChange",value:function(e){this.setState({currentFormValues:e})}},{key:"onFormSubmit",value:function(){var e=this.state.currentFormValues,t=this.state.selectedWidget,r=e.title?e.title:e.legend;r||(r=this.state.selectedWidget.reactClass.builderDisplayName),this.props.onCreateCard({componentClass:t.fullName,title:r,props:e}),this.cancel()}},{key:"resetLayout",value:function(){window.confirm(this.props.getMessage("home.51"))&&this.props.onResetLayout()}},{key:"render",value:function(){var e,t,r=this.props.getMessage,n=([{payload:0,text:r("home.50")}].concat(this.state.availableWidgets.map((function(e,t){return{payload:e,text:e.reactClass.builderDisplayName}}))),Zl.createElement("div",null,"DropDownMenu (to be re-implemented)"));if(0!==this.state.selectedIndex){var o=this.state.selectedWidget.reactClass.getBuilderFields(),i={};o.map((function(e){e.default&&(i[e.name]=e.default)})),this.state.currentFormValues&&(i=LangUtils.mergeObjectsRecursive(i,this.state.currentFormValues)),e=Zl.createElement(Vl,{namespace:"PydioForm",componentName:"FormPanel",parameters:o,depth:-1,values:i,onChange:this.onFormValueChange}),t=Zl.createElement("div",{style:{textAlign:"center",paddingBottom:100}},Zl.createElement(v.RaisedButton,{label:r("home.52"),onClick:this.onFormSubmit}),"",Zl.createElement(v.RaisedButton,{label:r("54",""),onClick:this.cancel}))}return Zl.createElement(v.Paper,Ul({},this.props,{zDepth:3}),Zl.createElement("h3",null,r("home.53")),Zl.createElement("div",{className:"legend"},r("home.54"),Zl.createElement("br",null),r("home.55")),n,e,t,Zl.createElement("div",{style:{position:"absolute",bottom:30,left:10}},Zl.createElement(v.FlatButton,{disabled:0!=this.state.selectedIndex,label:r("home.56"),secondary:!0,onClick:this.resetLayout})))}}],r&&Bl(t.prototype,r),Object.defineProperty(t,"prototype",{writable:!1}),s}(Zl.Component);function Jl(e){return Jl="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Jl(e)}function Kl(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function Yl(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?Kl(Object(r),!0).forEach((function(t){Xl(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Kl(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function Xl(e,t,r){return(t=ru(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Ql(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function eu(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,ru(n.key),n)}}function tu(e,t,r){return t&&eu(e.prototype,t),r&&eu(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e}function ru(e){var t=function(e,t){if("object"!==Jl(e)||null===e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,"string");if("object"!==Jl(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"===Jl(t)?t:String(t)}function nu(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&ou(e,t)}function ou(e,t){return ou=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},ou(e,t)}function iu(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var r,n=su(e);if(t){var o=su(this).constructor;r=Reflect.construct(n,arguments,o)}else r=n.apply(this,arguments);return function(e,t){if(t&&("object"===Jl(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return au(e)}(this,r)}}function au(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function su(e){return su=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},su(e)}Gl=$l(Gl);var cu=a(6689),lu=a(757).requireLib("boot").PydioContextConsumer,uu=function(e){nu(r,e);var t=iu(r);function r(e,n){var o;return Ql(this,r),(o=t.call(this,e,n))._storeObserver=function(t){var r=this;this._forceUpdate=!0,this.setState({cards:e.store.getCards()},(function(){r._forceUpdate=!1}))}.bind(au(o)),e.store.observe("cards",o._storeObserver),o.state={cards:e.store.getCards()},o.requests=[],o.throttle=Rn().getThrottler({concurrent:6}),o.restClient=Rn().getRestClient({silent:!0,plugins:[o.throttle.plugin(),function(e){return o.requests.push(e),e}]}),a.e(597).then(a.t.bind(a,9732,23)).then((function(e){o.setState({rgl:e.default})})),o}return tu(r,[{key:"saveFullLayouts",value:function(e){var t={};Object.keys(e).forEach((function(r){t[r]=e[r].map((function(e){return{i:e.i,h:e.h,w:e.w,x:e.x,y:e.y}}))}));var r=this.props.store.getUserPreference("Layout");Rl()(r,t)||this.props.store.saveUserPreference("Layout",t)}},{key:"onLayoutChange",value:function(e,t){this._blockLayoutSave||this.saveFullLayouts(t)}},{key:"componentWillUnmount",value:function(){this.props.store.stopObserving("cards",this._storeObserver),this.throttle.options({active:!1}),this.requests.filter((function(e){return e.xhr})).map((function(e){return e.xhr.abort()}))}},{key:"componentWillReceiveProps",value:function(e){this.props&&e.editMode!==this.props.editMode&&Object.keys(this.refs).forEach(function(t){this.refs[t].toggleEditMode(e.editMode)}.bind(this))}},{key:"shouldComponentUpdate",value:function(e,t){return this._forceUpdate||t.rgl!==this.state.rgl||!1}},{key:"removeCard",value:function(e){this.props.removeCard(e)}},{key:"buildCards",value:function(e){var t=this,r=0,n={lg:[],md:[],sm:[],xs:[],xxs:[]},o=[],i=[],s=(Math.random(),this.props.store.getUserPreference("Layout")),c=function(e,t,r,n,o){var i=e.getGridLayout(n,o);return i.handle="h4",r.gridHandle&&(i.handle=r.gridHandle),i.i=t,i};return e.map((function(e){var l,u=e.componentClass.split("."),d=u[0],p=u[1];if(a.g[d]&&a.g[d][p]){l=a.g[d][p];var f=Yl({},e.props),h=f.key=e.id||"item_"+r;f.ref=h,f.restClient=t.restClient,f.pydio=t.props.pydio,f.onCloseAction=function(){t.removeCard(h)},f.preferencesProvider=t.props.store;var m=0,y=0;e.defaultPosition&&(m=e.defaultPosition.x,y=e.defaultPosition.y);var g=c(l,h,e,m,y);for(var b in n)if(n.hasOwnProperty(b)){var v,k=n[b];if(s&&s[b]&&s[b].map((function(e){e.i===h&&e.h===g.h&&(v=e)})),v)k.push(v);else if(e.defaultLayouts&&e.defaultLayouts[b]){var w=c(l,h,e,e.defaultLayouts[b].x,e.defaultLayouts[b].y);k.push(w)}else k.push(g)}r++,o.push(cu.createElement(l,f))}else a.g[d]||i.push(d)})),i.length&&(this._blockLayoutSave=!0,jl().loadClassesAndApply(i,function(){this.setState({additionalNamespacesLoaded:i},function(){this._blockLayoutSave=!1}.bind(this))}.bind(this))),{cards:o,layouts:n}}},{key:"render",value:function(){var e=this.state.rgl;if(!e)return null;var t=this.buildCards(this.state.cards),r=t.cards,n=t.layouts,o=e.Responsive,i=(0,e.WidthProvider)(o);return cu.createElement(i,{className:"dashboard-layout",cols:this.props.cols||{lg:10,md:8,sm:8,xs:4,xxs:2},layouts:n,rowHeight:5,onLayoutChange:this.onLayoutChange.bind(this),isDraggable:!this.props.disableDrag,style:this.props.style,autoSize:!1},r)}}]),r}(cu.Component),du=function(e){nu(r,e);var t=iu(r);function r(e){var n;Ql(this,r),n=t.call(this,e);var o=new Nl(e.storeNamespace,e.defaultCards,e.pydio);return n.state={editMode:!1,store:o},n}return tu(r,[{key:"removeCard",value:function(e){this.state.store.removeCard(e)}},{key:"addCard",value:function(e){this.state.store.addCard(e)}},{key:"resetCardsAndLayout",value:function(){this.state.store.saveUserPreference("Layout",null),this.state.store.setCards(this.props.defaultCards)}},{key:"toggleEditMode",value:function(){this.setState({editMode:!this.state.editMode})}},{key:"render",value:function(){var e,t=this,r=function(e){this.setState({widgetEditing:e})}.bind(this);this.props.builderNamespaces&&this.state.editMode&&(e=cu.createElement(Gl,{className:"admin-helper-panel",namespaces:this.props.builderNamespaces,onCreateCard:this.addCard.bind(this),onResetLayout:this.resetCardsAndLayout.bind(this),onEditStatusChange:r,getMessage:function(e){var r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"ajxp_admin";return t.props.getMessage(e,r)}}));var n=this.props.rglStyle||{};return cu.createElement("div",{style:Yl(Yl({},this.props.style),{},{width:"100%",flex:"1"}),className:this.state.editMode?"builder-open":""},!this.props.disableEdit&&cu.createElement("div",{style:{position:"absolute",bottom:30,right:18,zIndex:11}},cu.createElement(v.FloatingActionButton,{tooltip:this.props.getMessage("home.49"),onClick:this.toggleEditMode.bind(this),iconClassName:this.state.editMode?"mdi mdi-check":"mdi mdi-pencil",mini:this.state.editMode,disabled:this.state.editMode&&this.state.widgetEditing})),e,cu.createElement("div",{className:"home-dashboard",style:{height:"100%"}},cu.createElement(uu,{disableDrag:this.props.disableDrag,cols:this.props.cols,store:this.state.store,style:n,pydio:this.props.pydio,editMode:this.state.editMode,removeCard:this.removeCard.bind(this)})))}}]),r}(cu.Component);function pu(e){return pu="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},pu(e)}function fu(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function hu(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?fu(Object(r),!0).forEach((function(t){mu(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):fu(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function mu(e,t,r){return(t=function(e){var t=function(e,t){if("object"!==pu(e)||null===e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,"string");if("object"!==pu(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"===pu(t)?t:String(t)}(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}du=lu(du);const yu={propTypes:{showCloseAction:F().bool,onCloseAction:F().func},focusItem:function(){this.setState({focus:!0})},blurItem:function(){this.setState({focus:!1})},mergeStyleWithFocus:function(){return hu(hu({},this.props.style),{},{zIndex:this.state.focus?1:null})},getInitialSate:function(){return{focus:!1,showCloseAction:!1}},toggleEditMode:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:void 0;void 0===e?this.setState({showCloseAction:!(this.state&&this.state.showCloseAction)}):this.setState({showCloseAction:e})},getCloseButton:function(){if(this.state&&this.state.showCloseAction){var e=this.props.onCloseAction||function(){};return React.createElement("div",{style:{position:"absolute",backgroundColor:"rgba(0,0,0,0.53)",zIndex:10,top:0,left:0,bottom:0,right:0,display:"flex",alignItems:"center",justifyContent:"center"}},React.createElement(v.FlatButton,{label:W().getInstance().MessageHash["ajxp_admin.home.48"],className:"card-close-button",onClick:e,style:{color:"white"}}))}return null},statics:{getGridLayout:function(e,t){return{x:e||0,y:t||0,w:this.gridWidth||4,h:this.gridHeight||12,isResizable:!1}},hasBuilderFields:function(){return!!this.builderFields},getBuilderFields:function(){return this.builderFields}}};function gu(e){return gu="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},gu(e)}function bu(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function vu(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?bu(Object(r),!0).forEach((function(t){ku(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):bu(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function ku(e,t,r){return(t=_u(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function wu(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,_u(n.key),n)}}function _u(e){var t=function(e,t){if("object"!==gu(e)||null===e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,"string");if("object"!==gu(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"===gu(t)?t:String(t)}function Su(e,t){return Su=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},Su(e,t)}function Ou(e){return Ou=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},Ou(e)}var Pu=a(580),Eu=a(6689).Component,Cu=a(9455).FlatButton,xu=a(3173).muiThemeable;function ju(e){return ju="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},ju(e)}function Tu(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function Ru(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function zu(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?Ru(Object(r),!0).forEach((function(t){Iu(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Ru(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function Iu(e,t,r){return(t=Mu(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Au(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,Mu(n.key),n)}}function Mu(e){var t=function(e,t){if("object"!==ju(e)||null===e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,"string");if("object"!==ju(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"===ju(t)?t:String(t)}function Du(e,t){return Du=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},Du(e,t)}function Nu(e){return Nu=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},Nu(e)}var Lu=W().requireLib("boot").PydioContextConsumer,Uu=W().requireLib("hoc").ModernSelectField,Bu=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&Du(e,t)}(s,e);var r,n,o,i,a=(o=s,i=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,t=Nu(o);if(i){var r=Nu(this).constructor;e=Reflect.construct(t,arguments,r)}else e=t.apply(this,arguments);return function(e,t){if(t&&("object"===ju(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}(this,e)});function s(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,s),a.apply(this,arguments)}return r=s,n=[{key:"render",value:function(){var e,r,n,o=this.props,i=o.item,a=o.paginatorCallback,s=o.paginatorType,c=o.style,l=o.getMessage,u=o.paginatorLabel,d=o.muiTheme,p=(0,K.getMuiTheme)(zu(zu({},d),{},{zIndex:{layer:3e3,popover:3001}}));if(i.pagination){for(var f=i.pagination,h=f.start,m=f.max,y=f.interval,g=Math.ceil(m/y),b=Math.ceil(h/y),k=[],w=0;w<g;w++)k.push(w);e=t().createElement(v.MuiThemeProvider,{muiTheme:p},t().createElement(Uu,{floatingLabelText:l(331),style:{width:60},dropDownMenuProps:{anchorOrigin:{vertical:"center",horizontal:"right"}},fullWidth:!0,value:b,onChange:function(e,t,r){a(r*y+"-"+(r+1)*y)}},k.map((function(e){return t().createElement(v.MenuItem,{value:e,key:e,primaryText:e+1})}))))}if("alpha"===s){var _="abcdefghijklmnopqrstuvwxyz0123456789".split("");_=[-1].concat(function(e){if(Array.isArray(e))return Tu(e)}(n=_)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(n)||function(e,t){if(e){if("string"==typeof e)return Tu(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?Array.from(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?Tu(e,t):void 0}}(n)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}());var S=i.currentParams&&i.currentParams.alpha_pages&&i.currentParams.value||-1;r=t().createElement(v.MuiThemeProvider,{muiTheme:p},t().createElement(Uu,{floatingLabelText:l(625),style:{width:60,marginLeft:8},dropDownMenuProps:{anchorOrigin:{vertical:"center",horizontal:"right"}},fullWidth:!0,value:S,onChange:function(e,t,r){a(r)}},_.map((function(e){return t().createElement(v.MenuItem,{value:e,key:e,primaryText:-1===e?l(597,""):e})}))))}return t().createElement("div",{style:zu(zu({},c),{},{display:"flex",paddingRight:8,alignItems:"center"})},t().createElement("div",{style:{flex:1,height:20}},u||l(249,"")),e,r)}}],n&&Au(r.prototype,n),Object.defineProperty(r,"prototype",{writable:!1}),s}(e.Component);Bu.propTypes={item:F().object,paginatorCallback:F().func.isRequired,pydio:F().instanceOf(W()),mode:F().oneOf(["book","selector","popover"]).isRequired},Bu=Lu(Bu),Bu=(0,K.muiThemeable)()(Bu);var Fu=a(4305),qu=a.n(Fu);function Wu(e){return Wu="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Wu(e)}function Zu(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function Hu(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?Zu(Object(r),!0).forEach((function(t){Ku(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Zu(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function $u(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,Yu(n.key),n)}}function Vu(e,t){return Vu=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},Vu(e,t)}function Gu(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function Ju(e){return Ju=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},Ju(e)}function Ku(e,t,r){return(t=Yu(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Yu(e){var t=function(e,t){if("object"!==Wu(e)||null===e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,"string");if("object"!==Wu(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"===Wu(t)?t:String(t)}var Xu=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&Vu(e,t)}(a,e);var t,r,n,o,i=(n=a,o=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,t=Ju(n);if(o){var r=Ju(this).constructor;e=Reflect.construct(t,arguments,r)}else e=t.apply(this,arguments);return function(e,t){if(t&&("object"===Wu(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return Gu(e)}(this,e)});function a(e,t){var r;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,a),Ku(Gu(r=i.call(this,e,t)),"state",{});var n=e.onSearch;return e.setSearchTerm||(r.state={value:""},r.search=qu()((function(){n(r.state.value)}),300)),r}return t=a,r=[{key:"onChange",value:function(e,t){var r=this.props.setSearchTerm;r?r(t):(this.setState({value:t}),this.search())}},{key:"render",value:function(){var e=this,t=this.props,r=t.underlineShow,n=t.searchLabel,o=t.style,i=t.inputStyle,a=t.underlineStyle,s=t.underlineFocusStyle,c=t.hintStyle,l=t.searchTerm,u=this.state.value;return React.createElement("div",{style:Hu({minWidth:320},o)},React.createElement(v.TextField,{fullWidth:!0,value:u||l,onChange:function(t,r){return e.onChange(t,r)},hintText:n,inputStyle:i,hintStyle:c,underlineStyle:a,underlineFocusStyle:s,underlineShow:void 0===r||r}))}}],r&&$u(t.prototype,r),Object.defineProperty(t,"prototype",{writable:!1}),a}(e.Component);Xu.propTypes={searchLabel:F().string.isRequired,onSearch:F().func.isRequired,style:F().object,underlineShow:F().bool};const Qu=require("pydio/model/idm-object-helper");var ed=a.n(Qu);const td=require("pydio/model/cell");var rd=a.n(td);function nd(e){return nd="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},nd(e)}function od(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,id(n.key),n)}}function id(e){var t=function(e,t){if("object"!==nd(e)||null===e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,"string");if("object"!==nd(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"===nd(t)?t:String(t)}var ad=function(){function e(t,r,n){var o=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.props={pydio:t,cellModel:r,acl:n,addressBookItem:o}}var t,r;return t=e,r=[{key:"createCell",value:function(){var e,t=this.props,r=t.addressBookItem,n=t.pydio,o=n.MessageHash;r.IdmUser?e=r.IdmUser:r.IdmRole&&(e=r.IdmRole),e&&n.user.getIdmUser().then((function(t){var i=ed().extractLabelFromIdmObject(t),a=ed().extractLabelFromIdmObject(r.IdmUser||r.IdmRole),s=new(rd());s.setLabel(i+", "+a),s.setDescription("Created by "+i),s.addUser(e),s.save().then((function(e){n.UI.displayMessage("SUCCESS",o[643].replace("%s",a))})).catch((function(e){n.UI.displayMessage("ERROR",o[644].replace("%s",e.message))}))}))}},{key:"addToCell",value:function(){var e,t=this.props,r=t.addressBookItem,n=t.cellModel;r.IdmUser?e=r.IdmUser:r.IdmRole&&(e=r.IdmRole),e&&(n.addUser(e),n.save())}},{key:"removeFromCell",value:function(){var e=this.props,t=e.acl,r=e.cellModel;r.removeUser(t.RoleId),r.save()}},{key:"renderItems",value:function(){var e,t,r,n=this.props,o=n.pydio,i=n.cellModel,a=n.acl,s=n.addressBookItem,c=o.MessageHash,l=[];if(a?a.User&&a.User.Login===o.user.id:"user"===t&&o.user.id===e)return l;if(s&&(e=s.id,"group"===(t=s.type)&&s.IdmRole&&(e=s.IdmRole.Uuid,t="team")),r=a?ed().extractLabel(o,a):s.label,!0===i)return o.getPluginConfigs("auth").get("USER_CREATE_CELLS")?[React.createElement(v.MenuItem,{primaryText:c[640].replace("%s",r),onClick:this.createCell.bind(this)})]:[];var u,d=i.isEditable(),p=i.getAcls();return Object.keys(p).map((function(r){var n=p[r];(a?a.RoleId===n.RoleId:"user"===t&&n.User&&n.User.Login===e||"group"===t&&n.Group&&n.Group.Uuid===e||"team"===t&&n.Role&&n.Role.Uuid===e)&&(u=!0)})),u?l.push(React.createElement(v.MenuItem,{primaryText:c[641],disabled:!d,onClick:this.removeFromCell.bind(this)})):l.push(React.createElement(v.MenuItem,{primaryText:c[642],disabled:!d,onClick:this.addToCell.bind(this)})),o.getPluginConfigs("auth").get("USER_CREATE_CELLS")&&l.push(React.createElement(v.Divider,null),React.createElement(v.MenuItem,{primaryText:c[640].replace("%s",r),onClick:this.createCell.bind(this)})),l}}],r&&od(t.prototype,r),Object.defineProperty(t,"prototype",{writable:!1}),e}();const sd=ad,cd={list:{},listItem:{style:{fontSize:13},innerDivStyle:{padding:"10px 56px 10px 62px"}},avatar:{avatarSize:26,style:{top:5}},iconMenu:{style:{top:4,right:8}},iconButton:{style:{width:26,height:26,padding:5,right:8},iconStyle:{color:"rgba(0,0,0,.33)",fontSize:20}},divider:{style:{marginLeft:62}},className:"compact"},ld=require("pydio/lang/observable");var ud=a.n(ld);function dd(e){return dd="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},dd(e)}function pd(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function fd(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?pd(Object(r),!0).forEach((function(t){hd(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):pd(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function hd(e,t,r){return(t=bd(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function md(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var r=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=r){var n,o,i,a,s=[],c=!0,l=!1;try{if(i=(r=r.call(e)).next,0===t){if(Object(r)!==r)return;c=!1}else for(;!(c=(n=i.call(r)).done)&&(s.push(n.value),s.length!==t);c=!0);}catch(e){l=!0,o=e}finally{try{if(!c&&null!=r.return&&(a=r.return(),Object(a)!==a))return}finally{if(l)throw o}}return s}}(e,t)||function(e,t){if(e){if("string"==typeof e)return yd(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?Array.from(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?yd(e,t):void 0}}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function yd(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function gd(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,bd(n.key),n)}}function bd(e){var t=function(e,t){if("object"!==dd(e)||null===e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,"string");if("object"!==dd(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"===dd(t)?t:String(t)}var vd=Rn().getRestClient().getIdmApi(),kd=function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e)}var t,r;return t=e,r=[{key:"childrenAsPromise",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],r=e.childrenLoader,n=e.itemsLoader,o=e.leafLoaded,i=e.collectionsLoaded,a=e.leafs,s=e.collections,c=t?n:r,l=t?o:i;return new Promise((function(r,n){!l&&c?c(e,(function(n){t?(e.leafs=n,e.leafLoaded=!0):(e.collections=n,e.collectionsLoaded=!0),r(n)})):r((t?a:s)||[])}))}},{key:"computePagination",value:function(e){var t;return e.Users?t=e.Users.length:e.Groups?t=e.Groups.length:e.Teams&&(t=e.Teams.length),e.Total>t?{start:e.Offset,end:e.Offset+e.Limit,max:e.Total,interval:e.Limit}:null}},{key:"prepareIdmUser",value:function(e){var t;if(arguments.length>1&&void 0!==arguments[1]&&arguments[1]){var r=[];r.push(W().getMessages()[e.Attributes&&"shared"===e.Attributes.profile?"589":"590"]),"/"!==e.GroupPath&&r.push(e.GroupPath),t=r.join(" - ")}return{id:e.Login,label:e.Attributes&&e.Attributes.displayName?e.Attributes.displayName:e.Login,avatar:e.Attributes&&e.Attributes.avatar?e.Attributes.avatar:void 0,type:"user",IdmUser:e,secondaryText:t}}},{key:"prepareIdmGroup",value:function(e){var t;return arguments.length>1&&void 0!==arguments[1]&&arguments[1]&&(t=e.GroupPath+e.GroupLabel),{id:e.Uuid,label:e.Attributes&&e.Attributes.displayName?e.Attributes.displayName:e.GroupLabel,type:"group",icon:"mdi mdi-account-multiple",secondaryText:t,IdmUser:e}}},{key:"prepareTeam",value:function(t){var r;return arguments.length>1&&void 0!==arguments[1]&&arguments[1]&&(r=W().getMessages()[603]),{id:t.Uuid,label:t.Label,type:"team",icon:"mdi mdi-account-multiple-outline",itemsLoader:e.loadTeamUsers,_notSelectable:!0,secondaryText:r,IdmRole:t}}},{key:"loadTeams",value:function(t,r){var n=0,o=50;if(t.range){var i=md(t.range.split("-"),2),a=i[0],s=i[1];n=parseInt(a),o=(s=parseInt(s))-n}var c={};W().getInstance().getController().actions.has("user_team_create")&&(c={type:"team",remove:"574",multiple:!0}),vd.listTeams("",n,o).then((function(n){t.pagination=e.computePagination(n);var o=n.Teams.map((function(r){return fd(fd({_parent:t},e.prepareTeam(r)),{},{actions:c})}));r(o)}))}},{key:"loadGroups",value:function(t,r){var n="/",o="";t.IdmUser&&(n=J().trimRight(t.IdmUser.GroupPath,"/")+"/"+t.IdmUser.GroupLabel),t.currentParams&&t.currentParams.has_search&&(o=t.currentParams.value),vd.listGroups(n,o,!1,0,1e3).then((function(n){var o=n.Groups.map((function(r){return fd(fd({_parent:t},e.prepareIdmGroup(r)),{},{childrenLoader:t.childrenLoader?e.loadGroups:null,itemsLoader:t.itemsLoader?e.loadGroupUsers:null,currentParams:t.currentParams&&t.currentParams.alpha_pages?fd({},t.currentParams):{}})}));r(o)}))}},{key:"loadExternalUsers",value:function(t,r){var n="",o=0,i=50,a=!1;if(t.currentParams&&t.currentParams.alpha_pages&&(n=t.currentParams.value,a=!0),t.range){var s=md(t.range.split("-"),2),c=s[0],l=s[1];o=parseInt(c),i=(l=parseInt(l))-o}var u=Rn().getClient().getPydioObject();vd.listUsers("/",n,!0,o,i,"shared",a).then((function(n){t.pagination=e.computePagination(n);var o=n.Users.filter((function(e){return e.Login!==u.user.id})).map((function(r){return fd(fd({_parent:t},e.prepareIdmUser(r)),{},{external:!0})}));r(o)}))}},{key:"loadGroupUsers",value:function(t,r){var n="/",o="",i=0,a=50,s=!1;if(t.IdmUser&&(n=J().trimRight(t.IdmUser.GroupPath,"/")+"/"+t.IdmUser.GroupLabel),t.currentParams&&(t.currentParams.alpha_pages||t.currentParams.has_search)&&(o=t.currentParams.value,t.currentParams.alpha_pages&&(s=!0)),t.range){var c=md(t.range.split("-"),2),l=c[0],u=c[1];i=parseInt(l),a=(u=parseInt(u))-i}var d=Rn().getClient().getPydioObject();vd.listUsers(n,o,!1,i,a,"!shared",s).then((function(n){t.pagination=e.computePagination(n);var o=n.Users.filter((function(e){return e.Login!==d.user.id&&"pydio.anon.user"!==e.Login})).map((function(r){return fd({_parent:t},e.prepareIdmUser(r))}));r(o)}))}},{key:"loadTeamUsers",value:function(t,r){var n=0,o=50,i="",a=!1;if(t.range){var s=md(t.range.split("-"),2),c=s[0],l=s[1];n=parseInt(c),o=(l=parseInt(l))-n}t.currentParams&&(t.currentParams.alpha_pages||t.currentParams.has_search)&&(i=t.currentParams.value,t.currentParams.alpha_pages&&(a=!0)),vd.listUsersWithRole(t.IdmRole.Uuid,n,o,i,a).then((function(n){t.pagination=e.computePagination(n);var o=n.Users.map((function(r){return fd({_parent:t},e.prepareIdmUser(r))}));r(o)}))}},{key:"globalSearch",value:function(t,r){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,o=arguments.length>3&&void 0!==arguments[3]?arguments[3]:50,i=!(arguments.length>4&&void 0!==arguments[4])||arguments[4],a=!(arguments.length>5&&void 0!==arguments[5])||arguments[5],s=!(arguments.length>6&&void 0!==arguments[6])||arguments[6];t="*"+t;var c=Rn().getClient().getPydioObject(),l=[];if(i||a){var u=i?a?"":"shared":"!shared",d=vd.listUsers("/",t,!0,n,o,u).then((function(t){return t.Users.filter((function(e){return e.Login!==c.user.id&&"pydio.anon.user"!==e.Login})).map((function(t){return fd(fd({},e.prepareIdmUser(t,!0)),{},{external:t.Attributes&&"shared"===t.Attributes.profile})}))})).then((function(e){return{users:e}}));l.push(d);var p=vd.listGroups("/",t,!0,n,o).then((function(t){return t.Groups.map((function(t){return fd(fd({},e.prepareIdmGroup(t,!0)),{},{childrenLoader:e.loadGroups,itemsLoader:e.loadGroupUsers})}))})).then((function(e){return{groups:e}}));l.push(p)}if(s){var f=vd.listTeams(t,n,o).then((function(t){return t.Teams.map((function(t){return fd({},e.prepareTeam(t,!0))}))})).then((function(e){return{teams:e}}));l.push(f)}return Promise.all(l).then((function(e){var t=e.reduce((function(e,t){return fd(fd({},e),t)}),{});return r(t),t}))}}],null&&gd(t.prototype,null),r&&gd(t,r),Object.defineProperty(t,"prototype",{writable:!1}),e}(),wd=a(2702);function _d(e){return _d="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},_d(e)}function Sd(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function Od(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?Sd(Object(r),!0).forEach((function(t){Rd(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Sd(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function Pd(e){return function(e){if(Array.isArray(e))return Ed(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||function(e,t){if(e){if("string"==typeof e)return Ed(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?Array.from(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?Ed(e,t):void 0}}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Ed(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function Cd(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,zd(n.key),n)}}function xd(e,t){return xd=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},xd(e,t)}function jd(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function Td(e){return Td=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},Td(e)}function Rd(e,t,r){return(t=zd(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function zd(e){var t=function(e,t){if("object"!==_d(e)||null===e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,"string");if("object"!==_d(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"===_d(t)?t:String(t)}var Id=(0,Fr.debounce)(kd.globalSearch,350),Ad=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&xd(e,t)}(a,e);var t,r,n,o,i=(n=a,o=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,t=Td(n);if(o){var r=Td(this).constructor;e=Reflect.construct(t,arguments,r)}else e=t.apply(this,arguments);return function(e,t){if(t&&("object"===_d(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return jd(e)}(this,e)});function a(e,t){var r,n=arguments.length>2&&void 0!==arguments[2]&&arguments[2],o=arguments.length>3&&void 0!==arguments[3]?arguments[3]:"local",s=arguments.length>4&&void 0!==arguments[4]&&arguments[4],c=arguments.length>5&&void 0!==arguments[5]?arguments[5]:null;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,a),Rd(jd(r=i.call(this)),"pydio",null),Rd(jd(r),"mode","book"),Rd(jd(r),"teamsOnly",!1),Rd(jd(r),"usersOnly",!1),Rd(jd(r),"usersFrom","local"),Rd(jd(r),"loading",!1),Rd(jd(r),"root",null),Rd(jd(r),"selectedItem",null),Rd(jd(r),"rightPanelItem",null),Rd(jd(r),"onItemSelected",null),Rd(jd(r),"pendingCreateItem",null),Rd(jd(r),"searchTerm",""),Rd(jd(r),"searchMode",!1),Rd(jd(r),"searchItem",null),Rd(jd(r),"selectionMode",!1),Rd(jd(r),"multipleSelection",[]),Rd(jd(r),"reloadCurrentAtPage",(function(e){var t=r.selectedItem;t.leafLoaded=!1,t.collectionsLoaded=!1,-1===e?t.currentParams=null:-1!==e.indexOf("-")?t.range=e:(t.range=null,t.currentParams={alpha_pages:"true",value:e}),r.setContext(t)})),Rd(jd(r),"reloadCurrentWithSearch",(function(e){if(e){var t=r.selectedItem;t.leafLoaded=!1,t.collectionsLoaded=!1,t.currentParams={has_search:!0,value:e,existing_only:!0},r.setContext(t)}else r.reloadCurrentAtPage(-1)})),Rd(jd(r),"deleteItems",(function(e,t){if(arguments.length>2&&void 0!==arguments[2]&&arguments[2]||confirm(r.m(278)))switch(e.actions.type){case"users":Promise.all(t.map((function(e){return r.rightPanelItem===e&&(r.rightPanelItem=null),Rn().getRestClient().getIdmApi().deleteIdmUser(e.IdmUser)}))).then((function(){r.reloadContext()}));break;case"teams":Promise.all(t.map((function(e){return r.rightPanelItem===e&&(r.rightPanelItem=null),Rn().getRestClient().getIdmApi().deleteRole(e.IdmRole.Uuid)}))).then((function(){r.reloadContext()}));break;case"team":Promise.all(t.map((function(t){return Rn().getRestClient().getIdmApi().removeUserFromTeam(e.IdmRole.Uuid,t.IdmUser.Login)}))).then((function(){r.reloadContext()}))}})),r.pydio=e,r.mode=t,r.teamsOnly=s,r.usersOnly=n,r.usersFrom=o,r.onItemSelected=c;var l=r.pydio.getPluginConfigs("core.auth");return r._teamsEditable=r.pydio.getController().actions.has("user_team_create"),r._externalsAllowed=l.get("USER_CREATE_USERS"),r}return t=a,r=[{key:"getRoot",value:function(){return this.searchMode&&this.searchItem?this.searchItem:this.root}},{key:"contextItem",value:function(){return this.selectedItem}},{key:"setContext",value:function(e,t){var r=this;return"selector"===this.mode&&e.IdmRole&&e.IdmRole.IsTeam?(this.leafItemClicked(e),Promise.resolve()):(this.loading=!0,this.notify("update"),kd.childrenAsPromise(e,!1).then((function(){kd.childrenAsPromise(e,!0).then((function(){r.selectedItem=e,r.loading=!1,r.notify("update")})).then((function(){t&&t()}))})))}},{key:"contextIsGroup",value:function(){return this.selectedItem&&(this.selectedItem.IdmUser&&this.selectedItem.IdmUser.IsGroup||"PYDIO_GRP_/"===this.selectedItem.id)}},{key:"contextIsTeam",value:function(){return this.selectedItem&&this.selectedItem.IdmRole&&this.selectedItem.IdmRole.IsTeam}},{key:"reloadContext",value:function(){var e=this;return this.selectedItem?(this.selectedItem.leafLoaded=!1,this.selectedItem.collectionsLoaded=!1,this.setContext(this.selectedItem,(function(){if(e.rightPanelItem){var t=e.rightPanelItem.id,r=null,n=e.selectedItem.leafs||[],o=e.selectedItem.collections||[];[].concat(Pd(n),Pd(o)).forEach((function(e){e.id===t&&(r=e)})),e.rightPanelItem=r,e.notify("update")}}))):Promise.resolve}},{key:"setGlobalSearch",value:function(e,t){var r=this;e!==this.searchMode&&(e?(this.searchItem||(this.searchItem={id:"search",label:this.m("583"),type:"root"}),this.savedContext=this.contextItem(),this.searchItem.collections=[],this.setContext(this.searchItem)):(this.searchItem.collections=[],this.setContext(this.savedContext))),this.searchMode=e,this.searchTerm=t,this.searchTerm&&Id(t,(function(e){r.searchItem.collections=[];var t,n,o=r.prepareTopFolders(r.searchItem);e.users&&(t=e.users.filter((function(e){return e.external})),n=e.users.filter((function(e){return!e.external}))),void 0!==t&&r.searchItem.collections.push(Od(Od({},o.shared),{},{leafs:t})),e.teams&&r.searchItem.collections.push(Od(Od({},o.teams),{},{collections:e.teams})),(void 0!==n||e.groups)&&(n&&n.length,e.groups&&e.groups.length,r.searchItem.collections.push(Od(Od({},o.directory),{},{collections:e.groups,leafs:n})));var i=Od({},o.results);r.searchItem.collections.forEach((function(e){var t,r;(t=i.collections).push.apply(t,Pd(e.collections.map((function(t){return t._parent=e,Od(Od({},t),{},{_parent:i})})))),(r=i.leafs).push.apply(r,Pd(e.leafs.map((function(t){return t._parent=e,Od(Od({},t),{},{_parent:i})})))),e.notExpandable=!0,e.label+=" (".concat(e.collections.length+e.leafs.length,")")})),i.label+=" (".concat(i.collections.length+i.leafs.length,")"),r.searchItem.collections.unshift(i),r.setContext(i),r.notify("update")}),0,50,this._externalsAllowed),this.notify("update")}},{key:"getSearchStatus",value:function(){return{searchMode:this.searchMode,searchTerm:this.searchTerm}}},{key:"rightItem",value:function(){return this.rightPanelItem}},{key:"leafItemClicked",value:function(e){if(this.onItemSelected){var t=new wd.User(e.id,e.label,e.type,e.group,e.avatar,e.temporary,e.external);return e.trusted_server_id&&(t.trustedServerId=e.trusted_server_id,t.trustedServerLabel=e.trusted_server_label),t._uuid=e.uuid,e.IdmUser&&(t.IdmUser=e.IdmUser),e.IdmRole&&(t.IdmRole=e.IdmRole),void this.onItemSelected(t)}this.rightPanelItem=e,this.notify("update")}},{key:"clearRightItem",value:function(){this.rightPanelItem=null,this.notify("update")}},{key:"teamsEditable",value:function(){return this._teamsEditable}},{key:"deleteMultipleSelection",value:function(){this.selectionMode=!1,this.deleteItems(this.selectedItem,this.multipleSelection)}},{key:"setCreateItem",value:function(){this.pendingCreateItem=this.selectedItem,this.notify("update")}},{key:"clearCreateItem",value:function(){this.pendingCreateItem=null,this.notify("update")}},{key:"createItem",value:function(){return this.pendingCreateItem}},{key:"setSelectionMode",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:void 0;this.selectionMode=void 0===e?!this.selectionMode:e,this.multipleSelection=[],this.notify("update")}},{key:"getSelectionMode",value:function(){return this.selectionMode}},{key:"setMultipleSelection",value:function(e){this.multipleSelection=e,this.notify("update")}},{key:"getMultipleSelection",value:function(){return this.multipleSelection}},{key:"initTree",value:function(){var e={};if(this._teamsEditable&&(e={type:"teams",create:"+ "+this.m(569),remove:this.m(570),multiple:!0}),this.teamsOnly)return this.root=Od(Od({},this.prepareTopFolders(null).teams),{},{childrenLoader:kd.loadTeams,actions:e}),void(this.selectedItem=this.root);this.root={id:"root",label:this.m(592),type:"root",collections:[]};var t=this.prepareTopFolders(this.root);"remote"!==this.usersFrom&&(this._externalsAllowed&&this.root.collections.push(Od(Od({},t.shared),{},{itemsLoader:kd.loadExternalUsers,actions:{type:"users",create:"+ "+this.m(484),remove:this.m(582),multiple:!0}})),this.usersOnly||this.root.collections.push(Od(Od({},t.teams),{},{childrenLoader:kd.loadTeams,actions:e})),this.root.collections.push(Od(Od({},t.directory),{},{childrenLoader:kd.loadGroups,itemsLoader:kd.loadGroupUsers}))),this.selectedItem="selector"===this.mode?this.root:this.root.collections[0]}},{key:"prepareTopFolders",value:function(e){return{shared:{id:"ext",label:this.m(593),icon:"mdi mdi-account-network",_parent:e,_notSelectable:!0,collections:[],leafs:[]},teams:{id:"teams",label:this.m(568),icon:"mdi mdi-account-multiple",_parent:e,_notSelectable:!0,collections:[],leafs:[]},directory:{id:"PYDIO_GRP_/",label:this.m(584),icon:"mdi mdi-account-box",_parent:e,_notSelectable:!0,collections:[],leafs:[]},results:{id:"results",label:this.m("599-a"),icon:"mdi mdi-magnify",_parent:e,notExpandable:!0,collections:[],leafs:[]}}}},{key:"m",value:function(e){return this.pydio.MessageHash[e]||e}}],r&&Cd(t.prototype,r),Object.defineProperty(t,"prototype",{writable:!1}),a}(ud());const Md=Ad;function Dd(e){return Dd="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Dd(e)}function Nd(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function Ld(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?Nd(Object(r),!0).forEach((function(t){Ud(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Nd(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function Ud(e,t,r){return(t=Zd(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Bd(e){return function(e){if(Array.isArray(e))return Fd(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||function(e,t){if(e){if("string"==typeof e)return Fd(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?Array.from(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?Fd(e,t):void 0}}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Fd(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function qd(){return qd=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},qd.apply(this,arguments)}function Wd(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,Zd(n.key),n)}}function Zd(e){var t=function(e,t){if("object"!==Dd(e)||null===e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,"string");if("object"!==Dd(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"===Dd(t)?t:String(t)}function Hd(e,t){return Hd=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},Hd(e,t)}function $d(e){return $d=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},$d(e)}var Vd=a(757).requireLib("boot"),Gd=Vd.Loader,Jd=Vd.PydioContextConsumer,Kd=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&Hd(e,t)}(s,e);var r,n,o,i,a=(o=s,i=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,t=$d(o);if(i){var r=$d(this).constructor;e=Reflect.construct(t,arguments,r)}else e=t.apply(this,arguments);return function(e,t){if(t&&("object"===Dd(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}(this,e)});function s(e,t){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,s),a.call(this,e,t)}return r=s,n=[{key:"render",value:function(){var e=this.props,r=e.pydio,n=e.item,o=e.mode,i=e.loading,a=e.showAllParents,s=e.enableSearch,c=e.searchLabel,l=e.onSearch,u=e.getMessage,d=e.bookColumn,p=e.toolbar,f=e.style,h=this.props.model;h||(h=new Md(r,"inner"));var m=h.getMultipleSelection(),y=h.getSelectionMode(),g=this.props.listStyles,b=void 0===g?{}:g;"selector"!==o&&"inner"!==o||(b=cd);var k,w,_,S=b.className,O=b.avatar?b.avatar.avatarSize:36,P=n.collections||[],E=n.leafs||[],C=[],x=[],j={};"teams"===n.id?(j={paginatorFolder:n.pagination?"numeric":null,paginatorLabel:n.label,paginatorCallback:function(e){return h.reloadCurrentAtPage(e)}},h.teamsEditable()?(k=u(571,""),w=u(572,"")):(k=u("571.readonly",""),w=u("572.readonly",""))):"ext"===n.id?(k=u(585,""),w=u(586,""),n.pagination&&(_=!0,j={paginatorType:"alpha",paginatorCallback:function(e){return h.reloadCurrentAtPage(e)}})):(h.contextIsGroup()||h.contextIsTeam())&&(_=!0,j={paginatorType:!(n.currentParams&&n.currentParams.has_search)&&"alpha",paginatorCallback:function(e){return h.reloadCurrentAtPage(e)}}),j.paginatorFolder?C.push({subheader:t().createElement(Bu,qd({},this.props,j,{style:{lineHeight:"20px",padding:"14px 0"}}))}):P.length&&(E.length||_)&&C.push({subheader:u("532")}),j.paginatorType?x.push({subheader:t().createElement(Bu,qd({},this.props,j,{style:{lineHeight:"20px",padding:"14px 0"}}))}):_&&x.push({subheader:u("249")});var T,R=[].concat(C,Bd(P),x,Bd(E)),z=R.length,I=[];if("book"===o&&n._parent&&(n._parent._parent&&"teams"!==n._parent.id||a)&&(I.push(t().createElement(v.ListItem,qd({key:"__parent__",primaryText:"..",onClick:function(e){e.stopPropagation(),h.setContext(n._parent)},leftAvatar:t().createElement(v.Avatar,{icon:t().createElement(v.FontIcon,{className:"mdi mdi-arrow-up"}),size:O})},b.listItem))),z&&I.push(t().createElement(v.Divider,{inset:!0,key:"parent-divider"}))),R.forEach(function(e,n){var i=this;if(e.subheader)I.push(t().createElement(v.Subheader,{key:e.subheader},e.subheader));else{var a,s=t().createElement(Np,{avatarSize:O,pydio:this.props.pydio||r,userId:e.id,userLabel:e.label,avatar:e.avatar,icon:e.icon,idmUser:e.IdmUser,userType:e.type||"group",avatarOnly:!0,useDefaultAvatar:!0,style:b.avatar?b.avatar.style:{}}),c=function(t){t.stopPropagation(),i.props.onItemClicked(e)};if(P.indexOf(e)>-1?(c=function(t){t.stopPropagation(),h.setContext(e)},"selector"!==o||e._notSelectable||this.props.usersOnly||(a=t().createElement(v.IconButton,qd({iconClassName:"mdi mdi-account-multiple-plus",tooltip:u("addressbook.pick.group"),tooltipPosition:"top-left",iconStyle:{color:"rgba(0,0,0,0.33)"},onClick:function(){i.props.onItemClicked(e)}},b.iconButton)))):"inner"===o&&this.props.onDeleteAction&&(a=t().createElement(v.IconButton,qd({iconClassName:"mdi mdi-delete",tooltip:u(257),tooltipPosition:"top-left",iconStyle:{color:"rgba(0,0,0,0.13)",hoverColor:"rgba(0,0,0,0.53)"},onClick:function(){i.props.onDeleteAction(i.props.item,[e])}},b.iconButton))),d&&this.props.actionsForCell&&e.type){var l=new sd(r,this.props.actionsForCell,null,e).renderItems();a=l.length?t().createElement(v.IconMenu,qd({},b.iconMenu,{iconButtonElement:t().createElement(v.IconButton,qd({iconClassName:"mdi mdi-dots-vertical",iconStyle:{color:"rgba(0,0,0,.33)"}},b.iconButton)),targetOrigin:{horizontal:"right",vertical:"top"},anchorOrigin:{horizontal:"right",vertical:"top"},desktop:!0}),l):null}var p,f={overflow:"hidden",textOverflow:"ellipsis",whiteSpace:"nowrap"};e.secondaryText&&(f.fontWeight=500,p=t().createElement("span",{style:{fontSize:13,color:"var(--md-sys-color-on-surface-variant)"}},e.secondaryText)),I.push(t().createElement(v.ListItem,qd({key:e.id,primaryText:t().createElement("div",{style:f},e.label),secondaryText:p,onClick:c,disabled:"inner"===o,leftAvatar:!y&&s,rightIconButton:a,leftCheckbox:y&&t().createElement(v.Checkbox,{checked:m.indexOf(e)>-1,onCheck:function(t,r){if(r)h.setMultipleSelection([].concat(Bd(m),[e]));else{var n=[].concat(Bd(m.slice(0,m.indexOf(e))),Bd(m.slice(m.indexOf(e)+1)));h.setMultipleSelection(n)}}})},b.listItem))),"inner"!==o&&n<z-1&&I.push(t().createElement(v.Divider,qd({inset:!0,key:e.id+"-divider"},b.divider)))}}.bind(this)),!I.length){var A={style:{backgroundColor:"transparent",minHeight:300},iconClassName:"mdi mdi-account-off",primaryTextId:k||u(629),secondaryTextId:"book"===o&&w||null};"book"===o&&n.actions&&n.actions.create&&(A=Ld(Ld({},A),{},{actionLabelId:u(n.actions.create),actionCallback:function(){return h.setCreateItem()}})),"compact"===S&&(A=Ld(Ld({},A),{},{style:{backgroundColor:"transparent",minHeight:150},iconStyle:{fontSize:40},legendStyle:{fontSize:13}})),T=t().createElement(mo,A)}return t().createElement("div",{style:Ld({flex:1,flexDirection:"column",display:"flex",width:"100%",overflowX:"hidden"},f),onClick:this.props.onClick,className:S},p,!T&&!i&&t().createElement(v.List,{style:{flex:1,overflowY:"inner"!==o?"auto":"initial"}},this.props.subHeader&&t().createElement(v.Subheader,null,this.props.subHeader),I),i&&t().createElement(Gd,{style:{flex:1}}),!i&&T,"selector"===o&&s&&d&&t().createElement(Xu,{searchLabel:c,onSearch:l,style:{padding:"0 20px",minWidth:null},underlineShow:!1}))}}],n&&Wd(r.prototype,n),Object.defineProperty(r,"prototype",{writable:!1}),s}(t().Component);function Yd(e){return Yd="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Yd(e)}function Xd(){return Xd=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Xd.apply(this,arguments)}function Qd(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,ep(n.key),n)}}function ep(e){var t=function(e,t){if("object"!==Yd(e)||null===e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,"string");if("object"!==Yd(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"===Yd(t)?t:String(t)}function tp(e,t){return tp=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},tp(e,t)}function rp(e){return rp=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},rp(e)}Kd.propTypes={item:F().object,onDeleteAction:F().func,onItemClicked:F().func,onFolderClicked:F().func,onEditLabel:F().func,mode:F().oneOf(["book","selector","inner"]),bookColumn:F().bool},Kd=Jd(Kd),Kd=(0,K.muiThemeable)()(Kd);var np=a(6689).Component,op=a(9455),ip=op.Divider,ap=op.Subheader,sp=op.List,cp=op.ListItem,lp=op.FontIcon,up=op.Avatar,dp=a(6880),pp=a(757).requireLib("boot").PydioContextConsumer,fp=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&tp(e,t)}(a,e);var t,r,n,o,i=(n=a,o=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,t=rp(n);if(o){var r=rp(this).constructor;e=Reflect.construct(t,arguments,r)}else e=t.apply(this,arguments);return function(e,t){if(t&&("object"===Yd(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}(this,e)});function a(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,a),i.apply(this,arguments)}return t=a,r=[{key:"render",value:function(){var e=this,t=this.props,r=t.graph,n=t.pydio,o=t.getMessage,i=t.muiTheme,a=t.reloadAction,s=n.getController().actions.has("user_team_create"),c=[];if(r.teams&&r.teams.length){var l=null;s&&(l=function(t,r){dp.getRestClient().getIdmApi().removeUserFromTeam(r[0].id,e.props.userId,(function(e){e&&e.message&&n.UI.displayMessage("SUCCESS",e.message),a()}))}),c.push(React.createElement("div",{key:"teams"},React.createElement(Kd,{subHeader:o(581).replace("%s",r.teams.length),onItemClicked:function(){},item:{leafs:r.teams},mode:"inner",onDeleteAction:l})))}if(r.cells){var u=Object.values(r.cells).filter((function(e){return"ROOM"===e.Scope})),d="mui3"===i.userTheme?i.palette.mui3.tertiary:"#009688",p="mui3"===i.userTheme?i.palette.mui3["on-tertiary"]:"#fff";u.length&&c.push(React.createElement("div",null,c.length?React.createElement(ip,null):null,React.createElement(ap,null,1===u.length?o("601"):o("602").replace("%1",u.length)),React.createElement(sp,{style:{paddingTop:0}},u.map((function(e){return React.createElement(cp,Xd({disabled:!0,leftAvatar:React.createElement(up,{icon:React.createElement(lp,{className:"mdi mdi-share-variant",style:{color:p}}),backgroundColor:d,size:cd.avatar.avatarSize,style:cd.avatar.style}),primaryText:e.Label,rightIconButton:React.createElement(v.IconButton,Xd({iconClassName:"mdi mdi-open-in-new",tooltip:"Go to Cell",tooltipPosition:"top-left",onClick:function(){n.triggerRepositoryChange(e.UUID)}},cd.iconButton))},cd.listItem))})))))}return React.createElement("div",null,c)}}],r&&Qd(t.prototype,r),Object.defineProperty(t,"prototype",{writable:!1}),a}(np);function hp(e){return hp="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},hp(e)}fp=pp((0,K.muiThemeable)()(fp));var mp=["style"],yp=["style"];function gp(){return gp=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},gp.apply(this,arguments)}function bp(e,t){if(null==e)return{};var r,n,o=function(e,t){if(null==e)return{};var r,n,o={},i=Object.keys(e);for(n=0;n<i.length;n++)r=i[n],t.indexOf(r)>=0||(o[r]=e[r]);return o}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(n=0;n<i.length;n++)r=i[n],t.indexOf(r)>=0||Object.prototype.propertyIsEnumerable.call(e,r)&&(o[r]=e[r])}return o}function vp(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function kp(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?vp(Object(r),!0).forEach((function(t){wp(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):vp(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function wp(e,t,r){return(t=Sp(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function _p(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,Sp(n.key),n)}}function Sp(e){var t=function(e,t){if("object"!==hp(e)||null===e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,"string");if("object"!==hp(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"===hp(t)?t:String(t)}function Op(e,t){return Op=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},Op(e,t)}function Pp(e){return Pp=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},Pp(e)}var Ep=a(4305),Cp=a(9105),xp=a(9455),jp=xp.FontIcon,Tp=xp.Paper,Rp=xp.Avatar,zp=xp.CardTitle,Ip=a(3173).muiThemeable,Ap=a(5829),Mp=a(2702).UsersApi,Dp=W().requireLib("hoc").ThemedContainers.Popover,Np=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&Op(e,t)}(s,e);var r,n,o,i,a=(o=s,i=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,t=Pp(o);if(i){var r=Pp(this).constructor;e=Reflect.construct(t,arguments,r)}else e=t.apply(this,arguments);return function(e,t){if(t&&("object"===hp(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}(this,e)});function s(e,t){var r;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,s),(r=a.call(this,e,t)).state={user:null,avatar:null,graph:null,local:!1},r}return r=s,n=[{key:"componentDidMount",value:function(){this.loadPublicData(this.props.userId,this.props.idmUser)}},{key:"componentWillReceiveProps",value:function(e){this.props.userId&&this.props.userId===e.userId&&e.graphRand===this.props.graphRand||(this.setState({label:e.userId}),this.loadPublicData(e.userId,e.idmUser))}},{key:"componentWillUnmount",value:function(){this._userLoggedObs&&this.props.pydio.stopObserving("user_logged",this._userLoggedObs)}},{key:"loadPublicData",value:function(e,t){var r=this,n=this.props,o=n.userType,i=n.richCard,a=n.pydio;"group"!==o&&"team"!==o&&Mp.getUserPromise(e,t).then((function(t){t.isLocal()&&!r._userLoggedObs&&(r._userLoggedObs=function(t){null!==t&&r.loadPublicData(e)},a.observe("user_logged",r._userLoggedObs)),r.setState({user:t,avatar:t.getAvatar(),local:t.isLocal()}),i&&!t.isNotFound()&&Rn().getRestClient().getIdmApi().loadUserGraph(e).then((function(e){var t={cells:{},teams:[]};e.SharedCells&&e.SharedCells.forEach((function(r){t.cells=e.SharedCells})),e.BelongsToTeams&&e.BelongsToTeams.forEach((function(e){t.teams.push({id:e.Uuid,label:e.Label,type:"team",IdmRole:e})})),r.setState({graph:t})}))})).catch((function(e){r.setState({loadError:!0})}))}},{key:"render",value:function(){var e=this,r=this.state,n=r.user,o=r.avatar,i=r.graph,a=r.local,c=r.loadError,l=this.props,u=l.pydio,d=l.userId,p=l.userType,f=l.icon,h=l.style,m=l.labelStyle,y=l.avatarLetters,g=l.avatarStyle,b=l.avatarSize,v=l.cardStyle,k=l.cardTitleStyle,w=l.cardSubtitleStyle,_=l.className,S=l.labelMaxChars,O=l.labelClassName,P=l.avatarClassName,E=l.displayLabel,C=l.displayLocalLabel,x=l.displayLabelChevron,j=l.labelChevronStyle,T=l.displayAvatar,R=l.useDefaultAvatar,z=l.richCard,I=l.muiTheme,A=l.noActionsPanel;if(!d)return t().createElement("div",null,"ERROR : empty userId ! ");var M,D,N,L,U,B,F,q,W,Z,H,$,V=this.state.label,G=c,J=!1;if(n?(V=n.getLabel(),G=n.isNotFound(),n.isPublic()&&(V=u.MessageHash.public_link_user,J=!0)):V||(V=this.props.userLabel||this.props.userId),a&&C&&(V=u.MessageHash[634]),S&&V&&V.length>S&&(V.split(" ").length>1?(M=V,V=V.split(" ").map((function(e){return e[0]})).join("")):V.split("@").length>1&&(M=V,V=V.split("@")[0].split(".").length>1?V.split("@")[0].split(".").map((function(e){return e[0]})).join(""):V.split("@")[0])),z&&(T=!0,R=!0,E=!0),T&&!o&&V&&(!E||R)){var K,Y=I.palette.avatarsColor;switch("group"!==p&&"team"!==p&&0!==d.indexOf("PYDIO_GRP_/")&&0!==d.indexOf("/USER_TEAM/")||(Y=Cp(Y).darken(.2).toString()),p){case"group":K="mdi mdi-account-multiple",D="289",B="folder-avatar";break;case"team":K="mdi mdi-account-multiple-outline",D="603",B="folder-avatar";break;case"remote":K="mdi mdi-account-network",D="604",B="folder-avatar";break;default:K="mdi mdi-account",n?n.getExternal()?(D="589",n.isPublic()&&(D="589",V=u.MessageHash.public_link_user,K="mdi mdi-link")):D="590":D="288"}f&&(K=f),D&&(D=u.MessageHash[D]),z?(U=t().createElement(jp,{className:K,style:{color:Y}}),L="#f5f5f5"):(L=Y,K&&!y?U=t().createElement(jp,{className:K}):(N=V.split(" ").map((function(e){return e[0]})).join("").substring(0,2)).length<2&&(N=V.substring(0,2)))}if(z){T=!0,h=kp(kp({},h),{},{flexDirection:"column"}),void 0===b&&(b=50),g=kp({position:"absolute",right:16,top:12},g);var X=function(){Ap.getInstance().deleteKey("user_public_data-graph",e.props.userId),e.loadPublicData(e.props.userId,e.props.idmUser)};F=function(){X(),e.props.reloadAction&&e.props.reloadAction()},q=function(){X(),e.props.onEditAction&&e.props.onEditAction()}}else if(a||G||J||!this.props.richOnHover){if(!a&&!G&&!J&&this.props.richOnClick){Z=Ep(Z=function(){e.lockedBySubPopover||e.setState({showPopover:!1})},350),H=function(t){e.setState({showPopover:!0,popoverAnchor:t.currentTarget}),Z.cancel()};var Q=function(t){e.setState({showPopover:!0}),Z.cancel()},ee=this.props,te=(ee.style,bp(ee,yp));$=t().createElement(Dp,{open:this.state.showPopover,anchorEl:this.state.popoverAnchor,onRequestClose:function(t){"clickAway"===t&&e.lockedBySubPopover||e.setState({showPopover:!1})},anchorOrigin:{horizontal:"left",vertical:"bottom"},targetOrigin:{horizontal:"left",vertical:"top"},useLayerForClickAway:!1},t().createElement(Tp,{zDepth:2,style:{width:220,height:320,overflowY:"auto"},onMouseOver:Q,onMouseOut:Z},t().createElement(s,gp({},te,{richCard:!0,richOnHover:!1,cardSize:220,lockOnSubPopoverOpen:function(t){e.lockedBySubPopover=t,Q()}}))))}}else{Z=Ep(Z=function(){e.lockedBySubPopover||e.setState({showPopover:!1})},350),W=function(t){e.setState({showPopover:!0,popoverAnchor:t.currentTarget}),Z.cancel()};var re=function(t){e.setState({showPopover:!0}),Z.cancel()},ne=this.props,oe=(ne.style,bp(ne,mp));$=t().createElement(Dp,{open:this.state.showPopover,anchorEl:this.state.popoverAnchor,onRequestClose:function(t){"clickAway"===t&&e.lockedBySubPopover||e.setState({showPopover:!1})},anchorOrigin:{horizontal:"left",vertical:"center"},targetOrigin:{horizontal:"right",vertical:"center"},useLayerForClickAway:!1},t().createElement(Tp,{zDepth:2,style:{width:220,height:320,overflowY:"auto"},onMouseOver:re,onMouseOut:Z},t().createElement(s,gp({},oe,{richCard:!0,richOnHover:!1,cardSize:220,lockOnSubPopoverOpen:function(t){e.lockedBySubPopover=t,re()}}))))}if(o){var ie=o;ie.indexOf("?")>=0?ie+="&dim="+b:ie+="?dim="+b,U=t().createElement(jp,{style:{backgroundImage:"url("+ie+")",backgroundSize:"cover",margin:0,width:"100%",height:"100%",borderRadius:"50%",backgroundPosition:"center"}})}var ae,se=t().createElement(Rp,{icon:U,size:b,style:this.props.avatarOnly?this.props.style:g,backgroundColor:L,className:B||P},N);return this.props.avatarOnly?se:(z?se=t().createElement("div",{style:{textAlign:"center"}},se):G&&(V=u.MessageHash["user.unknown"]),E&&x&&(ae=t().createElement("span",{className:"mdi mdi-chevron-down",style:kp(kp({},j),{},{marginLeft:4,fontSize:"0.8em"})})),t().createElement("div",{className:_,style:h,onMouseOver:W,onMouseOut:Z,onClick:H},T&&(o||N||U)&&se,E&&!z&&t().createElement("div",{title:M,className:O,style:m},V),ae,E&&z&&t().createElement(zp,{style:kp({textAlign:"center"},v),title:V,subtitle:D,titleStyle:kp({},k),subtitleStyle:kp({},w)}),z&&n&&this.props.actionsPanel,z&&i&&!A&&t().createElement(fp,gp({graph:i},this.props,{userLabel:V,reloadAction:F,onEditAction:q})),this.props.children,$))}}],n&&_p(r.prototype,n),Object.defineProperty(r,"prototype",{writable:!1}),s}(t().Component);Np.propTypes={userId:F().string.isRequired,pydio:F().instanceOf(W()),userLabel:F().string,userType:F().oneOf(["user","group","remote","team"]),icon:F().string,richCard:F().bool,richOnHover:F().bool,richOnClick:F().bool,userEditable:F().bool,onEditAction:F().func,onDeleteAction:F().func,reloadAction:F().func,displayLabel:F().bool,displayLocalLabel:F().bool,displayAvatar:F().bool,avatarOnly:F().bool,useDefaultAvatar:F().bool,avatarSize:F().number,avatarLetters:F().bool,noActionsPanel:F().bool,className:F().string,labelClassName:F().string,avatarClassName:F().string,style:F().object,labelStyle:F().object,avatarStyle:F().object},Np.defaultProps={displayLabel:!0,displayAvatar:!0,avatarSize:40,userType:"user",className:"user-avatar-widget",labelClassName:"user-label"},Np=Ip()(Np);var Lp=a(7180),Up=a.n(Lp);const Bp=require("pydio/util/pass");var Fp=a.n(Bp);const qp=require("pydio/http/policies");var Wp=a.n(qp);const Zp=require("cells-sdk");function Hp(e){return Hp="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Hp(e)}function $p(e){return function(e){if(Array.isArray(e))return Vp(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||function(e,t){if(e){if("string"==typeof e)return Vp(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?Array.from(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?Vp(e,t):void 0}}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Vp(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function Gp(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function Jp(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?Gp(Object(r),!0).forEach((function(t){Kp(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Gp(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function Kp(e,t,r){return(t=Xp(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Yp(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,Xp(n.key),n)}}function Xp(e){var t=function(e,t){if("object"!==Hp(e)||null===e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,"string");if("object"!==Hp(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"===Hp(t)?t:String(t)}function Qp(e,t){return Qp=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},Qp(e,t)}function ef(e){return ef=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},ef(e)}var tf=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&Qp(e,t)}(s,e);var r,n,o,i,a=(o=s,i=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,t=ef(o);if(i){var r=ef(this).constructor;e=Reflect.construct(t,arguments,r)}else e=t.apply(this,arguments);return function(e,t){if(t&&("object"===Hp(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}(this,e)});function s(e){var t;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,s);var r=Jp({},e);return e.subjectsDisabled||(r.subjectsDisabled={READ:{},WRITE:{}}),e.cellAcls&&Object.keys(e.cellAcls).map((function(t){e.cellAcls[t].RoleId&&(r.subjectsDisabled.READ["role:"+e.cellAcls[t].RoleId]=!0)})),(t=a.call(this,r)).state={edit:!1,loading:!0,policies:[],diffPolicies:{add:{},remove:{}},hideGroups:!0===W().getInstance().getPluginConfigs("action.advanced_settings").get("DISABLE_SHARE_GROUPS")},t}return r=s,n=[{key:"componentDidMount",value:function(){this.setState({loading:!0}),this.reload()}},{key:"reload",value:function(){var e=this,t=this.props,r=t.resourceType,n=t.resourceId,o=pydio.user,i=[Wp().loadPolicies(r,n),o.getIdmUser()];"team"!==r&&i.push(Rn().getRestClient().getIdmApi().listTeams()),Promise.all(i).then((function(t){var n=t[0],o=n[0].Resource,i=t[1],a=[];"team"!==r&&t[2]&&(a=t[2].Teams),e.setState({policies:n,idmUser:i,userTeams:a,loading:!1,resourceUuid:o})})).catch((function(t){e.setState({error:t.message,loading:!1})}))}},{key:"revert",value:function(){this.setState({dirtyPolicies:null,diffPolicies:{add:{},remove:{}}})}},{key:"save",value:function(){var e=this,t=this.state,r=t.dirtyPolicies,n=t.diffPolicies,o=this.props,i=o.resourceType,a=o.resourceId,s=o.onSavePolicies;Wp().savePolicies(i,a,r).then((function(t){e.setState({policies:t,dirtyPolicies:null,diffPolicies:{add:{},remove:{}}}),s&&s(n)})).catch((function(t){e.setState({error:t.message})}))}},{key:"removePolicy",value:function(e,t){var r=this.state,n=r.policies,o=r.dirtyPolicies,i=r.diffPolicies;o&&(n=o);var a=[];n.map((function(r){r.Action===e&&r.Subject===t||a.push(r)})),i.remove[e+"///"+t]=!0,i.add[e+"///"+t]&&delete i.add[e+"///"+t],this.setState({dirtyPolicies:a,diffPolicies:i})}},{key:"addPolicy",value:function(e,t){var r=arguments.length>2&&void 0!==arguments[2]&&arguments[2],n=this.state,o=n.policies,i=n.dirtyPolicies,a=n.resourceUuid,s=n.diffPolicies,c=$p(i||o),l=new Zp.ServiceResourcePolicy;l.Resource=a,l.Effect="allow",l.Subject=t,l.Action=e,c.push(l),s.add[e+"///"+t]=!0,s.remove[e+"///"+t]&&delete s.remove[e+"///"+t],r?this.setState({dirtyPolicies:c,diffPolicies:s,pickedUser:null,pickedLabel:null}):this.setState({dirtyPolicies:c,diffPolicies:s})}},{key:"hasOneWrite",value:function(e){var t=this.state.idmUser,r=t.Roles.map((function(e){return"role:"+e.Uuid}));r.push("user:"+t.Login);for(var n=0;n<r.length;n++)for(var o=0;o<e.length;o++)if(e[o].Subject===r[n]&&"WRITE"===e[o].Action)return!0;return!1}},{key:"findCrtUserSubject",value:function(e){var t=this.state.idmUser,r=["user:"+t.Login,"role:"+t.Uuid],n=e.filter((function(e){return r.indexOf(e.Subject)>-1}));return n.length?n[0].Subject:r[0]}},{key:"listUserRoles",value:function(e){var t=this.state,r=t.hideGroups,n=t.idmUser,o=this.findCrtUserSubject(e),i=this.hasOneWrite(e),a={};n.Roles.map((function(e){e.GroupRole&&!r&&(a["role:"+e.Uuid]=e.Label)})),(a=Jp(Jp({},this.listOtherUsersSubjects(e,o)),a))[o]="You";for(var s=Object.keys(a),c=[],l=s.length-1;l>=0;l--){var u=s[l],d=a[u];c.push(this.renderLine(u,d,e,!i||u===o))}return{groupBlocks:c,hasWrite:i}}},{key:"listUserTeams",value:function(e,t,r){var n=this;return e.map((function(e){return n.renderLine("role:"+e.Uuid,e.Label,t,r)}))}},{key:"listOtherUsersSubjects",value:function(e,t){var r=this.props,n=r.resourceId,o=r.cellAcls,i=this.state.hideGroups,a={};return e.map((function(e){if(0===e.Subject.indexOf("user:")&&e.Subject!==t&&e.Subject!=="user:"+n&&(a[e.Subject]=e.Subject.substr(5)),o&&0===e.Subject.indexOf("role:")&&o[e.Subject.substr(5)]){var r=e.Subject.substr(5);if(o[r].User){var s=o[r].User;t!=="user:"+s.Login&&t!=="role:"+s.Uuid&&(a[e.Subject]=s.Attributes&&s.Attributes.displayName?s.Attributes.displayName:s.Login)}else if(o[r].Group&&!i){var c=o[r].Group;a[e.Subject]=c.Attributes&&c.Attributes.displayName?c.Attributes.displayName:c.GroupLabel}}})),a}},{key:"pickUser",value:function(e){var t,r;if(e.IdmUser){var n=e.IdmUser,o=n.Attributes||{};n.IsGroup?(t="role:"+n.Uuid,r=o.displayName||n.GroupLabel):(t="user:"+n.Login,r=o.displayName||n.Login)}else{var i=e.IdmRole;t="role:"+i.Uuid,r=i.Label}this.setState({pickedUser:t,pickedLabel:r})}},{key:"renderLine",value:function(e,r,n,o){var i=this,a=arguments.length>4&&void 0!==arguments[4]&&arguments[4],s=this.props,c=s.subjectsDisabled,l=s.subjectsHidden,u=s.readonly;if(l&&l[e])return null;var d=!1,p=!1,f=function(){i.addPolicy("READ",e,a)},h=function(){i.addPolicy("WRITE",e,a)};n.map((function(t){t.Subject===e&&("WRITE"===t.Action?(p="WRITE"===t.Action,h=function(){i.removePolicy("WRITE",e)}):"READ"===t.Action&&(d="READ"===t.Action,f=function(){i.removePolicy("READ",e)}))}));var m=o,y=o;return u?(y=!0,m=!0):(c&&c.READ&&c.READ[e]&&(y=!0),c&&c.WRITE&&c.WRITE[e]&&(m=!0)),t().createElement("div",{style:{display:"flex",margin:10,marginRight:0}},t().createElement("div",{style:{flex:1}},r),t().createElement(v.Checkbox,{checked:d,disabled:y,style:{width:40},onCheck:f}),t().createElement(v.Checkbox,{checked:p,disabled:m,style:{width:40},onCheck:h}))}},{key:"render",value:function(){var e=this,r=this.props.muiTheme,n=r.appBar,o=r.palette.mui3,i=void 0===o?{}:o,a={title:{paddingLeft:10,backgroundColor:n.color,display:"flex",alignItems:"center",fontSize:16,color:n.textColor},subheader:{margin:10,fontWeight:500,color:i["on-surface-variant"],display:"flex"},subject:{margin:10},head:{display:"inline-block",width:40,textAlign:"center",fontSize:10}},s=this.state,c=s.edit,l=s.policies,u=s.dirtyPolicies,d=s.error,p=s.idmUser,f=s.userTeams,h=s.loading,m=s.pickedUser,y=s.pickedLabel,g=this.props,b=g.onDismiss,k=g.style,w=g.skipTitle,_=g.resourceId,S=g.pydio,O=g.userListExcludes,P=void 0===O?[]:O,E=g.readonly,C=g.description,x=[],j=S.MessageHash;if(!c)return t().createElement("div",{style:k},!w&&t().createElement("div",{style:Jp(Jp({},a.title),{},{height:48})},t().createElement("span",{style:{flex:1}},j["visibility.panel.title"]),b&&t().createElement(v.IconButton,{iconClassName:"mdi mdi-close",onClick:b,iconStyle:{color:n.textColor}})),t().createElement("div",{style:{padding:20,fontWeight:500,textAlign:"justify"}},t().createElement("div",{style:{paddingBottom:20}},C),t().createElement("div",{style:{textAlign:"center"}},t().createElement(v.RaisedButton,{label:j["visibility.panel.edit"],primary:!0,onClick:function(){e.setState({edit:!0})}}))));if(!h&&!d){var T=this.listUserRoles(u||l),R=T.groupBlocks,z=T.hasWrite,I=this.listUserTeams(f,u||l,!z),A=t().createElement("div",null,t().createElement("span",{style:a.head},j["visibility.panel.right-read"]),t().createElement("span",{style:a.head},j["visibility.panel.right-edit"]));if(R.length&&(x.push(t().createElement("div",{style:a.subheader},t().createElement("span",{style:{flex:1}},j["visibility.panel.list.users"]),A)),x.push(R),x.push(t().createElement(v.Divider,null))),I.length&&(x.push(t().createElement("div",{style:a.subheader},t().createElement("span",{style:{flex:1}},j["visibility.panel.list.teams"]),A)),x.push(I),x.push(t().createElement(v.Divider,null))),m)x.push(t().createElement("div",{style:a.subheader},j["visibility.panel.setvisible"])),x.push(this.renderLine(m,y,l,!1,!0)),x.push(t().createElement("div",{style:{textAlign:"right"}},t().createElement(v.FlatButton,{label:j[54],onClick:function(){e.setState({pickedUser:null,pickedLabel:null})}}))),x.push(t().createElement(v.Divider,null));else if(!E){var M="user:"+p.Login,D=this.listOtherUsersSubjects(u||l,M),N=[];Object.keys(D).map((function(e){N.push(D[e])})),x.push(t().createElement("div",{style:a.subheader},j["visibility.panel.setvisible"])),x.push(t().createElement("div",{style:{margin:"-10px 10px 0"}},t().createElement(jg,{className:"share-form-users",fieldLabel:j["visibility.panel.pickuser"],renderSuggestion:function(e){return t().createElement("div",{style:{fontSize:13}},e.getExtendedLabel())},onValueSelected:this.pickUser.bind(this),usersOnly:!1,existingOnly:!0,excludes:[_].concat($p(P),N),pydio:S,showAddressBook:!1,usersFrom:"local"}))),x.push(t().createElement(v.Divider,null))}x.pop()}return t().createElement("div",{style:k},t().createElement("div",{style:a.title},t().createElement("span",{style:{flex:1}},w?"":j["visibility.panel.title"]),u&&t().createElement(v.IconButton,{iconClassName:"mdi mdi-undo-variant",tooltip:j["visibility.panel.revert"],onClick:this.revert.bind(this),iconStyle:{color:n.textColor}}),u&&t().createElement(v.IconButton,{iconClassName:"mdi mdi-content-save",tooltip:j["visibility.panel.save"],onClick:this.save.bind(this),iconStyle:{color:n.textColor}}),!u&&b&&t().createElement(v.IconButton,{iconClassName:"mdi mdi-close",onClick:b,iconStyle:{color:n.textColor}})),d&&t().createElement("div",null,j["visibility.panel.error"],": ",d),t().createElement("div",null,x))}}],n&&Yp(r.prototype,n),Object.defineProperty(r,"prototype",{writable:!1}),s}(t().Component);function rf(e){return rf="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},rf(e)}function nf(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function of(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?nf(Object(r),!0).forEach((function(t){af(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):nf(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function af(e,t,r){return(t=cf(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function sf(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,cf(n.key),n)}}function cf(e){var t=function(e,t){if("object"!==rf(e)||null===e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,"string");if("object"!==rf(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"===rf(t)?t:String(t)}function lf(e,t){return lf=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},lf(e,t)}function uf(e){return uf=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},uf(e)}tf.PropTypes={pydio:F().instanceOf(W()),resourceType:F().string.isRequired,resourceId:F().string.isRequired,description:F().string.isRequired,onSavePolicies:F().func,userListExcludes:F().array,subjectsDisabled:F().array,subjectsHidden:F().object,readonly:F().bool,cellAcls:F().object,onDismiss:F().func,style:F().object,skipTitle:F().bool},tf=(0,K.muiThemeable)()(tf);var df=a(6689),pf=a(6880),ff=a(2610),hf=a(5829),mf=a(9455).IconButton,yf=a(3173).muiThemeable,gf=a(757).requireLib("boot"),bf=gf.PydioContextConsumer,vf=gf.AsyncComponent,kf=W().requireLib("hoc").ThemedContainers.Popover,wf=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&lf(e,t)}(a,e);var t,r,n,o,i=(n=a,o=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,t=uf(n);if(o){var r=uf(this).constructor;e=Reflect.construct(t,arguments,r)}else e=t.apply(this,arguments);return function(e,t){if(t&&("object"===rf(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}(this,e)});function a(e,t){var r;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,a),(r=i.call(this,e,t)).state={showPicker:!1,pickerAnchor:null,showMailer:!1,mailerAnchor:null,showPolicies:!1,policiesAnchor:null},r}return t=a,r=[{key:"onTeamSelected",value:function(e){var t=this.props,r=t.userId,n=t.reloadAction;this.setState({showPicker:!1}),e.IdmRole&&e.IdmRole.IsTeam&&pf.getRestClient().getIdmApi().addUserToTeam(e.IdmRole.Uuid,r,(function(){hf.getInstance().deleteKey("user_public_data-graph",r),n()}))}},{key:"onUserSelected",value:function(e){var t=this.props,r=t.team,n=t.reloadAction;pf.getRestClient().getIdmApi().addUserToTeam(r.id,e.IdmUser.Login,n)}},{key:"openPicker",value:function(e){this.setState({showPicker:!0,pickerAnchor:e.currentTarget})}},{key:"openPolicies",value:function(e){this.setState({showPolicies:!0,policiesAnchor:e.currentTarget})}},{key:"openMailer",value:function(e){var t=this,r=e.currentTarget;ff.loadClassesAndApply(["PydioMailer"],(function(){t.setState({mailerLibLoaded:!0},(function(){t.setState({showMailer:!0,mailerAnchor:r})}))}))}},{key:"componentDidUpdate",value:function(e,t){this.props.lockOnSubPopoverOpen&&(!this.state.showPicker&&!this.state.showMailer||t.showPicker||t.showMailer?this.state.showPicker||this.state.showMailer||!t.showPicker&&!t.showMailer||this.props.lockOnSubPopoverOpen(!1):this.props.lockOnSubPopoverOpen(!0))}},{key:"render",value:function(){var e,t,r=this,n=this.props,o=n.pydio,i=n.getMessage,a=n.muiTheme,s=n.userEditable,c=n.userId,l=n.style,u=n.otherPopoverMouseOver,d=n.team,p=n.user,f=n.onEditAction,h=n.onDeleteAction,m=n.buttonStyle,y=n.iconStyle,g=o.getController().actions.has("user_team_create"),b="mui3"===a.userTheme?a.palette.mui3.primary:a.palette.accent2Color,v={button:of({border:"0px solid "+b,backgroundColor:"mui3"===a.userTheme?a.palette.mui3["primary-container"]:"transparent",borderRadius:"50%",margin:"0 4px",width:36,height:36,padding:8},m),icon:of({fontSize:20,color:b},y)},k={},w=[];return p&&p.IdmUser&&p.IdmUser.Attributes&&(p.IdmUser.Attributes.hasEmail||p.IdmUser.Attributes.email)&&(w.push({key:"message",label:i(598),icon:"email",callback:this.openMailer.bind(this)}),k[p.IdmUser.Login]=p.IdmUser),d?(e="team",t=d.id,g&&w.push({key:"users",label:i(599),icon:"account-multiple-plus",callback:this.openPicker.bind(this)})):(e="user",t=c,g&&w.push({key:"teams",label:i(573),icon:"account-multiple-plus",callback:this.openPicker.bind(this)})),!s||d&&!g||(f&&w.push({key:"edit",label:i(d?580:600),icon:"pencil",callback:f}),w.push({key:"policies",label:i("visibility.panel.title"),icon:"security",callback:this.openPolicies.bind(this)}),h&&w.push({key:"delete",label:i(d?570:582),icon:"delete",callback:h})),0===w.length?null:df.createElement("div",{style:of({},l)},w.map((function(e){return df.createElement(mf,{key:e.key,style:v.button,iconStyle:v.icon,tooltip:e.label,iconClassName:"mdi mdi-"+e.icon,onClick:e.callback})})),df.createElement(kf,{open:this.state.showPicker,anchorEl:this.state.pickerAnchor,anchorOrigin:{horizontal:"right",vertical:"top"},targetOrigin:{horizontal:"right",vertical:"top"},onRequestClose:function(){r.setState({showPicker:!1})},useLayerForClickAway:!1,style:{zIndex:2200}},df.createElement("div",{style:{width:256,height:320}},df.createElement(mg,{mode:"selector",pydio:o,loaderStyle:{width:320,height:320},onItemSelected:d?this.onUserSelected.bind(this):this.onTeamSelected.bind(this),teamsOnly:!d,usersOnly:!!d}))),df.createElement(kf,{open:this.state.showMailer,anchorEl:this.state.mailerAnchor,anchorOrigin:{horizontal:"right",vertical:"top"},targetOrigin:{horizontal:"right",vertical:"top"},useLayerForClickAway:!1,style:{zIndex:2200}},df.createElement("div",{style:{width:256,height:320}},this.state.mailerLibLoaded&&df.createElement(vf,{namespace:"PydioMailer",componentName:"Pane",pydio:o,zDepth:0,panelTitle:i(598),uniqueUserStyle:!0,users:k,templateId:"DM",templateData:{From:o.user.getPreference("displayName")||o.user.id},onDismiss:function(){r.setState({showMailer:!1})},onFieldFocus:u}))),df.createElement(kf,{open:this.state.showPolicies,anchorEl:this.state.policiesAnchor,anchorOrigin:{horizontal:"right",vertical:"top"},targetOrigin:{horizontal:"right",vertical:"top"},useLayerForClickAway:!1,style:{zIndex:2e3}},df.createElement("div",{style:{width:256,height:320}},df.createElement(tf,{description:o.MessageHash["visibility.users.advanced"],pydio:o,resourceType:e,resourceId:t,onDismiss:function(){r.setState({showPolicies:!1})}}))))}}],r&&sf(t.prototype,r),Object.defineProperty(t,"prototype",{writable:!1}),a}(df.Component);function _f(e){return _f="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},_f(e)}wf.propTypes={user:F().object,team:F().object,userEditable:F().bool,pydio:F().object,getMessage:F().func,userId:F().string,style:F().object,onEditAction:F().func,onDeleteAction:F().func,reloadAction:F().func},wf=bf(wf),wf=yf()(wf);var Sf=["style"];function Of(){return Of=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Of.apply(this,arguments)}function Pf(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function Ef(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?Pf(Object(r),!0).forEach((function(t){Cf(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Pf(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function Cf(e,t,r){return(t=jf(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function xf(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,jf(n.key),n)}}function jf(e){var t=function(e,t){if("object"!==_f(e)||null===e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,"string");if("object"!==_f(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"===_f(t)?t:String(t)}function Tf(e,t){return Tf=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},Tf(e,t)}function Rf(e){return Rf=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},Rf(e)}var zf=a(9455),If=zf.TextField,Af=zf.FlatButton,Mf=zf.CardTitle,Df=a(757).requireLib("boot").PydioContextConsumer,Nf=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&Tf(e,t)}(s,e);var r,n,o,i,a=(o=s,i=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,t=Rf(o);if(i){var r=Rf(this).constructor;e=Reflect.construct(t,arguments,r)}else e=t.apply(this,arguments);return function(e,t){if(t&&("object"===_f(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}(this,e)});function s(e,t){var r;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,s),(r=a.call(this,e,t)).state={label:r.props.item.label},r}return r=s,n=[{key:"loadMembers",value:function(e){var t=this;this.setState({loading:!0}),kd.childrenAsPromise(e,!1).then((function(r){kd.childrenAsPromise(e,!0).then((function(r){t.setState({members:e.leafs,loading:!1})}))}))}},{key:"componentWillMount",value:function(){this.loadMembers(this.props.item)}},{key:"componentWillReceiveProps",value:function(e){this.loadMembers(e.item),this.setState({label:e.item.label})}},{key:"onLabelChange",value:function(e,t){this.setState({label:t})}},{key:"updateLabel",value:function(){var e=this;this.state.label!==this.props.item.label&&Rn().getRestClient().getIdmApi().updateTeamLabel(this.props.item.IdmRole.Uuid,this.state.label,(function(){e.props.onUpdateAction(e.props.item)})),(0,this.props.setEdit)(!1)}},{key:"render",value:function(){var e,r=this,n=this.props,o=n.model,i=n.item,a=n.onDeleteAction,s=n.getMessage,c=n.edit,l=n.setEdit,u=n.muiTheme,d={team:i,userEditable:this.props.item.IdmRole.PoliciesContextEditable,onDeleteAction:function(){r.props.onDeleteAction(i._parent,[i])},onEditAction:function(){l(!0)},reloadAction:function(){r.props.onUpdateAction(i)}};e=c?t().createElement("div",{style:{display:"flex",alignItems:"center",padding:12}},t().createElement(If,{style:{flex:1,fontSize:24},fullWidth:!0,disabled:!1,underlineShow:!1,value:this.state.label,onChange:this.onLabelChange.bind(this)}),t().createElement(Af,{secondary:!0,label:s(48),onClick:function(){r.updateLabel()}})):t().createElement(Mf,{style:{padding:"12px 16px 4px"},title:this.state.label,subtitle:i.leafs&&i.leafs.length?s(576).replace("%s",i.leafs.length):s(577)});var p=this.props,f=(p.style,function(e,t){if(null==e)return{};var r,n,o=function(e,t){if(null==e)return{};var r,n,o={},i=Object.keys(e);for(n=0;n<i.length;n++)r=i[n],t.indexOf(r)>=0||(o[r]=e[r]);return o}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(n=0;n<i.length;n++)r=i[n],t.indexOf(r)>=0||Object.prototype.propertyIsEnumerable.call(e,r)&&(o[r]=e[r])}return o}(p,Sf)),h={};return"mui3"!==u.userTheme&&(h={borderTop:"1px solid #e0e0e0",borderBottom:"1px solid #e0e0e0"}),t().createElement("div",null,t().createElement("div",{style:{paddingBottom:4}},e,t().createElement(wf,Of({},f,d,{style:Ef({paddingLeft:8},h)}))),t().createElement(Kd,{model:o,subHeader:s(575),onItemClicked:function(){},item:i,mode:"inner",onDeleteAction:a}))}}],n&&xf(r.prototype,n),Object.defineProperty(r,"prototype",{writable:!1}),s}(t().Component);function Lf(e){return Lf="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Lf(e)}function Uf(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function Bf(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?Uf(Object(r),!0).forEach((function(t){Ff(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Uf(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function Ff(e,t,r){return(t=Wf(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function qf(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,Wf(n.key),n)}}function Wf(e){var t=function(e,t){if("object"!==Lf(e)||null===e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,"string");if("object"!==Lf(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"===Lf(t)?t:String(t)}function Zf(e,t){return Zf=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},Zf(e,t)}function Hf(e){return Hf=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},Hf(e)}Nf.propTypes={pydio:F().instanceOf(Pydio),item:F().object,style:F().object,onRequestClose:F().func,onDeleteAction:F().func,onUpdateAction:F().func},Nf=Df((0,K.muiThemeable)()(Nf));var $f=W().requireLib("form"),Vf=$f.Manager,Gf=$f.FormPanel,Jf=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&Zf(e,t)}(s,e);var r,n,o,i,a=(o=s,i=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,t=Hf(o);if(i){var r=Hf(this).constructor;e=Reflect.construct(t,arguments,r)}else e=t.apply(this,arguments);return function(e,t){if(t&&("object"===Lf(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}(this,e)});function s(e,t){var r;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,s);var n=(r=a.call(this,e,t)).props,o=n.pydio,i=n.newUserName,c=n.editMode,l=n.userData,u=o.getPluginConfigs("action.share").get("SHARED_USERS_TMP_PREFIX");u&&!i.startsWith(u)||(u="");var d={new_password:"",send_email:o.Parameters.get("validMailer")};if(c&&l&&l.IdmUser){var p=l.IdmUser;r.getParameters().forEach((function(e){var t,r=e.name,n=e.IdmUserField,o=e.scope,i=e.pluginId;n?t=p[n]:"user"===o&&p.Attributes?t=p.Attributes[r]:i&&p.Attributes["parameter:"+i+":"+r]&&(t=JSON.parse(p.Attributes["parameter:"+i+":"+r])),void 0!==t&&(d[r]=t)}))}else d.new_user_id=u+i,d.lang=o.currentLanguage;return r.state={values:d},r}return r=s,n=[{key:"getCreateUserParameters",value:function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0],t=[],r=this.props.pydio,n=r.MessageHash,o=r.getPluginConfigs("action.share").get("SHARED_USERS_TMP_PREFIX");t.push({IdmUserField:"Login",description:n[533],readonly:e,expose:"true",label:n[522],name:e?"existing_user_id":"new_user_id",scope:"user",type:"valid-login",mandatory:!0,default:o||""},{IdmUserField:"Password",description:n[534],editable:"true",expose:"true",label:n[523],name:"new_password",scope:"user",type:"valid-password",mandatory:!0,direction:"column"});for(var i=r.getPluginConfigs("auth").get("NEWUSERS_EDIT_PARAMETERS").split(","),a=0;a<i.length;a++)i[a]="user/preferences/pref[@exposed]|//param[@name='"+i[a]+"']";var s=i.join("|");return Vf.parseParameters(r.getXmlRegistry(),s).map((function(e){t.push(e)})),!e&&r.Parameters.get("validMailer")&&t.push({description:n[536],editable:"true",expose:"true",label:n[535],name:"send_email",scope:"user",type:"boolean",mandatory:!0}),t}},{key:"getDefaultProps",value:function(){return{editMode:!1}}},{key:"getParameters",value:function(){return this._parsedParameters||(this._parsedParameters=this.getCreateUserParameters(this.props.editMode)),this._parsedParameters}},{key:"getValuesForPost",value:function(e){return Vf.getValuesForPOST(this.getParameters(),this.state.values,e)}},{key:"onValuesChange",value:function(e){this.setState({values:e})}},{key:"changeValidStatus",value:function(e){this.setState({valid:e})}},{key:"submitCreationForm",value:function(){var e,t=this,r=this.props,n=r.editMode,o=r.userData;n&&(e=o.IdmUser),Rn().getRestClient().getIdmApi().putExternalUser(this.state.values,this.getParameters(),e).then((function(e){t.props.onUserCreated(wd.User.fromIdmUser(e))}))}},{key:"cancelCreationForm",value:function(){this.props.onCancel()}},{key:"render",value:function(){var e=this.props,r=e.pydio,n=e.editMode,o=e.formShowLegends,i=void 0===o||o,a=this.state.valid;return a||!n||this.state.values.new_password||(a=!0),t().createElement(v.Paper,{zDepth:void 0===this.props.zDepth?2:this.props.zDepth,style:Bf({minHeight:250,display:"flex",flexDirection:"column"},this.props.style)},t().createElement(Gf,{className:"reset-pydio-forms",depth:-1,parameters:this.getParameters(),values:this.state.values,onChange:this.onValuesChange.bind(this),onValidStatusChange:this.changeValidStatus.bind(this),panelStyle:{overflowY:"auto",flex:1},variant:"v2",variantShowLegend:i}),t().createElement(v.Divider,{style:{flexShrink:0}}),t().createElement("div",{style:{padding:8,textAlign:"right"}},t().createElement(v.FlatButton,{label:r.MessageHash[54],onClick:this.cancelCreationForm.bind(this)}),t().createElement(v.FlatButton,{label:this.props.editMode?r.MessageHash[519]:r.MessageHash[484],primary:!0,onClick:this.submitCreationForm.bind(this),disabled:!a})))}}],n&&qf(r.prototype,n),Object.defineProperty(r,"prototype",{writable:!1}),s}(t().Component);function Kf(e){return Kf="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Kf(e)}function Yf(){return Yf=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Yf.apply(this,arguments)}function Xf(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function Qf(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?Xf(Object(r),!0).forEach((function(t){eh(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Xf(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function eh(e,t,r){return(t=rh(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function th(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,rh(n.key),n)}}function rh(e){var t=function(e,t){if("object"!==Kf(e)||null===e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,"string");if("object"!==Kf(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"===Kf(t)?t:String(t)}function nh(e,t){return nh=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},nh(e,t)}function oh(e){return oh=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},oh(e)}Jf.propTypes={newUserName:F().string,onUserCreated:F().func.isRequired,onCancel:F().func.isRequired,editMode:F().bool,userData:F().object};var ih=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&nh(e,t)}(s,e);var r,n,o,i,a=(o=s,i=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,t=oh(o);if(i){var r=oh(this).constructor;e=Reflect.construct(t,arguments,r)}else e=t.apply(this,arguments);return function(e,t){if(t&&("object"===Kf(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}(this,e)});function s(e,t){var r;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,s),(r=a.call(this,e,t)).state={},r}return r=s,n=[{key:"render",value:function(){var e,r=this,n=this.props,o=n.pydio,i=n.item,a=n.model,s=n.onDeleteAction,c=n.onUpdateAction,l=n.edit,u=n.setEdit,d=n.muiTheme,p=this.state.graphRand,f={avatarStyle:{zIndex:1}},h=i._parent&&"ext"===i._parent.id,m={};"mui3"!==d.userTheme&&(m={borderTop:"1px solid #e0e0e0",borderBottom:"1px solid #e0e0e0"});var y=t().createElement(wf,{pydio:o,model:a,user:i,userId:i.id,userEditable:h&&i.IdmUser.PoliciesContextEditable,onDeleteAction:function(){s(i._parent,[i])},onEditAction:function(){u(!0)},reloadAction:function(){c(i),r.setState({graphRand:Math.random()})},style:Qf({padding:8,textAlign:"center"},m)});return l&&(e=t().createElement(Jf,{pydio:o,zDepth:0,style:{flex:1,borderRadius:0,borderTop:"1px solid var(--md-sys-color-outline-variant-50)"},newUserName:i.id,editMode:!0,userData:i,onUserCreated:function(){c(i),u(!1)},onCancel:function(){u(!1)},formShowLegends:!0})),f=Qf(Qf({},f),{},{avatarSize:40,avatarStyle:{left:20,top:20,right:"inherit"},cardStyle:{textAlign:"left",padding:"20px 16px 24px 74px"},cardTitleStyle:{fontSize:14,fontWeight:500,lineHeight:"20px"},cardSubtitleStyle:{fontSize:13,fontWeight:400,lineHeight:"14px"}}),t().createElement("div",{style:l?{height:"100%",display:"flex",flexDirection:"column"}:{}},t().createElement(Np,Yf({userId:this.props.item.id,richCard:!0,pydio:this.props.pydio,cardSize:this.props.style.width,cardStyle:{textAlign:"left",padding:"12px 16px 4px"},actionsPanel:!l&&y,noActionsPanel:l,graphRand:p},f)),e)}}],n&&th(r.prototype,n),Object.defineProperty(r,"prototype",{writable:!1}),s}(t().Component);function ah(e){return ah="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},ah(e)}function sh(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function ch(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?sh(Object(r),!0).forEach((function(t){lh(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):sh(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function lh(e,t,r){return(t=dh(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function uh(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,dh(n.key),n)}}function dh(e){var t=function(e,t){if("object"!==ah(e)||null===e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,"string");if("object"!==ah(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"===ah(t)?t:String(t)}function ph(e,t){return ph=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},ph(e,t)}function fh(e){return fh=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},fh(e)}ih.propTypes={pydio:F().instanceOf(Pydio),item:F().object,style:F().object,onRequestClose:F().func,onDeleteAction:F().func,onUpdateAction:F().func},ih=(0,K.muiThemeable)()(ih);var hh=a(580),mh=a(6689),yh=a(9455),gh=yh.Paper,bh=yh.IconButton,vh=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&ph(e,t)}(a,e);var t,r,n,o,i=(n=a,o=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,t=fh(n);if(o){var r=fh(this).constructor;e=Reflect.construct(t,arguments,r)}else e=t.apply(this,arguments);return function(e,t){if(t&&("object"===ah(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}(this,e)});function a(e,t){var r;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,a),(r=i.call(this,e,t)).state={edit:!1},r.props.model.observe("update",(function(){return r.forceUpdate()})),r}return t=a,r=[{key:"componentWillReceiveProps",value:function(e){e.item!==this.props.item&&this.setState({edit:!1})}},{key:"render",value:function(){var e,t=this,r=this.props,n=r.model,o=r.style,i=r.zDepth,a=void 0===i?2:i,s=this.state.edit,c=n.rightItem(),l=function(){n.clearRightItem()},u=ch(ch({},this.props),{},{item:c,onRequestClose:l,onDeleteAction:function(e,t,r){return n.deleteItems(e,t,r)},onCreateAction:function(e){n.setCreateItem(e)},onUpdateAction:function(e){var r=t.props.model;e._parent&&e._parent===r.contextItem()&&r.reloadContext()},edit:s,setEdit:function(e){return t.setState({edit:e})}});return c&&"user"===c.type?e=mh.createElement(ih,u):c&&c.IdmRole&&c.IdmRole.IsTeam&&(e=mh.createElement(Nf,u)),mh.createElement(gh,{zDepth:a,style:ch({position:"relative",borderRadius:6},o)},mh.createElement(bh,{iconClassName:"mdi mdi-close",style:{position:"absolute",top:12,right:12,zIndex:2},iconStyle:{color:"#e0e0e0"},onClick:l}),e)}}],r&&uh(t.prototype,r),Object.defineProperty(t,"prototype",{writable:!1}),a}(mh.Component);function kh(e){return kh="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},kh(e)}function wh(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,_h(n.key),n)}}function _h(e){var t=function(e,t){if("object"!==kh(e)||null===e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,"string");if("object"!==kh(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"===kh(t)?t:String(t)}function Sh(e,t){return Sh=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},Sh(e,t)}function Oh(e){return Oh=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},Oh(e)}vh.propTypes={pydio:hh.instanceOf(Pydio),item:hh.object,style:hh.object,onRequestClose:hh.func,onDeleteAction:hh.func,onUpdateAction:hh.func};var Ph=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&Sh(e,t)}(s,e);var r,n,o,i,a=(o=s,i=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,t=Oh(o);if(i){var r=Oh(this).constructor;e=Reflect.construct(t,arguments,r)}else e=t.apply(this,arguments);return function(e,t){if(t&&("object"===kh(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}(this,e)});function s(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,s),a.apply(this,arguments)}return r=s,(n=[{key:"onClick",value:function(){this.props.onClick(this.props.entry)}},{key:"buildNestedItems",value:function(e){var r=this.props,n=r.style,o=r.innerDivStyle,i=r.avatarSize;return e.map(function(e){return t().createElement(s,{nestedLevel:this.props.nestedLevel+1,entry:e,onClick:this.props.onClick,selected:this.props.selected,showIcons:!0,style:n,innerDivStyle:o,avatarSize:i})}.bind(this))}},{key:"render",value:function(){var e,r=this.props,n=r.showIcons,o=r.entry,i=(r.selected,r.style),a=r.innerDivStyle,s=r.avatarSize,c=void 0===s?36:s,l=o.id,u=o.label,d=o.icon,p=o.collections||[],f=this.buildNestedItems(p);return d&&n&&(v.FontIcon,e=t().createElement(v.Avatar,{icon:t().createElement(v.FontIcon,{className:d}),size:c})),t().createElement(v.ListItem,{nestedLevel:this.props.nestedLevel,key:l,primaryText:u,onClick:this.onClick.bind(this),nestedItems:f,initiallyOpen:!0,leftAvatar:e,innerDivStyle:a,style:i})}}])&&wh(r.prototype,n),Object.defineProperty(r,"prototype",{writable:!1}),s}(e.Component);function Eh(e){return Eh="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Eh(e)}function Ch(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function xh(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?Ch(Object(r),!0).forEach((function(t){jh(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Ch(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function jh(e,t,r){return(t=zh(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Th(){return Th=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Th.apply(this,arguments)}function Rh(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,zh(n.key),n)}}function zh(e){var t=function(e,t){if("object"!==Eh(e)||null===e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,"string");if("object"!==Eh(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"===Eh(t)?t:String(t)}function Ih(e,t){return Ih=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},Ih(e,t)}function Ah(e){return Ah=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},Ah(e)}Ph.propTypes={nestedLevel:F().number,selected:F().string,onClick:F().func};var Mh=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&Ih(e,t)}(s,e);var r,n,o,i,a=(o=s,i=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,t=Ah(o);if(i){var r=Ah(this).constructor;e=Reflect.construct(t,arguments,r)}else e=t.apply(this,arguments);return function(e,t){if(t&&("object"===Eh(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}(this,e)});function s(e){var t;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,s),t=a.call(this,e),e.model.observe("update",(function(){return t.forceUpdate()})),t}return r=s,n=[{key:"render",value:function(){var e=this.props,r=e.listStyles,n=void 0===r?{}:r,o=e.rootStyle,i=void 0===o?{}:o,a=e.model,s=[],c=a.contextItem();return a.getRoot().collections.map(function(e){s.push(t().createElement(Ph,Th({key:e.id,selected:c&&c.id,nestedLevel:0,entry:e,onClick:function(e,t){return a.setContext(e,t)}},n.listItem,{avatarSize:n.avatar?n.avatar.avatarSize:void 0,showIcons:!0}))),s.push(t().createElement(v.Divider,{key:e.id+"-divider"}))}.bind(this)),s.pop(),t().createElement("div",{style:xh(xh({},i),{},{zIndex:2})},t().createElement(v.List,null,s))}}],n&&Rh(r.prototype,n),Object.defineProperty(r,"prototype",{writable:!1}),s}(t().Component);function Dh(e){return Dh="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Dh(e)}function Nh(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,Lh(n.key),n)}}function Lh(e){var t=function(e,t){if("object"!==Dh(e)||null===e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,"string");if("object"!==Dh(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"===Dh(t)?t:String(t)}function Uh(e,t){return Uh=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},Uh(e,t)}function Bh(e){return Bh=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},Bh(e)}var Fh=W().requireLib("boot").PydioContextConsumer,qh=W().requireLib("hoc").ModernTextField,Wh=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&Uh(e,t)}(a,e);var t,r,n,o,i=(n=a,o=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,t=Bh(n);if(o){var r=Bh(this).constructor;e=Reflect.construct(t,arguments,r)}else e=t.apply(this,arguments);return function(e,t){if(t&&("object"===Dh(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}(this,e)});function a(e,t){var r;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,a),(r=i.call(this,e,t)).state={value:""},r}return t=a,r=[{key:"onChange",value:function(e,t){this.setState({value:t})}},{key:"submitCreationForm",value:function(){var e=this.state.value;Rn().getRestClient().getIdmApi().saveSelectionAsTeam(e,[],this.props.onTeamCreated)}},{key:"render",value:function(){var e=this,t=this.props.getMessage;return React.createElement("div",null,React.createElement("div",{style:{padding:20}},React.createElement("div",null,t(591)),React.createElement(qh,{focusOnMount:!0,floatingLabelText:t(578),value:this.state.value,onChange:this.onChange.bind(this),fullWidth:!0,onKeyPress:function(t){"Enter"===t.key&&e.submitCreationForm()},variant:"v2"})),React.createElement("div",null,React.createElement("div",{style:{textAlign:"right",padding:8}},React.createElement(v.FlatButton,{label:t(49),onClick:this.props.onCancel.bind(this)}),React.createElement(v.FlatButton,{label:t(579),primary:!0,onClick:this.submitCreationForm.bind(this)}))))}}],r&&Nh(t.prototype,r),Object.defineProperty(t,"prototype",{writable:!1}),a}(e.Component);function Zh(e){return Zh="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Zh(e)}function Hh(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function $h(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?Hh(Object(r),!0).forEach((function(t){Vh(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Hh(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function Vh(e,t,r){return(t=Jh(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Gh(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,Jh(n.key),n)}}function Jh(e){var t=function(e,t){if("object"!==Zh(e)||null===e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,"string");if("object"!==Zh(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"===Zh(t)?t:String(t)}function Kh(e,t){return Kh=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},Kh(e,t)}function Yh(e){return Yh=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},Yh(e)}Wh.propTypes={onTeamCreated:F().func.isRequired,onCancel:F().func.isRequired},Wh=Fh(Wh);var Xh=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&Kh(e,t)}(s,e);var r,n,o,i,a=(o=s,i=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,t=Yh(o);if(i){var r=Yh(this).constructor;e=Reflect.construct(t,arguments,r)}else e=t.apply(this,arguments);return function(e,t){if(t&&("object"===Zh(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}(this,e)});function s(e){var t;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,s),t=a.call(this,e),e.model.observe("update",(function(){return t.forceUpdate()})),t}return r=s,(n=[{key:"render",value:function(){var e,r,n,o=this.props,i=o.pydio,a=o.model,s=o.onCancel,c=o.afterSubmit,l=a.createItem();l&&("users"===l.actions.type?(n={display:"flex",flexDirection:"column",overflow:"hidden"},e=a.m(484,""),r=t().createElement(Jf,{zDepth:0,style:{display:"flex",flexDirection:"column",flex:1,marginTop:-20},newUserName:"",onUserCreated:c,onCancel:s,pydio:i})):"teams"===l.actions.type?(e=a.m(569,""),r=t().createElement(Wh,{onTeamCreated:c,onCancel:s})):"team"===l.actions.type&&(e=null,r=t().createElement(mg,{pydio:i,mode:"selector",usersOnly:!0,disableSearch:!0,onItemSelected:function(e){Rn().getRestClient().getIdmApi().addUserToTeam(e.IdmRole.Uuid,e.IdmUser.Login).then((function(){a.reloadContext()}))}})));var u=this.props.muiTheme,d="mui3"===u.userTheme?{style:{background:u.dialog.containerBackground}}:void 0;return t().createElement(v.Dialog,{contentStyle:{width:420,minWidth:380,maxWidth:"100%",padding:0},bodyStyle:$h({padding:0},n),title:t().createElement("div",{style:{padding:20}},e),actions:null,modal:!1,open:!!l,paperProps:d,onRequestClose:function(){s()}},r)}}])&&Gh(r.prototype,n),Object.defineProperty(r,"prototype",{writable:!1}),s}(t().Component);const Qh=Xh=(0,K.muiThemeable)()(Xh);function em(e){return em="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},em(e)}function tm(){return tm=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},tm.apply(this,arguments)}function rm(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function nm(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?rm(Object(r),!0).forEach((function(t){cm(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):rm(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function om(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,lm(n.key),n)}}function im(e,t){return im=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},im(e,t)}function am(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function sm(e){return sm=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},sm(e)}function cm(e,t,r){return(t=lm(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function lm(e){var t=function(e,t){if("object"!==em(e)||null===e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,"string");if("object"!==em(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"===em(t)?t:String(t)}var um=function(r){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&im(e,t)}(c,r);var n,o,i,a,s=(i=c,a=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,t=sm(i);if(a){var r=sm(this).constructor;e=Reflect.construct(t,arguments,r)}else e=t.apply(this,arguments);return function(e,t){if(t&&("object"===em(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return am(e)}(this,e)});function c(){var e;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,c);for(var t=arguments.length,r=new Array(t),n=0;n<t;n++)r[n]=arguments[n];return cm(am(e=s.call.apply(s,[this].concat(r))),"state",{editLabel:!1}),e}return n=c,o=[{key:"onLabelKeyEnter",value:function(e){"Enter"===e.key&&this.updateLabel()}},{key:"onLabelChange",value:function(e,t){this.setState({editValue:t})}},{key:"updateLabel",value:function(){var e=this.props.model,t=this.state.editValue;t!==e.contextItem().label&&Rn().getRestClient().getIdmApi().updateTeamLabel(e.contextItem().IdmRole.Uuid,t,(function(){var t=e.contextItem()._parent;e.setContext(t,(function(){e.reloadContext().then((function(){}))}))})),this.setState({editLabel:!1})}},{key:"render",value:function(){var r=this,n=this.props,o=n.muiTheme,i=n.bookColumn,a=n.mode,s=n.getMessage,c=n.pydio,l=n.style,u=n.model,d=n.searchLabel,p=n.onSearch,f=n.searchTerm,h=n.setSearchTerm,m=n.searchMode,y=n.setSearchMode,g=n.enableSearch,b=u.contextItem(),k=u.getSelectionMode(),w=function(){return u.reloadContext()},_="mui3"===o.userTheme?o.palette.mui3.primary:o.palette.accent2Color,S={toolbarHeight:"book"===a?56:48,titleFontsize:"book"===a?20:16,titleFontWeight:400,titlePadding:10,button:{border:"1px solid "+_,backgroundColor:"transparent",borderRadius:"50%",margin:"0 4px",width:36,height:36,padding:6},icon:{fontSize:18,color:_}};i&&(S.titleFontsize=14,S.titleFontWeight=500,S.titlePadding="10px 6px 10px 16px",S.button.margin="0",S.button.border="0",S.icon.color=_);var O={searchLabel:d,onSearch:p,searchTerm:f,setSearchTerm:h,style:{flex:1,minWidth:110}};"selector"!==a&&(O.underlineShow=!1,O.style=nm(nm({},O.style),{},{borderRadius:o.borderRadius,background:o.palette.mui3["surface-2"],height:38,display:"flex",alignItems:"center",paddingLeft:16,marginRight:8}));var P,E,C="mdi mdi-account-plus";if(b.actions&&"teams"===b.actions.type&&(C="mdi mdi-account-multiple-plus"),("book"===a||i)&&u.contextIsTeam()&&u.teamsEditable()){var x=u.contextItem();E=!0,P=t().createElement(wf,tm({},this.props,{team:u.contextItem(),userEditable:!0,reloadAction:function(){u.reloadContext()},onDeleteAction:function(){if(confirm(r.props.getMessage(278))){var e=x._parent;u.setContext(e,(function(){u.deleteItems(e,[x],!0)}))}},style:{backgroundColor:"transparent",borderTop:0,borderBottom:0},buttonStyle:S.button,iconStyle:S.icon}))}var j=this.state,T=j.editLabel,R=j.editValue,z=b.label;E&&!k&&T&&(z=t().createElement("div",{style:{display:"flex",alignItems:"center",flex:1}},t().createElement(v.TextField,{style:{fontSize:20},value:R,onChange:this.onLabelChange.bind(this),onKeyDown:this.onLabelKeyEnter.bind(this),autoFocus:!0}),t().createElement(v.IconButton,{iconStyle:{color:o.palette.mui3.primary},secondary:!0,iconClassName:"mdi mdi-content-save",tooltip:s(48),onClick:function(){r.updateLabel()}})));var I="selector"===a&&b._parent,A="book"===a&&b.actions&&b.actions.multiple,M="book"===a,D=("book"===a||"selector"===a&&i)&&b.actions&&b.actions.create&&!k,N=i&&!b._parent&&c.user.getRepositoriesList().has("directory"),L="book"===a&&b.actions&&b.actions.remove&&k,U=g&&!i,B=w&&("book"===a||"selector"===a&&i),F=E&&!T&&!k;if("book"===a&&!i&&"xs"!==o.breakpoint&&"s"!==o.breakpoint){for(var q=[z],W=b;W._parent;)q.push(t().createElement("span",{className:"mdi mdi-chevron-right"}),t().createElement("span",null,W._parent.label)),W=W._parent;q.reverse(),z=t().createElement("div",{style:{display:"flex",alignItems:"center"}},q)}var Z,H=nm({color:o.palette.mui3["on-surface"],padding:S.titlePadding,height:S.toolbarHeight,minHeight:S.toolbarHeight,borderRadius:"2px 2px 0 0",display:"flex",alignItems:"center"},l);return N&&(Z="mui3"===o.userTheme?function(){c.triggerRepositoryChange("directory")}:function(){c.Controller.fireAction("open_address_book")}),t().createElement("div",{style:H},I&&t().createElement(v.IconButton,{style:{marginLeft:-10},iconStyle:{color:S.titleColor},iconClassName:"mdi mdi-chevron-left",onClick:function(){!function(e,t){u.setContext(e,void 0)}(b._parent)}}),M&&t().createElement(v.IconButton,{style:{marginLeft:-10},iconStyle:{color:S.titleColor},iconClassName:b.icon,onClick:function(){}}),t().createElement("div",{style:nm({flex:2,fontSize:S.titleFontsize,fontWeight:S.titleFontWeight},{whiteSpace:"nowrap",textOverflow:"ellipsis",overflow:"hidden"})},z),U&&!k&&t().createElement(e.Fragment,null,t().createElement(Xu,O),m&&t().createElement(v.IconButton,{style:S.button,iconStyle:S.icon,iconClassName:"mdi mdi-close",tooltipPosition:"bottom-left",tooltip:c.MessageHash[86],onClick:function(){return y(!1)}})),N&&t().createElement(v.IconButton,{style:S.button,iconStyle:S.icon,iconClassName:"mdi mdi-account-box-outline",tooltipPosition:"bottom-left",tooltip:c.MessageHash[411],onClick:Z}),D&&t().createElement(v.IconButton,{style:S.button,iconStyle:S.icon,iconClassName:C,tooltipPosition:"bottom-left",tooltip:s(b.actions.create),onClick:function(){return u.setCreateItem()}}),L&&t().createElement(v.RaisedButton,{secondary:!0,label:s(b.actions.remove),disabled:!u.getMultipleSelection().length,onClick:function(){return u.deleteMultipleSelection()}}),F&&t().createElement(v.IconButton,{style:S.button,iconStyle:S.icon,iconClassName:"mdi mdi-pencil",tooltipPosition:"bottom-left",tooltip:c.MessageHash[6],onClick:function(){r.setState({editLabel:!0,editValue:b.label})},disabled:u.loading}),!k&&P,A&&t().createElement(v.IconButton,{style:S.button,iconStyle:S.icon,iconClassName:"mdi mdi-checkbox-multiple"+(k?"-marked-outline":"-blank-outline"),tooltipPosition:"bottom-left",tooltip:c.MessageHash["addressbook.pick.multiple"],onClick:function(){u.setSelectionMode()}}),B&&!m&&t().createElement(v.IconButton,{style:S.button,iconStyle:S.icon,iconClassName:"mdi mdi-refresh",tooltipPosition:"bottom-left",tooltip:c.MessageHash[149],onClick:w,disabled:u.loading}))}}],o&&om(n.prototype,o),Object.defineProperty(n,"prototype",{writable:!1}),c}(t().Component);const dm=um=(0,K.muiThemeable)()(um);var pm=a(254),fm=a(6713),hm=a(4359),mm=a(1426);function ym(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}var gm=["sx"],bm=["className","component"],vm=a(611),km=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},r=t.defaultTheme,n=t.defaultClassName,o=void 0===n?"MuiBox-root":n,i=t.generateClassName,a=(0,pm.ZP)("div",{shouldForwardProp:function(e){return"theme"!==e&&"sx"!==e&&"as"!==e}})(fm.Z),s=e.forwardRef((function(e,t){var n,s,c,l,u,d,p,f=(0,Qs.Z)(r),h=(l=(n=e).sx,u=function(e){var t,r,n={systemProps:{},otherProps:{}},o=null!=(t=null==e||null==(r=e.theme)?void 0:r.unstable_sxConfig)?t:mm.Z;return Object.keys(e).forEach((function(t){o[t]?n.systemProps[t]=e[t]:n.otherProps[t]=e[t]})),n}((0,ve.Z)(n,gm)),d=u.systemProps,p=u.otherProps,s=Array.isArray(l)?[d].concat(function(e){if(Array.isArray(e))return ym(e)}(c=l)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(c)||function(e,t){if(e){if("string"==typeof e)return ym(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?Array.from(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?ym(e,t):void 0}}(c)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()):"function"==typeof l?function(){var e=l.apply(void 0,arguments);return(0,hm.P)(e)?(0,be.Z)({},d,e):d}:(0,be.Z)({},d,l),(0,be.Z)({},p,{sx:s})),m=h.className,y=h.component,g=void 0===y?"div":y,b=(0,ve.Z)(h,bm);return(0,Bt.jsx)(a,(0,be.Z)({as:g,ref:t,className:(0,Vt.Z)(m,i?i(o):o),theme:f},b))}));return s}({defaultTheme:(0,a(8662).Z)(),defaultClassName:"MuiBox-root",generateClassName:vm.Z.generate});const wm=km;function _m(e,t){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:void 0,n={};return Object.keys(e).forEach((function(o){n[o]=e[o].reduce((function(e,n){if(n){var o=t(n);""!==o&&e.push(o),r&&r[n]&&e.push(r[n])}return e}),[]).join(" ")})),n}var Sm=a(3499);const Om=e.createContext({});var Pm=a(4017);function Em(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var r=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=r){var n,o,i,a,s=[],c=!0,l=!1;try{if(i=(r=r.call(e)).next,0===t){if(Object(r)!==r)return;c=!1}else for(;!(c=(n=i.call(r)).done)&&(s.push(n.value),s.length!==t);c=!0);}catch(e){l=!0,o=e}finally{try{if(!c&&null!=r.return&&(a=r.return(),Object(a)!==a))return}finally{if(l)throw o}}return s}}(e,t)||function(e,t){if(e){if("string"==typeof e)return Cm(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?Array.from(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?Cm(e,t):void 0}}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Cm(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}var xm=["element"],jm=e.createContext({}),Tm=function(){};function Rm(t){var r=t.children,n=t.id,o=Em(e.useState([]),2),i=o[0],a=o[1],s=e.useCallback((function(e){var t=e.element,r=(0,ve.Z)(e,xm);a((function(e){var n;if(0===e.length)return[(0,be.Z)({},r,{element:t,index:0})];var o=function(e,t){for(var r=0,n=e.length-1;r<=n;){var o=Math.floor((r+n)/2);if(e[o].element===t)return o;e[o].element.compareDocumentPosition(t)&Node.DOCUMENT_POSITION_PRECEDING?n=o-1:r=o+1}return r}(e,t);if(e[o]&&e[o].element===t)n=e;else{var i=(0,be.Z)({},r,{element:t,index:o});(n=e.slice()).splice(o,0,i)}return n.forEach((function(e,t){e.index=t})),n}))}),[]),c=e.useCallback((function(e){a((function(t){return t.filter((function(t){return e!==t.element}))}))}),[]),l=e.useMemo((function(){return{descendants:i,registerDescendant:s,unregisterDescendant:c,parentId:n}}),[i,s,c,n]);return(0,Bt.jsx)(jm.Provider,{value:l,children:r})}function zm(e){return(0,Wt.Z)("MuiTreeView",e)}function Im(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var r=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=r){var n,o,i,a,s=[],c=!0,l=!1;try{if(i=(r=r.call(e)).next,0===t){if(Object(r)!==r)return;c=!1}else for(;!(c=(n=i.call(r)).done)&&(s.push(n.value),s.length!==t);c=!0);}catch(e){l=!0,o=e}finally{try{if(!c&&null!=r.return&&(a=r.return(),Object(a)!==a))return}finally{if(l)throw o}}return s}}(e,t)||function(e,t){if(e){if("string"==typeof e)return Am(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?Array.from(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?Am(e,t):void 0}}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Am(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}(0,Zt.Z)("MuiTreeView",["root"]);var Mm=["children","className","defaultCollapseIcon","defaultEndIcon","defaultExpanded","defaultExpandIcon","defaultParentIcon","defaultSelected","disabledItemsFocusable","disableSelection","expanded","id","multiSelect","onBlur","onFocus","onKeyDown","onNodeFocus","onNodeSelect","onNodeToggle","selected"],Dm=(0,ir.ZP)("ul",{name:"MuiTreeView",slot:"Root",overridesResolver:function(e,t){return t.root}})({padding:0,margin:0,listStyle:"none",outline:0});function Nm(e,t,r){for(var n=t;n<e.length;n+=1)if(r===e[n])return n;return-1}function Lm(){return!1}var Um=[],Bm=[],Fm=e.forwardRef((function(t,r){var n=(0,ar.Z)({props:t,name:"MuiTreeView"}),o=n.children,i=n.className,a=n.defaultCollapseIcon,s=n.defaultEndIcon,c=n.defaultExpanded,l=void 0===c?Um:c,u=n.defaultExpandIcon,d=n.defaultParentIcon,p=n.defaultSelected,f=void 0===p?Bm:p,h=n.disabledItemsFocusable,m=void 0!==h&&h,y=n.disableSelection,g=void 0!==y&&y,b=n.expanded,v=n.id,k=n.multiSelect,w=void 0!==k&&k,_=n.onBlur,S=n.onFocus,O=n.onKeyDown,P=n.onNodeFocus,E=n.onNodeSelect,C=n.onNodeToggle,x=n.selected,j=(0,ve.Z)(n,Mm),T="rtl"===tc().direction,R=(0,be.Z)({},n,{defaultExpanded:l,defaultSelected:f,disabledItemsFocusable:m,disableSelection:g,multiSelect:w}),z=function(e){return _m({root:["root"]},zm,e.classes)}(R),I=(0,Sc.Z)(v),A=e.useRef(null),M=(0,mc.Z)(A,r),D=Im(e.useState(null),2),N=D[0],L=D[1],U=e.useRef({}),B=e.useRef({}),F=Im((0,Pc.Z)({controlled:b,default:l,name:"TreeView",state:"expanded"}),2),q=F[0],W=F[1],Z=Im((0,Pc.Z)({controlled:x,default:f,name:"TreeView",state:"selected"}),2),H=Z[0],$=Z[1],V=e.useCallback((function(e){return!!Array.isArray(q)&&-1!==q.indexOf(e)}),[q]),G=e.useCallback((function(e){return U.current[e]&&U.current[e].expandable}),[]),J=e.useCallback((function(e){return Array.isArray(H)?-1!==H.indexOf(e):H===e}),[H]),K=e.useCallback((function(e){var t=U.current[e];if(!t)return!1;if(t.disabled)return!0;for(;null!=t.parentId;)if((t=U.current[t.parentId]).disabled)return!0;return!1}),[]),Y=function(e){return Object.keys(U.current).map((function(e){return U.current[e]})).filter((function(t){return t.parentId===e})).sort((function(e,t){return e.index-t.index})).map((function(e){return e.id}))},X=function(e){var t=Y(e);return m||(t=t.filter((function(e){return!K(e)}))),t},Q=function(e){if(V(e)&&X(e).length>0)return X(e)[0];for(var t=U.current[e];null!=t;){var r=X(t.parentId),n=r[r.indexOf(t.id)+1];if(n)return n;t=U.current[t.parentId]}return null},ee=function(e){var t=U.current[e],r=X(t.parentId),n=r.indexOf(e);if(0===n)return t.parentId;for(var o=r[n-1];V(o)&&X(o).length>0;)o=X(o).pop();return o},te=function(){for(var e=X(null).pop();V(e);)e=X(e).pop();return e},re=function(){return X(null)[0]},ne=function(e,t){t&&(L(t),P&&P(e,t))},oe=function(e,t){return ne(e,Q(t))},ie=function(e){var t,r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:N;t=-1!==q.indexOf(r)?q.filter((function(e){return e!==r})):[r].concat(q),C&&C(e,t),W(t)},ae=e.useRef(null),se=e.useRef(!1),ce=e.useRef([]),le=function(e,t){return!!t&&(arguments.length>2&&void 0!==arguments[2]&&arguments[2]?function(e,t){var r;r=-1!==H.indexOf(t)?H.filter((function(e){return e!==t})):[t].concat(H),E&&E(e,r),$(r)}(e,t):function(e,t){var r=w?[t]:t;E&&E(e,r),$(r)}(e,t),ae.current=t,se.current=!1,ce.current=[],!0)},ue=function(e,t){var r=arguments.length>2&&void 0!==arguments[2]&&arguments[2],n=t.start,o=void 0===n?ae.current:n,i=t.end,a=t.current;r?function(e,t){var r=H.slice(),n=t.start,o=t.next,i=t.current;o&&i&&(-1===ce.current.indexOf(i)&&(ce.current=[]),se.current?-1!==ce.current.indexOf(o)?(r=r.filter((function(e){return e===n||e!==i})),ce.current=ce.current.filter((function(e){return e===n||e!==i}))):(r.push(o),ce.current.push(o)):(r.push(o),ce.current.push(i,o)),E&&E(e,r),$(r))}(e,{start:o,next:i,current:a}):null!=o&&null!=i&&function(e,t){var r=H.slice(),n=t.start,o=t.end;se.current&&(r=r.filter((function(e){return-1===ce.current.indexOf(e)})));var i=function(e,t){for(var r=function(e,t){if(e===t)return[e,t];var r=U.current[e],n=U.current[t];if(r.parentId===n.id||n.parentId===r.id)return n.parentId===r.id?[r.id,n.id]:[n.id,r.id];for(var o=[r.id],i=[n.id],a=r.parentId,s=n.parentId,c=-1!==i.indexOf(a),l=-1!==o.indexOf(s),u=!0,d=!0;!l&&!c;)u&&(o.push(a),u=null!==a,!(c=-1!==i.indexOf(a))&&u&&(a=U.current[a].parentId)),d&&!c&&(i.push(s),d=null!==s,!(l=-1!==o.indexOf(s))&&d&&(s=U.current[s].parentId));var p=c?a:s,f=Y(p),h=o[o.indexOf(p)-1],m=i[i.indexOf(p)-1];return f.indexOf(h)<f.indexOf(m)?[e,t]:[t,e]}(e,t),n=Im(r,2),o=n[0],i=n[1],a=[o],s=o;s!==i;)s=Q(s),a.push(s);return a}(n,o);i=i.filter((function(e){return!K(e)})),ce.current=i;var a=r.concat(i);a=a.filter((function(e,t){return a.indexOf(e)===t})),E&&E(e,a),$(a)}(e,{start:o,end:i}),se.current=!0},de=e.useCallback((function(e){var t=e.id,r=e.index,n=e.parentId,o=e.expandable,i=e.idAttribute,a=e.disabled;U.current[t]={id:t,index:r,parentId:n,expandable:o,idAttribute:i,disabled:a}}),[]),pe=e.useCallback((function(e){var t=(0,be.Z)({},U.current);delete t[e],U.current=t,L((function(t){return t===e&&A.current===(0,Sm.Z)(A.current).activeElement?Y(null)[0]:t}))}),[]),fe=e.useCallback((function(e,t){B.current[e]=t}),[]),he=e.useCallback((function(e){var t=(0,be.Z)({},B.current);delete t[e],B.current=t}),[]),me=function(e){return G(N)&&(V(N)?oe(e,N):K(N)||ie(e)),!0},ye=function(e){if(V(N)&&!K(N))return ie(e,N),!0;var t,r=(t=N,U.current[t].parentId);return!!r&&(ne(e,r),!0)},ge=U.current[N]?U.current[N].idAttribute:null;return(0,Bt.jsx)(Om.Provider,{value:{icons:{defaultCollapseIcon:a,defaultExpandIcon:u,defaultParentIcon:d,defaultEndIcon:s},focus:ne,toggleExpansion:ie,isExpanded:V,isExpandable:G,isFocused:function(e){return N===e},isSelected:J,isDisabled:K,selectNode:g?Lm:le,selectRange:g?Lm:ue,multiSelect:w,disabledItemsFocusable:m,mapFirstChar:fe,unMapFirstChar:he,registerNode:de,unregisterNode:pe,treeId:I},children:(0,Bt.jsx)(Rm,{children:(0,Bt.jsx)(Dm,(0,be.Z)({role:"tree",id:I,"aria-activedescendant":ge,"aria-multiselectable":w,className:(0,Vt.Z)(z.root,i),ref:M,tabIndex:0,onKeyDown:function(e){var t=!1,r=e.key;if(!e.altKey&&e.currentTarget===e.target&&N){var n,o=e.ctrlKey||e.metaKey;switch(r){case" ":g||K(N)||(w&&e.shiftKey?(ue(e,{end:N}),t=!0):t=w?le(e,N,!0):le(e,N)),e.stopPropagation();break;case"Enter":K(N)||(G(N)?(ie(e),t=!0):t=w?le(e,N,!0):le(e,N)),e.stopPropagation();break;case"ArrowDown":w&&e.shiftKey&&!g&&function(e,t){K(Q(t))||ue(e,{end:Q(t),current:t},!0)}(e,N),oe(e,N),t=!0;break;case"ArrowUp":w&&e.shiftKey&&!g&&function(e,t){K(ee(t))||ue(e,{end:ee(t),current:t},!0)}(e,N),function(e,t){ne(e,ee(t))}(e,N),t=!0;break;case"ArrowRight":t=T?ye(e):me(e);break;case"ArrowLeft":t=T?me(e):ye(e);break;case"Home":w&&o&&e.shiftKey&&!g&&!K(N)&&function(e,t){ae.current||(ae.current=t);var r=se.current?ae.current:t;ue(e,{start:r,end:re()})}(e,N),function(e){ne(e,re())}(e),t=!0;break;case"End":w&&o&&e.shiftKey&&!g&&!K(N)&&function(e,t){ae.current||(ae.current=t);var r=se.current?ae.current:t;ue(e,{start:r,end:te()})}(e,N),function(e){ne(e,te())}(e),t=!0;break;default:"*"===r?(function(e,t){var r=U.current[t],n=Y(r.parentId).filter((function(e){return G(e)&&!V(e)})),o=q.concat(n);n.length>0&&(W(o),C&&C(e,o))}(e,N),t=!0):w&&o&&"a"===r.toLowerCase()&&!g?(function(e){ue(e,{start:re(),end:te()})}(e),t=!0):!o&&!e.shiftKey&&(n=r)&&1===n.length&&n.match(/\S/)&&(function(e,t,r){var n,o,i=r.toLowerCase(),a=[],s=[];Object.keys(B.current).forEach((function(e){var t=B.current[e],r=U.current[e],n=!r.parentId||V(r.parentId),o=!m&&K(e);n&&!o&&(a.push(e),s.push(t))})),(n=a.indexOf(t)+1)>=a.length&&(n=0),-1===(o=Nm(s,n,i))&&(o=Nm(s,0,i)),o>-1&&ne(e,a[o])}(e,N,r),t=!0)}t&&(e.preventDefault(),e.stopPropagation()),O&&O(e)}},onFocus:function(e){if(e.target===e.currentTarget){var t=Array.isArray(H)?H[0]:H;ne(e,t||X(null)[0])}S&&S(e)},onBlur:function(e){L(null),_&&_(e)},ownerState:R},j,{children:o}))})})}));const qm=Fm;var Wm=a(4681);function Zm(e){return(0,Wt.Z)("MuiCollapse",e)}function Hm(e){return Hm="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Hm(e)}function $m(e,t,r){return(t=function(e){var t=function(e,t){if("object"!==Hm(e)||null===e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,"string");if("object"!==Hm(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"===Hm(t)?t:String(t)}(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}(0,Zt.Z)("MuiCollapse",["root","horizontal","vertical","entered","hidden","wrapper","wrapperInner"]);var Vm=["addEndListener","children","className","collapsedSize","component","easing","in","onEnter","onEntered","onEntering","onExit","onExited","onExiting","orientation","style","timeout","TransitionComponent"],Gm=(0,ir.ZP)("div",{name:"MuiCollapse",slot:"Root",overridesResolver:function(e,t){var r=e.ownerState;return[t.root,t[r.orientation],"entered"===r.state&&t.entered,"exited"===r.state&&!r.in&&"0px"===r.collapsedSize&&t.hidden]}})((function(e){var t=e.theme,r=e.ownerState;return(0,ye.Z)({height:0,overflow:"hidden",transition:t.transitions.create("height")},"horizontal"===r.orientation&&{height:"auto",width:0,transition:t.transitions.create("width")},"entered"===r.state&&(0,ye.Z)({height:"auto",overflow:"visible"},"horizontal"===r.orientation&&{width:"auto"}),"exited"===r.state&&!r.in&&"0px"===r.collapsedSize&&{visibility:"hidden"})})),Jm=(0,ir.ZP)("div",{name:"MuiCollapse",slot:"Wrapper",overridesResolver:function(e,t){return t.wrapper}})((function(e){var t=e.ownerState;return(0,ye.Z)({display:"flex",width:"100%"},"horizontal"===t.orientation&&{width:"auto",height:"100%"})})),Km=(0,ir.ZP)("div",{name:"MuiCollapse",slot:"WrapperInner",overridesResolver:function(e,t){return t.wrapperInner}})((function(e){var t=e.ownerState;return(0,ye.Z)({width:"100%"},"horizontal"===t.orientation&&{width:"auto",height:"100%"})})),Ym=e.forwardRef((function(t,r){var n=(0,ar.Z)({props:t,name:"MuiCollapse"}),o=n.addEndListener,i=n.children,a=n.className,s=n.collapsedSize,c=void 0===s?"0px":s,l=n.component,u=n.easing,d=n.in,p=n.onEnter,f=n.onEntered,h=n.onEntering,m=n.onExit,y=n.onExited,g=n.onExiting,b=n.orientation,v=void 0===b?"vertical":b,k=n.style,w=n.timeout,_=void 0===w?Wm.x9.standard:w,S=n.TransitionComponent,O=void 0===S?pc:S,P=(0,ge.Z)(n,Vm),E=(0,ye.Z)({},n,{orientation:v,collapsedSize:c}),C=function(e){var t=e.orientation,r=e.classes,n={root:["root","".concat(t)],entered:["entered"],hidden:["hidden"],wrapper:["wrapper","".concat(t)],wrapperInner:["wrapperInner","".concat(t)]};return(0,Lt.Z)(n,Zm,r)}(E),x=tc(),j=e.useRef(),T=e.useRef(null),R=e.useRef(),z="number"==typeof c?"".concat(c,"px"):c,I="horizontal"===v,A=I?"width":"height";e.useEffect((function(){return function(){clearTimeout(j.current)}}),[]);var M=e.useRef(null),D=(0,mc.Z)(r,M),N=function(e){return function(t){if(e){var r=M.current;void 0===t?e(r):e(r,t)}}},L=function(){return T.current?T.current[I?"clientWidth":"clientHeight"]:0},U=N((function(e,t){T.current&&I&&(T.current.style.position="absolute"),e.style[A]=z,p&&p(e,t)})),B=N((function(e,t){var r=L();T.current&&I&&(T.current.style.position="");var n=hc({style:k,timeout:_,easing:u},{mode:"enter"}),o=n.duration,i=n.easing;if("auto"===_){var a=x.transitions.getAutoHeightDuration(r);e.style.transitionDuration="".concat(a,"ms"),R.current=a}else e.style.transitionDuration="string"==typeof o?o:"".concat(o,"ms");e.style[A]="".concat(r,"px"),e.style.transitionTimingFunction=i,h&&h(e,t)})),F=N((function(e,t){e.style[A]="auto",f&&f(e,t)})),q=N((function(e){e.style[A]="".concat(L(),"px"),m&&m(e)})),W=N(y),Z=N((function(e){var t=L(),r=hc({style:k,timeout:_,easing:u},{mode:"exit"}),n=r.duration,o=r.easing;if("auto"===_){var i=x.transitions.getAutoHeightDuration(t);e.style.transitionDuration="".concat(i,"ms"),R.current=i}else e.style.transitionDuration="string"==typeof n?n:"".concat(n,"ms");e.style[A]=z,e.style.transitionTimingFunction=o,g&&g(e)}));return(0,Bt.jsx)(O,(0,ye.Z)({in:d,onEnter:U,onEntered:F,onEntering:B,onExit:q,onExited:W,onExiting:Z,addEndListener:function(e){"auto"===_&&(j.current=setTimeout(e,R.current||0)),o&&o(M.current,e)},nodeRef:M,timeout:"auto"===_?null:_},P,{children:function(e,t){return(0,Bt.jsx)(Gm,(0,ye.Z)({as:l,className:(0,Vt.Z)(C.root,a,{entered:C.entered,exited:!d&&"0px"===z&&C.hidden}[e]),style:(0,ye.Z)($m({},I?"minWidth":"minHeight",z),k),ownerState:(0,ye.Z)({},E,{state:e}),ref:D},t,{children:(0,Bt.jsx)(Jm,{ownerState:(0,ye.Z)({},E,{state:e}),className:C.wrapper,ref:T,children:(0,Bt.jsx)(Km,{ownerState:(0,ye.Z)({},E,{state:e}),className:C.wrapperInner,children:i})})}))}}))}));Ym.muiSupportAuto=!0;const Xm=Ym;var Qm=["classes","className","displayIcon","expansionIcon","icon","label","nodeId","onClick","onMouseDown"];const ey=e.forwardRef((function(t,r){var n=t.classes,o=t.className,i=t.displayIcon,a=t.expansionIcon,s=t.icon,c=t.label,l=t.nodeId,u=t.onClick,d=t.onMouseDown,p=(0,ve.Z)(t,Qm),f=function(t){var r=e.useContext(Om),n=r.focus,o=r.isExpanded,i=r.isExpandable,a=r.isFocused,s=r.isDisabled,c=r.isSelected,l=r.multiSelect,u=r.selectNode,d=r.selectRange,p=r.toggleExpansion,f=!!i&&i(t),h=!!o&&o(t),m=!!a&&a(t),y=!!s&&s(t),g=!!c&&c(t);return{disabled:y,expanded:h,selected:g,focused:m,handleExpansion:function(e){if(!y){m||n(e,t);var r=l&&(e.shiftKey||e.ctrlKey||e.metaKey);!f||r&&o(t)||p(e,t)}},handleSelection:function(e){y||(m||n(e,t),l&&(e.shiftKey||e.ctrlKey||e.metaKey)?e.shiftKey?d(e,{end:t}):u(e,t,!0):u(e,t))},preventSelection:function(e){(e.shiftKey||e.ctrlKey||e.metaKey||y)&&e.preventDefault()}}}(l),h=f.disabled,m=f.expanded,y=f.selected,g=f.focused,b=f.handleExpansion,v=f.handleSelection,k=f.preventSelection,w=s||a||i;return(0,Bt.jsxs)("div",(0,be.Z)({className:(0,Vt.Z)(o,n.root,m&&n.expanded,y&&n.selected,g&&n.focused,h&&n.disabled),onClick:function(e){b(e),v(e),u&&u(e)},onMouseDown:function(e){k(e),d&&d(e)},ref:r},p,{children:[(0,Bt.jsx)("div",{className:n.iconContainer,children:w}),(0,Bt.jsx)("div",{className:n.label,children:c})]}))}));function ty(e){return(0,Wt.Z)("MuiTreeItem",e)}const ry=(0,Zt.Z)("MuiTreeItem",["root","group","content","expanded","selected","focused","disabled","iconContainer","label"]);function ny(e){return ny="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},ny(e)}function oy(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function iy(e,t,r){return(t=function(e){var t=function(e,t){if("object"!==ny(e)||null===e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,"string");if("object"!==ny(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"===ny(t)?t:String(t)}(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var ay=["children","className","collapseIcon","ContentComponent","ContentProps","endIcon","expandIcon","disabled","icon","id","label","nodeId","onClick","onMouseDown","TransitionComponent","TransitionProps"],sy=(0,ir.ZP)("li",{name:"MuiTreeItem",slot:"Root",overridesResolver:function(e,t){return t.root}})({listStyle:"none",margin:0,padding:0,outline:0}),cy=(0,ir.ZP)(ey,{name:"MuiTreeItem",slot:"Content",overridesResolver:function(e,t){return[t.content,t.iconContainer&&iy({},"& .".concat(ry.iconContainer),t.iconContainer),t.label&&iy({},"& .".concat(ry.label),t.label)]}})((function(e){var t,r=e.theme;return iy(t={padding:"0 8px",width:"100%",display:"flex",alignItems:"center",cursor:"pointer",WebkitTapHighlightColor:"transparent","&:hover":{backgroundColor:(r.vars||r).palette.action.hover,"@media (hover: none)":{backgroundColor:"transparent"}}},"&.".concat(ry.disabled),{opacity:(r.vars||r).palette.action.disabledOpacity,backgroundColor:"transparent"}),iy(t,"&.".concat(ry.focused),{backgroundColor:(r.vars||r).palette.action.focus}),iy(t,"&.".concat(ry.selected),iy({backgroundColor:r.vars?"rgba(".concat(r.vars.palette.primary.mainChannel," / ").concat(r.vars.palette.action.selectedOpacity,")"):(0,Xs.Fq)(r.palette.primary.main,r.palette.action.selectedOpacity),"&:hover":{backgroundColor:r.vars?"rgba(".concat(r.vars.palette.primary.mainChannel," / calc(").concat(r.vars.palette.action.selectedOpacity," + ").concat(r.vars.palette.action.hoverOpacity,"))"):(0,Xs.Fq)(r.palette.primary.main,r.palette.action.selectedOpacity+r.palette.action.hoverOpacity),"@media (hover: none)":{backgroundColor:r.vars?"rgba(".concat(r.vars.palette.primary.mainChannel," / ").concat(r.vars.palette.action.selectedOpacity,")"):(0,Xs.Fq)(r.palette.primary.main,r.palette.action.selectedOpacity)}}},"&.".concat(ry.focused),{backgroundColor:r.vars?"rgba(".concat(r.vars.palette.primary.mainChannel," / calc(").concat(r.vars.palette.action.selectedOpacity," + ").concat(r.vars.palette.action.focusOpacity,"))"):(0,Xs.Fq)(r.palette.primary.main,r.palette.action.selectedOpacity+r.palette.action.focusOpacity)})),iy(t,"& .".concat(ry.iconContainer),{marginRight:4,width:15,display:"flex",flexShrink:0,justifyContent:"center","& svg":{fontSize:18}}),iy(t,"& .".concat(ry.label),(0,be.Z)({width:"100%",minWidth:0,paddingLeft:4,position:"relative"},r.typography.body1)),t})),ly=(0,ir.ZP)(Xm,{name:"MuiTreeItem",slot:"Group",overridesResolver:function(e,t){return t.group}})({margin:0,padding:0,marginLeft:17}),uy=e.forwardRef((function(t,r){var n=(0,ar.Z)({props:t,name:"MuiTreeItem"}),o=n.children,i=n.className,a=n.collapseIcon,s=n.ContentComponent,c=void 0===s?ey:s,l=n.ContentProps,u=n.endIcon,d=n.expandIcon,p=n.disabled,f=n.icon,h=n.id,m=n.label,y=n.nodeId,g=n.onClick,b=n.onMouseDown,v=n.TransitionComponent,k=void 0===v?Xm:v,w=n.TransitionProps,_=(0,ve.Z)(n,ay),S=e.useContext(Om),O=S.icons,P=void 0===O?{}:O,E=S.focus,C=S.isExpanded,x=S.isFocused,j=S.isSelected,T=S.isDisabled,R=S.multiSelect,z=S.disabledItemsFocusable,I=S.mapFirstChar,A=S.unMapFirstChar,M=S.registerNode,D=S.unregisterNode,N=S.treeId,L=null;null!=h?L=h:N&&y&&(L="".concat(N,"-").concat(y));var U,B,F,q=function(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var r=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=r){var n,o,i,a,s=[],c=!0,l=!1;try{if(i=(r=r.call(e)).next,0===t){if(Object(r)!==r)return;c=!1}else for(;!(c=(n=i.call(r)).done)&&(s.push(n.value),s.length!==t);c=!0);}catch(e){l=!0,o=e}finally{try{if(!c&&null!=r.return&&(a=r.return(),Object(a)!==a))return}finally{if(l)throw o}}return s}}(e,t)||function(e,t){if(e){if("string"==typeof e)return oy(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?Array.from(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?oy(e,t):void 0}}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}(e.useState(null),2),W=q[0],Z=q[1],H=e.useRef(null),$=(0,mc.Z)(Z,r),V=function(t){var r=Em(e.useState(),2)[1],n=e.useContext(jm),o=n.registerDescendant,i=void 0===o?Tm:o,a=n.unregisterDescendant,s=void 0===a?Tm:a,c=n.descendants,l=void 0===c?[]:c,u=n.parentId,d=void 0===u?null:u,p=function(e,r){for(var n=0;n<e.length;n+=1)if(e[n].element===t.element)return n;return-1}(l),f=function(t){var r=e.useRef(null);return e.useEffect((function(){r.current=t}),[t]),r.current}(l),h=l.some((function(e,t){return f&&f[t]&&f[t].element!==e.element}));return(0,Pm.Z)((function(){if(t.element)return i((0,be.Z)({},t,{index:p})),function(){s(t.element)};r({})}),[i,s,p,h,t]),{parentId:d,index:p}}(e.useMemo((function(){return{element:W,id:y}}),[y,W])),G=V.index,J=V.parentId,K=Boolean(Array.isArray(o)?o.length:o),Y=!!C&&C(y),X=!!x&&x(y),Q=!!j&&j(y),ee=!!T&&T(y),te=(0,be.Z)({},n,{expanded:Y,focused:X,selected:Q,disabled:ee}),re=function(e){return _m({root:["root"],content:["content"],expanded:["expanded"],selected:["selected"],focused:["focused"],disabled:["disabled"],iconContainer:["iconContainer"],label:["label"],group:["group"]},ty,e.classes)}(te);return K&&(B=Y?a||P.defaultCollapseIcon:d||P.defaultExpandIcon),U=K?P.defaultParentIcon:u||P.defaultEndIcon,e.useEffect((function(){if(M&&D&&-1!==G)return M({id:y,idAttribute:L,index:G,parentId:J,expandable:K,disabled:p}),function(){D(y)}}),[M,D,J,G,y,K,p,L]),e.useEffect((function(){if(I&&A&&m)return I(y,H.current.textContent.substring(0,1).toLowerCase()),function(){A(y)}}),[I,A,y,m]),R?F=Q:Q&&(F=!0),(0,Bt.jsxs)(sy,(0,be.Z)({className:(0,Vt.Z)(re.root,i),role:"treeitem","aria-expanded":K?Y:null,"aria-selected":F,"aria-disabled":ee||null,ref:$,id:L,tabIndex:-1},_,{ownerState:te,onFocus:function(e){e.target===e.currentTarget&&("function"==typeof e.target.getRootNode?e.target.getRootNode():(0,Sm.Z)(e.target)).getElementById(N).focus({preventScroll:!0});var t=!z&&ee;X||e.currentTarget!==e.target||t||E(e,y)},children:[(0,Bt.jsx)(cy,(0,be.Z)({as:c,ref:H,classes:{root:re.content,expanded:re.expanded,selected:re.selected,focused:re.focused,disabled:re.disabled,iconContainer:re.iconContainer,label:re.label},label:m,nodeId:y,onClick:g,onMouseDown:b,icon:f,expansionIcon:B,displayIcon:U,ownerState:te},l)),o&&(0,Bt.jsx)(Rm,{id:y,children:(0,Bt.jsx)(ly,(0,be.Z)({as:k,unmountOnExit:!0,className:re.group,in:Y,component:"ul",role:"group"},w,{children:o}))})]}))}));const dy=uy;var py=a(416),fy=a(7026),hy=["labelIcon","labelInfo","labelText"];function my(e){return my="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},my(e)}function yy(){return yy=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},yy.apply(this,arguments)}function gy(e,t,r){return(t=function(e){var t=function(e,t){if("object"!==my(e)||null===e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,"string");if("object"!==my(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"===my(t)?t:String(t)}(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var by=(0,ir.ZP)(dy)((function(e){e.theme;var t,r=e.muiTheme;return gy(t={color:r.palette.mui3.secondary},"& .".concat(ry.content),gy({color:"inherit",borderRadius:20,paddingTop:8,paddingBottom:8,paddingRight:8,transition:"background-color 250ms cubic-bezier(0.23, 1, 0.32, 1) 0ms","&.Mui-expanded":{fontWeight:500},"&:hover":{backgroundColor:r.hoverBackgroundColor},"&.Mui-focused":{backgroundColor:"transparent"},"&.Mui-selected, &.Mui-selected.Mui-focused":{backgroundColor:r.palette.mui3["secondary-container"],color:r.palette.mui3["on-secondary-container"]}},"& .".concat(ry.label),{fontSize:13,fontWeight:500,color:"inherit"})),gy(t,"& .".concat(ry.group),gy({marginLeft:0},"& .".concat(ry.content),{paddingLeft:16})),t}));function vy(e){var r=e.labelIcon,n=e.labelInfo,o=e.labelText,i=function(e,t){if(null==e)return{};var r,n,o=function(e,t){if(null==e)return{};var r,n,o={},i=Object.keys(e);for(n=0;n<i.length;n++)r=i[n],t.indexOf(r)>=0||(o[r]=e[r]);return o}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(n=0;n<i.length;n++)r=i[n],t.indexOf(r)>=0||Object.prototype.propertyIsEnumerable.call(e,r)&&(o[r]=e[r])}return o}(e,hy);return t().createElement(by,yy({label:t().createElement(wm,{sx:{display:"flex",alignItems:"center",p:.5,pr:0}},r,t().createElement("span",{style:{flex:1,fontWeight:"inherit",flexGrow:1}},o),t().createElement("span",null,n)),style:{color:"inherit"}},i))}function ky(e){e.pydio;var r=e.muiTheme,n=e.style,o=e.model,i={},a=function e(n){return!n.collections||n.notExpandable?[]:n.collections.map((function(n){return i[n.id]=n,t().createElement(vy,{muiTheme:r,nodeId:n.id,labelText:n.label,labelIcon:t().createElement("span",{style:{fontSize:16,marginRight:10},className:n.icon})},e(n))}))}(o.getRoot());return t().createElement(qm,{"aria-label":"gmail",defaultExpanded:["3"],defaultCollapseIcon:t().createElement(py.Z,null),defaultExpandIcon:t().createElement(fy.Z,null),defaultEndIcon:t().createElement("div",{style:{width:24}}),selected:o.contextItem().id,onNodeSelect:function(e,t){i[t]&&o.setContext(i[t])},style:n},a)}vy.propTypes={labelIcon:F().object.isRequired,labelInfo:F().string,labelText:F().string.isRequired};var wy=function(){var e=function(t,r){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r])},e(t,r)};return function(t,r){function n(){this.constructor=t}e(t,r),t.prototype=null===r?Object.create(r):(n.prototype=r.prototype,new n)}}(),_y=function(){return _y=Object.assign||function(e){for(var t,r=1,n=arguments.length;r<n;r++)for(var o in t=arguments[r])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e},_y.apply(this,arguments)},Sy={width:"100%",height:"10px",top:"0px",left:"0px",cursor:"row-resize"},Oy={width:"10px",height:"100%",top:"0px",left:"0px",cursor:"col-resize"},Py={width:"20px",height:"20px",position:"absolute"},Ey={top:_y(_y({},Sy),{top:"-5px"}),right:_y(_y({},Oy),{left:void 0,right:"-5px"}),bottom:_y(_y({},Sy),{top:void 0,bottom:"-5px"}),left:_y(_y({},Oy),{left:"-5px"}),topRight:_y(_y({},Py),{right:"-10px",top:"-10px",cursor:"ne-resize"}),bottomRight:_y(_y({},Py),{right:"-10px",bottom:"-10px",cursor:"se-resize"}),bottomLeft:_y(_y({},Py),{left:"-10px",bottom:"-10px",cursor:"sw-resize"}),topLeft:_y(_y({},Py),{left:"-10px",top:"-10px",cursor:"nw-resize"})},Cy=function(t){function r(){var e=null!==t&&t.apply(this,arguments)||this;return e.onMouseDown=function(t){e.props.onResizeStart(t,e.props.direction)},e.onTouchStart=function(t){e.props.onResizeStart(t,e.props.direction)},e}return wy(r,t),r.prototype.render=function(){return e.createElement("div",{className:this.props.className||"",style:_y(_y({position:"absolute",userSelect:"none"},Ey[this.props.direction]),this.props.replaceStyles||{}),onMouseDown:this.onMouseDown,onTouchStart:this.onTouchStart},this.props.children)},r}(e.PureComponent),xy=function(){var e=function(t,r){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r])},e(t,r)};return function(t,r){function n(){this.constructor=t}e(t,r),t.prototype=null===r?Object.create(r):(n.prototype=r.prototype,new n)}}(),jy=function(){return jy=Object.assign||function(e){for(var t,r=1,n=arguments.length;r<n;r++)for(var o in t=arguments[r])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e},jy.apply(this,arguments)},Ty={width:"auto",height:"auto"},Ry=function(e,t,r){return Math.max(Math.min(e,r),t)},zy=function(e,t){return Math.round(e/t)*t},Iy=function(e,t){return new RegExp(e,"i").test(t)},Ay=function(e){return Boolean(e.touches&&e.touches.length)},My=function(e,t,r){void 0===r&&(r=0);var n=t.reduce((function(r,n,o){return Math.abs(n-e)<Math.abs(t[r]-e)?o:r}),0),o=Math.abs(t[n]-e);return 0===r||o<r?t[n]:e},Dy=function(e){return"auto"===(e=e.toString())||e.endsWith("px")||e.endsWith("%")||e.endsWith("vh")||e.endsWith("vw")||e.endsWith("vmax")||e.endsWith("vmin")?e:e+"px"},Ny=function(e,t,r,n){if(e&&"string"==typeof e){if(e.endsWith("px"))return Number(e.replace("px",""));if(e.endsWith("%"))return t*(Number(e.replace("%",""))/100);if(e.endsWith("vw"))return r*(Number(e.replace("vw",""))/100);if(e.endsWith("vh"))return n*(Number(e.replace("vh",""))/100)}return e},Ly=["as","style","className","grid","snap","bounds","boundsByDirection","size","defaultSize","minWidth","minHeight","maxWidth","maxHeight","lockAspectRatio","lockAspectRatioExtraWidth","lockAspectRatioExtraHeight","enable","handleStyles","handleClasses","handleWrapperStyle","handleWrapperClass","children","onResizeStart","onResize","onResizeStop","handleComponent","scale","resizeRatio","snapGap"],Uy="__resizable_base__",By=function(t){function n(e){var r=t.call(this,e)||this;return r.ratio=1,r.resizable=null,r.parentLeft=0,r.parentTop=0,r.resizableLeft=0,r.resizableRight=0,r.resizableTop=0,r.resizableBottom=0,r.targetLeft=0,r.targetTop=0,r.appendBase=function(){if(!r.resizable||!r.window)return null;var e=r.parentNode;if(!e)return null;var t=r.window.document.createElement("div");return t.style.width="100%",t.style.height="100%",t.style.position="absolute",t.style.transform="scale(0, 0)",t.style.left="0",t.style.flex="0 0 100%",t.classList?t.classList.add(Uy):t.className+=Uy,e.appendChild(t),t},r.removeBase=function(e){var t=r.parentNode;t&&t.removeChild(e)},r.ref=function(e){e&&(r.resizable=e)},r.state={isResizing:!1,width:void 0===(r.propsSize&&r.propsSize.width)?"auto":r.propsSize&&r.propsSize.width,height:void 0===(r.propsSize&&r.propsSize.height)?"auto":r.propsSize&&r.propsSize.height,direction:"right",original:{x:0,y:0,width:0,height:0},backgroundStyle:{height:"100%",width:"100%",backgroundColor:"rgba(0,0,0,0)",cursor:"auto",opacity:0,position:"fixed",zIndex:9999,top:"0",left:"0",bottom:"0",right:"0"},flexBasis:void 0},r.onResizeStart=r.onResizeStart.bind(r),r.onMouseMove=r.onMouseMove.bind(r),r.onMouseUp=r.onMouseUp.bind(r),r}return xy(n,t),Object.defineProperty(n.prototype,"parentNode",{get:function(){return this.resizable?this.resizable.parentNode:null},enumerable:!1,configurable:!0}),Object.defineProperty(n.prototype,"window",{get:function(){return this.resizable&&this.resizable.ownerDocument?this.resizable.ownerDocument.defaultView:null},enumerable:!1,configurable:!0}),Object.defineProperty(n.prototype,"propsSize",{get:function(){return this.props.size||this.props.defaultSize||Ty},enumerable:!1,configurable:!0}),Object.defineProperty(n.prototype,"size",{get:function(){var e=0,t=0;if(this.resizable&&this.window){var r=this.resizable.offsetWidth,n=this.resizable.offsetHeight,o=this.resizable.style.position;"relative"!==o&&(this.resizable.style.position="relative"),e="auto"!==this.resizable.style.width?this.resizable.offsetWidth:r,t="auto"!==this.resizable.style.height?this.resizable.offsetHeight:n,this.resizable.style.position=o}return{width:e,height:t}},enumerable:!1,configurable:!0}),Object.defineProperty(n.prototype,"sizeStyle",{get:function(){var e=this,t=this.props.size,r=function(t){if(void 0===e.state[t]||"auto"===e.state[t])return"auto";if(e.propsSize&&e.propsSize[t]&&e.propsSize[t].toString().endsWith("%")){if(e.state[t].toString().endsWith("%"))return e.state[t].toString();var r=e.getParentSize();return Number(e.state[t].toString().replace("px",""))/r[t]*100+"%"}return Dy(e.state[t])};return{width:t&&void 0!==t.width&&!this.state.isResizing?Dy(t.width):r("width"),height:t&&void 0!==t.height&&!this.state.isResizing?Dy(t.height):r("height")}},enumerable:!1,configurable:!0}),n.prototype.getParentSize=function(){if(!this.parentNode)return this.window?{width:this.window.innerWidth,height:this.window.innerHeight}:{width:0,height:0};var e=this.appendBase();if(!e)return{width:0,height:0};var t=!1,r=this.parentNode.style.flexWrap;"wrap"!==r&&(t=!0,this.parentNode.style.flexWrap="wrap"),e.style.position="relative",e.style.minWidth="100%",e.style.minHeight="100%";var n={width:e.offsetWidth,height:e.offsetHeight};return t&&(this.parentNode.style.flexWrap=r),this.removeBase(e),n},n.prototype.bindEvents=function(){this.window&&(this.window.addEventListener("mouseup",this.onMouseUp),this.window.addEventListener("mousemove",this.onMouseMove),this.window.addEventListener("mouseleave",this.onMouseUp),this.window.addEventListener("touchmove",this.onMouseMove,{capture:!0,passive:!1}),this.window.addEventListener("touchend",this.onMouseUp))},n.prototype.unbindEvents=function(){this.window&&(this.window.removeEventListener("mouseup",this.onMouseUp),this.window.removeEventListener("mousemove",this.onMouseMove),this.window.removeEventListener("mouseleave",this.onMouseUp),this.window.removeEventListener("touchmove",this.onMouseMove,!0),this.window.removeEventListener("touchend",this.onMouseUp))},n.prototype.componentDidMount=function(){if(this.resizable&&this.window){var e=this.window.getComputedStyle(this.resizable);this.setState({width:this.state.width||this.size.width,height:this.state.height||this.size.height,flexBasis:"auto"!==e.flexBasis?e.flexBasis:void 0})}},n.prototype.componentWillUnmount=function(){this.window&&this.unbindEvents()},n.prototype.createSizeForCssProperty=function(e,t){var r=this.propsSize&&this.propsSize[t];return"auto"!==this.state[t]||this.state.original[t]!==e||void 0!==r&&"auto"!==r?e:"auto"},n.prototype.calculateNewMaxFromBoundary=function(e,t){var r,n,o=this.props.boundsByDirection,i=this.state.direction,a=o&&Iy("left",i),s=o&&Iy("top",i);if("parent"===this.props.bounds){var c=this.parentNode;c&&(r=a?this.resizableRight-this.parentLeft:c.offsetWidth+(this.parentLeft-this.resizableLeft),n=s?this.resizableBottom-this.parentTop:c.offsetHeight+(this.parentTop-this.resizableTop))}else"window"===this.props.bounds?this.window&&(r=a?this.resizableRight:this.window.innerWidth-this.resizableLeft,n=s?this.resizableBottom:this.window.innerHeight-this.resizableTop):this.props.bounds&&(r=a?this.resizableRight-this.targetLeft:this.props.bounds.offsetWidth+(this.targetLeft-this.resizableLeft),n=s?this.resizableBottom-this.targetTop:this.props.bounds.offsetHeight+(this.targetTop-this.resizableTop));return r&&Number.isFinite(r)&&(e=e&&e<r?e:r),n&&Number.isFinite(n)&&(t=t&&t<n?t:n),{maxWidth:e,maxHeight:t}},n.prototype.calculateNewSizeFromDirection=function(e,t){var r=this.props.scale||1,n=this.props.resizeRatio||1,o=this.state,i=o.direction,a=o.original,s=this.props,c=s.lockAspectRatio,l=s.lockAspectRatioExtraHeight,u=s.lockAspectRatioExtraWidth,d=a.width,p=a.height,f=l||0,h=u||0;return Iy("right",i)&&(d=a.width+(e-a.x)*n/r,c&&(p=(d-h)/this.ratio+f)),Iy("left",i)&&(d=a.width-(e-a.x)*n/r,c&&(p=(d-h)/this.ratio+f)),Iy("bottom",i)&&(p=a.height+(t-a.y)*n/r,c&&(d=(p-f)*this.ratio+h)),Iy("top",i)&&(p=a.height-(t-a.y)*n/r,c&&(d=(p-f)*this.ratio+h)),{newWidth:d,newHeight:p}},n.prototype.calculateNewSizeFromAspectRatio=function(e,t,r,n){var o=this.props,i=o.lockAspectRatio,a=o.lockAspectRatioExtraHeight,s=o.lockAspectRatioExtraWidth,c=void 0===n.width?10:n.width,l=void 0===r.width||r.width<0?e:r.width,u=void 0===n.height?10:n.height,d=void 0===r.height||r.height<0?t:r.height,p=a||0,f=s||0;if(i){var h=(u-p)*this.ratio+f,m=(d-p)*this.ratio+f,y=(c-f)/this.ratio+p,g=(l-f)/this.ratio+p,b=Math.max(c,h),v=Math.min(l,m),k=Math.max(u,y),w=Math.min(d,g);e=Ry(e,b,v),t=Ry(t,k,w)}else e=Ry(e,c,l),t=Ry(t,u,d);return{newWidth:e,newHeight:t}},n.prototype.setBoundingClientRect=function(){if("parent"===this.props.bounds){var e=this.parentNode;if(e){var t=e.getBoundingClientRect();this.parentLeft=t.left,this.parentTop=t.top}}if(this.props.bounds&&"string"!=typeof this.props.bounds){var r=this.props.bounds.getBoundingClientRect();this.targetLeft=r.left,this.targetTop=r.top}if(this.resizable){var n=this.resizable.getBoundingClientRect(),o=n.left,i=n.top,a=n.right,s=n.bottom;this.resizableLeft=o,this.resizableRight=a,this.resizableTop=i,this.resizableBottom=s}},n.prototype.onResizeStart=function(e,t){if(this.resizable&&this.window){var r,n=0,o=0;if(e.nativeEvent&&function(e){return Boolean((e.clientX||0===e.clientX)&&(e.clientY||0===e.clientY))}(e.nativeEvent)?(n=e.nativeEvent.clientX,o=e.nativeEvent.clientY):e.nativeEvent&&Ay(e.nativeEvent)&&(n=e.nativeEvent.touches[0].clientX,o=e.nativeEvent.touches[0].clientY),this.props.onResizeStart&&this.resizable&&!1===this.props.onResizeStart(e,t,this.resizable))return;this.props.size&&(void 0!==this.props.size.height&&this.props.size.height!==this.state.height&&this.setState({height:this.props.size.height}),void 0!==this.props.size.width&&this.props.size.width!==this.state.width&&this.setState({width:this.props.size.width})),this.ratio="number"==typeof this.props.lockAspectRatio?this.props.lockAspectRatio:this.size.width/this.size.height;var i=this.window.getComputedStyle(this.resizable);if("auto"!==i.flexBasis){var a=this.parentNode;if(a){var s=this.window.getComputedStyle(a).flexDirection;this.flexDir=s.startsWith("row")?"row":"column",r=i.flexBasis}}this.setBoundingClientRect(),this.bindEvents();var c={original:{x:n,y:o,width:this.size.width,height:this.size.height},isResizing:!0,backgroundStyle:jy(jy({},this.state.backgroundStyle),{cursor:this.window.getComputedStyle(e.target).cursor||"auto"}),direction:t,flexBasis:r};this.setState(c)}},n.prototype.onMouseMove=function(e){var t=this;if(this.state.isResizing&&this.resizable&&this.window){if(this.window.TouchEvent&&Ay(e))try{e.preventDefault(),e.stopPropagation()}catch(e){}var n=this.props,o=n.maxWidth,i=n.maxHeight,a=n.minWidth,s=n.minHeight,c=Ay(e)?e.touches[0].clientX:e.clientX,l=Ay(e)?e.touches[0].clientY:e.clientY,u=this.state,d=u.direction,p=u.original,f=u.width,h=u.height,m=this.getParentSize(),y=function(e,t,r,n,o,i,a){return n=Ny(n,e.width,t,r),o=Ny(o,e.height,t,r),i=Ny(i,e.width,t,r),a=Ny(a,e.height,t,r),{maxWidth:void 0===n?void 0:Number(n),maxHeight:void 0===o?void 0:Number(o),minWidth:void 0===i?void 0:Number(i),minHeight:void 0===a?void 0:Number(a)}}(m,this.window.innerWidth,this.window.innerHeight,o,i,a,s);o=y.maxWidth,i=y.maxHeight,a=y.minWidth,s=y.minHeight;var g=this.calculateNewSizeFromDirection(c,l),b=g.newHeight,v=g.newWidth,k=this.calculateNewMaxFromBoundary(o,i);this.props.snap&&this.props.snap.x&&(v=My(v,this.props.snap.x,this.props.snapGap)),this.props.snap&&this.props.snap.y&&(b=My(b,this.props.snap.y,this.props.snapGap));var w=this.calculateNewSizeFromAspectRatio(v,b,{width:k.maxWidth,height:k.maxHeight},{width:a,height:s});if(v=w.newWidth,b=w.newHeight,this.props.grid){var _=zy(v,this.props.grid[0]),S=zy(b,this.props.grid[1]),O=this.props.snapGap||0;v=0===O||Math.abs(_-v)<=O?_:v,b=0===O||Math.abs(S-b)<=O?S:b}var P={width:v-p.width,height:b-p.height};f&&"string"==typeof f&&(f.endsWith("%")?v=v/m.width*100+"%":f.endsWith("vw")?v=v/this.window.innerWidth*100+"vw":f.endsWith("vh")&&(v=v/this.window.innerHeight*100+"vh")),h&&"string"==typeof h&&(h.endsWith("%")?b=b/m.height*100+"%":h.endsWith("vw")?b=b/this.window.innerWidth*100+"vw":h.endsWith("vh")&&(b=b/this.window.innerHeight*100+"vh"));var E={width:this.createSizeForCssProperty(v,"width"),height:this.createSizeForCssProperty(b,"height")};"row"===this.flexDir?E.flexBasis=E.width:"column"===this.flexDir&&(E.flexBasis=E.height),(0,r.flushSync)((function(){t.setState(E)})),this.props.onResize&&this.props.onResize(e,d,this.resizable,P)}},n.prototype.onMouseUp=function(e){var t=this.state,r=t.isResizing,n=t.direction,o=t.original;if(r&&this.resizable){var i={width:this.size.width-o.width,height:this.size.height-o.height};this.props.onResizeStop&&this.props.onResizeStop(e,n,this.resizable,i),this.props.size&&this.setState(this.props.size),this.unbindEvents(),this.setState({isResizing:!1,backgroundStyle:jy(jy({},this.state.backgroundStyle),{cursor:"auto"})})}},n.prototype.updateSize=function(e){this.setState({width:e.width,height:e.height})},n.prototype.renderResizer=function(){var t=this,r=this.props,n=r.enable,o=r.handleStyles,i=r.handleClasses,a=r.handleWrapperStyle,s=r.handleWrapperClass,c=r.handleComponent;if(!n)return null;var l=Object.keys(n).map((function(r){return!1!==n[r]?e.createElement(Cy,{key:r,direction:r,onResizeStart:t.onResizeStart,replaceStyles:o&&o[r],className:i&&i[r]},c&&c[r]?c[r]:null):null}));return e.createElement("div",{className:s,style:a},l)},n.prototype.render=function(){var t=this,r=Object.keys(this.props).reduce((function(e,r){return-1!==Ly.indexOf(r)||(e[r]=t.props[r]),e}),{}),n=jy(jy(jy({position:"relative",userSelect:this.state.isResizing?"none":"auto"},this.props.style),this.sizeStyle),{maxWidth:this.props.maxWidth,maxHeight:this.props.maxHeight,minWidth:this.props.minWidth,minHeight:this.props.minHeight,boxSizing:"border-box",flexShrink:0});this.state.flexBasis&&(n.flexBasis=this.state.flexBasis);var o=this.props.as||"div";return e.createElement(o,jy({ref:this.ref,style:n,className:this.props.className},r),this.state.isResizing&&e.createElement("div",{style:this.state.backgroundStyle}),this.props.children,this.renderResizer())},n.defaultProps={as:"div",onResizeStart:function(){},onResize:function(){},onResizeStop:function(){},enable:{top:!0,right:!0,bottom:!0,left:!0,topRight:!0,bottomRight:!0,bottomLeft:!0,topLeft:!0},style:{},grid:[1,1],lockAspectRatio:!1,lockAspectRatioExtraWidth:0,lockAspectRatioExtraHeight:0,scale:1,resizeRatio:1,snapGap:0},n}(e.PureComponent);const Fy={list:{},listItem:{style:{fontSize:14},innerDivStyle:{padding:"14px 56px 14px 62px"}},avatar:{avatarSize:26,style:{top:9}},iconMenu:{style:{top:2,right:8}},iconButton:{style:{width:26,height:26,padding:5,right:8},iconStyle:{color:"rgba(0,0,0,.33)",fontSize:20}},divider:{style:{marginLeft:62}},className:"medium"};function qy(e){return qy="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},qy(e)}function Wy(){return Wy=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Wy.apply(this,arguments)}function Zy(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function Hy(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?Zy(Object(r),!0).forEach((function(t){Jy(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Zy(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function $y(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,Ky(n.key),n)}}function Vy(e,t){return Vy=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},Vy(e,t)}function Gy(e){return Gy=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},Gy(e)}function Jy(e,t,r){return(t=Ky(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Ky(e){var t=function(e,t){if("object"!==qy(e)||null===e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,"string");if("object"!==qy(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"===qy(t)?t:String(t)}var Yy=W().requireLib("boot").PydioContextConsumer,Xy=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&Vy(e,t)}(s,e);var r,n,o,i,a=(o=s,i=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,t=Gy(o);if(i){var r=Gy(this).constructor;e=Reflect.construct(t,arguments,r)}else e=t.apply(this,arguments);return function(e,t){if(t&&("object"===qy(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}(this,e)});function s(e){var t;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,s),t=a.call(this,e);var r=e.pydio,n=e.mode,o=e.usersOnly,i=e.usersFrom,c=e.teamsOnly,l=e.onItemSelected,u=new Md(r,n,o,i,c,l);return u.initTree(),u.observe("update",(function(){t.forceUpdate()})),t.state={model:u},t}return r=s,n=[{key:"componentDidMount",value:function(){this.state.model.reloadContext()}},{key:"render",value:function(){var e=this,r=this.props,n=r.getMessage,o=r.pydio,i=r.style,a=r.muiTheme,s=this.state,c=s.model,l=s.rightPaneSize,u=void 0===l?256:l,d=c.rightItem(),p=c.contextItem(),f={width:"100%",height:"100%",overflowY:"auto",overflowX:"hidden"},h=Hy({enableSearch:!0,searchLabel:n(583,""),setSearchTerm:function(e){return c.setGlobalSearch(!!e,e)},setSearchMode:function(e){return c.setGlobalSearch(e,"")}},c.getSearchStatus()),m=a.palette.mui3,y="xs"===a.breakpoint||"s"===a.breakpoint,g=a.darkMode?"surface":"surface-variant",b=a.darkMode?"surface-variant":"surface";return t().createElement("div",{style:Hy({display:"flex",height:"100%",overflow:"hidden",flexDirection:"column",background:m[g]},i)},t().createElement("div",{style:{height:72,display:"flex",flexShrink:0,alignItems:"center"}},t().createElement(dm,Wy({pydio:o,model:c,mode:"book",getMessage:n,style:{width:"100%"}},h))),t().createElement("div",{style:{display:"flex",flex:1,overflow:"hidden",margin:12,marginTop:0}},!y&&t().createElement(By,{defaultSize:{width:256},enable:{right:!0},style:{margin:0}},t().createElement(ky,{pydio:o,model:c,listStyles:{},muiTheme:a,style:Hy(Hy({},f),{},{paddingRight:8,color:m["on-surface-variant"]})})),t().createElement(Kd,Wy({pydio:o,model:c,item:p,mode:"book",showAllParents:y,onItemClicked:function(e){return c.leafItemClicked(e)},onFolderClicked:function(e,t){return c.setContext(e,t)},onClick:function(){return c.clearRightItem()},loading:c.loading,actionsForCell:this.props.actionsForCell,usersOnly:this.props.usersOnly,listStyles:Fy,style:{borderRadius:a.borderRadius,backgroundColor:m[b]}},h)),t().createElement(By,{size:{width:d?u:0},onResizeStop:function(t,r,n,o){e.setState({rightPaneSize:u+o.width})},enable:{left:!!d},style:{marginLeft:d?12:0,transition:"width 450ms cubic-bezier(0.23, 1, 0.32, 1) 0ms"}},t().createElement(vh,{pydio:o,model:c,zDepth:0,style:Hy(Hy({},f),{},{background:m[b],borderRadius:a.borderRadius})}))),t().createElement(Qh,{pydio:o,model:c,onCancel:function(){c.clearCreateItem()},afterSubmit:function(){c.clearCreateItem(),c.reloadContext()}}),t().createElement("style",{type:"text/css",dangerouslySetInnerHTML:{__html:(this.props.muiTheme.palette,"\n.folder-avatar::before {\n    content: \"\\F024B\";\n    font-family: 'Material Design Icons';\n    position: absolute;\n    color: rgb(54, 113, 143);\n    font-size: 40px;\n    top: 11px;\n    left: -2px;\n}\n.compact .folder-avatar::before {\n    font-size: 30px;\n    top: 5px;\n}\n\n.medium .folder-avatar::before {\n    font-size: 26px;\n    top: 5px;\n}\n\n.folder-avatar span.mdi {\n    font-size: 20px !important;\n    color: #fff !important;\n    height: 12.8px !important;\n    margin: 7.3px !important;\n}\n.compact .folder-avatar span.mdi {\n    font-size: 13px !important;\n}\n.medium .folder-avatar span.mdi {\n    font-size: 13px !important;\n}\n.folder-avatar {\n    background-color: transparent !important;\n}\n.medium .folder-avatar {\n    left: 18px;\n}\n")}}))}}],n&&$y(r.prototype,n),Object.defineProperty(r,"prototype",{writable:!1}),s}(t().Component);function Qy(e){return Qy="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Qy(e)}function eg(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function tg(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?eg(Object(r),!0).forEach((function(t){sg(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):eg(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function rg(){return rg=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},rg.apply(this,arguments)}function ng(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,cg(n.key),n)}}function og(e,t){return og=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},og(e,t)}function ig(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function ag(e){return ag=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},ag(e)}function sg(e,t,r){return(t=cg(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function cg(e){var t=function(e,t){if("object"!==Qy(e)||null===e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,"string");if("object"!==Qy(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"===Qy(t)?t:String(t)}Jy(Xy,"propTypes",{pydio:F().instanceOf(W()),onItemSelected:F().func,usersOnly:F().bool,usersFrom:F().oneOf(["local","remote","any"]),muiTheme:F().object}),Jy(Xy,"defaultProps",{mode:"book",usersOnly:!1,usersFrom:"any",teamsOnly:!1,disableSearch:!1}),Xy=Yy(Xy),Xy=(0,K.muiThemeable)()(Xy);var lg=W().requireLib("boot"),ug=lg.PydioContextConsumer,dg=lg.PydioContextProvider,pg=W().requireLib("hoc").ThemedContainers,fg=pg.Popover,hg=pg.IconButton,mg=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&og(e,t)}(s,e);var r,n,o,i,a=(o=s,i=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,t=ag(o);if(i){var r=ag(this).constructor;e=Reflect.construct(t,arguments,r)}else e=t.apply(this,arguments);return function(e,t){if(t&&("object"===Qy(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return ig(e)}(this,e)});function s(e){var t;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,s),sg(ig(t=a.call(this,e)),"openPopover",(function(e){t.setState({popoverOpen:!0,popoverAnchor:e.currentTarget})})),sg(ig(t),"closePopover",(function(){t.setState({popoverOpen:!1})}));var r=e.pydio,n=e.mode,o=e.usersOnly,i=e.usersFrom,c=e.teamsOnly,l=e.onItemSelected,u=new Md(r,n,o,i,c,l);return u.initTree(),u.observe("update",(function(){t.forceUpdate()})),t.state={model:u},t}return r=s,n=[{key:"componentDidMount",value:function(){this.state.model.reloadContext()}},{key:"render",value:function(){var e=this.props,r=e.mode,n=e.getMessage,o=e.bookColumn,i=e.listStyles,a=e.pydio;if("popover"===r){var c=t().createElement(hg,{style:{position:"absolute",padding:15,zIndex:100,right:0,bottom:0,display:this.state.loading?"none":"initial"},iconStyle:{fontSize:19},iconClassName:"mdi mdi-book-open-variant",onClick:this.openPopover}),l=dg(s,a,a.UI.themeBuilder);return t().createElement("span",null,c,t().createElement(fg,{open:this.state.popoverOpen,anchorEl:this.state.popoverAnchor,anchorOrigin:{horizontal:"right",vertical:"top"},targetOrigin:{horizontal:"left",vertical:"top"},onRequestClose:this.closePopover,style:{marginLeft:20},zDepth:2},t().createElement("div",{style:{width:320,height:420}},t().createElement(l,rg({},this.props,{mode:"selector",style:{height:420}})))))}var u,d,p,f=this.state.model,h=f.rightItem(),m=f.contextItem(),y={width:256,overflowY:"auto",overflowX:"hidden"},g=this.props.muiTheme.palette.mui3,b=void 0===g?{}:g,v={};!this.props.disableSearch&&f.contextIsGroup()&&(v={enableSearch:!0,searchLabel:n(595,""),onSearch:function(e){return f.reloadCurrentWithSearch(e)}}),"inner"!==r&&(p=t().createElement(dm,rg({pydio:a,model:f,mode:r,bookColumn:o,getMessage:n},v))),u=t().createElement(Kd,rg({model:f,item:m,mode:r,bookColumn:o,toolbar:p,onItemClicked:function(e){return f.leafItemClicked(e)},onFolderClicked:function(e,t){return f.setContext(e,t)},onClick:function(){return f.clearRightItem()},loading:f.loading,emptyStatePrimaryText:void 0,emptyStateSecondaryText:void 0,actionsForCell:this.props.actionsForCell,usersOnly:this.props.usersOnly,listStyles:i},v)),d=t().createElement(vh,{pydio:this.props.pydio,model:f,style:tg(tg({},y),{},{position:"absolute",transformOrigin:"right",background:b["surface-3"],width:"book"===r?320:280,right:10,bottom:10,top:120,zIndex:2,transform:h?null:"scale(0)"})});var k=this.props.style||{},w={background:b["surface-3"],color:b["on-surface-variant"],borderRight:"1px solid #e0e0e0"};return t().createElement("div",{style:tg({display:"flex",height:"selector"===r?320:450},k)},"book"===r&&t().createElement(Mh,{model:f,listStyles:i,rootStyle:tg(tg(tg({},y),w),{},{zIndex:2})}),u,d,t().createElement(Qh,{pydio:a,model:f,onCancel:function(){f.clearCreateItem()},afterSubmit:function(){f.clearCreateItem(),f.reloadContext()}}),t().createElement("style",{type:"text/css",dangerouslySetInnerHTML:{__html:(this.props.muiTheme.palette,"\n.folder-avatar::before {\n    content: \"\\F024B\";\n    font-family: 'Material Design Icons';\n    position: absolute;\n    color: rgb(54, 113, 143);\n    font-size: 40px;\n    top: 11px;\n    left: -2px;\n}\n.compact .folder-avatar::before {\n    font-size: 30px;\n    top: 5px;\n}\n\n.medium .folder-avatar::before {\n    font-size: 26px;\n    top: 5px;\n}\n\n.folder-avatar span.mdi {\n    font-size: 20px !important;\n    color: #fff !important;\n    height: 12.8px !important;\n    margin: 7.3px !important;\n}\n.compact .folder-avatar span.mdi {\n    font-size: 13px !important;\n}\n.medium .folder-avatar span.mdi {\n    font-size: 13px !important;\n}\n.folder-avatar {\n    background-color: transparent !important;\n}\n.medium .folder-avatar {\n    left: 18px;\n}\n")}}))}}],n&&ng(r.prototype,n),Object.defineProperty(r,"prototype",{writable:!1}),s}(t().Component);function yg(e){return yg="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},yg(e)}function gg(e){return function(e){if(Array.isArray(e))return vg(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||bg(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function bg(e,t){if(e){if("string"==typeof e)return vg(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?Array.from(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?vg(e,t):void 0}}function vg(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function kg(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,Pg(n.key),n)}}function wg(e,t){return wg=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},wg(e,t)}function _g(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function Sg(e){return Sg=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},Sg(e)}function Og(e,t,r){return(t=Pg(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Pg(e){var t=function(e,t){if("object"!==yg(e)||null===e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,"string");if("object"!==yg(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"===yg(t)?t:String(t)}sg(mg,"propTypes",{pydio:F().instanceOf(W()),mode:F().oneOf(["book","selector","popover"]).isRequired,bookColumn:F().bool,onItemSelected:F().func,usersOnly:F().bool,usersFrom:F().oneOf(["local","remote","any"]),disableSearch:F().bool,muiTheme:F().object,popoverStyle:F().object,popoverButton:F().object,popoverContainerStyle:F().object,popoverIconButtonStyle:F().object}),sg(mg,"defaultProps",{mode:"book",usersOnly:!1,usersFrom:"any",teamsOnly:!1,disableSearch:!1}),mg=ug(mg),mg=(0,K.muiThemeable)()(mg);var Eg=W().requireLib("hoc"),Cg=Eg.ModernAutoComplete,xg=Eg.ThemedContainers.Popover,jg=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&wg(e,t)}(s,e);var r,n,o,i,a=(o=s,i=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,t=Sg(o);if(i){var r=Sg(this).constructor;e=Reflect.construct(t,arguments,r)}else e=t.apply(this,arguments);return function(e,t){if(t&&("object"===yg(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return _g(e)}(this,e)});function s(){var e;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,s);for(var r=arguments.length,n=new Array(r),o=0;o<r;o++)n[o]=arguments[o];return Og(_g(e=a.call.apply(a,[this].concat(n))),"state",{dataSource:[],loading:!1,searchText:"",minChars:parseInt(W().getInstance().getPluginConfigs("core.auth").get("USERS_LIST_COMPLETE_MIN_CHARS")),hideGroups:!0===W().getInstance().getPluginConfigs("action.advanced_settings").get("DISABLE_SHARE_GROUPS")}),Og(_g(e),"suggestionLoader",(function(t,r){var n=e.props,o=n.excludes,i=n.usersOnly,a=e.state.hideGroups;e.setState({loading:e.state.loading+1});var s=Rn().getRestClient().getIdmApi(),c=[];c.push(s.listUsers("/",t,!0,0,20)),a||i?c.push(Promise.resolve({Groups:[]})):c.push(s.listGroups("/",t,!0,0,20)),i?c.push(Promise.resolve({Teams:[]})):c.push(s.listTeams(t,0,20)),Promise.all(c).then((function(t){e.setState({loading:e.state.loading-1});var n=function(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var r=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=r){var n,o,i,a,s=[],c=!0,l=!1;try{if(i=(r=r.call(e)).next,0===t){if(Object(r)!==r)return;c=!1}else for(;!(c=(n=i.call(r)).done)&&(s.push(n.value),s.length!==t);c=!0);}catch(e){l=!0,o=e}finally{try{if(!c&&null!=r.return&&(a=r.return(),Object(a)!==a))return}finally{if(l)throw o}}return s}}(e,t)||bg(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}(t,3),i=n[0],a=n[1],s=n[2];i=i.Users,a=a.Groups,s=s.Teams,o&&o.length&&(i=i.filter((function(e){return-1===o.indexOf(e.Login)})),a=a.filter((function(e){return-1===o.indexOf(e.GroupLabel)})),s=s.filter((function(e){return o.indexOf(-1===e.Label)}))),r([].concat(gg(a.map((function(e){return{IdmUser:e}}))),gg(s.map((function(e){return{IdmRole:e}}))),gg(i.map((function(e){return{IdmUser:e}})))))}))})),Og(_g(e),"textFieldUpdate",(function(t){e.setState({searchText:t}),e.state.minChars&&t&&t.length<e.state.minChars||e.loadBuffered(t,350)})),Og(_g(e),"getPendingSearchText",(function(){return e.state.searchText||!1})),Og(_g(e),"loadBuffered",(function(r,n){if(r||!e._emptyValueList){var o=e.props,i=o.existingOnly,a=o.freeValueAllowed,s=o.excludes;Up().bufferCallback("remote_users_search",n,function(){this.setState({loading:!0});var e=[W().getInstance().user.id,"pydio.anon.user"];this.suggestionLoader(r,function(n){var o=!1,c=n.filter((function(t){return!(t.IdmUser&&!t.IdmUser.IsGroup&&e.indexOf(t.IdmUser.Login)>-1)})).filter((function(e){return!s||(e.IdmUser&&e.IdmUser.IsGroup?0===s.filter((function(t){return t===e.IdmUser.Uuid})).length:e.IdmUser?0===s.filter((function(t){return t===e.IdmUser.Login})).length:0===s.filter((function(t){return t===e.IdmRole.Uuid})).length)})).map((function(e){var n,i,a;return e.IdmUser&&e.IdmUser.IsGroup?(n=e.IdmUser.GroupLabel,a=e.IdmUser.Attributes&&e.IdmUser.Attributes.displayName?e.IdmUser.Attributes.displayName:n,i="mdi mdi-folder-account"):e.IdmUser?(n=e.IdmUser.Login,a=e.IdmUser.Attributes&&e.IdmUser.Attributes.displayName?e.IdmUser.Attributes.displayName:n,i=e.IdmUser.Attributes&&"shared"===e.IdmUser.Attributes.profile?"mdi mdi-account":"mdi mdi-account-box-outline"):(n=e.IdmRole.Uuid,a=e.IdmRole.Label,i="mdi mdi-account-multiple-outline"),o|=a===r,{userObject:e,text:n,value:t().createElement(v.MenuItem,{primaryText:a,leftIcon:t().createElement(v.FontIcon,{className:i,style:{margin:"0 12px"}})})}}));if(r||(this._emptyValueList=c),r&&!o&&(!i||a)){r=this.slugLogin(r);var l=W().getMessages()[448]||"create",u=t().createElement(v.MenuItem,{primaryText:r+(a?"":" ("+l+")"),leftIcon:t().createElement(v.FontIcon,{className:"mdi mdi-account-plus",style:{margin:"0 12px"}})});c=[{text:r,value:u}].concat(gg(c))}this.setState({dataSource:c,loading:!1})}.bind(this))}.bind(_g(e)))}else e.setState({dataSource:e._emptyValueList})})),Og(_g(e),"onCompleterRequest",(function(t,r){var n=e.props,o=n.freeValueAllowed,i=n.onValueSelected;if(-1===r&&(e.state.dataSource.map((function(e){e.text===t&&(t=e)})),t&&!t.userObject&&o))return i({FreeValue:t.text}),void e.setState({searchText:"",dataSource:[]});t&&(t.userObject?i(t.userObject):o?i({FreeValue:t.text}):e.setState({createUser:t.text}),e.setState({searchText:"",dataSource:[]}))})),Og(_g(e),"onUserCreated",(function(t){e.props.onValueSelected(t),e.setState({createUser:null})})),Og(_g(e),"onCreationCancelled",(function(){e.setState({createUser:null})})),Og(_g(e),"openAddressBook",(function(t){e.setState({addressBookOpen:!0,addressBookAnchor:t.currentTarget})})),Og(_g(e),"closeAddressBook",(function(){e.setState({addressBookOpen:!1})})),Og(_g(e),"onAddressBookItemSelected",(function(t){e.props.onValueSelected(t)})),e}return r=s,(n=[{key:"componentWillReceiveProps",value:function(){this._emptyValueList=null}},{key:"slugLogin",value:function(e){return e=e.toLowerCase(),""===Fp().isValidLogin(e)?e:J().computeStringSlug(e)}},{key:"render",value:function(){var e=this,r=this.props,n=r.pydio,o=r.className,i=r.fieldLabel,a=r.underlineHide,s=r.showAddressBook,c=r.usersFrom,l=this.state,u=l.dataSource,d=l.createUser;return t().createElement("div",{style:{position:"relative",overflow:"visible"},ref:function(t){e._popoverAnchor=t}},t().createElement(Cg,{filter:v.AutoComplete.noFilter,dataSource:u,searchText:this.state.searchText,onUpdateInput:this.textFieldUpdate,className:o,openOnFocus:!0,floatingLabelText:i,floatingLabelFixed:!0,underlineShow:!a,fullWidth:!0,onNewRequest:this.onCompleterRequest,listStyle:{maxHeight:350,overflowY:"auto"},onFocus:function(){e.loadBuffered(e.state.searchText,100)},disabled:d,hintText:d?n.MessageHash[485]+" ("+d+")":null}),!d&&t().createElement("div",{style:{position:"absolute",right:s?44:10,bottom:14,height:20,width:20}},t().createElement(v.RefreshIndicator,{size:20,left:0,top:0,status:this.state.loading?"loading":"hide"})),!d&&s&&t().createElement(mg,{mode:"popover",pydio:n,loaderStyle:{width:320,height:420},onItemSelected:this.onAddressBookItemSelected,usersFrom:c,disableSearch:!0}),t().createElement(xg,{open:d,anchorEl:this._popoverAnchor,anchorOrigin:{horizontal:"left",vertical:"bottom"},targetOrigin:{horizontal:"left",vertical:"top"},onRequestClose:this.onCreationCancelled,canAutoPosition:!1,style:this._popoverAnchor?{width:this._popoverAnchor.clientWidth}:{},zDepth:3},d&&t().createElement(Jf,{onUserCreated:this.onUserCreated.bind(this),onCancel:this.onCreationCancelled.bind(this),style:{width:"100%",height:320},newUserName:d,pydio:n})))}}])&&kg(r.prototype,n),Object.defineProperty(r,"prototype",{writable:!1}),s}(t().Component);function Tg(e){return Tg="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Tg(e)}function Rg(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function zg(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?Rg(Object(r),!0).forEach((function(t){Ig(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Rg(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function Ig(e,t,r){return(t=function(e){var t=function(e,t){if("object"!==Tg(e)||null===e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,"string");if("object"!==Tg(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"===Tg(t)?t:String(t)}(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}Og(jg,"propTypes",{renderSuggestion:F().func.isRequired,onValueSelected:F().func.isRequired,fieldLabel:F().string.isRequired,excludes:F().array.isRequired,usersOnly:F().bool,usersFrom:F().oneOf(["local","remote","any"]),existingOnly:F().bool,freeValueAllowed:F().bool,className:F().string});var Ag=W().requireLib("boot").M3Tooltip;const Mg=(0,K.muiThemeable)()((function(e){var r,n=e.size,o=void 0===n?24:n,i=e.idmObject,a=e.type,s=e.muiTheme,c=e.tooltip,l=void 0!==c&&c,u=e.style,d=void 0===u?{}:u,p=s.palette.avatarsColor,f=zg({borderRadius:"50%",color:"white",display:"flex",alignItems:"center",justifyContent:"center",fontSize:17,height:o,width:o},d);if(r="group"===a?t().createElement("span",{className:"mdi mdi-account-multiple",style:zg(zg({},f),{},{backgroundColor:p})}):"team"===a?t().createElement("span",{className:"mdi mdi-account-multiple-outline",style:zg(zg({},f),{},{backgroundColor:p})}):"temporary"===a?t().createElement("span",{className:"mdi mdi-account-plus",style:zg(zg({},f),{},{backgroundColor:p})}):"remote_user"===a?t().createElement("span",{className:"mdi mdi-account-network",style:zg(zg({},f),{},{backgroundColor:p})}):"more"===a?t().createElement("span",{style:zg(zg({},f),{},{backgroundColor:p})},"+ ",i):t().createElement("div",{style:{zIndex:f.zIndex}},t().createElement(Np,{avatarSize:o,pydio:W().getInstance(),userId:i.Login,avatarOnly:!0,idmUser:i,userType:"user",useDefaultAvatar:!0,richOnClick:!1,richOnHover:!1,style:zg({padding:0,lineHeight:"16px"},d)})),l){var h,m=W().getMessages();return h="more"===a?i>1?m["share_center.cell.participant.other.multiple"].replace("%d",i):m["share_center.cell.participant.other.single"]:ed().extractLabelFromIdmObject(i),t().createElement(Ag,{PopperProps:{style:{zIndex:2200}},placement:"bottom",title:t().createElement("div",{style:{padding:"0 6px"}},h)},r)}return r}));function Dg(e){return Dg="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Dg(e)}function Ng(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function Lg(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?Ng(Object(r),!0).forEach((function(t){Ug(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Ng(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function Ug(e,t,r){return(t=function(e){var t=function(e,t){if("object"!==Dg(e)||null===e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,"string");if("object"!==Dg(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"===Dg(t)?t:String(t)}(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}const Bg=function(e){var r=e.acls,n=e.max,o=void 0===n?6:n,i=e.size,a=void 0===i?32:i,s=e.onlines,c=void 0===s?void 0:s,l={border:"2px solid var(--md-sys-color-surface-variant)"},u=Object.keys(r).map((function(e,t){var n,o,i,a,s=Lg({},l),u=r[e];if(u.User)n="user",o=u.User,a="user-"+u.User.Login,void 0!==c&&(i=c&&c.indexOf&&c.indexOf(u.User.Login)>-1)&&(s.border="2px solid #4caf50");else if(u.Group)n="group",o=u.Group,a="group-"+u.Group.Uuid;else{if(!u.Role)return null;n="team",o=u.Role,a="group-"+u.Role.Uuid}return{type:n,object:o,style:s,online:i,key:a}})).filter((function(e){return null!==e}));if(void 0!==c&&u.sort((function(e,t){return e.online?-1:t.online?1:0})),u=u.map((function(e,t){return t>0&&(e.style=Lg(Lg({},e.style),{},{marginLeft:-10,zIndex:2*t})),e})),u.length>o){var d=u.length-o;(u=u.slice(0,o)).push({type:"more",object:d,style:Lg(Lg({},l),{},{marginLeft:-10,zIndex:16,fontWeight:500,fontSize:14})})}return t().createElement("div",{style:{display:"flex",height:a}},u.map((function(e){var r=e.type,n=e.object,o=e.style,i=e.key;return t().createElement(Mg,{key:i,size:a,type:r,idmObject:n,style:o,tooltip:!0})})))};function Fg(e){return Fg="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Fg(e)}function qg(){return qg=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},qg.apply(this,arguments)}function Wg(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function Zg(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?Wg(Object(r),!0).forEach((function(t){Jg(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Wg(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function Hg(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,Kg(n.key),n)}}function $g(e,t){return $g=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},$g(e,t)}function Vg(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function Gg(e){return Gg=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},Gg(e)}function Jg(e,t,r){return(t=Kg(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Kg(e){var t=function(e,t){if("object"!==Fg(e)||null===e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,"string");if("object"!==Fg(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"===Fg(t)?t:String(t)}var Yg=W().requireLib("hoc").ThemedContainers.Popover,Xg=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&$g(e,t)}(c,e);var r,o,i,a,s=(i=c,a=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,t=Gg(i);if(a){var r=Gg(this).constructor;e=Reflect.construct(t,arguments,r)}else e=t.apply(this,arguments);return function(e,t){if(t&&("object"===Fg(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return Vg(e)}(this,e)});function c(){var e;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,c);for(var t=arguments.length,r=new Array(t),n=0;n<t;n++)r[n]=arguments[n];return Jg(Vg(e=s.call.apply(s,[this].concat(r))),"state",{showMenu:!1}),Jg(Vg(e),"showMenu",(function(t){var r;r=t?t.currentTarget:e._buttonDOM,e.setState({showMenu:!0,anchor:r})})),Jg(Vg(e),"menuClicked",(function(t,r,n){e.setState({showMenu:!1})})),e}return r=c,o=[{key:"componentDidMount",value:function(){var e=this;this.props.openOnEvent&&this.props.pydio.observe(this.props.openOnEvent,(function(){e.showMenu()}))}},{key:"render",value:function(){var e,r=this,o=this.state,i=o.showMenu,a=o.anchor,s=t().createElement("span",{style:{whiteSpace:"nowrap"}},this.props.buttonTitle," ",t().createElement("span",{className:"mdi mdi-menu-down"})),c=this.props.buttonHoverColor||"rgba(255,255,255,0.2)",l={primary:this.props.primary,secondary:this.props.secondary,disabled:this.props.disabled,label:s,onClick:this.showMenu,labelStyle:Zg({},this.props.buttonLabelStyle),style:this.props.buttonStyle,backgroundColor:i?c:this.props.buttonBackgroundColor,hoverColor:this.props.buttonHoverColor},u=this.props.menuItems;return u.length&&(e=this.props.raised?t().createElement(v.RaisedButton,qg({},l,{ref:function(e){r._buttonDOM=n().findDOMNode(e)}})):t().createElement(v.FlatButton,qg({},l,{ref:function(e){r._buttonDOM=n().findDOMNode(e)}}))),t().createElement("span",{id:this.props.id,className:this.props.className},e,t().createElement(Yg,{className:"menuPopover",open:i,anchorEl:a,anchorOrigin:{horizontal:this.props.direction||"left",vertical:"bottom"},targetOrigin:{horizontal:this.props.direction||"left",vertical:"top"},onRequestClose:function(){r.setState({showMenu:!1})},style:{marginTop:1},useLayerForClickAway:!1},Br.itemsToMenu(u,this.menuClicked)))}}],o&&Hg(r.prototype,o),Object.defineProperty(r,"prototype",{writable:!1}),c}(t().Component);Jg(Xg,"propTypes",{buttonTitle:F().oneOfType([F().string,F().object]).isRequired,menuItems:F().array.isRequired,className:F().string,raised:F().bool,direction:F().oneOf(["left","right"])});const Qg=Kr(Xg),eb=require("pydio/model/context-menu");var tb=a.n(eb);function rb(e){return rb="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},rb(e)}function nb(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function ob(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?nb(Object(r),!0).forEach((function(t){lb(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):nb(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function ib(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,ub(n.key),n)}}function ab(e,t){return ab=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},ab(e,t)}function sb(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function cb(e){return cb=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},cb(e)}function lb(e,t,r){return(t=ub(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function ub(e){var t=function(e,t){if("object"!==rb(e)||null===e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,"string");if("object"!==rb(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"===rb(t)?t:String(t)}var db=a(580),pb=a(6405),fb=W().requireLib("hoc").ThemedContainers.Paper,hb=function(r){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&ab(e,t)}(c,r);var n,o,i,a,s=(i=c,a=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,t=cb(i);if(a){var r=cb(this).constructor;e=Reflect.construct(t,arguments,r)}else e=t.apply(this,arguments);return function(e,t){if(t&&("object"===rb(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return sb(e)}(this,e)});function c(t){var r;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,c),lb(sb(r=s.call(this,t)),"showMenu",(function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;r.setState({showMenu:!0,style:e,menuItems:t||r.state.menuItems})})),lb(sb(r),"hideMenu",(function(e){if(!e)return r.setState({showMenu:!1}),void(r.props.onMenuClosed&&r.props.onMenuClosed());if(void 0===e||2!==e.button||"contextmenu"===e.type){var t=pb.findDOMNode(r.menuRef.current);t&&t.contains(e.target)||t===e.target||(r.setState({showMenu:!1}),r.props.onMenuClosed&&r.props.onMenuClosed())}})),lb(sb(r),"menuClicked",(function(e,t,n){r.hideMenu()})),r.menuRef=(0,e.createRef)(),r.state={showMenu:!1,menuItems:t.menuItems},r}return n=c,(o=[{key:"componentDidMount",value:function(){this._observer=this.hideMenu.bind(this)}},{key:"componentWillUnmount",value:function(){document.removeEventListener("click",this._observer,!1)}},{key:"componentWillReceiveProps",value:function(e){e.menuItems&&this.setState({menuItems:e.menuItems})}},{key:"componentDidUpdate",value:function(e,t){this.state.showMenu?document.addEventListener("click",this._observer,!1):document.removeEventListener("click",this._observer,!1)}},{key:"render",value:function(){var e=this.props,r=e.menuProps,n=e.zDepth,o=void 0===n?1:n,i=this.state,a=i.style,s=void 0===a?{}:a,c=i.menuItems,l=ob(ob({},s),{},{zIndex:1e3}),u=Br.itemsToMenu(c,this.menuClicked.bind(this),!1,ob({ref:this.menuRef,desktop:!0,display:"right",width:250},r));return this.state.showMenu?t().createElement(fb,{zDepth:o||1,ref:"menuContainer",className:"menu-positioner",style:l},u):null}}])&&ib(n.prototype,o),Object.defineProperty(n,"prototype",{writable:!1}),c}(t().Component);function mb(e){return mb="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},mb(e)}function yb(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,gb(n.key),n)}}function gb(e){var t=function(e,t){if("object"!==mb(e)||null===e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,"string");if("object"!==mb(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"===mb(t)?t:String(t)}function bb(e,t){return bb=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},bb(e,t)}function vb(e){return vb=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},vb(e)}lb(hb,"propTypes",{menuItems:db.array.isRequired,onExternalClickCheckElements:db.func,className:db.string,style:db.object,onMenuClosed:db.func});var kb=a(6689),wb=kb.Component,_b=kb.createRef,Sb=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&bb(e,t)}(a,e);var t,r,n,o,i=(n=a,o=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,t=vb(n);if(o){var r=vb(this).constructor;e=Reflect.construct(t,arguments,r)}else e=t.apply(this,arguments);return function(e,t){if(t&&("object"===mb(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}(this,e)});function a(e){var t;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,a),(t=i.call(this,e)).menu=_b(),t}return t=a,r=[{key:"modelOpen",value:function(e){var t=tb().getInstance().getPosition(),r=this.props.pydio;if(e){var n=r.getContextHolder();-1===n.getSelectedNodes().indexOf(e)?(r.observeOnce("actions_refreshed",function(e){this.openMenu("selectionContext",t)}.bind(this)),n.setSelectedNodes([e])):this.openMenu("selectionContext",t)}else this.openMenu("genericContext",t)}},{key:"openMenu",value:function(e,t){var r=this.computeMenuItems(e);this._items=r,this.props.pydio.UI.MOBILE_EXTENSIONS?this.menu.current.showMenu({bottom:0,left:0,right:0,height:200,zIndex:1e4,overflowY:"auto"},r):(t=this.computeVisiblePosition(t,r),this.menu.current.showMenu({top:t.y,left:t.x},r))}},{key:"computeMenuItems",value:function(e){var t=this.props.pydio.Controller.getContextActions(e,["inline","info_panel","info_panel_share"]);return Br.pydioActionsToItems(t)}},{key:"computeVisiblePosition",value:function(e,t){var r=16;t.map((function(e){e.separator?r+=16:r+=32}));var n=Math.max(document.documentElement.clientWidth,window.innerWidth||0),o=Math.max(document.documentElement.clientHeight,window.innerHeight||0);return e.x+250>n?e.x=Math.max(e.x-250,10)-8:e.x+=8,e.y+r>o?e.y=Math.max(e.y-r,10)-8:e.y+=8,e}},{key:"componentDidMount",value:function(){this._modelOpen=this.modelOpen.bind(this),tb().getInstance().observe("open",this._modelOpen)}},{key:"componentWillUnmount",value:function(){tb().getInstance().stopObserving("open",this._modelOpen)}},{key:"render",value:function(){var e=this.props.pydio.UI.MOBILE_EXTENSIONS;return React.createElement(hb,{ref:this.menu,menuItems:this._items||[],onMenuClosed:this.props.onMenuClosed,menuProps:e?{width:600,autoWidth:!1,desktop:!1}:{},zDepth:e?2:1})}}],r&&yb(t.prototype,r),Object.defineProperty(t,"prototype",{writable:!1}),a}(wb);function Ob(e){return Ob="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Ob(e)}function Pb(){return Pb=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Pb.apply(this,arguments)}function Eb(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function Cb(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?Eb(Object(r),!0).forEach((function(t){zb(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Eb(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function xb(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,Ib(n.key),n)}}function jb(e,t){return jb=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},jb(e,t)}function Tb(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function Rb(e){return Rb=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},Rb(e)}function zb(e,t,r){return(t=Ib(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Ib(e){var t=function(e,t){if("object"!==Ob(e)||null===e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,"string");if("object"!==Ob(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"===Ob(t)?t:String(t)}var Ab=W().requireLib("hoc").ThemedContainers.Popover,Mb=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&jb(e,t)}(c,e);var r,o,i,a,s=(i=c,a=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,t=Rb(i);if(a){var r=Rb(this).constructor;e=Reflect.construct(t,arguments,r)}else e=t.apply(this,arguments);return function(e,t){if(t&&("object"===Ob(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return Tb(e)}(this,e)});function c(){var e;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,c);for(var t=arguments.length,r=new Array(t),n=0;n<t;n++)r[n]=arguments[n];return zb(Tb(e=s.call.apply(s,[this].concat(r))),"state",{showMenu:!1}),zb(Tb(e),"showMenu",(function(t){var r;r=t?t.currentTarget:e._buttonDOM,e.setState({showMenu:!0,anchor:r})})),zb(Tb(e),"menuClicked",(function(t,r,n){e.setState({showMenu:!1})})),e}return r=c,o=[{key:"componentDidMount",value:function(){var e=this;this.props.openOnEvent&&this.props.pydio.observe(this.props.openOnEvent,(function(){e.showMenu()}))}},{key:"render",value:function(){var e,r,o=this,i=this.props,a=i.id,s=i.masterAction,c=i.buttonTitle,l=i.primary,u=i.secondary,d=i.disabled,p=i.raised,f=i.menuItems,h=i.buttonStyle,m=i.buttonLabelStyle,y=i.className,g=i.direction,b=i.muiTheme,k=Cb({},m),w=Cb({},m);k.paddingRight?k.paddingRight/=Math.floor(3):k.paddingRight=8,w.paddingLeft?w.paddingLeft/=Math.floor(3):w.paddingLeft=8,w.paddingRight=w.paddingLeft;var _={primary:l,secondary:u,disabled:d,label:c,style:Cb(Cb({},h),{},{minWidth:60,borderRadius:"".concat(b.borderRadius,"px 0 0 ").concat(b.borderRadius,"px")}),labelStyle:k,onClick:s},S={primary:l,secondary:u,disabled:d,label:t().createElement("span",{className:"mdi mdi-menu-down"}),style:Cb(Cb({},h),{},{minWidth:16,borderRadius:"0 ".concat(b.borderRadius,"px ").concat(b.borderRadius,"px 0")}),labelStyle:w,onClick:this.showMenu},O=this.state,P=O.showMenu,E=O.anchor,C=O.over;f.length&&(p?(r=t().createElement(v.RaisedButton,Pb({},S,{ref:function(e){o._buttonDOM=n().findDOMNode(e)}})),e=t().createElement(v.RaisedButton,_)):(r=t().createElement(v.FlatButton,Pb({},S,{ref:function(e){o._buttonDOM=n().findDOMNode(e)}})),e=t().createElement(v.FlatButton,_)));var x={whiteSpace:"nowrap",borderRadius:b.borderRadius};return t().createElement("span",{id:a,className:y,onMouseOver:function(){o.setState({over:!0})},onMouseOut:function(){o.setState({over:!1})},style:C||P?Cb({backgroundColor:"rgba(153, 153, 153, 0.2)"},x):x},e,r,t().createElement(Ab,{className:"menuPopover",open:P,anchorEl:E,anchorOrigin:{horizontal:g||"left",vertical:"bottom"},targetOrigin:{horizontal:g||"left",vertical:"top"},onRequestClose:function(){o.setState({showMenu:!1})},style:{marginTop:1},useLayerForClickAway:!1},Br.itemsToMenu(f,this.menuClicked)))}}],o&&xb(r.prototype,o),Object.defineProperty(r,"prototype",{writable:!1}),c}(t().Component);zb(Mb,"propTypes",{buttonTitle:F().oneOfType([F().string,F().object]).isRequired,masterAction:F().func.isRequired,menuItems:F().array.isRequired,className:F().string,raised:F().bool,direction:F().oneOf(["left","right"])});const Db=Kr((0,K.muiThemeable)()(Mb));function Nb(e){return Nb="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Nb(e)}function Lb(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,Ub(n.key),n)}}function Ub(e){var t=function(e,t){if("object"!==Nb(e)||null===e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,"string");if("object"!==Nb(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"===Nb(t)?t:String(t)}function Bb(e,t){return Bb=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},Bb(e,t)}function Fb(e){return Fb=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},Fb(e)}var qb=a(580),Wb=a(6689),Zb=W().requireLib("hoc").ThemedContainers,Hb=Zb.Popover,$b=Zb.IconButton,Vb=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&Bb(e,t)}(a,e);var t,r,n,o,i=(n=a,o=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,t=Fb(n);if(o){var r=Fb(this).constructor;e=Reflect.construct(t,arguments,r)}else e=t.apply(this,arguments);return function(e,t){if(t&&("object"===Nb(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}(this,e)});function a(e,t){var r;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,a),(r=i.call(this,e,t)).state={showPopover:!1},r}return t=a,(r=[{key:"showPopover",value:function(e){this.setState({showPopover:!0,anchor:e.currentTarget})}},{key:"render",value:function(){var e=this;return Wb.createElement("span",{className:"toolbars-button-menu "+(this.props.className?this.props.className:"")},Wb.createElement($b,{ref:"menuButton",tooltip:this.props.buttonTitle,iconClassName:this.props.buttonClassName,onClick:this.showPopover.bind(this),iconStyle:this.props.buttonStyle}),Wb.createElement(Hb,{open:this.state.showPopover,anchorEl:this.state.anchor,anchorOrigin:{horizontal:this.props.direction||"right",vertical:"bottom"},targetOrigin:{horizontal:this.props.direction||"right",vertical:"top"},onRequestClose:function(){e.setState({showPopover:!1})},useLayerForClickAway:!1},this.props.popoverContent))}}])&&Lb(t.prototype,r),Object.defineProperty(t,"prototype",{writable:!1}),a}(Wb.Component);Vb.propTypes={buttonTitle:qb.string.isRequired,buttonClassName:qb.string.isRequired,className:qb.string,direction:qb.oneOf(["right","left"]),popoverContent:qb.object.isRequired};const Gb=Vb;function Jb(e){return Jb="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Jb(e)}function Kb(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function Yb(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?Kb(Object(r),!0).forEach((function(t){Xb(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Kb(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function Xb(e,t,r){return(t=function(e){var t=function(e,t){if("object"!==Jb(e)||null===e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,"string");if("object"!==Jb(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"===Jb(t)?t:String(t)}(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Qb(e){return function(e){if(Array.isArray(e))return ev(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||function(e,t){if(e){if("string"==typeof e)return ev(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?Array.from(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?ev(e,t):void 0}}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function ev(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}var tv=W().requireLib("hoc").ThemedContainers.IconButton;const rv=U()({displayName:"Toolbar",propTypes:{toolbars:F().array,groupOtherList:F().array,renderingType:F().string,controller:F().instanceOf(Controller),toolbarStyle:F().object,buttonStyle:F().object,fabAction:F().string,buttonMenuNoLabel:F().bool},componentDidMount:function(){var e=function(){this.isMounted()&&this.setState({groups:this.props.controller.getToolbarsActions(this.props.toolbars,this.props.groupOtherList)})}.bind(this);this._observer=(0,Fr.debounce)(e,50),this.props.controller===pydio.Controller?pydio.observe("actions_refreshed",this._observer):this.props.controller.observe("actions_refreshed",this._observer)},componentWillUnmount:function(){this.props.controller===pydio.Controller?pydio.stopObserving("actions_refreshed",this._observer):this.props.controller.stopObserving("actions_refreshed",this._observer)},componentWillReceiveProps:function(e){e.toolbars!==this.props.toolbars&&this.setState({groups:this.props.controller.getToolbarsActions(e.toolbars,e.groupOtherList)})},getInitialState:function(){return{groups:this.props.controller.getToolbarsActions(this.props.toolbars,this.props.groupOtherList)}},getDefaultProps:function(){return{controller:a.g.pydio.Controller,renderingType:"button",groupOtherList:[]}},render:function(){var e=this.state.groups,r=[],n=this.props,o=n.toolbars,i=n.renderingType,a=n.groupOtherList,s=n.buttonStyle,c=n.mergeItemsAsOneMenu,l=n.tooltipPosition,u=n.controller,d=n.fabAction,p=n.fabButtonStyle,f=void 0===p?{}:p,h=n.toolbarStyle,m=n.buttonMenuNoLabel,y=n.buttonMenuPopoverDirection,g=n.flatButtonStyle,b=Qb(o);a.length&&(b=b.concat(["MORE_ACTION"]));var k=!1,w=[];if(b.map((function(n){e.has(n)&&e.get(n).map((function(e){if(!e.deny){var o,a,p,h,b,_=e.options.name;if(p=pydio.MessageHash[e.options.text_id]||e.options.text,h=e.options.icon_class,"MORE_ACTION"===n){var S=e.subMenuItems.dynamicItems,O=[];S.map((function(e){e.separator?O.push(e):e.actionId&&!e.actionId.deny&&O.push(e.actionId.getMenuData())})),o=Br.pydioActionsToItems(O),h="mdi mdi-dots-vertical"}else e.subMenuItems.staticItems?o=Br.pydioActionsToItems(e.subMenuItems.staticItems):e.subMenuItems.dynamicBuilder?o=Br.pydioActionsToItems(e.subMenuItems.dynamicBuilder(u)):e.subMenuItems.popoverContent&&(a=e.subMenuItems.popoverContent);if(o&&e.subMenuItems.masterAction){var P=u.getActionByName(e.subMenuItems.masterAction);P&&!P.deny&&(b=function(){P.apply()})}if(c&&void 0!==o)w=[].concat(Qb(w),[{subHeader:p}],Qb(o),[{separator:!0}]);else{var E="action-"+e.options.name;if("button-icon"===i&&(p=t().createElement("span",{className:"button-icon"},t().createElement("span",{className:"button-icon-icon "+h}),t().createElement("span",{className:"button-icon-label"},p))),o)"button"===i||"button-icon"===i?b?r.push(t().createElement(Db,{key:_,className:E,buttonTitle:p,menuItems:o,masterAction:b,buttonStyle:g,buttonLabelStyle:s,direction:y})):r.push(t().createElement(Qg,{key:_,className:E,buttonTitle:m?"":p,menuItems:o,buttonStyle:g,buttonLabelStyle:s,direction:y})):r.push(t().createElement(cn,{key:_,className:E,onMenuClicked:function(e){e.payload()},buttonClassName:h,buttonTitle:p,menuItems:o,buttonStyle:s,style:g,popoverDirection:y}));else if(a)r.push(t().createElement(Gb,{key:_,className:E,buttonClassName:h,buttonTitle:p,buttonStyle:s,popoverContent:a}));else{var C=function(){e.apply()};d&&d===_?(k=!0,r.push(t().createElement(v.FloatingActionButton,{key:_,onClick:C,iconClassName:h,mini:!0,backgroundColor:f.backgroundColor,iconStyle:f.color?{color:f.color}:null,style:{position:"absolute",top:-20,left:10}}))):"button-icon"===i||"button"===i?r.push(t().createElement(v.FlatButton,{key:_,className:E,onClick:C,label:p,labelStyle:s,style:g})):r.push(t().createElement(tv,{key:_,iconClassName:h+" "+E,iconStyle:s,style:g,onClick:C,tooltip:p,tooltipPosition:l}))}}}}))})),c&&w.length){w.pop();var _=this.props,S=_.mergedMenuIcom,O=_.mergedMenuTitle;r.push(t().createElement(cn,{key:o.join("-"),className:"toolbar-"+o.join("-"),onMenuClicked:function(e){e.payload()},buttonClassName:S,buttonTitle:O,menuItems:w,buttonStyle:s,style:g,popoverDirection:y}))}var P=this.props.className?this.props.className:"";P+=" toolbar",r.length||(P+=" empty-toolbar");var E=Yb({},h);return k&&(E=Yb(Yb({},h),{},{minHeight:41})),t().createElement("div",{className:P,style:E,id:this.props.id},r)}}),nv=require("pydio/http/websocket");var ov=a.n(nv),iv=a(1223),av=a.n(iv);function sv(e){return sv="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},sv(e)}function cv(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function lv(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,fv(n.key),n)}}function uv(e,t){return uv=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},uv(e,t)}function dv(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function pv(e){return pv=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},pv(e)}function fv(e){var t=function(e,t){if("object"!==sv(e)||null===e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,"string");if("object"!==sv(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"===sv(t)?t:String(t)}var hv=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&uv(e,t)}(s,e);var t,r,n,o,i,a=(o=s,i=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,t=pv(o);if(i){var r=pv(this).constructor;e=Reflect.construct(t,arguments,r)}else e=t.apply(this,arguments);return function(e,t){if(t&&("object"===sv(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return dv(e)}(this,e)});function s(e){var t;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,s),function(e,t,r){(t=fv(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r}(dv(t=a.call(this,e)),"subscriptions",void 0),t.currentRepo=e.repositoryId,t.subscriptions={},t.rooms={},t.roomInfos={},t.open(),t}return t=s,r=[{key:"getIdentifier",value:function(e,t){return e+":"+t}},{key:"getRoomInfoFromIdentifier",value:function(e){var t=function(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var r=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=r){var n,o,i,a,s=[],c=!0,l=!1;try{if(i=(r=r.call(e)).next,0===t){if(Object(r)!==r)return;c=!1}else for(;!(c=(n=i.call(r)).done)&&(s.push(n.value),s.length!==t);c=!0);}catch(e){l=!0,o=e}finally{try{if(!c&&null!=r.return&&(a=r.return(),Object(a)!==a))return}finally{if(l)throw o}}return s}}(e,t)||function(e,t){if(e){if("string"==typeof e)return cv(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?Array.from(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?cv(e,t):void 0}}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}(e.split(":"),2);return{roomType:t[0],objectId:t[1]}}},{key:"onRoomMessage",value:function(e){if(e){var t=e.Room,r=this.getIdentifier(t.Type,t.RoomTypeObject);this.roomInfos[r]=t}}},{key:"joinRoom",value:function(e,t,r,n){var o=this,i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:0,a=this.getIdentifier(e,t);if(this.subscriptions[a]){var s=!1;return this.subscriptions[a].map((function(e){e.messageHandler===r&&(s=!0)})),s||this.subscriptions[a].push({messageHandler:r,roomUpdateHandler:n}),this.roomInfos[a]}if(this.connecting){if(i<3)return setTimeout((function(){o.joinRoom(e,t,r,n,i+1)}),1500),null}else if(!this.connOpen)return this.open(),setTimeout((function(){o.joinRoom(e,t,r,n,i+1)}),1500),null;this.subscriptions[e+":"+t]=[{messageHandler:r,roomUpdateHandler:n}];var c={"@type":"JOIN",Room:{Type:e,RoomTypeObject:t}};return this.ws.send(JSON.stringify(c)),this.roomInfos[a]}},{key:"loadHistory",value:function(e,t){var r=this,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,o=arguments.length>3&&void 0!==arguments[3]?arguments[3]:40,i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:0;if(this.connecting&&i<3)setTimeout((function(){r.loadHistory(e,t,n,o,i+1)}),1500);else{var a={"@type":"HISTORY",Room:{Type:e,RoomTypeObject:t},Message:{Message:JSON.stringify({Offset:n,Limit:o})}};this.ws.send(JSON.stringify(a))}}},{key:"leaveRoom",value:function(e,t){var r=this,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:void 0,o=!1,i=this.getIdentifier(e,t);if(this.subscriptions[i]&&(n?(this.subscriptions[i]=this.subscriptions[i].filter((function(e){return e.messageHandler!==n})),this.subscriptions[i].length?o=!0:delete this.subscriptions[i]):delete this.subscriptions[i]),!o&&(Object.keys(this.rooms).map((function(e){r.rooms[e]===i&&delete r.rooms[e]})),this.connOpen)){var a={"@type":"LEAVE",Room:{Type:e,RoomTypeObject:t}};this.ws.send(JSON.stringify(a))}}},{key:"handleMessageReceived",value:function(e){var t=JSON.parse(e.data);if("ROOM_UPDATE"===t["@type"]){var r=this.getIdentifier(t.Room.Type,t.Room.RoomTypeObject);this.subscriptions[r]&&(this.rooms[t.Room.Uuid]||(this.rooms[t.Room.Uuid]=r),this.onRoomMessage(t),this.subscriptions[r].map((function(e){if(e.roomUpdateHandler)try{e.roomUpdateHandler(t)}catch(e){}})))}else{var n,o=!1;if("DELETE_MSG"===t["@type"]?(o=!0,n=t.Message):n=t,n.RoomUuid&&this.rooms[n.RoomUuid]){var i=this.subscriptions[this.rooms[n.RoomUuid]],a=i.filter((function(e){return e.roomUpdateHandler}));a.length&&(i=a),i.map((function(e){try{e.messageHandler(n,o)}catch(e){}}))}else console.log("Cannot find room "+n.RoomUuid,this.rooms)}}},{key:"send",value:function(e){this.ws.send(e)}},{key:"open",value:function(){var e=this;if(this.close(),this.currentRepo){var t=this.pydio.Parameters.get("ENDPOINT_WEBSOCKET").replace("/event","/chat");t&&"/"===t[0]&&(t=t.substr(1));var r=this.pydio.getFrontendUrl(),n="https:"===r.protocol?"wss":"ws",o="".concat(n,"://").concat(r.host,"/")+t;this.ws=new(av())(o,[],{maxReconnectionDelay:6e4,reconnectionDelayGrowFactor:1.6,maxRetries:10}),this.connecting=!0,this.ws.addEventListener("open",(function(){ov().subscribeJWT(e.ws).then((function(){e.connecting=!1,e.connOpen=!0})).catch((function(){e.connecting=!1,e.connOpen=!1}))})),this.ws.addEventListener("message",(function(t){e.handleMessageReceived(t)})),this.ws.addEventListener("close",(function(t){e.connOpen=!1,e.connecting=!1,ov().logClose(t)})),this.ws.addEventListener("error",(function(e){"EHOSTDOWN"===e.code&&console.error("WebSocket maxRetries reached, host is down!")})),this.hbInterval=setInterval((function(){return e.heartbeat()}),15e3),window.onbeforeunload=function(){e.close()}}}},{key:"close",value:function(){var e=this;null!==this.ws&&(Object.keys(this.subscriptions).map((function(t){var r=e.getRoomInfoFromIdentifier(t),n=r.roomType,o=r.objectId;e.leaveRoom(n,o)})),this.ws.close(1e3,"Closing",{keepClosed:!0}),this.hbInterval&&clearInterval(this.hbInterval))}},{key:"heartbeat",value:function(){var e=this;Object.keys(this.subscriptions).map((function(t){var r=e.getRoomInfoFromIdentifier(t),n={"@type":"JOIN",Room:{Type:r.roomType,RoomTypeObject:r.objectId},Message:{Message:"PING"}};try{e.ws.send(JSON.stringify(n))}catch(e){}}))}}],n=[{key:"getInstance",value:function(e){return void 0!==s._instance||(s._instance=new s(e)),s._instance}}],r&&lv(t.prototype,r),n&&lv(t,n),Object.defineProperty(t,"prototype",{writable:!1}),s}(ov());const mv=require("pydio/util/dom");var yv=a.n(mv);const gv=require("react-markdown");var bv=a.n(gv),vv=a(2672),kv=a(1625),wv=a(2360);function _v(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var r=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=r){var n,o,i,a,s=[],c=!0,l=!1;try{if(i=(r=r.call(e)).next,0===t){if(Object(r)!==r)return;c=!1}else for(;!(c=(n=i.call(r)).done)&&(s.push(n.value),s.length!==t);c=!0);}catch(e){l=!0,o=e}finally{try{if(!c&&null!=r.return&&(a=r.return(),Object(a)!==a))return}finally{if(l)throw o}}return s}}(e,t)||function(e,t){if(e){if("string"==typeof e)return Sv(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?Array.from(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?Sv(e,t):void 0}}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Sv(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}a(1059),kv();var Ov=String.fromCharCode(65039),Pv=new RegExp(Ov,"g");var Ev=Object.entries(vv.lib).map((function(e){var t=_v(e,2);return[t[0],t[1].char]})),Cv=new Map(Ev),xv=(new Map(Ev.map((function(e){var t,r=_v(e,2),n=r[0];return[(t=r[1],t.replace(Pv,"")),n]}))),[{name:"angry",emoji:"",tags:["mad","annoyed"],description:"angry face",emoticons:[">:(",">:[",">:-(",">:-[",">=(",">=[",">=-(",">=-["]},{name:"blush",emoji:"",tags:["proud"],description:"smiling face with smiling eyes",emoticons:[':")',':"]',':"D',':-")',':-"]',':-"D','=")','="]','="D','=-")','=-"]','=-"D']},{name:"broken_heart",emoji:"",tags:[],description:"broken heart",emoticons:["<\\3","</3"]},{name:"confused",emoji:"",tags:[],description:"confused face",emoticons:[":/",":\\",":-/",":-\\","=/","=\\","=-/","=-\\"]},{name:"cry",emoji:"",tags:["sad","tear"],description:"crying face",emoticons:[":,(",":,[",":,|",":,-(",":,-[",":,-|",":'(",":'[",":'|",":'-(",":'-[",":'-|","=,(","=,[","=,|","=,-(","=,-[","=,-|","='(","='[","='|","='-(","='-[","='-|"]},{name:"frowning",emoji:"",tags:[],description:"frowning face with open mouth",emoticons:[":(",":[",":-(",":-[","=(","=[","=-(","=-["]},{name:"heart",emoji:"",tags:["love"],description:"red heart",emoticons:["<3"]},{name:"imp",emoji:"",tags:["angry","devil","evil","horns"],description:"angry face with horns",emoticons:["]:(","]:[","]:-(","]:-[","]=(","]=[","]=-(","]=-["]},{name:"innocent",emoji:"",tags:["angel"],description:"smiling face with halo",emoticons:["o:)","o:]","o:D","o:-)","o:-]","o:-D","o=)","o=]","o=D","o=-)","o=-]","o=-D","O:)","O:]","O:D","O:-)","O:-]","O:-D","O=)","O=]","O=D","O=-)","O=-]","O=-D","0:)","0:]","0:D","0:-)","0:-]","0:-D","0=)","0=]","0=D","0=-)","0=-]","0=-D"]},{name:"joy",emoji:"",tags:["tears"],description:"face with tears of joy",emoticons:[":,)",":,]",":,D",":,-)",":,-]",":,-D",":')",":']",":'D",":'-)",":'-]",":'-D","=,)","=,]","=,D","=,-)","=,-]","=,-D","=')","=']","='D","='-)","='-]","='-D"]},{name:"kissing",emoji:"",tags:[],description:"kissing face",emoticons:[":*",":-*","=*","=-*"]},{name:"laughing",emoji:"",tags:["happy","haha"],description:"grinning squinting face",emoticons:["x)","x]","xD","x-)","x-]","x-D","X)","X]","X-)","X-]","X-D"]},{name:"man",emoji:"",tags:["mustache","father","dad"],description:"man",emoticons:[":3",":-3","=3","=-3",";3",";-3","x3","x-3","X3","X-3"]},{name:"neutral_face",emoji:"",tags:["meh"],description:"neutral face",emoticons:[":|",":-|","=|","=-|"]},{name:"no_mouth",emoji:"",tags:["mute","silence"],description:"face without mouth",emoticons:[":-"]},{name:"open_mouth",emoji:"",tags:["surprise","impressed","wow"],description:"face with open mouth",emoticons:[":o",":O",":0",":-o",":-O",":-0","=o","=O","=0","=-o","=-O","=-0"]},{name:"rage",emoji:"",tags:["angry"],description:"pouting face",emoticons:[":@",":-@","=@","=-@"]},{name:"smile",emoji:"",tags:["happy","joy","laugh","pleased"],description:"grinning face with smiling eyes",emoticons:[":D",":-D","=D","=-D"]},{name:"smiley",emoji:"",tags:["happy","joy","haha"],description:"grinning face with big eyes",emoticons:[":)",":]",":-)",":-]","=)","=]","=-)","=-]"]},{name:"smiling_imp",emoji:"",tags:["devil","evil","horns"],description:"smiling face with horns",emoticons:["]:)","]:]","]:D","]:-)","]:-]","]:-D","]=)","]=]","]=D","]=-)","]=-]","]=-D"]},{name:"sob",emoji:"",tags:["sad","cry","bawling"],description:"loudly crying face",emoticons:[":,'(",":,'[",":,'-(",":,'-[",":',(",":',[",":',-(",":',-[","=,'(","=,'[","=,'-(","=,'-[","=',(","=',[","=',-(","=',-["]},{name:"stuck_out_tongue",emoji:"",tags:[],description:"face with tongue",emoticons:[":p",":P",":d",":-p",":-P",":-d","=p","=P","=d","=-p","=-P","=-d"]},{name:"stuck_out_tongue_closed_eyes",emoji:"",tags:["prank"],description:"squinting face with tongue",emoticons:["xP","x-p","x-P","x-d","Xp","Xd","X-p","X-P","X-d"]},{name:"stuck_out_tongue_winking_eye",emoji:"",tags:["prank","silly"],description:"winking face with tongue",emoticons:[";p",";P",";d",";-p",";-P",";-d"]},{name:"sunglasses",emoji:"",tags:["cool"],description:"smiling face with sunglasses",emoticons:["8)","8]","8D","8-)","8-]","8-D","B)","B]","B-)","B-]","B-D"]},{name:"sweat",emoji:"",tags:[],description:"downcast face with sweat",emoticons:[",:(",",:[",",:-(",",:-[",",=(",",=[",",=-(",",=-[","':(","':[","':-(","':-[","'=(","'=[","'=-(","'=-["]},{name:"sweat_smile",emoji:"",tags:["hot"],description:"grinning face with sweat",emoticons:[",:)",",:]",",:D",",:-)",",:-]",",:-D",",=)",",=]",",=D",",=-)",",=-]",",=-D","':)","':]","':D","':-)","':-]","':-D","'=)","'=]","'=D","'=-)","'=-]","'=-D"]},{name:"unamused",emoji:"",tags:["meh"],description:"unamused face",emoticons:[":$",":s",":z",":S",":Z",":-$",":-s",":-z",":-S",":-Z","=$","=s","=z","=S","=Z","=-$","=-s","=-z","=-S","=-Z"]},{name:"wink",emoji:"",tags:["flirt"],description:"winking face",emoticons:[";)",";]",";D",";-)",";-]",";-D"]}]);function jv(e){return jv="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},jv(e)}var Tv=function(e){if(null==e)return zv;if("function"==typeof e)return Rv(e);if("object"===jv(e))return Array.isArray(e)?function(e){for(var t=[],r=-1;++r<e.length;)t[r]=Tv(e[r]);return Rv((function(){for(var e=-1,r=arguments.length,n=new Array(r),o=0;o<r;o++)n[o]=arguments[o];for(;++e<t.length;)if(t[e].apply(this,n))return!0;return!1}))}(e):(r=t=e,Rv((function(e){var n,o=e;for(n in t)if(o[n]!==r[n])return!1;return!0})));var t,r;if("string"==typeof e)return function(e){return Rv((function(t){return t&&t.type===e}))}(e);throw new Error("Expected function, string, or object as test")};function Rv(e){return function(t,r,n){return Boolean(function(e){return null!==e&&"object"===jv(e)&&"type"in e}(t)&&e.call(this,t,"number"==typeof r?r:void 0,n||void 0))}}function zv(){return!0}function Iv(e){return Iv="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Iv(e)}var Av=[],Mv=!0,Dv=!1,Nv="skip";function Lv(e,t,r,n){var o;"function"==typeof t&&"function"!=typeof r?(n=r,r=t):o=t;var i=Tv(o),a=n?-1:1;!function e(o,s,c){var l=o&&"object"===Iv(o)?o:{};if("string"==typeof l.type){var u="string"==typeof l.tagName?l.tagName:"string"==typeof l.name?l.name:void 0;Object.defineProperty(d,"name",{value:"node ("+o.type+(u?"<"+u+">":"")+")"})}return d;function d(){var l,u,d,p=Av;if((!t||i(o,s,c[c.length-1]||void 0))&&(p=function(e){return Array.isArray(e)?e:"number"==typeof e?[Mv,e]:null==e?Av:[e]}(r(o,c)),p[0]===Dv))return p;if("children"in o&&o.children){var f=o;if(f.children&&p[0]!==Nv)for(u=(n?f.children.length:-1)+a,d=c.concat(f);u>-1&&u<f.children.length;){var h=f.children[u];if((l=e(h,u,d)())[0]===Dv)return l;u="number"==typeof l[1]?l[1]:u+a}}return p}}(e,void 0,[])()}function Uv(e){return function(e){if(Array.isArray(e))return Bv(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||function(e,t){if(e){if("string"==typeof e)return Bv(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?Array.from(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?Bv(e,t):void 0}}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Bv(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function Fv(e){return"function"==typeof e?e:function(){return e}}var qv=/:\+1:|:-1:|:[\w-]+:/g,Wv=/[$@|*'",;.=:\-)([\]\\/<>038BOopPsSdDxXzZ]{2,5}/g,Zv=/(?:_|-(?!1))/g,Hv={padSpaceAfter:!1,emoticon:!1,accessible:!1};function $v(e){var t=Object.assign({},Hv,e),r=!!t.padSpaceAfter,n=!!t.emoticon,o=!!t.accessible;function i(e,t){return{type:"text",meta:null,value:e,data:{hName:"span",hProperties:{role:"img",ariaLabel:t},hChildren:[{type:"text",value:e}]}}}var a=[[qv,function(e){var t,n,a=(t=e,wv.assert.string(t),Cv.get(/:.+:/.test(n=t)?n.slice(1,-1):n));return void 0!==a&&(r&&(a+=" "),o?i(a,e.slice(1,-1).replace(Zv," ")+" emoji"):a)}]];return n&&a.push([Wv,function(e){var t=xv.find((function(t){return t.emoticons.includes(e)})),n=xv.find((function(t){return t.emoticons.includes(e.slice(0,-1))})),a=t||n;if(!a)return!1;var s=!t&&n?e.slice(-1):"",c=r?" ":"",l=a.emoji+c+s;return o?i(l,a.name+" emoticon"):l}]),function(e){!function(e,t,r){for(var n=Tv((r||{}).ignore||[]),o=function(e){var t=[];if(!Array.isArray(e))throw new TypeError("Expected find and replace tuple or list of tuples");for(var r,n=!e[0]||Array.isArray(e[0])?e:[e],o=-1;++o<n.length;){var i=n[o];t.push([(r=i[0],"string"==typeof r?new RegExp(function(e){if("string"!=typeof e)throw new TypeError("Expected a string");return e.replace(/[|\\{}()[\]^$+*?.]/g,"\\$&").replace(/-/g,"\\x2d")}(r),"g"):r),Fv(i[1])])}return t}(t),i=-1;++i<o.length;)Lv(e,"text",a);function a(e,t){for(var r,a=-1;++a<t.length;){var s=t[a],c=r?r.children:void 0;if(n(s,c?c.indexOf(s):void 0,r))return;r=s}if(r)return function(e,t){var r=t[t.length-1],n=o[i][0],a=o[i][1],s=0,c=r.children.indexOf(e),l=!1,u=[];n.lastIndex=0;for(var d,p=n.exec(e.value);p;){var f,h=p.index,m={index:p.index,input:p.input,stack:[].concat(Uv(t),[e])},y=a.apply(void 0,Uv(p).concat([m]));if("string"==typeof y&&(y=y.length>0?{type:"text",value:y}:void 0),!1===y?n.lastIndex=h+1:(s!==h&&u.push({type:"text",value:e.value.slice(s,h)}),Array.isArray(y)?(f=u).push.apply(f,Uv(y)):y&&u.push(y),s=h+p[0].length,l=!0),!n.global)break;p=n.exec(e.value)}return l?(s<e.value.length&&u.push({type:"text",value:e.value.slice(s)}),(d=r.children).splice.apply(d,[c,1].concat(Uv(u)))):u=[e],c+u.length}(e,t)}}(e,a)}}const Vv=require("remark-gfm");var Gv=a.n(Vv);const Jv=require("pydio/http/search-api");var Kv=a.n(Jv);function Yv(e){return Yv="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Yv(e)}function Xv(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function Qv(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?Xv(Object(r),!0).forEach((function(t){ek(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Xv(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function ek(e,t,r){return(t=function(e){var t=function(e,t){if("object"!==Yv(e)||null===e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,"string");if("object"!==Yv(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"===Yv(t)?t:String(t)}(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function tk(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var r=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=r){var n,o,i,a,s=[],c=!0,l=!1;try{if(i=(r=r.call(e)).next,0===t){if(Object(r)!==r)return;c=!1}else for(;!(c=(n=i.call(r)).done)&&(s.push(n.value),s.length!==t);c=!0);}catch(e){l=!0,o=e}finally{try{if(!c&&null!=r.return&&(a=r.return(),Object(a)!==a))return}finally{if(l)throw o}}return s}}(e,t)||function(e,t){if(e){if("string"==typeof e)return rk(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?Array.from(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?rk(e,t):void 0}}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function rk(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}const nk=function(r){var n=r.href,o=r.children,i=W().getInstance(),a=i.user,s=tk((0,e.useState)(!1),2),c=s[0],l=s[1],u=tk((0,e.useState)(null),2),d=u[0],p=u[1],f=tk((0,e.useState)(null),2),h=f[0],m=f[1];(0,e.useEffect)((function(){jl().loadClass("PydioWorkspaces").then((function(e){return m(e)}))}),[]);var y=function(e){return i.MessageHash["chat.link."+e]||e},g=function(e){l(!0),new(Kv())(i).searchByUUID(e).then((function(e){var t=e.Results||[];if(0===t.length)return!1;var r=t.filter((function(e){return e.getMetadata().get("repository_id")===i.user.activeRepository}));return 1===r.length?r:(t.length>1&&t.sort((function(e,t){return e.getMetadata().get("repository_display").localeCompare(t.getMetadata().get("repository_display"))})),t)})).then((function(e){p(e)})).catch((function(){p(!1)})).then((function(){return l(!1)}))};(0,e.useEffect)((function(){if(n.startsWith("doc://")&&(k="mdi mdi-file-outline",n.indexOf("?preview")>-1)){var e=n.replace("doc://","").replace("?preview","");g(e)}}),[n]);var b={};if(n.startsWith("user://")){var v=n.replace("user://","");return t().createElement(Np,{userId:v,richOnClick:!1,displayAvatar:!1,style:Qv(Qv({},b),{},{display:"inline-block"}),pydio:i})}var k,w="",_=null,S=null;if(n.startsWith("doc://")){k="mdi mdi-file-outline";var O,P=n.indexOf("?preview")>-1,E=n.replace("doc://","").replace("?preview","");if(w=y(c?"doc.loading":"doc.goto"),null===d)S=function(){return g(E)};else if(1===d.length)O=d[0],w=y("doc.click-indicator").replace("%s",d[0].getPath()),_=function(){w=y("doc.opening"),i.goTo(d[0])};else if(d.length>1){O=d[0];var C={marginLeft:10,textDecoration:"underline",cursor:"pointer"};w=t().createElement(e.Fragment,null,t().createElement("div",null,y("doc.open-in")),t().createElement("ul",null,d.map((function(e){return t().createElement("li",{style:C,onClick:function(){i.goTo(e)}},e.getMetadata().get("repository_display"))}))))}else!1===d&&(k="mdi mdi-file-alert-outline",w=y("doc.not-found"));if(O){var x=O.getSvgSource()||(O.isLeaf()?"file":"folder");x&&!x.startsWith("icomoon")&&(x="mdi mdi-"+x),k="mimefont "+x}if(O&&h&&P){var j=h.FilePreview;return t().createElement("div",{className:"preview-container",onClick:function(){return i.goTo(O)},style:{cursor:"pointer"},title:o},t().createElement("div",{className:"preview-title"},t().createElement("span",{className:k,style:{marginRight:5}}),O.getLabel()),t().createElement(j,{node:O,style:{height:200,minHeight:200},mimeFontStyle:{fontSize:40},loadThumbnail:!0,richPreview:!0}))}}else{if(!n.startsWith("workspaces://"))return t().createElement("a",{href:n,target:"_blank"},o);w=y("ws.switch"),k="mdi mdi-folder";var T=n.replace("workspaces://","");a&&a.getRepositoriesList().has(T)&&("cell"===a.getRepositoriesList().get(T).getRepositoryType()&&(k="icomoon-cells"),_=function(){l(!0),i.triggerRepositoryChange(T).catch((function(){})).then((function(){return l(!1)}))}),c&&(w=y("ws.switching"))}w=t().createElement("div",{style:{padding:"8px 16px",fontSize:13}},w),(c||!1===d)&&(S=null,_=null,b.cursor="default",k=c?"mdi mdi-file-search-outline":"mdi mdi-file-alert-outline");var R=t().createElement("a",{style:b,onClick:_,onMouseEnter:S,className:"special-link"},k&&t().createElement("span",{className:k,style:{marginRight:5}}),o);return w?t().createElement(Fc,{title:w,arrow:!0,placement:"right-start"},R):R};function ok(e){return ok="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},ok(e)}var ik=void 0;function ak(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function sk(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?ak(Object(r),!0).forEach((function(t){ck(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):ak(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function ck(e,t,r){return(t=function(e){var t=function(e,t){if("object"!==ok(e)||null===e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,"string");if("object"!==ok(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"===ok(t)?t:String(t)}(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function lk(e){return function(e){if(Array.isArray(e))return dk(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||uk(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function uk(e,t){if(e){if("string"==typeof e)return dk(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?Array.from(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?dk(e,t):void 0}}function dk(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}var pk="VIDEO_CALL",fk="MAY_HAVE_MORE",hk="POST",mk="TOKEN_SEQ",yk="LIVE_STATUS",gk=function(e,t){var r,n,o=e.currentTarget;return o.selectionEnd<t.length?(r=t.substr(0,o.selectionEnd)+"\n"+t.substr(o.selectionEnd),n=o.selectionEnd+1):n=(r=t+"\n").length,{cursor:n,newValue:r}},bk=function(t){var r=t.pydio,n=t.roomType,o=t.roomObjectId,i=t.loadSize,a=t.setMessages,s=t.setVideoData,c=t.setHasMoreBefore,l=function(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var r=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=r){var n,o,i,a,s=[],c=!0,l=!1;try{if(i=(r=r.call(e)).next,0===t){if(Object(r)!==r)return;c=!1}else for(;!(c=(n=i.call(r)).done)&&(s.push(n.value),s.length!==t);c=!0);}catch(e){l=!0,o=e}finally{try{if(!c&&null!=r.return&&(a=r.return(),Object(a)!==a))return}finally{if(l)throw o}}return s}}(e,t)||uk(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}((0,e.useState)(null),2),u=l[0],d=l[1],p=hv.getInstance(r),f=function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];e&&(e["@type"]===pk?s(e):e["@type"]===fk?c((function(t){return!t.Timestamp||e.Timestamp<t.Timestamp?e:t})):a(t?function(t){return t.filter((function(t){return t.Uuid!==e.Uuid}))}:function(t){return function(e,t){if(!t.Info||!t.Info[yk]){var r=t.Author||"--SYSTEM_STATUS--";e=e.filter((function(e){return!(e.Info&&e.Info[yk]&&e.Author===r)}))}if(t.Info&&t.Info[mk]){var n,o=t.Info[mk],i=t.Info.TOKEN_POS,a=e.find((function(e){return e.TokenId===o}));if("FINAL"===i)return n=lk(e),a&&(n=n.filter((function(e){return e!==a}))),n.push(sk({},t)),n.sort((function(e,t){return e.Timestamp-t.Timestamp})),n;var s={position:parseInt(i),token:t.Message};return a?(a.Tokens.push(s),a.Tokens.sort((function(e,t){return e.position-t.position})),0===a.Tokens[0].position&&(a.Message=a.Tokens.map((function(e){return e.token})).join("")),n=e.filter((function(e){return e!==a})),n.push(sk({},a))):(t=sk(sk({},t),{},{Message:"",Tokens:[s],TokenId:o}),0===s.position&&(t.Message=s.token),n=[].concat(lk(e),[t])),n}var c=[].concat(lk(e.filter((function(e){return e.Uuid!==t.Uuid}))),[t]).filter((function(e){return!!e.Message}));return c.sort((function(e,t){return e.Timestamp-t.Timestamp})),c}(t,e)}))},h=function(e){e&&d(e.Room)};return(0,e.useEffect)((function(){if(!o)return function(){};var e=p.joinRoom(n,o,f,h);null!==e&&d(e),p.loadHistory(n,o,0,i);var t=n,r=o;return function(){p.leaveRoom(t,r,f),d(null),c({}),a([])}}),[n,o]),{room:u,postMessage:function(e){if(!e)return!1;if(!u||!u.Uuid)return console.error("Cannot find cell info"),!1;var t={"@type":hk,Message:{RoomUuid:u.Uuid,Message:e}};return p.send(JSON.stringify(t)),!0},deleteMessage:function(e){if(u&&u.Uuid){var t={"@type":"DELETE_MSG",Message:e};p.send(JSON.stringify(t))}else console.error("Cannot find cell info")},editMessage:function(e){if(!u||!u.Uuid)return console.error("Cannot find cell info"),!1;var t={"@type":hk,Message:e};return p.send(JSON.stringify(t)),!0},loadMore:function(e,t){p.loadHistory(n,o,e,t)}}};function vk(e){return vk="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},vk(e)}var kk=["node","href","children"];function wk(){return wk=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},wk.apply(this,arguments)}function _k(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function Sk(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?_k(Object(r),!0).forEach((function(t){Ok(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):_k(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function Ok(e,t,r){return(t=function(e){var t=function(e,t){if("object"!==vk(e)||null===e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,"string");if("object"!==vk(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"===vk(t)?t:String(t)}(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Pk(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var r=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=r){var n,o,i,a,s=[],c=!0,l=!1;try{if(i=(r=r.call(e)).next,0===t){if(Object(r)!==r)return;c=!1}else for(;!(c=(n=i.call(r)).done)&&(s.push(n.value),s.length!==t);c=!0);}catch(e){l=!0,o=e}finally{try{if(!c&&null!=r.return&&(a=r.return(),Object(a)!==a))return}finally{if(l)throw o}}return s}}(e,t)||function(e,t){if(e){if("string"==typeof e)return Ek(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?Array.from(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?Ek(e,t):void 0}}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Ek(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}var Ck=W().requireLib("boot").moment,xk=W().requireLib("hoc").ModernTextField,jk={a:function(e){e.node;var r=e.href,n=e.children;return function(e,t){if(null==e)return{};var r,n,o=function(e,t){if(null==e)return{};var r,n,o={},i=Object.keys(e);for(n=0;n<i.length;n++)r=i[n],t.indexOf(r)>=0||(o[r]=e[r]);return o}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(n=0;n<i.length;n++)r=i[n],t.indexOf(r)>=0||Object.prototype.propertyIsEnumerable.call(e,r)&&(o[r]=e[r])}}(e,kk),t().createElement(nk,{href:r},n)}},Tk=function(r){var n=r.message,o=r.pydio,i=r.hideDate,a=r.sameAuthor,s=r.onDeleteMessage,c=r.edit,l=r.setEdit,u=r.onEditMessage,d=r.moreLoader,p=r.actionIconProps,f=r.muiTheme,h=Pk((0,e.useState)(!1),2),m=h[0],y=h[1],g=Ck(1e3*parseFloat(n.Timestamp)),b=Pk((0,e.useState)(n.Message),2),k=b[0],w=b[1],_=Pk((0,e.useState)(!1),2),S=_[0],O=_[1],P=Pk((0,e.useState)(-1),2),E=P[0],C=P[1],x=(0,e.useRef)(null),j=function(e){return o.MessageHash[e]||e};(0,e.useEffect)((function(){E>-1&&x.current&&(x.current.input.refs.input.setSelectionRange(E,E),C(-1))}),[k]);var T,R={date:{opacity:.53,textAlign:"center",display:"flex",margin:"5px 0"},dateLine:{flex:1,margin:"10px 20px",borderBottom:"1px solid",opacity:.3},loader:{paddingTop:8,opacity:.8,textAlign:"center"},comment:{padding:"6px 16px",display:"flex",alignItems:"flex-start",backgroundColor:m?"rgba(0,0,0,.04)":"transparent"},commentContent:{flex:"1",backgroundColor:"transparent",position:"relative",padding:"5px 10px",userSelect:"text",webkitUserSelect:"text"},commentTitle:{fontSize:16,fontWeight:500,marginTop:-2,padding:"0px 0px 2px"},commentDeleteBox:{position:"absolute",top:5,right:0,cursor:"pointer",fontSize:16,opacity:0,transition:yv().getBeziersTransition()},actionBar:{position:"absolute",top:2,right:4,zIndex:2,cursor:"pointer",fontSize:16,opacity:m||c?1:0,display:"flex",alignItems:"center",color:f.palette.primary1Color,transition:yv().getBeziersTransition()}},z=!1;o.user.id===n.Author&&(z=!0),n.Info&&n.Info.LIVE_STATUS&&(T=t().createElement("div",{className:"dot-flashing"}));var I=t().createElement("div",{style:a?{visibility:"hidden"}:{paddingTop:2}},t().createElement(Np,{avatarSize:30,pydio:o,userId:n.Author,displayLabel:!1,richOnHover:!1,avatarLetters:!0})),A=[],M=Sk({},R.commentContent),D={title:j("chat.msg.delete"),icon:"delete-outline",click:function(){return O(!0)}};!z||c||T||(u&&A.push({title:j("chat.msg.edit"),icon:"pencil-outline",click:function(){return l(!0)}}),A.push(D));var N,L=t().createElement(bv(),{className:"chat-message-md"+(T?" has-status-indicator":""),skipHtml:!0,urlTransform:function(e){return e},components:jk,remarkPlugins:[Gv(),[$v,{emoticon:!0}]]},n.Message);if(c){var U=function(){k&&u(n,k)&&l(!1)},B=function(){w(n.Message),l(!1)};k?A.push({title:j("chat.msg.save"),icon:"content-save-outline",click:U}):A.push(D),A.push({title:j("chat.msg.revert"),icon:"undo-variant",click:B}),L=t().createElement(xk,{value:k,onChange:function(e,t){return w(t)},inputStyle:{fontSize:14},multiLine:!0,underlineShow:!1,focusOnMount:!0,fullWidth:!0,onKeyDown:function(e){if("Escape"===e.key)B();else if("Enter"===e.key){if(e.metaKey||e.ctrlKey){var t=gk(e,k),r=t.cursor,n=t.newValue;return C(r),void w(n)}k?U():O(!0)}}})}A.length&&(N=t().createElement("div",{style:R.actionBar},A.map((function(e){return t().createElement(v.IconButton,wk({},p,{iconClassName:"mdi mdi-"+e.icon,onClick:e.click,tooltip:e.title}))})))),L=t().createElement(e.Fragment,null,N,L,T);var F={};return a?(L=t().createElement("div",{style:M},L),F=Sk(Sk({},F),{},{marginTop:-16})):L=t().createElement("div",{style:M},t().createElement("div",null,t().createElement(Np,{labelStyle:R.commentTitle,pydio:o,displayLabel:!0,displayAvatar:!1,userId:n.Author})),t().createElement("div",null,L)),t().createElement("div",{style:F,onMouseOver:function(){y(!0)},onMouseOut:function(){y(!1)},onContextMenu:function(e){e.stopPropagation()}},z&&t().createElement(v.Dialog,{open:S,modal:!1,title:j("chat.msg.delete.confirm.title"),contentStyle:{background:f.dialog.containerBackground,borderRadius:f.borderRadius,width:420,minWidth:380,maxWidth:"100%"},actions:[t().createElement(v.FlatButton,{label:j("440"),onClick:s,keyboardFocused:!0}),t().createElement(v.FlatButton,{label:j("441"),onClick:function(){return O(!1)}})]},j("chat.msg.delete.confirm")),d&&t().createElement("div",{style:Sk({},R.loader)},t().createElement(v.FlatButton,{primary:!0,label:j("chat.load-older"),onClick:d})),!i&&t().createElement("div",{style:R.date},t().createElement("span",{style:R.dateLine}),t().createElement("span",{className:"date-from"},g.fromNow()),t().createElement("span",{style:R.dateLine})),t().createElement("div",{style:R.comment},I," ",L))};function Rk(e,t){return t.forEach((function(t){t&&"string"!=typeof t&&!Array.isArray(t)&&Object.keys(t).forEach((function(r){if("default"!==r&&!(r in e)){var n=Object.getOwnPropertyDescriptor(t,r);Object.defineProperty(e,r,n.get?n:{enumerable:!0,get:function(){return t[r]}})}}))})),Object.freeze(e)}Tk=(0,K.muiThemeable)()(Tk);var zk="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:{};function Ik(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}var Ak,Mk,Dk,Nk={exports:{}};Mk=zk,Dk=function(){var e=function(){},t="undefined",r=typeof window!==t&&typeof window.navigator!==t&&/Trident\/|MSIE /.test(window.navigator.userAgent),n=["trace","debug","info","warn","error"];function o(e,t){var r=e[t];if("function"==typeof r.bind)return r.bind(e);try{return Function.prototype.bind.call(r,e)}catch(t){return function(){return Function.prototype.apply.apply(r,[e,arguments])}}}function i(){console.log&&(console.log.apply?console.log.apply(console,arguments):Function.prototype.apply.apply(console.log,[console,arguments])),console.trace&&console.trace()}function a(t,r){for(var o=0;o<n.length;o++){var i=n[o];this[i]=o<t?e:this.methodFactory(i,t,r)}this.log=this.debug}function s(e,r,n){return function(){typeof console!==t&&(a.call(this,r,n),this[e].apply(this,arguments))}}function c(n,a,c){return function(n){return"debug"===n&&(n="log"),typeof console!==t&&("trace"===n&&r?i:void 0!==console[n]?o(console,n):void 0!==console.log?o(console,"log"):e)}(n)||s.apply(this,arguments)}function l(e,r,o){var i,s=this;r=null==r?"WARN":r;var l="loglevel";function u(){var e;if(typeof window!==t&&l){try{e=window.localStorage[l]}catch(e){}if(typeof e===t)try{var r=window.document.cookie,n=r.indexOf(encodeURIComponent(l)+"=");-1!==n&&(e=/^([^;]+)/.exec(r.slice(n))[1])}catch(e){}return void 0===s.levels[e]&&(e=void 0),e}}"string"==typeof e?l+=":"+e:"symbol"==typeof e&&(l=void 0),s.name=e,s.levels={TRACE:0,DEBUG:1,INFO:2,WARN:3,ERROR:4,SILENT:5},s.methodFactory=o||c,s.getLevel=function(){return i},s.setLevel=function(r,o){if("string"==typeof r&&void 0!==s.levels[r.toUpperCase()]&&(r=s.levels[r.toUpperCase()]),!("number"==typeof r&&r>=0&&r<=s.levels.SILENT))throw"log.setLevel() called with invalid level: "+r;if(i=r,!1!==o&&function(e){var r=(n[e]||"silent").toUpperCase();if(typeof window!==t&&l){try{return void(window.localStorage[l]=r)}catch(e){}try{window.document.cookie=encodeURIComponent(l)+"="+r+";"}catch(e){}}}(r),a.call(s,r,e),typeof console===t&&r<s.levels.SILENT)return"No console available for logging"},s.setDefaultLevel=function(e){r=e,u()||s.setLevel(e,!1)},s.resetLevel=function(){s.setLevel(r,!1),function(){if(typeof window!==t&&l){try{return void window.localStorage.removeItem(l)}catch(e){}try{window.document.cookie=encodeURIComponent(l)+"=; expires=Thu, 01 Jan 1970 00:00:00 UTC"}catch(e){}}}()},s.enableAll=function(e){s.setLevel(s.levels.TRACE,e)},s.disableAll=function(e){s.setLevel(s.levels.SILENT,e)};var d=u();null==d&&(d=r),s.setLevel(d,!1)}var u=new l,d={};u.getLogger=function(e){if("symbol"!=typeof e&&"string"!=typeof e||""===e)throw new TypeError("You must supply a name when creating a logger.");var t=d[e];return t||(t=d[e]=new l(e,u.getLevel(),u.methodFactory)),t};var p=typeof window!==t?window.log:void 0;return u.noConflict=function(){return typeof window!==t&&window.log===u&&(window.log=p),u},u.getLoggers=function(){return d},u.default=u,u},(Ak=Nk).exports?Ak.exports=Dk():Mk.log=Dk();var Lk,Uk=Nk.exports;!function(e){e[e.trace=0]="trace",e[e.debug=1]="debug",e[e.info=2]="info",e[e.warn=3]="warn",e[e.error=4]="error",e[e.silent=5]="silent"}(Lk||(Lk={}));const Bk=Uk.getLogger("livekit");Bk.setLevel(Lk.info);var Fk=Wk,qk=null;try{qk=new WebAssembly.Instance(new WebAssembly.Module(new Uint8Array([0,97,115,109,1,0,0,0,1,13,2,96,0,1,127,96,4,127,127,127,127,1,127,3,7,6,0,1,1,1,1,1,6,6,1,127,1,65,0,11,7,50,6,3,109,117,108,0,1,5,100,105,118,95,115,0,2,5,100,105,118,95,117,0,3,5,114,101,109,95,115,0,4,5,114,101,109,95,117,0,5,8,103,101,116,95,104,105,103,104,0,0,10,191,1,6,4,0,35,0,11,36,1,1,126,32,0,173,32,1,173,66,32,134,132,32,2,173,32,3,173,66,32,134,132,126,34,4,66,32,135,167,36,0,32,4,167,11,36,1,1,126,32,0,173,32,1,173,66,32,134,132,32,2,173,32,3,173,66,32,134,132,127,34,4,66,32,135,167,36,0,32,4,167,11,36,1,1,126,32,0,173,32,1,173,66,32,134,132,32,2,173,32,3,173,66,32,134,132,128,34,4,66,32,135,167,36,0,32,4,167,11,36,1,1,126,32,0,173,32,1,173,66,32,134,132,32,2,173,32,3,173,66,32,134,132,129,34,4,66,32,135,167,36,0,32,4,167,11,36,1,1,126,32,0,173,32,1,173,66,32,134,132,32,2,173,32,3,173,66,32,134,132,130,34,4,66,32,135,167,36,0,32,4,167,11])),{}).exports}catch(sx){}function Wk(e,t,r){this.low=0|e,this.high=0|t,this.unsigned=!!r}function Zk(e){return!0===(e&&e.__isLong__)}Wk.prototype.__isLong__,Object.defineProperty(Wk.prototype,"__isLong__",{value:!0}),Wk.isLong=Zk;var Hk={},$k={};function Vk(e,t){var r,n,o;return t?(o=0<=(e>>>=0)&&e<256)&&(n=$k[e])?n:(r=Jk(e,(0|e)<0?-1:0,!0),o&&($k[e]=r),r):(o=-128<=(e|=0)&&e<128)&&(n=Hk[e])?n:(r=Jk(e,e<0?-1:0,!1),o&&(Hk[e]=r),r)}function Gk(e,t){if(isNaN(e))return t?ow:nw;if(t){if(e<0)return ow;if(e>=ew)return lw}else{if(e<=-tw)return uw;if(e+1>=tw)return cw}return e<0?Gk(-e,t).neg():Jk(e%Qk|0,e/Qk|0,t)}function Jk(e,t,r){return new Wk(e,t,r)}Wk.fromInt=Vk,Wk.fromNumber=Gk,Wk.fromBits=Jk;var Kk=Math.pow;function Yk(e,t,r){if(0===e.length)throw Error("empty string");if("NaN"===e||"Infinity"===e||"+Infinity"===e||"-Infinity"===e)return nw;if("number"==typeof t?(r=t,t=!1):t=!!t,(r=r||10)<2||36<r)throw RangeError("radix");var n;if((n=e.indexOf("-"))>0)throw Error("interior hyphen");if(0===n)return Yk(e.substring(1),t,r).neg();for(var o=Gk(Kk(r,8)),i=nw,a=0;a<e.length;a+=8){var s=Math.min(8,e.length-a),c=parseInt(e.substring(a,a+s),r);if(s<8){var l=Gk(Kk(r,s));i=i.mul(l).add(Gk(c))}else i=(i=i.mul(o)).add(Gk(c))}return i.unsigned=t,i}function Xk(e,t){return"number"==typeof e?Gk(e,t):"string"==typeof e?Yk(e,t):Jk(e.low,e.high,"boolean"==typeof t?t:e.unsigned)}Wk.fromString=Yk,Wk.fromValue=Xk;var Qk=4294967296,ew=Qk*Qk,tw=ew/2,rw=Vk(1<<24),nw=Vk(0);Wk.ZERO=nw;var ow=Vk(0,!0);Wk.UZERO=ow;var iw=Vk(1);Wk.ONE=iw;var aw=Vk(1,!0);Wk.UONE=aw;var sw=Vk(-1);Wk.NEG_ONE=sw;var cw=Jk(-1,2147483647,!1);Wk.MAX_VALUE=cw;var lw=Jk(-1,-1,!0);Wk.MAX_UNSIGNED_VALUE=lw;var uw=Jk(0,-2147483648,!1);Wk.MIN_VALUE=uw;var dw=Wk.prototype;dw.toInt=function(){return this.unsigned?this.low>>>0:this.low},dw.toNumber=function(){return this.unsigned?(this.high>>>0)*Qk+(this.low>>>0):this.high*Qk+(this.low>>>0)},dw.toString=function(e){if((e=e||10)<2||36<e)throw RangeError("radix");if(this.isZero())return"0";if(this.isNegative()){if(this.eq(uw)){var t=Gk(e),r=this.div(t),n=r.mul(t).sub(this);return r.toString(e)+n.toInt().toString(e)}return"-"+this.neg().toString(e)}for(var o=Gk(Kk(e,6),this.unsigned),i=this,a="";;){var s=i.div(o),c=(i.sub(s.mul(o)).toInt()>>>0).toString(e);if((i=s).isZero())return c+a;for(;c.length<6;)c="0"+c;a=""+c+a}},dw.getHighBits=function(){return this.high},dw.getHighBitsUnsigned=function(){return this.high>>>0},dw.getLowBits=function(){return this.low},dw.getLowBitsUnsigned=function(){return this.low>>>0},dw.getNumBitsAbs=function(){if(this.isNegative())return this.eq(uw)?64:this.neg().getNumBitsAbs();for(var e=0!=this.high?this.high:this.low,t=31;t>0&&0==(e&1<<t);t--);return 0!=this.high?t+33:t+1},dw.isZero=function(){return 0===this.high&&0===this.low},dw.eqz=dw.isZero,dw.isNegative=function(){return!this.unsigned&&this.high<0},dw.isPositive=function(){return this.unsigned||this.high>=0},dw.isOdd=function(){return 1==(1&this.low)},dw.isEven=function(){return 0==(1&this.low)},dw.equals=function(e){return Zk(e)||(e=Xk(e)),(this.unsigned===e.unsigned||this.high>>>31!=1||e.high>>>31!=1)&&this.high===e.high&&this.low===e.low},dw.eq=dw.equals,dw.notEquals=function(e){return!this.eq(e)},dw.neq=dw.notEquals,dw.ne=dw.notEquals,dw.lessThan=function(e){return this.comp(e)<0},dw.lt=dw.lessThan,dw.lessThanOrEqual=function(e){return this.comp(e)<=0},dw.lte=dw.lessThanOrEqual,dw.le=dw.lessThanOrEqual,dw.greaterThan=function(e){return this.comp(e)>0},dw.gt=dw.greaterThan,dw.greaterThanOrEqual=function(e){return this.comp(e)>=0},dw.gte=dw.greaterThanOrEqual,dw.ge=dw.greaterThanOrEqual,dw.compare=function(e){if(Zk(e)||(e=Xk(e)),this.eq(e))return 0;var t=this.isNegative(),r=e.isNegative();return t&&!r?-1:!t&&r?1:this.unsigned?e.high>>>0>this.high>>>0||e.high===this.high&&e.low>>>0>this.low>>>0?-1:1:this.sub(e).isNegative()?-1:1},dw.comp=dw.compare,dw.negate=function(){return!this.unsigned&&this.eq(uw)?uw:this.not().add(iw)},dw.neg=dw.negate,dw.add=function(e){Zk(e)||(e=Xk(e));var t=this.high>>>16,r=65535&this.high,n=this.low>>>16,o=65535&this.low,i=e.high>>>16,a=65535&e.high,s=e.low>>>16,c=0,l=0,u=0,d=0;return u+=(d+=o+(65535&e.low))>>>16,l+=(u+=n+s)>>>16,c+=(l+=r+a)>>>16,c+=t+i,Jk((u&=65535)<<16|(d&=65535),(c&=65535)<<16|(l&=65535),this.unsigned)},dw.subtract=function(e){return Zk(e)||(e=Xk(e)),this.add(e.neg())},dw.sub=dw.subtract,dw.multiply=function(e){if(this.isZero())return nw;if(Zk(e)||(e=Xk(e)),qk)return Jk(qk.mul(this.low,this.high,e.low,e.high),qk.get_high(),this.unsigned);if(e.isZero())return nw;if(this.eq(uw))return e.isOdd()?uw:nw;if(e.eq(uw))return this.isOdd()?uw:nw;if(this.isNegative())return e.isNegative()?this.neg().mul(e.neg()):this.neg().mul(e).neg();if(e.isNegative())return this.mul(e.neg()).neg();if(this.lt(rw)&&e.lt(rw))return Gk(this.toNumber()*e.toNumber(),this.unsigned);var t=this.high>>>16,r=65535&this.high,n=this.low>>>16,o=65535&this.low,i=e.high>>>16,a=65535&e.high,s=e.low>>>16,c=65535&e.low,l=0,u=0,d=0,p=0;return d+=(p+=o*c)>>>16,u+=(d+=n*c)>>>16,d&=65535,u+=(d+=o*s)>>>16,l+=(u+=r*c)>>>16,u&=65535,l+=(u+=n*s)>>>16,u&=65535,l+=(u+=o*a)>>>16,l+=t*c+r*s+n*a+o*i,Jk((d&=65535)<<16|(p&=65535),(l&=65535)<<16|(u&=65535),this.unsigned)},dw.mul=dw.multiply,dw.divide=function(e){if(Zk(e)||(e=Xk(e)),e.isZero())throw Error("division by zero");var t,r,n;if(qk)return this.unsigned||-2147483648!==this.high||-1!==e.low||-1!==e.high?Jk((this.unsigned?qk.div_u:qk.div_s)(this.low,this.high,e.low,e.high),qk.get_high(),this.unsigned):this;if(this.isZero())return this.unsigned?ow:nw;if(this.unsigned){if(e.unsigned||(e=e.toUnsigned()),e.gt(this))return ow;if(e.gt(this.shru(1)))return aw;n=ow}else{if(this.eq(uw))return e.eq(iw)||e.eq(sw)?uw:e.eq(uw)?iw:(t=this.shr(1).div(e).shl(1)).eq(nw)?e.isNegative()?iw:sw:(r=this.sub(e.mul(t)),n=t.add(r.div(e)));if(e.eq(uw))return this.unsigned?ow:nw;if(this.isNegative())return e.isNegative()?this.neg().div(e.neg()):this.neg().div(e).neg();if(e.isNegative())return this.div(e.neg()).neg();n=nw}for(r=this;r.gte(e);){t=Math.max(1,Math.floor(r.toNumber()/e.toNumber()));for(var o=Math.ceil(Math.log(t)/Math.LN2),i=o<=48?1:Kk(2,o-48),a=Gk(t),s=a.mul(e);s.isNegative()||s.gt(r);)s=(a=Gk(t-=i,this.unsigned)).mul(e);a.isZero()&&(a=iw),n=n.add(a),r=r.sub(s)}return n},dw.div=dw.divide,dw.modulo=function(e){return Zk(e)||(e=Xk(e)),qk?Jk((this.unsigned?qk.rem_u:qk.rem_s)(this.low,this.high,e.low,e.high),qk.get_high(),this.unsigned):this.sub(this.div(e).mul(e))},dw.mod=dw.modulo,dw.rem=dw.modulo,dw.not=function(){return Jk(~this.low,~this.high,this.unsigned)},dw.and=function(e){return Zk(e)||(e=Xk(e)),Jk(this.low&e.low,this.high&e.high,this.unsigned)},dw.or=function(e){return Zk(e)||(e=Xk(e)),Jk(this.low|e.low,this.high|e.high,this.unsigned)},dw.xor=function(e){return Zk(e)||(e=Xk(e)),Jk(this.low^e.low,this.high^e.high,this.unsigned)},dw.shiftLeft=function(e){return Zk(e)&&(e=e.toInt()),0==(e&=63)?this:e<32?Jk(this.low<<e,this.high<<e|this.low>>>32-e,this.unsigned):Jk(0,this.low<<e-32,this.unsigned)},dw.shl=dw.shiftLeft,dw.shiftRight=function(e){return Zk(e)&&(e=e.toInt()),0==(e&=63)?this:e<32?Jk(this.low>>>e|this.high<<32-e,this.high>>e,this.unsigned):Jk(this.high>>e-32,this.high>=0?0:-1,this.unsigned)},dw.shr=dw.shiftRight,dw.shiftRightUnsigned=function(e){if(Zk(e)&&(e=e.toInt()),0==(e&=63))return this;var t=this.high;return e<32?Jk(this.low>>>e|t<<32-e,t>>>e,this.unsigned):Jk(32===e?t:t>>>e-32,0,this.unsigned)},dw.shru=dw.shiftRightUnsigned,dw.shr_u=dw.shiftRightUnsigned,dw.toSigned=function(){return this.unsigned?Jk(this.low,this.high,!1):this},dw.toUnsigned=function(){return this.unsigned?this:Jk(this.low,this.high,!0)},dw.toBytes=function(e){return e?this.toBytesLE():this.toBytesBE()},dw.toBytesLE=function(){var e=this.high,t=this.low;return[255&t,t>>>8&255,t>>>16&255,t>>>24,255&e,e>>>8&255,e>>>16&255,e>>>24]},dw.toBytesBE=function(){var e=this.high,t=this.low;return[e>>>24,e>>>16&255,e>>>8&255,255&e,t>>>24,t>>>16&255,t>>>8&255,255&t]},Wk.fromBytes=function(e,t,r){return r?Wk.fromBytesLE(e,t):Wk.fromBytesBE(e,t)},Wk.fromBytesLE=function(e,t){return new Wk(e[0]|e[1]<<8|e[2]<<16|e[3]<<24,e[4]|e[5]<<8|e[6]<<16|e[7]<<24,t)},Wk.fromBytesBE=function(e,t){return new Wk(e[4]<<24|e[5]<<16|e[6]<<8|e[7],e[0]<<24|e[1]<<16|e[2]<<8|e[3],t)};var pw,fw,hw,mw,yw,gw,bw,vw,kw,ww,_w,Sw,Ow,Pw,Ew,Cw=Ik(Fk),xw={},jw={},Tw={},Rw={};function zw(){return Ew||(Ew=1,function(e){var t=e;function r(e,t,r){for(var n=Object.keys(t),o=0;o<n.length;++o)void 0!==e[n[o]]&&r||(e[n[o]]=t[n[o]]);return e}function n(e){function t(e,n){if(!(this instanceof t))return new t(e,n);Object.defineProperty(this,"message",{get:function(){return e}}),Error.captureStackTrace?Error.captureStackTrace(this,t):Object.defineProperty(this,"stack",{value:(new Error).stack||""}),n&&r(this,n)}return t.prototype=Object.create(Error.prototype,{constructor:{value:t,writable:!0,enumerable:!1,configurable:!0},name:{get:function(){return e},set:void 0,enumerable:!1,configurable:!0},toString:{value:function(){return this.name+": "+this.message},writable:!0,enumerable:!1,configurable:!0}}),t}t.asPromise=(fw||(fw=1,pw=function(e,t){for(var r=new Array(arguments.length-1),n=0,o=2,i=!0;o<arguments.length;)r[n++]=arguments[o++];return new Promise((function(o,a){r[n]=function(e){if(i)if(i=!1,e)a(e);else{for(var t=new Array(arguments.length-1),r=0;r<t.length;)t[r++]=arguments[r];o.apply(null,t)}};try{e.apply(t||null,r)}catch(e){i&&(i=!1,a(e))}}))}),pw),t.base64=(hw||(hw=1,function(e){var t=e;t.length=function(e){var t=e.length;if(!t)return 0;for(var r=0;--t%4>1&&"="===e.charAt(t);)++r;return Math.ceil(3*e.length)/4-r};for(var r=new Array(64),n=new Array(123),o=0;o<64;)n[r[o]=o<26?o+65:o<52?o+71:o<62?o-4:o-59|43]=o++;t.encode=function(e,t,n){for(var o,i=null,a=[],s=0,c=0;t<n;){var l=e[t++];switch(c){case 0:a[s++]=r[l>>2],o=(3&l)<<4,c=1;break;case 1:a[s++]=r[o|l>>4],o=(15&l)<<2,c=2;break;case 2:a[s++]=r[o|l>>6],a[s++]=r[63&l],c=0}s>8191&&((i||(i=[])).push(String.fromCharCode.apply(String,a)),s=0)}return c&&(a[s++]=r[o],a[s++]=61,1===c&&(a[s++]=61)),i?(s&&i.push(String.fromCharCode.apply(String,a.slice(0,s))),i.join("")):String.fromCharCode.apply(String,a.slice(0,s))};var i="invalid encoding";t.decode=function(e,t,r){for(var o,a=r,s=0,c=0;c<e.length;){var l=e.charCodeAt(c++);if(61===l&&s>1)break;if(void 0===(l=n[l]))throw Error(i);switch(s){case 0:o=l,s=1;break;case 1:t[r++]=o<<2|(48&l)>>4,o=l,s=2;break;case 2:t[r++]=(15&o)<<4|(60&l)>>2,o=l,s=3;break;case 3:t[r++]=(3&o)<<6|l,s=0}}if(1===s)throw Error(i);return r-a},t.test=function(e){return/^(?:[A-Za-z0-9+/]{4})*(?:[A-Za-z0-9+/]{2}==|[A-Za-z0-9+/]{3}=)?$/.test(e)}}(Tw)),Tw),t.EventEmitter=function(){if(yw)return mw;function e(){this._listeners={}}return yw=1,mw=e,e.prototype.on=function(e,t,r){return(this._listeners[e]||(this._listeners[e]=[])).push({fn:t,ctx:r||this}),this},e.prototype.off=function(e,t){if(void 0===e)this._listeners={};else if(void 0===t)this._listeners[e]=[];else for(var r=this._listeners[e],n=0;n<r.length;)r[n].fn===t?r.splice(n,1):++n;return this},e.prototype.emit=function(e){var t=this._listeners[e];if(t){for(var r=[],n=1;n<arguments.length;)r.push(arguments[n++]);for(n=0;n<t.length;)t[n].fn.apply(t[n++].ctx,r)}return this},mw}(),t.float=function(){if(bw)return gw;function e(e){return"undefined"!=typeof Float32Array?function(){var t=new Float32Array([-0]),r=new Uint8Array(t.buffer),n=128===r[3];function o(e,n,o){t[0]=e,n[o]=r[0],n[o+1]=r[1],n[o+2]=r[2],n[o+3]=r[3]}function i(e,n,o){t[0]=e,n[o]=r[3],n[o+1]=r[2],n[o+2]=r[1],n[o+3]=r[0]}function a(e,n){return r[0]=e[n],r[1]=e[n+1],r[2]=e[n+2],r[3]=e[n+3],t[0]}function s(e,n){return r[3]=e[n],r[2]=e[n+1],r[1]=e[n+2],r[0]=e[n+3],t[0]}e.writeFloatLE=n?o:i,e.writeFloatBE=n?i:o,e.readFloatLE=n?a:s,e.readFloatBE=n?s:a}():function(){function i(e,t,r,n){var o=t<0?1:0;if(o&&(t=-t),0===t)e(1/t>0?0:2147483648,r,n);else if(isNaN(t))e(2143289344,r,n);else if(t>34028234663852886e22)e((o<<31|2139095040)>>>0,r,n);else if(t<11754943508222875e-54)e((o<<31|Math.round(t/1401298464324817e-60))>>>0,r,n);else{var i=Math.floor(Math.log(t)/Math.LN2);e((o<<31|i+127<<23|8388607&Math.round(t*Math.pow(2,-i)*8388608))>>>0,r,n)}}function a(e,t,r){var n=e(t,r),o=2*(n>>31)+1,i=n>>>23&255,a=8388607&n;return 255===i?a?NaN:o*(1/0):0===i?1401298464324817e-60*o*a:o*Math.pow(2,i-150)*(a+8388608)}e.writeFloatLE=i.bind(null,t),e.writeFloatBE=i.bind(null,r),e.readFloatLE=a.bind(null,n),e.readFloatBE=a.bind(null,o)}(),"undefined"!=typeof Float64Array?function(){var t=new Float64Array([-0]),r=new Uint8Array(t.buffer),n=128===r[7];function o(e,n,o){t[0]=e,n[o]=r[0],n[o+1]=r[1],n[o+2]=r[2],n[o+3]=r[3],n[o+4]=r[4],n[o+5]=r[5],n[o+6]=r[6],n[o+7]=r[7]}function i(e,n,o){t[0]=e,n[o]=r[7],n[o+1]=r[6],n[o+2]=r[5],n[o+3]=r[4],n[o+4]=r[3],n[o+5]=r[2],n[o+6]=r[1],n[o+7]=r[0]}function a(e,n){return r[0]=e[n],r[1]=e[n+1],r[2]=e[n+2],r[3]=e[n+3],r[4]=e[n+4],r[5]=e[n+5],r[6]=e[n+6],r[7]=e[n+7],t[0]}function s(e,n){return r[7]=e[n],r[6]=e[n+1],r[5]=e[n+2],r[4]=e[n+3],r[3]=e[n+4],r[2]=e[n+5],r[1]=e[n+6],r[0]=e[n+7],t[0]}e.writeDoubleLE=n?o:i,e.writeDoubleBE=n?i:o,e.readDoubleLE=n?a:s,e.readDoubleBE=n?s:a}():function(){function i(e,t,r,n,o,i){var a=n<0?1:0;if(a&&(n=-n),0===n)e(0,o,i+t),e(1/n>0?0:2147483648,o,i+r);else if(isNaN(n))e(0,o,i+t),e(2146959360,o,i+r);else if(n>17976931348623157e292)e(0,o,i+t),e((a<<31|2146435072)>>>0,o,i+r);else{var s;if(n<22250738585072014e-324)e((s=n/5e-324)>>>0,o,i+t),e((a<<31|s/4294967296)>>>0,o,i+r);else{var c=Math.floor(Math.log(n)/Math.LN2);1024===c&&(c=1023),e(4503599627370496*(s=n*Math.pow(2,-c))>>>0,o,i+t),e((a<<31|c+1023<<20|1048576*s&1048575)>>>0,o,i+r)}}}function a(e,t,r,n,o){var i=e(n,o+t),a=e(n,o+r),s=2*(a>>31)+1,c=a>>>20&2047,l=4294967296*(1048575&a)+i;return 2047===c?l?NaN:s*(1/0):0===c?5e-324*s*l:s*Math.pow(2,c-1075)*(l+4503599627370496)}e.writeDoubleLE=i.bind(null,t,0,4),e.writeDoubleBE=i.bind(null,r,4,0),e.readDoubleLE=a.bind(null,n,0,4),e.readDoubleBE=a.bind(null,o,4,0)}(),e}function t(e,t,r){t[r]=255&e,t[r+1]=e>>>8&255,t[r+2]=e>>>16&255,t[r+3]=e>>>24}function r(e,t,r){t[r]=e>>>24,t[r+1]=e>>>16&255,t[r+2]=e>>>8&255,t[r+3]=255&e}function n(e,t){return(e[t]|e[t+1]<<8|e[t+2]<<16|e[t+3]<<24)>>>0}function o(e,t){return(e[t]<<24|e[t+1]<<16|e[t+2]<<8|e[t+3])>>>0}return bw=1,gw=e(e)}(),t.inquire=kw?vw:(kw=1,vw=function(e){return null}),t.utf8=(ww||(ww=1,function(e){var t=e;t.length=function(e){for(var t=0,r=0,n=0;n<e.length;++n)(r=e.charCodeAt(n))<128?t+=1:r<2048?t+=2:55296==(64512&r)&&56320==(64512&e.charCodeAt(n+1))?(++n,t+=4):t+=3;return t},t.read=function(e,t,r){if(r-t<1)return"";for(var n,o=null,i=[],a=0;t<r;)(n=e[t++])<128?i[a++]=n:n>191&&n<224?i[a++]=(31&n)<<6|63&e[t++]:n>239&&n<365?(n=((7&n)<<18|(63&e[t++])<<12|(63&e[t++])<<6|63&e[t++])-65536,i[a++]=55296+(n>>10),i[a++]=56320+(1023&n)):i[a++]=(15&n)<<12|(63&e[t++])<<6|63&e[t++],a>8191&&((o||(o=[])).push(String.fromCharCode.apply(String,i)),a=0);return o?(a&&o.push(String.fromCharCode.apply(String,i.slice(0,a))),o.join("")):String.fromCharCode.apply(String,i.slice(0,a))},t.write=function(e,t,r){for(var n,o,i=r,a=0;a<e.length;++a)(n=e.charCodeAt(a))<128?t[r++]=n:n<2048?(t[r++]=n>>6|192,t[r++]=63&n|128):55296==(64512&n)&&56320==(64512&(o=e.charCodeAt(a+1)))?(n=65536+((1023&n)<<10)+(1023&o),++a,t[r++]=n>>18|240,t[r++]=n>>12&63|128,t[r++]=n>>6&63|128,t[r++]=63&n|128):(t[r++]=n>>12|224,t[r++]=n>>6&63|128,t[r++]=63&n|128);return r-i}}(Rw)),Rw),t.pool=(Sw||(Sw=1,_w=function(e,t,r){var n=r||8192,o=n>>>1,i=null,a=n;return function(r){if(r<1||r>o)return e(r);a+r>n&&(i=e(n),a=0);var s=t.call(i,a,a+=r);return 7&a&&(a=1+(7|a)),s}}),_w),t.LongBits=function(){if(Pw)return Ow;Pw=1,Ow=t;var e=zw();function t(e,t){this.lo=e>>>0,this.hi=t>>>0}var r=t.zero=new t(0,0);r.toNumber=function(){return 0},r.zzEncode=r.zzDecode=function(){return this},r.length=function(){return 1};var n=t.zeroHash="\0\0\0\0\0\0\0\0";t.fromNumber=function(e){if(0===e)return r;var n=e<0;n&&(e=-e);var o=e>>>0,i=(e-o)/4294967296>>>0;return n&&(i=~i>>>0,o=~o>>>0,++o>4294967295&&(o=0,++i>4294967295&&(i=0))),new t(o,i)},t.from=function(n){if("number"==typeof n)return t.fromNumber(n);if(e.isString(n)){if(!e.Long)return t.fromNumber(parseInt(n,10));n=e.Long.fromString(n)}return n.low||n.high?new t(n.low>>>0,n.high>>>0):r},t.prototype.toNumber=function(e){if(!e&&this.hi>>>31){var t=1+~this.lo>>>0,r=~this.hi>>>0;return t||(r=r+1>>>0),-(t+4294967296*r)}return this.lo+4294967296*this.hi},t.prototype.toLong=function(t){return e.Long?new e.Long(0|this.lo,0|this.hi,Boolean(t)):{low:0|this.lo,high:0|this.hi,unsigned:Boolean(t)}};var o=String.prototype.charCodeAt;return t.fromHash=function(e){return e===n?r:new t((o.call(e,0)|o.call(e,1)<<8|o.call(e,2)<<16|o.call(e,3)<<24)>>>0,(o.call(e,4)|o.call(e,5)<<8|o.call(e,6)<<16|o.call(e,7)<<24)>>>0)},t.prototype.toHash=function(){return String.fromCharCode(255&this.lo,this.lo>>>8&255,this.lo>>>16&255,this.lo>>>24,255&this.hi,this.hi>>>8&255,this.hi>>>16&255,this.hi>>>24)},t.prototype.zzEncode=function(){var e=this.hi>>31;return this.hi=((this.hi<<1|this.lo>>>31)^e)>>>0,this.lo=(this.lo<<1^e)>>>0,this},t.prototype.zzDecode=function(){var e=-(1&this.lo);return this.lo=((this.lo>>>1|this.hi<<31)^e)>>>0,this.hi=(this.hi>>>1^e)>>>0,this},t.prototype.length=function(){var e=this.lo,t=(this.lo>>>28|this.hi<<4)>>>0,r=this.hi>>>24;return 0===r?0===t?e<16384?e<128?1:2:e<2097152?3:4:t<16384?t<128?5:6:t<2097152?7:8:r<128?9:10},Ow}(),t.isNode=Boolean(void 0!==zk&&zk&&zk.process&&zk.process.versions&&zk.process.versions.node),t.global=t.isNode&&zk||"undefined"!=typeof window&&window||"undefined"!=typeof self&&self||zk,t.emptyArray=Object.freeze?Object.freeze([]):[],t.emptyObject=Object.freeze?Object.freeze({}):{},t.isInteger=Number.isInteger||function(e){return"number"==typeof e&&isFinite(e)&&Math.floor(e)===e},t.isString=function(e){return"string"==typeof e||e instanceof String},t.isObject=function(e){return e&&"object"==typeof e},t.isset=t.isSet=function(e,t){var r=e[t];return!(null==r||!e.hasOwnProperty(t))&&("object"!=typeof r||(Array.isArray(r)?r.length:Object.keys(r).length)>0)},t.Buffer=function(){try{var e=t.inquire("buffer").Buffer;return e.prototype.utf8Write?e:null}catch(e){return null}}(),t._Buffer_from=null,t._Buffer_allocUnsafe=null,t.newBuffer=function(e){return"number"==typeof e?t.Buffer?t._Buffer_allocUnsafe(e):new t.Array(e):t.Buffer?t._Buffer_from(e):"undefined"==typeof Uint8Array?e:new Uint8Array(e)},t.Array="undefined"!=typeof Uint8Array?Uint8Array:Array,t.Long=t.global.dcodeIO&&t.global.dcodeIO.Long||t.global.Long||t.inquire("long"),t.key2Re=/^true|false|0|1$/,t.key32Re=/^-?(?:0|[1-9][0-9]*)$/,t.key64Re=/^(?:[\\x00-\\xff]{8}|-?(?:0|[1-9][0-9]*))$/,t.longToHash=function(e){return e?t.LongBits.from(e).toHash():t.LongBits.zeroHash},t.longFromHash=function(e,r){var n=t.LongBits.fromHash(e);return t.Long?t.Long.fromBits(n.lo,n.hi,r):n.toNumber(Boolean(r))},t.merge=r,t.lcFirst=function(e){return e.charAt(0).toLowerCase()+e.substring(1)},t.newError=n,t.ProtocolError=n("ProtocolError"),t.oneOfGetter=function(e){for(var t={},r=0;r<e.length;++r)t[e[r]]=1;return function(){for(var e=Object.keys(this),r=e.length-1;r>-1;--r)if(1===t[e[r]]&&void 0!==this[e[r]]&&null!==this[e[r]])return e[r]}},t.oneOfSetter=function(e){return function(t){for(var r=0;r<e.length;++r)e[r]!==t&&delete this[e[r]]}},t.toJSONOptions={longs:String,enums:String,bytes:String,json:!0},t._configure=function(){var e=t.Buffer;e?(t._Buffer_from=e.from!==Uint8Array.from&&e.from||function(t,r){return new e(t,r)},t._Buffer_allocUnsafe=e.allocUnsafe||function(t){return new e(t)}):t._Buffer_from=t._Buffer_allocUnsafe=null}}(jw)),jw}var Iw,Aw=qw,Mw=zw(),Dw=Mw.LongBits,Nw=Mw.base64,Lw=Mw.utf8;function Uw(e,t,r){this.fn=e,this.len=t,this.next=void 0,this.val=r}function Bw(){}function Fw(e){this.head=e.head,this.tail=e.tail,this.len=e.len,this.next=e.states}function qw(){this.len=0,this.head=new Uw(Bw,0,0),this.tail=this.head,this.states=null}var Ww=function(){return Mw.Buffer?function(){return(qw.create=function(){return new Iw})()}:function(){return new qw}};function Zw(e,t,r){t[r]=255&e}function Hw(e,t){this.len=e,this.next=void 0,this.val=t}function $w(e,t,r){for(;e.hi;)t[r++]=127&e.lo|128,e.lo=(e.lo>>>7|e.hi<<25)>>>0,e.hi>>>=7;for(;e.lo>127;)t[r++]=127&e.lo|128,e.lo=e.lo>>>7;t[r++]=e.lo}function Vw(e,t,r){t[r]=255&e,t[r+1]=e>>>8&255,t[r+2]=e>>>16&255,t[r+3]=e>>>24}qw.create=Ww(),qw.alloc=function(e){return new Mw.Array(e)},Mw.Array!==Array&&(qw.alloc=Mw.pool(qw.alloc,Mw.Array.prototype.subarray)),qw.prototype._push=function(e,t,r){return this.tail=this.tail.next=new Uw(e,t,r),this.len+=t,this},Hw.prototype=Object.create(Uw.prototype),Hw.prototype.fn=function(e,t,r){for(;e>127;)t[r++]=127&e|128,e>>>=7;t[r]=e},qw.prototype.uint32=function(e){return this.len+=(this.tail=this.tail.next=new Hw((e>>>=0)<128?1:e<16384?2:e<2097152?3:e<268435456?4:5,e)).len,this},qw.prototype.int32=function(e){return e<0?this._push($w,10,Dw.fromNumber(e)):this.uint32(e)},qw.prototype.sint32=function(e){return this.uint32((e<<1^e>>31)>>>0)},qw.prototype.uint64=function(e){var t=Dw.from(e);return this._push($w,t.length(),t)},qw.prototype.int64=qw.prototype.uint64,qw.prototype.sint64=function(e){var t=Dw.from(e).zzEncode();return this._push($w,t.length(),t)},qw.prototype.bool=function(e){return this._push(Zw,1,e?1:0)},qw.prototype.fixed32=function(e){return this._push(Vw,4,e>>>0)},qw.prototype.sfixed32=qw.prototype.fixed32,qw.prototype.fixed64=function(e){var t=Dw.from(e);return this._push(Vw,4,t.lo)._push(Vw,4,t.hi)},qw.prototype.sfixed64=qw.prototype.fixed64,qw.prototype.float=function(e){return this._push(Mw.float.writeFloatLE,4,e)},qw.prototype.double=function(e){return this._push(Mw.float.writeDoubleLE,8,e)};var Gw=Mw.Array.prototype.set?function(e,t,r){t.set(e,r)}:function(e,t,r){for(var n=0;n<e.length;++n)t[r+n]=e[n]};qw.prototype.bytes=function(e){var t=e.length>>>0;if(!t)return this._push(Zw,1,0);if(Mw.isString(e)){var r=qw.alloc(t=Nw.length(e));Nw.decode(e,r,0),e=r}return this.uint32(t)._push(Gw,t,e)},qw.prototype.string=function(e){var t=Lw.length(e);return t?this.uint32(t)._push(Lw.write,t,e):this._push(Zw,1,0)},qw.prototype.fork=function(){return this.states=new Fw(this),this.head=this.tail=new Uw(Bw,0,0),this.len=0,this},qw.prototype.reset=function(){return this.states?(this.head=this.states.head,this.tail=this.states.tail,this.len=this.states.len,this.states=this.states.next):(this.head=this.tail=new Uw(Bw,0,0),this.len=0),this},qw.prototype.ldelim=function(){var e=this.head,t=this.tail,r=this.len;return this.reset().uint32(r),r&&(this.tail.next=e.next,this.tail=t,this.len+=r),this},qw.prototype.finish=function(){for(var e=this.head.next,t=this.constructor.alloc(this.len),r=0;e;)e.fn(e.val,t,r),r+=e.len,e=e.next;return t},qw._configure=function(e){Iw=e,qw.create=Ww(),Iw._configure()};var Jw=Xw,Kw=Aw;(Xw.prototype=Object.create(Kw.prototype)).constructor=Xw;var Yw=zw();function Xw(){Kw.call(this)}function Qw(e,t,r){e.length<40?Yw.utf8.write(e,t,r):t.utf8Write?t.utf8Write(e,r):t.write(e,r)}Xw._configure=function(){Xw.alloc=Yw._Buffer_allocUnsafe,Xw.writeBytesBuffer=Yw.Buffer&&Yw.Buffer.prototype instanceof Uint8Array&&"set"===Yw.Buffer.prototype.set.name?function(e,t,r){t.set(e,r)}:function(e,t,r){if(e.copy)e.copy(t,r,0,e.length);else for(var n=0;n<e.length;)t[r++]=e[n++]}},Xw.prototype.bytes=function(e){Yw.isString(e)&&(e=Yw._Buffer_from(e,"base64"));var t=e.length>>>0;return this.uint32(t),t&&this._push(Xw.writeBytesBuffer,t,e),this},Xw.prototype.string=function(e){var t=Yw.Buffer.byteLength(e);return this.uint32(t),t&&this._push(Qw,t,e),this},Xw._configure();var e_,t_=a_,r_=zw(),n_=r_.LongBits,o_=r_.utf8;function i_(e,t){return RangeError("index out of range: "+e.pos+" + "+(t||1)+" > "+e.len)}function a_(e){this.buf=e,this.pos=0,this.len=e.length}var s_="undefined"!=typeof Uint8Array?function(e){if(e instanceof Uint8Array||Array.isArray(e))return new a_(e);throw Error("illegal buffer")}:function(e){if(Array.isArray(e))return new a_(e);throw Error("illegal buffer")},c_=function(){return r_.Buffer?function(e){return(a_.create=function(e){return r_.Buffer.isBuffer(e)?new e_(e):s_(e)})(e)}:s_};function l_(){var e=new n_(0,0),t=0;if(!(this.len-this.pos>4)){for(;t<3;++t){if(this.pos>=this.len)throw i_(this);if(e.lo=(e.lo|(127&this.buf[this.pos])<<7*t)>>>0,this.buf[this.pos++]<128)return e}return e.lo=(e.lo|(127&this.buf[this.pos++])<<7*t)>>>0,e}for(;t<4;++t)if(e.lo=(e.lo|(127&this.buf[this.pos])<<7*t)>>>0,this.buf[this.pos++]<128)return e;if(e.lo=(e.lo|(127&this.buf[this.pos])<<28)>>>0,e.hi=(e.hi|(127&this.buf[this.pos])>>4)>>>0,this.buf[this.pos++]<128)return e;if(t=0,this.len-this.pos>4){for(;t<5;++t)if(e.hi=(e.hi|(127&this.buf[this.pos])<<7*t+3)>>>0,this.buf[this.pos++]<128)return e}else for(;t<5;++t){if(this.pos>=this.len)throw i_(this);if(e.hi=(e.hi|(127&this.buf[this.pos])<<7*t+3)>>>0,this.buf[this.pos++]<128)return e}throw Error("invalid varint encoding")}function u_(e,t){return(e[t-4]|e[t-3]<<8|e[t-2]<<16|e[t-1]<<24)>>>0}function d_(){if(this.pos+8>this.len)throw i_(this,8);return new n_(u_(this.buf,this.pos+=4),u_(this.buf,this.pos+=4))}a_.create=c_(),a_.prototype._slice=r_.Array.prototype.subarray||r_.Array.prototype.slice,a_.prototype.uint32=function(){var e=4294967295;return function(){if(e=(127&this.buf[this.pos])>>>0,this.buf[this.pos++]<128)return e;if(e=(e|(127&this.buf[this.pos])<<7)>>>0,this.buf[this.pos++]<128)return e;if(e=(e|(127&this.buf[this.pos])<<14)>>>0,this.buf[this.pos++]<128)return e;if(e=(e|(127&this.buf[this.pos])<<21)>>>0,this.buf[this.pos++]<128)return e;if(e=(e|(15&this.buf[this.pos])<<28)>>>0,this.buf[this.pos++]<128)return e;if((this.pos+=5)>this.len)throw this.pos=this.len,i_(this,10);return e}}(),a_.prototype.int32=function(){return 0|this.uint32()},a_.prototype.sint32=function(){var e=this.uint32();return e>>>1^-(1&e)|0},a_.prototype.bool=function(){return 0!==this.uint32()},a_.prototype.fixed32=function(){if(this.pos+4>this.len)throw i_(this,4);return u_(this.buf,this.pos+=4)},a_.prototype.sfixed32=function(){if(this.pos+4>this.len)throw i_(this,4);return 0|u_(this.buf,this.pos+=4)},a_.prototype.float=function(){if(this.pos+4>this.len)throw i_(this,4);var e=r_.float.readFloatLE(this.buf,this.pos);return this.pos+=4,e},a_.prototype.double=function(){if(this.pos+8>this.len)throw i_(this,4);var e=r_.float.readDoubleLE(this.buf,this.pos);return this.pos+=8,e},a_.prototype.bytes=function(){var e=this.uint32(),t=this.pos,r=this.pos+e;if(r>this.len)throw i_(this,e);return this.pos+=e,Array.isArray(this.buf)?this.buf.slice(t,r):t===r?new this.buf.constructor(0):this._slice.call(this.buf,t,r)},a_.prototype.string=function(){var e=this.bytes();return o_.read(e,0,e.length)},a_.prototype.skip=function(e){if("number"==typeof e){if(this.pos+e>this.len)throw i_(this,e);this.pos+=e}else do{if(this.pos>=this.len)throw i_(this)}while(128&this.buf[this.pos++]);return this},a_.prototype.skipType=function(e){switch(e){case 0:this.skip();break;case 1:this.skip(8);break;case 2:this.skip(this.uint32());break;case 3:for(;4!=(e=7&this.uint32());)this.skipType(e);break;case 5:this.skip(4);break;default:throw Error("invalid wire type "+e+" at offset "+this.pos)}return this},a_._configure=function(e){e_=e,a_.create=c_(),e_._configure();var t=r_.Long?"toLong":"toNumber";r_.merge(a_.prototype,{int64:function(){return l_.call(this)[t](!1)},uint64:function(){return l_.call(this)[t](!0)},sint64:function(){return l_.call(this).zzDecode()[t](!1)},fixed64:function(){return d_.call(this)[t](!0)},sfixed64:function(){return d_.call(this)[t](!1)}})};var p_=m_,f_=t_;(m_.prototype=Object.create(f_.prototype)).constructor=m_;var h_=zw();function m_(e){f_.call(this,e)}m_._configure=function(){h_.Buffer&&(m_.prototype._slice=h_.Buffer.prototype.slice)},m_.prototype.string=function(){var e=this.uint32();return this.buf.utf8Slice?this.buf.utf8Slice(this.pos,this.pos=Math.min(this.pos+e,this.len)):this.buf.toString("utf-8",this.pos,this.pos=Math.min(this.pos+e,this.len))},m_._configure();var y_={},g_=v_,b_=zw();function v_(e,t,r){if("function"!=typeof e)throw TypeError("rpcImpl must be a function");b_.EventEmitter.call(this),this.rpcImpl=e,this.requestDelimited=Boolean(t),this.responseDelimited=Boolean(r)}(v_.prototype=Object.create(b_.EventEmitter.prototype)).constructor=v_,v_.prototype.rpcCall=function e(t,r,n,o,i){if(!o)throw TypeError("request must be specified");var a=this;if(!i)return b_.asPromise(e,a,t,r,n,o);if(a.rpcImpl)try{return a.rpcImpl(t,r[a.requestDelimited?"encodeDelimited":"encode"](o).finish(),(function(e,r){if(e)return a.emit("error",e,t),i(e);if(null!==r){if(!(r instanceof n))try{r=n[a.responseDelimited?"decodeDelimited":"decode"](r)}catch(e){return a.emit("error",e,t),i(e)}return a.emit("data",r,t),i(null,r)}a.end(!0)}))}catch(e){return a.emit("error",e,t),void setTimeout((function(){i(e)}),0)}else setTimeout((function(){i(Error("already ended"))}),0)},v_.prototype.end=function(e){return this.rpcImpl&&(e||this.rpcImpl(null,null,null),this.rpcImpl=null,this.emit("end").off()),this},y_.Service=g_;var k_={};!function(e){var t=e;function r(){t.util._configure(),t.Writer._configure(t.BufferWriter),t.Reader._configure(t.BufferReader)}t.build="minimal",t.Writer=Aw,t.BufferWriter=Jw,t.Reader=t_,t.BufferReader=p_,t.util=zw(),t.rpc=y_,t.roots=k_,t.configure=r,r()}(xw);var w_,__,S_,O_,P_,E_,C_,x_,j_,T_,R_,z_,I_,A_,M_,D_=Ik(xw);function N_(e){switch(e){case 0:case"AUDIO":return S_.AUDIO;case 1:case"VIDEO":return S_.VIDEO;case 2:case"DATA":return S_.DATA;default:return S_.UNRECOGNIZED}}function L_(e){switch(e){case S_.AUDIO:return"AUDIO";case S_.VIDEO:return"VIDEO";case S_.DATA:return"DATA";case S_.UNRECOGNIZED:default:return"UNRECOGNIZED"}}function U_(e){switch(e){case 0:case"UNKNOWN":return O_.UNKNOWN;case 1:case"CAMERA":return O_.CAMERA;case 2:case"MICROPHONE":return O_.MICROPHONE;case 3:case"SCREEN_SHARE":return O_.SCREEN_SHARE;case 4:case"SCREEN_SHARE_AUDIO":return O_.SCREEN_SHARE_AUDIO;default:return O_.UNRECOGNIZED}}function B_(e){switch(e){case O_.UNKNOWN:return"UNKNOWN";case O_.CAMERA:return"CAMERA";case O_.MICROPHONE:return"MICROPHONE";case O_.SCREEN_SHARE:return"SCREEN_SHARE";case O_.SCREEN_SHARE_AUDIO:return"SCREEN_SHARE_AUDIO";case O_.UNRECOGNIZED:default:return"UNRECOGNIZED"}}function F_(e){switch(e){case 0:case"LOW":return P_.LOW;case 1:case"MEDIUM":return P_.MEDIUM;case 2:case"HIGH":return P_.HIGH;case 3:case"OFF":return P_.OFF;default:return P_.UNRECOGNIZED}}function q_(e){switch(e){case P_.LOW:return"LOW";case P_.MEDIUM:return"MEDIUM";case P_.HIGH:return"HIGH";case P_.OFF:return"OFF";case P_.UNRECOGNIZED:default:return"UNRECOGNIZED"}}function W_(e){switch(e){case 0:case"POOR":return E_.POOR;case 1:case"GOOD":return E_.GOOD;case 2:case"EXCELLENT":return E_.EXCELLENT;default:return E_.UNRECOGNIZED}}function Z_(e){switch(e){case 0:case"UNSET":return C_.UNSET;case 1:case"DISABLED":return C_.DISABLED;case 2:case"ENABLED":return C_.ENABLED;default:return C_.UNRECOGNIZED}}function H_(e){switch(e){case C_.UNSET:return"UNSET";case C_.DISABLED:return"DISABLED";case C_.ENABLED:return"ENABLED";case C_.UNRECOGNIZED:default:return"UNRECOGNIZED"}}function $_(e){switch(e){case 0:case"UNKNOWN_REASON":return x_.UNKNOWN_REASON;case 1:case"CLIENT_INITIATED":return x_.CLIENT_INITIATED;case 2:case"DUPLICATE_IDENTITY":return x_.DUPLICATE_IDENTITY;case 3:case"SERVER_SHUTDOWN":return x_.SERVER_SHUTDOWN;case 4:case"PARTICIPANT_REMOVED":return x_.PARTICIPANT_REMOVED;case 5:case"ROOM_DELETED":return x_.ROOM_DELETED;case 6:case"STATE_MISMATCH":return x_.STATE_MISMATCH;case 7:case"JOIN_FAILURE":return x_.JOIN_FAILURE;default:return x_.UNRECOGNIZED}}function V_(e){switch(e){case 0:case"JOINING":return T_.JOINING;case 1:case"JOINED":return T_.JOINED;case 2:case"ACTIVE":return T_.ACTIVE;case 3:case"DISCONNECTED":return T_.DISCONNECTED;default:return T_.UNRECOGNIZED}}function G_(e){switch(e){case 0:case"NONE":return R_.NONE;case 1:case"GCM":return R_.GCM;case 2:case"CUSTOM":return R_.CUSTOM;default:return R_.UNRECOGNIZED}}function J_(e){switch(e){case R_.NONE:return"NONE";case R_.GCM:return"GCM";case R_.CUSTOM:return"CUSTOM";case R_.UNRECOGNIZED:default:return"UNRECOGNIZED"}}function K_(e){switch(e){case 0:case"RELIABLE":return z_.RELIABLE;case 1:case"LOSSY":return z_.LOSSY;default:return z_.UNRECOGNIZED}}function Y_(e){switch(e){case 0:case"Standard":return I_.Standard;case 1:case"Cloud":return I_.Cloud;default:return I_.UNRECOGNIZED}}function X_(e){switch(e){case 0:case"UNKNOWN":return A_.UNKNOWN;case 1:case"JS":return A_.JS;case 2:case"SWIFT":return A_.SWIFT;case 3:case"ANDROID":return A_.ANDROID;case 4:case"FLUTTER":return A_.FLUTTER;case 5:case"GO":return A_.GO;case 6:case"UNITY":return A_.UNITY;case 7:case"REACT_NATIVE":return A_.REACT_NATIVE;case 8:case"RUST":return A_.RUST;default:return A_.UNRECOGNIZED}}(()=>{if("undefined"!=typeof globalThis)return globalThis;if("undefined"!=typeof self)return self;if("undefined"!=typeof window)return window;if("undefined"!=typeof global)return global;throw"Unable to locate global object"})(),D_.util.Long!==Cw&&(D_.util.Long=Cw,D_.configure()),function(e){e[e.DEFAULT_AC=0]="DEFAULT_AC",e[e.OPUS=1]="OPUS",e[e.AAC=2]="AAC",e[e.UNRECOGNIZED=-1]="UNRECOGNIZED"}(w_||(w_={})),function(e){e[e.DEFAULT_VC=0]="DEFAULT_VC",e[e.H264_BASELINE=1]="H264_BASELINE",e[e.H264_MAIN=2]="H264_MAIN",e[e.H264_HIGH=3]="H264_HIGH",e[e.VP8=4]="VP8",e[e.UNRECOGNIZED=-1]="UNRECOGNIZED"}(__||(__={})),function(e){e[e.AUDIO=0]="AUDIO",e[e.VIDEO=1]="VIDEO",e[e.DATA=2]="DATA",e[e.UNRECOGNIZED=-1]="UNRECOGNIZED"}(S_||(S_={})),function(e){e[e.UNKNOWN=0]="UNKNOWN",e[e.CAMERA=1]="CAMERA",e[e.MICROPHONE=2]="MICROPHONE",e[e.SCREEN_SHARE=3]="SCREEN_SHARE",e[e.SCREEN_SHARE_AUDIO=4]="SCREEN_SHARE_AUDIO",e[e.UNRECOGNIZED=-1]="UNRECOGNIZED"}(O_||(O_={})),function(e){e[e.LOW=0]="LOW",e[e.MEDIUM=1]="MEDIUM",e[e.HIGH=2]="HIGH",e[e.OFF=3]="OFF",e[e.UNRECOGNIZED=-1]="UNRECOGNIZED"}(P_||(P_={})),function(e){e[e.POOR=0]="POOR",e[e.GOOD=1]="GOOD",e[e.EXCELLENT=2]="EXCELLENT",e[e.UNRECOGNIZED=-1]="UNRECOGNIZED"}(E_||(E_={})),function(e){e[e.UNSET=0]="UNSET",e[e.DISABLED=1]="DISABLED",e[e.ENABLED=2]="ENABLED",e[e.UNRECOGNIZED=-1]="UNRECOGNIZED"}(C_||(C_={})),function(e){e[e.UNKNOWN_REASON=0]="UNKNOWN_REASON",e[e.CLIENT_INITIATED=1]="CLIENT_INITIATED",e[e.DUPLICATE_IDENTITY=2]="DUPLICATE_IDENTITY",e[e.SERVER_SHUTDOWN=3]="SERVER_SHUTDOWN",e[e.PARTICIPANT_REMOVED=4]="PARTICIPANT_REMOVED",e[e.ROOM_DELETED=5]="ROOM_DELETED",e[e.STATE_MISMATCH=6]="STATE_MISMATCH",e[e.JOIN_FAILURE=7]="JOIN_FAILURE",e[e.UNRECOGNIZED=-1]="UNRECOGNIZED"}(x_||(x_={})),function(e){e[e.RR_UNKOWN=0]="RR_UNKOWN",e[e.RR_SIGNAL_DISCONNECTED=1]="RR_SIGNAL_DISCONNECTED",e[e.RR_PUBLISHER_FAILED=2]="RR_PUBLISHER_FAILED",e[e.RR_SUBSCRIBER_FAILED=3]="RR_SUBSCRIBER_FAILED",e[e.RR_SWITCH_CANDIDATE=4]="RR_SWITCH_CANDIDATE",e[e.UNRECOGNIZED=-1]="UNRECOGNIZED"}(j_||(j_={})),function(e){e[e.JOINING=0]="JOINING",e[e.JOINED=1]="JOINED",e[e.ACTIVE=2]="ACTIVE",e[e.DISCONNECTED=3]="DISCONNECTED",e[e.UNRECOGNIZED=-1]="UNRECOGNIZED"}(T_||(T_={})),function(e){e[e.NONE=0]="NONE",e[e.GCM=1]="GCM",e[e.CUSTOM=2]="CUSTOM",e[e.UNRECOGNIZED=-1]="UNRECOGNIZED"}(R_||(R_={})),(M_=z_||(z_={}))[M_.RELIABLE=0]="RELIABLE",M_[M_.LOSSY=1]="LOSSY",M_[M_.UNRECOGNIZED=-1]="UNRECOGNIZED",function(e){e[e.Standard=0]="Standard",e[e.Cloud=1]="Cloud",e[e.UNRECOGNIZED=-1]="UNRECOGNIZED"}(I_||(I_={})),function(e){e[e.UNKNOWN=0]="UNKNOWN",e[e.JS=1]="JS",e[e.SWIFT=2]="SWIFT",e[e.ANDROID=3]="ANDROID",e[e.FLUTTER=4]="FLUTTER",e[e.GO=5]="GO",e[e.UNITY=6]="UNITY",e[e.REACT_NATIVE=7]="REACT_NATIVE",e[e.RUST=8]="RUST",e[e.UNRECOGNIZED=-1]="UNRECOGNIZED"}(A_||(A_={}));const Q_={encode(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:D_.Writer.create();""!==e.sid&&t.uint32(10).string(e.sid),""!==e.name&&t.uint32(18).string(e.name),0!==e.emptyTimeout&&t.uint32(24).uint32(e.emptyTimeout),0!==e.maxParticipants&&t.uint32(32).uint32(e.maxParticipants),0!==e.creationTime&&t.uint32(40).int64(e.creationTime),""!==e.turnPassword&&t.uint32(50).string(e.turnPassword);for(const r of e.enabledCodecs)eS.encode(r,t.uint32(58).fork()).ldelim();return""!==e.metadata&&t.uint32(66).string(e.metadata),0!==e.numParticipants&&t.uint32(72).uint32(e.numParticipants),!0===e.activeRecording&&t.uint32(80).bool(e.activeRecording),t},decode(e,t){const r=e instanceof D_.Reader?e:D_.Reader.create(e);let n=void 0===t?r.len:r.pos+t;const o={sid:"",name:"",emptyTimeout:0,maxParticipants:0,creationTime:0,turnPassword:"",enabledCodecs:[],metadata:"",numParticipants:0,activeRecording:!1};for(;r.pos<n;){const e=r.uint32();switch(e>>>3){case 1:if(10!=e)break;o.sid=r.string();continue;case 2:if(18!=e)break;o.name=r.string();continue;case 3:if(24!=e)break;o.emptyTimeout=r.uint32();continue;case 4:if(32!=e)break;o.maxParticipants=r.uint32();continue;case 5:if(40!=e)break;o.creationTime=vS(r.int64());continue;case 6:if(50!=e)break;o.turnPassword=r.string();continue;case 7:if(58!=e)break;o.enabledCodecs.push(eS.decode(r,r.uint32()));continue;case 8:if(66!=e)break;o.metadata=r.string();continue;case 9:if(72!=e)break;o.numParticipants=r.uint32();continue;case 10:if(80!=e)break;o.activeRecording=r.bool();continue}if(4==(7&e)||0==e)break;r.skipType(7&e)}return o},fromJSON:e=>({sid:kS(e.sid)?String(e.sid):"",name:kS(e.name)?String(e.name):"",emptyTimeout:kS(e.emptyTimeout)?Number(e.emptyTimeout):0,maxParticipants:kS(e.maxParticipants)?Number(e.maxParticipants):0,creationTime:kS(e.creationTime)?Number(e.creationTime):0,turnPassword:kS(e.turnPassword)?String(e.turnPassword):"",enabledCodecs:Array.isArray(null==e?void 0:e.enabledCodecs)?e.enabledCodecs.map((e=>eS.fromJSON(e))):[],metadata:kS(e.metadata)?String(e.metadata):"",numParticipants:kS(e.numParticipants)?Number(e.numParticipants):0,activeRecording:!!kS(e.activeRecording)&&Boolean(e.activeRecording)}),toJSON(e){const t={};return void 0!==e.sid&&(t.sid=e.sid),void 0!==e.name&&(t.name=e.name),void 0!==e.emptyTimeout&&(t.emptyTimeout=Math.round(e.emptyTimeout)),void 0!==e.maxParticipants&&(t.maxParticipants=Math.round(e.maxParticipants)),void 0!==e.creationTime&&(t.creationTime=Math.round(e.creationTime)),void 0!==e.turnPassword&&(t.turnPassword=e.turnPassword),e.enabledCodecs?t.enabledCodecs=e.enabledCodecs.map((e=>e?eS.toJSON(e):void 0)):t.enabledCodecs=[],void 0!==e.metadata&&(t.metadata=e.metadata),void 0!==e.numParticipants&&(t.numParticipants=Math.round(e.numParticipants)),void 0!==e.activeRecording&&(t.activeRecording=e.activeRecording),t},create:e=>Q_.fromPartial(null!=e?e:{}),fromPartial(e){var t,r,n,o,i,a,s,c,l,u;const d={sid:"",name:"",emptyTimeout:0,maxParticipants:0,creationTime:0,turnPassword:"",enabledCodecs:[],metadata:"",numParticipants:0,activeRecording:!1};return d.sid=null!==(t=e.sid)&&void 0!==t?t:"",d.name=null!==(r=e.name)&&void 0!==r?r:"",d.emptyTimeout=null!==(n=e.emptyTimeout)&&void 0!==n?n:0,d.maxParticipants=null!==(o=e.maxParticipants)&&void 0!==o?o:0,d.creationTime=null!==(i=e.creationTime)&&void 0!==i?i:0,d.turnPassword=null!==(a=e.turnPassword)&&void 0!==a?a:"",d.enabledCodecs=(null===(s=e.enabledCodecs)||void 0===s?void 0:s.map((e=>eS.fromPartial(e))))||[],d.metadata=null!==(c=e.metadata)&&void 0!==c?c:"",d.numParticipants=null!==(l=e.numParticipants)&&void 0!==l?l:0,d.activeRecording=null!==(u=e.activeRecording)&&void 0!==u&&u,d}},eS={encode(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:D_.Writer.create();return""!==e.mime&&t.uint32(10).string(e.mime),""!==e.fmtpLine&&t.uint32(18).string(e.fmtpLine),t},decode(e,t){const r=e instanceof D_.Reader?e:D_.Reader.create(e);let n=void 0===t?r.len:r.pos+t;const o={mime:"",fmtpLine:""};for(;r.pos<n;){const e=r.uint32();switch(e>>>3){case 1:if(10!=e)break;o.mime=r.string();continue;case 2:if(18!=e)break;o.fmtpLine=r.string();continue}if(4==(7&e)||0==e)break;r.skipType(7&e)}return o},fromJSON:e=>({mime:kS(e.mime)?String(e.mime):"",fmtpLine:kS(e.fmtpLine)?String(e.fmtpLine):""}),toJSON(e){const t={};return void 0!==e.mime&&(t.mime=e.mime),void 0!==e.fmtpLine&&(t.fmtpLine=e.fmtpLine),t},create:e=>eS.fromPartial(null!=e?e:{}),fromPartial(e){var t,r;const n={mime:"",fmtpLine:""};return n.mime=null!==(t=e.mime)&&void 0!==t?t:"",n.fmtpLine=null!==(r=e.fmtpLine)&&void 0!==r?r:"",n}},tS={encode(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:D_.Writer.create();!0===e.canSubscribe&&t.uint32(8).bool(e.canSubscribe),!0===e.canPublish&&t.uint32(16).bool(e.canPublish),!0===e.canPublishData&&t.uint32(24).bool(e.canPublishData),t.uint32(74).fork();for(const r of e.canPublishSources)t.int32(r);return t.ldelim(),!0===e.hidden&&t.uint32(56).bool(e.hidden),!0===e.recorder&&t.uint32(64).bool(e.recorder),!0===e.canUpdateMetadata&&t.uint32(80).bool(e.canUpdateMetadata),t},decode(e,t){const r=e instanceof D_.Reader?e:D_.Reader.create(e);let n=void 0===t?r.len:r.pos+t;const o={canSubscribe:!1,canPublish:!1,canPublishData:!1,canPublishSources:[],hidden:!1,recorder:!1,canUpdateMetadata:!1};for(;r.pos<n;){const e=r.uint32();switch(e>>>3){case 1:if(8!=e)break;o.canSubscribe=r.bool();continue;case 2:if(16!=e)break;o.canPublish=r.bool();continue;case 3:if(24!=e)break;o.canPublishData=r.bool();continue;case 9:if(72==e){o.canPublishSources.push(r.int32());continue}if(74==e){const e=r.uint32()+r.pos;for(;r.pos<e;)o.canPublishSources.push(r.int32());continue}break;case 7:if(56!=e)break;o.hidden=r.bool();continue;case 8:if(64!=e)break;o.recorder=r.bool();continue;case 10:if(80!=e)break;o.canUpdateMetadata=r.bool();continue}if(4==(7&e)||0==e)break;r.skipType(7&e)}return o},fromJSON:e=>({canSubscribe:!!kS(e.canSubscribe)&&Boolean(e.canSubscribe),canPublish:!!kS(e.canPublish)&&Boolean(e.canPublish),canPublishData:!!kS(e.canPublishData)&&Boolean(e.canPublishData),canPublishSources:Array.isArray(null==e?void 0:e.canPublishSources)?e.canPublishSources.map((e=>U_(e))):[],hidden:!!kS(e.hidden)&&Boolean(e.hidden),recorder:!!kS(e.recorder)&&Boolean(e.recorder),canUpdateMetadata:!!kS(e.canUpdateMetadata)&&Boolean(e.canUpdateMetadata)}),toJSON(e){const t={};return void 0!==e.canSubscribe&&(t.canSubscribe=e.canSubscribe),void 0!==e.canPublish&&(t.canPublish=e.canPublish),void 0!==e.canPublishData&&(t.canPublishData=e.canPublishData),e.canPublishSources?t.canPublishSources=e.canPublishSources.map((e=>B_(e))):t.canPublishSources=[],void 0!==e.hidden&&(t.hidden=e.hidden),void 0!==e.recorder&&(t.recorder=e.recorder),void 0!==e.canUpdateMetadata&&(t.canUpdateMetadata=e.canUpdateMetadata),t},create:e=>tS.fromPartial(null!=e?e:{}),fromPartial(e){var t,r,n,o,i,a,s;const c={canSubscribe:!1,canPublish:!1,canPublishData:!1,canPublishSources:[],hidden:!1,recorder:!1,canUpdateMetadata:!1};return c.canSubscribe=null!==(t=e.canSubscribe)&&void 0!==t&&t,c.canPublish=null!==(r=e.canPublish)&&void 0!==r&&r,c.canPublishData=null!==(n=e.canPublishData)&&void 0!==n&&n,c.canPublishSources=(null===(o=e.canPublishSources)||void 0===o?void 0:o.map((e=>e)))||[],c.hidden=null!==(i=e.hidden)&&void 0!==i&&i,c.recorder=null!==(a=e.recorder)&&void 0!==a&&a,c.canUpdateMetadata=null!==(s=e.canUpdateMetadata)&&void 0!==s&&s,c}},rS={encode(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:D_.Writer.create();""!==e.sid&&t.uint32(10).string(e.sid),""!==e.identity&&t.uint32(18).string(e.identity),0!==e.state&&t.uint32(24).int32(e.state);for(const r of e.tracks)oS.encode(r,t.uint32(34).fork()).ldelim();return""!==e.metadata&&t.uint32(42).string(e.metadata),0!==e.joinedAt&&t.uint32(48).int64(e.joinedAt),""!==e.name&&t.uint32(74).string(e.name),0!==e.version&&t.uint32(80).uint32(e.version),void 0!==e.permission&&tS.encode(e.permission,t.uint32(90).fork()).ldelim(),""!==e.region&&t.uint32(98).string(e.region),!0===e.isPublisher&&t.uint32(104).bool(e.isPublisher),t},decode(e,t){const r=e instanceof D_.Reader?e:D_.Reader.create(e);let n=void 0===t?r.len:r.pos+t;const o={sid:"",identity:"",state:0,tracks:[],metadata:"",joinedAt:0,name:"",version:0,permission:void 0,region:"",isPublisher:!1};for(;r.pos<n;){const e=r.uint32();switch(e>>>3){case 1:if(10!=e)break;o.sid=r.string();continue;case 2:if(18!=e)break;o.identity=r.string();continue;case 3:if(24!=e)break;o.state=r.int32();continue;case 4:if(34!=e)break;o.tracks.push(oS.decode(r,r.uint32()));continue;case 5:if(42!=e)break;o.metadata=r.string();continue;case 6:if(48!=e)break;o.joinedAt=vS(r.int64());continue;case 9:if(74!=e)break;o.name=r.string();continue;case 10:if(80!=e)break;o.version=r.uint32();continue;case 11:if(90!=e)break;o.permission=tS.decode(r,r.uint32());continue;case 12:if(98!=e)break;o.region=r.string();continue;case 13:if(104!=e)break;o.isPublisher=r.bool();continue}if(4==(7&e)||0==e)break;r.skipType(7&e)}return o},fromJSON:e=>({sid:kS(e.sid)?String(e.sid):"",identity:kS(e.identity)?String(e.identity):"",state:kS(e.state)?V_(e.state):0,tracks:Array.isArray(null==e?void 0:e.tracks)?e.tracks.map((e=>oS.fromJSON(e))):[],metadata:kS(e.metadata)?String(e.metadata):"",joinedAt:kS(e.joinedAt)?Number(e.joinedAt):0,name:kS(e.name)?String(e.name):"",version:kS(e.version)?Number(e.version):0,permission:kS(e.permission)?tS.fromJSON(e.permission):void 0,region:kS(e.region)?String(e.region):"",isPublisher:!!kS(e.isPublisher)&&Boolean(e.isPublisher)}),toJSON(e){const t={};return void 0!==e.sid&&(t.sid=e.sid),void 0!==e.identity&&(t.identity=e.identity),void 0!==e.state&&(t.state=function(e){switch(e){case T_.JOINING:return"JOINING";case T_.JOINED:return"JOINED";case T_.ACTIVE:return"ACTIVE";case T_.DISCONNECTED:return"DISCONNECTED";case T_.UNRECOGNIZED:default:return"UNRECOGNIZED"}}(e.state)),e.tracks?t.tracks=e.tracks.map((e=>e?oS.toJSON(e):void 0)):t.tracks=[],void 0!==e.metadata&&(t.metadata=e.metadata),void 0!==e.joinedAt&&(t.joinedAt=Math.round(e.joinedAt)),void 0!==e.name&&(t.name=e.name),void 0!==e.version&&(t.version=Math.round(e.version)),void 0!==e.permission&&(t.permission=e.permission?tS.toJSON(e.permission):void 0),void 0!==e.region&&(t.region=e.region),void 0!==e.isPublisher&&(t.isPublisher=e.isPublisher),t},create:e=>rS.fromPartial(null!=e?e:{}),fromPartial(e){var t,r,n,o,i,a,s,c,l,u;const d={sid:"",identity:"",state:0,tracks:[],metadata:"",joinedAt:0,name:"",version:0,permission:void 0,region:"",isPublisher:!1};return d.sid=null!==(t=e.sid)&&void 0!==t?t:"",d.identity=null!==(r=e.identity)&&void 0!==r?r:"",d.state=null!==(n=e.state)&&void 0!==n?n:0,d.tracks=(null===(o=e.tracks)||void 0===o?void 0:o.map((e=>oS.fromPartial(e))))||[],d.metadata=null!==(i=e.metadata)&&void 0!==i?i:"",d.joinedAt=null!==(a=e.joinedAt)&&void 0!==a?a:0,d.name=null!==(s=e.name)&&void 0!==s?s:"",d.version=null!==(c=e.version)&&void 0!==c?c:0,d.permission=void 0!==e.permission&&null!==e.permission?tS.fromPartial(e.permission):void 0,d.region=null!==(l=e.region)&&void 0!==l?l:"",d.isPublisher=null!==(u=e.isPublisher)&&void 0!==u&&u,d}},nS={encode(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:D_.Writer.create();""!==e.mimeType&&t.uint32(10).string(e.mimeType),""!==e.mid&&t.uint32(18).string(e.mid),""!==e.cid&&t.uint32(26).string(e.cid);for(const r of e.layers)iS.encode(r,t.uint32(34).fork()).ldelim();return t},decode(e,t){const r=e instanceof D_.Reader?e:D_.Reader.create(e);let n=void 0===t?r.len:r.pos+t;const o={mimeType:"",mid:"",cid:"",layers:[]};for(;r.pos<n;){const e=r.uint32();switch(e>>>3){case 1:if(10!=e)break;o.mimeType=r.string();continue;case 2:if(18!=e)break;o.mid=r.string();continue;case 3:if(26!=e)break;o.cid=r.string();continue;case 4:if(34!=e)break;o.layers.push(iS.decode(r,r.uint32()));continue}if(4==(7&e)||0==e)break;r.skipType(7&e)}return o},fromJSON:e=>({mimeType:kS(e.mimeType)?String(e.mimeType):"",mid:kS(e.mid)?String(e.mid):"",cid:kS(e.cid)?String(e.cid):"",layers:Array.isArray(null==e?void 0:e.layers)?e.layers.map((e=>iS.fromJSON(e))):[]}),toJSON(e){const t={};return void 0!==e.mimeType&&(t.mimeType=e.mimeType),void 0!==e.mid&&(t.mid=e.mid),void 0!==e.cid&&(t.cid=e.cid),e.layers?t.layers=e.layers.map((e=>e?iS.toJSON(e):void 0)):t.layers=[],t},create:e=>nS.fromPartial(null!=e?e:{}),fromPartial(e){var t,r,n,o;const i={mimeType:"",mid:"",cid:"",layers:[]};return i.mimeType=null!==(t=e.mimeType)&&void 0!==t?t:"",i.mid=null!==(r=e.mid)&&void 0!==r?r:"",i.cid=null!==(n=e.cid)&&void 0!==n?n:"",i.layers=(null===(o=e.layers)||void 0===o?void 0:o.map((e=>iS.fromPartial(e))))||[],i}},oS={encode(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:D_.Writer.create();""!==e.sid&&t.uint32(10).string(e.sid),0!==e.type&&t.uint32(16).int32(e.type),""!==e.name&&t.uint32(26).string(e.name),!0===e.muted&&t.uint32(32).bool(e.muted),0!==e.width&&t.uint32(40).uint32(e.width),0!==e.height&&t.uint32(48).uint32(e.height),!0===e.simulcast&&t.uint32(56).bool(e.simulcast),!0===e.disableDtx&&t.uint32(64).bool(e.disableDtx),0!==e.source&&t.uint32(72).int32(e.source);for(const r of e.layers)iS.encode(r,t.uint32(82).fork()).ldelim();""!==e.mimeType&&t.uint32(90).string(e.mimeType),""!==e.mid&&t.uint32(98).string(e.mid);for(const r of e.codecs)nS.encode(r,t.uint32(106).fork()).ldelim();return!0===e.stereo&&t.uint32(112).bool(e.stereo),!0===e.disableRed&&t.uint32(120).bool(e.disableRed),0!==e.encryption&&t.uint32(128).int32(e.encryption),t},decode(e,t){const r=e instanceof D_.Reader?e:D_.Reader.create(e);let n=void 0===t?r.len:r.pos+t;const o={sid:"",type:0,name:"",muted:!1,width:0,height:0,simulcast:!1,disableDtx:!1,source:0,layers:[],mimeType:"",mid:"",codecs:[],stereo:!1,disableRed:!1,encryption:0};for(;r.pos<n;){const e=r.uint32();switch(e>>>3){case 1:if(10!=e)break;o.sid=r.string();continue;case 2:if(16!=e)break;o.type=r.int32();continue;case 3:if(26!=e)break;o.name=r.string();continue;case 4:if(32!=e)break;o.muted=r.bool();continue;case 5:if(40!=e)break;o.width=r.uint32();continue;case 6:if(48!=e)break;o.height=r.uint32();continue;case 7:if(56!=e)break;o.simulcast=r.bool();continue;case 8:if(64!=e)break;o.disableDtx=r.bool();continue;case 9:if(72!=e)break;o.source=r.int32();continue;case 10:if(82!=e)break;o.layers.push(iS.decode(r,r.uint32()));continue;case 11:if(90!=e)break;o.mimeType=r.string();continue;case 12:if(98!=e)break;o.mid=r.string();continue;case 13:if(106!=e)break;o.codecs.push(nS.decode(r,r.uint32()));continue;case 14:if(112!=e)break;o.stereo=r.bool();continue;case 15:if(120!=e)break;o.disableRed=r.bool();continue;case 16:if(128!=e)break;o.encryption=r.int32();continue}if(4==(7&e)||0==e)break;r.skipType(7&e)}return o},fromJSON:e=>({sid:kS(e.sid)?String(e.sid):"",type:kS(e.type)?N_(e.type):0,name:kS(e.name)?String(e.name):"",muted:!!kS(e.muted)&&Boolean(e.muted),width:kS(e.width)?Number(e.width):0,height:kS(e.height)?Number(e.height):0,simulcast:!!kS(e.simulcast)&&Boolean(e.simulcast),disableDtx:!!kS(e.disableDtx)&&Boolean(e.disableDtx),source:kS(e.source)?U_(e.source):0,layers:Array.isArray(null==e?void 0:e.layers)?e.layers.map((e=>iS.fromJSON(e))):[],mimeType:kS(e.mimeType)?String(e.mimeType):"",mid:kS(e.mid)?String(e.mid):"",codecs:Array.isArray(null==e?void 0:e.codecs)?e.codecs.map((e=>nS.fromJSON(e))):[],stereo:!!kS(e.stereo)&&Boolean(e.stereo),disableRed:!!kS(e.disableRed)&&Boolean(e.disableRed),encryption:kS(e.encryption)?G_(e.encryption):0}),toJSON(e){const t={};return void 0!==e.sid&&(t.sid=e.sid),void 0!==e.type&&(t.type=L_(e.type)),void 0!==e.name&&(t.name=e.name),void 0!==e.muted&&(t.muted=e.muted),void 0!==e.width&&(t.width=Math.round(e.width)),void 0!==e.height&&(t.height=Math.round(e.height)),void 0!==e.simulcast&&(t.simulcast=e.simulcast),void 0!==e.disableDtx&&(t.disableDtx=e.disableDtx),void 0!==e.source&&(t.source=B_(e.source)),e.layers?t.layers=e.layers.map((e=>e?iS.toJSON(e):void 0)):t.layers=[],void 0!==e.mimeType&&(t.mimeType=e.mimeType),void 0!==e.mid&&(t.mid=e.mid),e.codecs?t.codecs=e.codecs.map((e=>e?nS.toJSON(e):void 0)):t.codecs=[],void 0!==e.stereo&&(t.stereo=e.stereo),void 0!==e.disableRed&&(t.disableRed=e.disableRed),void 0!==e.encryption&&(t.encryption=J_(e.encryption)),t},create:e=>oS.fromPartial(null!=e?e:{}),fromPartial(e){var t,r,n,o,i,a,s,c,l,u,d,p,f,h,m,y;const g={sid:"",type:0,name:"",muted:!1,width:0,height:0,simulcast:!1,disableDtx:!1,source:0,layers:[],mimeType:"",mid:"",codecs:[],stereo:!1,disableRed:!1,encryption:0};return g.sid=null!==(t=e.sid)&&void 0!==t?t:"",g.type=null!==(r=e.type)&&void 0!==r?r:0,g.name=null!==(n=e.name)&&void 0!==n?n:"",g.muted=null!==(o=e.muted)&&void 0!==o&&o,g.width=null!==(i=e.width)&&void 0!==i?i:0,g.height=null!==(a=e.height)&&void 0!==a?a:0,g.simulcast=null!==(s=e.simulcast)&&void 0!==s&&s,g.disableDtx=null!==(c=e.disableDtx)&&void 0!==c&&c,g.source=null!==(l=e.source)&&void 0!==l?l:0,g.layers=(null===(u=e.layers)||void 0===u?void 0:u.map((e=>iS.fromPartial(e))))||[],g.mimeType=null!==(d=e.mimeType)&&void 0!==d?d:"",g.mid=null!==(p=e.mid)&&void 0!==p?p:"",g.codecs=(null===(f=e.codecs)||void 0===f?void 0:f.map((e=>nS.fromPartial(e))))||[],g.stereo=null!==(h=e.stereo)&&void 0!==h&&h,g.disableRed=null!==(m=e.disableRed)&&void 0!==m&&m,g.encryption=null!==(y=e.encryption)&&void 0!==y?y:0,g}},iS={encode(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:D_.Writer.create();return 0!==e.quality&&t.uint32(8).int32(e.quality),0!==e.width&&t.uint32(16).uint32(e.width),0!==e.height&&t.uint32(24).uint32(e.height),0!==e.bitrate&&t.uint32(32).uint32(e.bitrate),0!==e.ssrc&&t.uint32(40).uint32(e.ssrc),t},decode(e,t){const r=e instanceof D_.Reader?e:D_.Reader.create(e);let n=void 0===t?r.len:r.pos+t;const o={quality:0,width:0,height:0,bitrate:0,ssrc:0};for(;r.pos<n;){const e=r.uint32();switch(e>>>3){case 1:if(8!=e)break;o.quality=r.int32();continue;case 2:if(16!=e)break;o.width=r.uint32();continue;case 3:if(24!=e)break;o.height=r.uint32();continue;case 4:if(32!=e)break;o.bitrate=r.uint32();continue;case 5:if(40!=e)break;o.ssrc=r.uint32();continue}if(4==(7&e)||0==e)break;r.skipType(7&e)}return o},fromJSON:e=>({quality:kS(e.quality)?F_(e.quality):0,width:kS(e.width)?Number(e.width):0,height:kS(e.height)?Number(e.height):0,bitrate:kS(e.bitrate)?Number(e.bitrate):0,ssrc:kS(e.ssrc)?Number(e.ssrc):0}),toJSON(e){const t={};return void 0!==e.quality&&(t.quality=q_(e.quality)),void 0!==e.width&&(t.width=Math.round(e.width)),void 0!==e.height&&(t.height=Math.round(e.height)),void 0!==e.bitrate&&(t.bitrate=Math.round(e.bitrate)),void 0!==e.ssrc&&(t.ssrc=Math.round(e.ssrc)),t},create:e=>iS.fromPartial(null!=e?e:{}),fromPartial(e){var t,r,n,o,i;const a={quality:0,width:0,height:0,bitrate:0,ssrc:0};return a.quality=null!==(t=e.quality)&&void 0!==t?t:0,a.width=null!==(r=e.width)&&void 0!==r?r:0,a.height=null!==(n=e.height)&&void 0!==n?n:0,a.bitrate=null!==(o=e.bitrate)&&void 0!==o?o:0,a.ssrc=null!==(i=e.ssrc)&&void 0!==i?i:0,a}},aS={encode(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:D_.Writer.create();var r;switch(0!==e.kind&&t.uint32(8).int32(e.kind),null===(r=e.value)||void 0===r?void 0:r.$case){case"user":uS.encode(e.value.user,t.uint32(18).fork()).ldelim();break;case"speaker":sS.encode(e.value.speaker,t.uint32(26).fork()).ldelim()}return t},decode(e,t){const r=e instanceof D_.Reader?e:D_.Reader.create(e);let n=void 0===t?r.len:r.pos+t;const o={kind:0,value:void 0};for(;r.pos<n;){const e=r.uint32();switch(e>>>3){case 1:if(8!=e)break;o.kind=r.int32();continue;case 2:if(18!=e)break;o.value={$case:"user",user:uS.decode(r,r.uint32())};continue;case 3:if(26!=e)break;o.value={$case:"speaker",speaker:sS.decode(r,r.uint32())};continue}if(4==(7&e)||0==e)break;r.skipType(7&e)}return o},fromJSON:e=>({kind:kS(e.kind)?K_(e.kind):0,value:kS(e.user)?{$case:"user",user:uS.fromJSON(e.user)}:kS(e.speaker)?{$case:"speaker",speaker:sS.fromJSON(e.speaker)}:void 0}),toJSON(e){var t,r,n,o,i,a;const s={};return void 0!==e.kind&&(s.kind=function(e){switch(e){case z_.RELIABLE:return"RELIABLE";case z_.LOSSY:return"LOSSY";case z_.UNRECOGNIZED:default:return"UNRECOGNIZED"}}(e.kind)),"user"===(null===(t=e.value)||void 0===t?void 0:t.$case)&&(s.user=(null===(r=e.value)||void 0===r?void 0:r.user)?uS.toJSON(null===(n=e.value)||void 0===n?void 0:n.user):void 0),"speaker"===(null===(o=e.value)||void 0===o?void 0:o.$case)&&(s.speaker=(null===(i=e.value)||void 0===i?void 0:i.speaker)?sS.toJSON(null===(a=e.value)||void 0===a?void 0:a.speaker):void 0),s},create:e=>aS.fromPartial(null!=e?e:{}),fromPartial(e){var t,r,n,o,i,a,s;const c={kind:0,value:void 0};return c.kind=null!==(t=e.kind)&&void 0!==t?t:0,"user"===(null===(r=e.value)||void 0===r?void 0:r.$case)&&void 0!==(null===(n=e.value)||void 0===n?void 0:n.user)&&null!==(null===(o=e.value)||void 0===o?void 0:o.user)&&(c.value={$case:"user",user:uS.fromPartial(e.value.user)}),"speaker"===(null===(i=e.value)||void 0===i?void 0:i.$case)&&void 0!==(null===(a=e.value)||void 0===a?void 0:a.speaker)&&null!==(null===(s=e.value)||void 0===s?void 0:s.speaker)&&(c.value={$case:"speaker",speaker:sS.fromPartial(e.value.speaker)}),c}},sS={encode(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:D_.Writer.create();for(const r of e.speakers)cS.encode(r,t.uint32(10).fork()).ldelim();return t},decode(e,t){const r=e instanceof D_.Reader?e:D_.Reader.create(e);let n=void 0===t?r.len:r.pos+t;const o={speakers:[]};for(;r.pos<n;){const e=r.uint32();switch(e>>>3){case 1:if(10!=e)break;o.speakers.push(cS.decode(r,r.uint32()));continue}if(4==(7&e)||0==e)break;r.skipType(7&e)}return o},fromJSON:e=>({speakers:Array.isArray(null==e?void 0:e.speakers)?e.speakers.map((e=>cS.fromJSON(e))):[]}),toJSON(e){const t={};return e.speakers?t.speakers=e.speakers.map((e=>e?cS.toJSON(e):void 0)):t.speakers=[],t},create:e=>sS.fromPartial(null!=e?e:{}),fromPartial(e){var t;const r={speakers:[]};return r.speakers=(null===(t=e.speakers)||void 0===t?void 0:t.map((e=>cS.fromPartial(e))))||[],r}},cS={encode(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:D_.Writer.create();return""!==e.sid&&t.uint32(10).string(e.sid),0!==e.level&&t.uint32(21).float(e.level),!0===e.active&&t.uint32(24).bool(e.active),t},decode(e,t){const r=e instanceof D_.Reader?e:D_.Reader.create(e);let n=void 0===t?r.len:r.pos+t;const o={sid:"",level:0,active:!1};for(;r.pos<n;){const e=r.uint32();switch(e>>>3){case 1:if(10!=e)break;o.sid=r.string();continue;case 2:if(21!=e)break;o.level=r.float();continue;case 3:if(24!=e)break;o.active=r.bool();continue}if(4==(7&e)||0==e)break;r.skipType(7&e)}return o},fromJSON:e=>({sid:kS(e.sid)?String(e.sid):"",level:kS(e.level)?Number(e.level):0,active:!!kS(e.active)&&Boolean(e.active)}),toJSON(e){const t={};return void 0!==e.sid&&(t.sid=e.sid),void 0!==e.level&&(t.level=e.level),void 0!==e.active&&(t.active=e.active),t},create:e=>cS.fromPartial(null!=e?e:{}),fromPartial(e){var t,r,n;const o={sid:"",level:0,active:!1};return o.sid=null!==(t=e.sid)&&void 0!==t?t:"",o.level=null!==(r=e.level)&&void 0!==r?r:0,o.active=null!==(n=e.active)&&void 0!==n&&n,o}};function lS(){return{participantSid:"",payload:new Uint8Array,destinationSids:[],topic:void 0}}const uS={encode(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:D_.Writer.create();""!==e.participantSid&&t.uint32(10).string(e.participantSid),0!==e.payload.length&&t.uint32(18).bytes(e.payload);for(const r of e.destinationSids)t.uint32(26).string(r);return void 0!==e.topic&&t.uint32(34).string(e.topic),t},decode(e,t){const r=e instanceof D_.Reader?e:D_.Reader.create(e);let n=void 0===t?r.len:r.pos+t;const o=lS();for(;r.pos<n;){const e=r.uint32();switch(e>>>3){case 1:if(10!=e)break;o.participantSid=r.string();continue;case 2:if(18!=e)break;o.payload=r.bytes();continue;case 3:if(26!=e)break;o.destinationSids.push(r.string());continue;case 4:if(34!=e)break;o.topic=r.string();continue}if(4==(7&e)||0==e)break;r.skipType(7&e)}return o},fromJSON:e=>({participantSid:kS(e.participantSid)?String(e.participantSid):"",payload:kS(e.payload)?bS(e.payload):new Uint8Array,destinationSids:Array.isArray(null==e?void 0:e.destinationSids)?e.destinationSids.map((e=>String(e))):[],topic:kS(e.topic)?String(e.topic):void 0}),toJSON(e){const t={};return void 0!==e.participantSid&&(t.participantSid=e.participantSid),void 0!==e.payload&&(t.payload=function(e){if(gS.Buffer)return gS.Buffer.from(e).toString("base64");{const t=[];return e.forEach((e=>{t.push(String.fromCharCode(e))})),gS.btoa(t.join(""))}}(void 0!==e.payload?e.payload:new Uint8Array)),e.destinationSids?t.destinationSids=e.destinationSids.map((e=>e)):t.destinationSids=[],void 0!==e.topic&&(t.topic=e.topic),t},create:e=>uS.fromPartial(null!=e?e:{}),fromPartial(e){var t,r,n,o;const i=lS();return i.participantSid=null!==(t=e.participantSid)&&void 0!==t?t:"",i.payload=null!==(r=e.payload)&&void 0!==r?r:new Uint8Array,i.destinationSids=(null===(n=e.destinationSids)||void 0===n?void 0:n.map((e=>e)))||[],i.topic=null!==(o=e.topic)&&void 0!==o?o:void 0,i}},dS={encode(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:D_.Writer.create();""!==e.participantSid&&t.uint32(10).string(e.participantSid);for(const r of e.trackSids)t.uint32(18).string(r);return t},decode(e,t){const r=e instanceof D_.Reader?e:D_.Reader.create(e);let n=void 0===t?r.len:r.pos+t;const o={participantSid:"",trackSids:[]};for(;r.pos<n;){const e=r.uint32();switch(e>>>3){case 1:if(10!=e)break;o.participantSid=r.string();continue;case 2:if(18!=e)break;o.trackSids.push(r.string());continue}if(4==(7&e)||0==e)break;r.skipType(7&e)}return o},fromJSON:e=>({participantSid:kS(e.participantSid)?String(e.participantSid):"",trackSids:Array.isArray(null==e?void 0:e.trackSids)?e.trackSids.map((e=>String(e))):[]}),toJSON(e){const t={};return void 0!==e.participantSid&&(t.participantSid=e.participantSid),e.trackSids?t.trackSids=e.trackSids.map((e=>e)):t.trackSids=[],t},create:e=>dS.fromPartial(null!=e?e:{}),fromPartial(e){var t,r;const n={participantSid:"",trackSids:[]};return n.participantSid=null!==(t=e.participantSid)&&void 0!==t?t:"",n.trackSids=(null===(r=e.trackSids)||void 0===r?void 0:r.map((e=>e)))||[],n}},pS={encode(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:D_.Writer.create();return 0!==e.edition&&t.uint32(8).int32(e.edition),""!==e.version&&t.uint32(18).string(e.version),0!==e.protocol&&t.uint32(24).int32(e.protocol),""!==e.region&&t.uint32(34).string(e.region),""!==e.nodeId&&t.uint32(42).string(e.nodeId),""!==e.debugInfo&&t.uint32(50).string(e.debugInfo),t},decode(e,t){const r=e instanceof D_.Reader?e:D_.Reader.create(e);let n=void 0===t?r.len:r.pos+t;const o={edition:0,version:"",protocol:0,region:"",nodeId:"",debugInfo:""};for(;r.pos<n;){const e=r.uint32();switch(e>>>3){case 1:if(8!=e)break;o.edition=r.int32();continue;case 2:if(18!=e)break;o.version=r.string();continue;case 3:if(24!=e)break;o.protocol=r.int32();continue;case 4:if(34!=e)break;o.region=r.string();continue;case 5:if(42!=e)break;o.nodeId=r.string();continue;case 6:if(50!=e)break;o.debugInfo=r.string();continue}if(4==(7&e)||0==e)break;r.skipType(7&e)}return o},fromJSON:e=>({edition:kS(e.edition)?Y_(e.edition):0,version:kS(e.version)?String(e.version):"",protocol:kS(e.protocol)?Number(e.protocol):0,region:kS(e.region)?String(e.region):"",nodeId:kS(e.nodeId)?String(e.nodeId):"",debugInfo:kS(e.debugInfo)?String(e.debugInfo):""}),toJSON(e){const t={};return void 0!==e.edition&&(t.edition=function(e){switch(e){case I_.Standard:return"Standard";case I_.Cloud:return"Cloud";case I_.UNRECOGNIZED:default:return"UNRECOGNIZED"}}(e.edition)),void 0!==e.version&&(t.version=e.version),void 0!==e.protocol&&(t.protocol=Math.round(e.protocol)),void 0!==e.region&&(t.region=e.region),void 0!==e.nodeId&&(t.nodeId=e.nodeId),void 0!==e.debugInfo&&(t.debugInfo=e.debugInfo),t},create:e=>pS.fromPartial(null!=e?e:{}),fromPartial(e){var t,r,n,o,i,a;const s={edition:0,version:"",protocol:0,region:"",nodeId:"",debugInfo:""};return s.edition=null!==(t=e.edition)&&void 0!==t?t:0,s.version=null!==(r=e.version)&&void 0!==r?r:"",s.protocol=null!==(n=e.protocol)&&void 0!==n?n:0,s.region=null!==(o=e.region)&&void 0!==o?o:"",s.nodeId=null!==(i=e.nodeId)&&void 0!==i?i:"",s.debugInfo=null!==(a=e.debugInfo)&&void 0!==a?a:"",s}},fS={encode(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:D_.Writer.create();return 0!==e.sdk&&t.uint32(8).int32(e.sdk),""!==e.version&&t.uint32(18).string(e.version),0!==e.protocol&&t.uint32(24).int32(e.protocol),""!==e.os&&t.uint32(34).string(e.os),""!==e.osVersion&&t.uint32(42).string(e.osVersion),""!==e.deviceModel&&t.uint32(50).string(e.deviceModel),""!==e.browser&&t.uint32(58).string(e.browser),""!==e.browserVersion&&t.uint32(66).string(e.browserVersion),""!==e.address&&t.uint32(74).string(e.address),""!==e.network&&t.uint32(82).string(e.network),t},decode(e,t){const r=e instanceof D_.Reader?e:D_.Reader.create(e);let n=void 0===t?r.len:r.pos+t;const o={sdk:0,version:"",protocol:0,os:"",osVersion:"",deviceModel:"",browser:"",browserVersion:"",address:"",network:""};for(;r.pos<n;){const e=r.uint32();switch(e>>>3){case 1:if(8!=e)break;o.sdk=r.int32();continue;case 2:if(18!=e)break;o.version=r.string();continue;case 3:if(24!=e)break;o.protocol=r.int32();continue;case 4:if(34!=e)break;o.os=r.string();continue;case 5:if(42!=e)break;o.osVersion=r.string();continue;case 6:if(50!=e)break;o.deviceModel=r.string();continue;case 7:if(58!=e)break;o.browser=r.string();continue;case 8:if(66!=e)break;o.browserVersion=r.string();continue;case 9:if(74!=e)break;o.address=r.string();continue;case 10:if(82!=e)break;o.network=r.string();continue}if(4==(7&e)||0==e)break;r.skipType(7&e)}return o},fromJSON:e=>({sdk:kS(e.sdk)?X_(e.sdk):0,version:kS(e.version)?String(e.version):"",protocol:kS(e.protocol)?Number(e.protocol):0,os:kS(e.os)?String(e.os):"",osVersion:kS(e.osVersion)?String(e.osVersion):"",deviceModel:kS(e.deviceModel)?String(e.deviceModel):"",browser:kS(e.browser)?String(e.browser):"",browserVersion:kS(e.browserVersion)?String(e.browserVersion):"",address:kS(e.address)?String(e.address):"",network:kS(e.network)?String(e.network):""}),toJSON(e){const t={};return void 0!==e.sdk&&(t.sdk=function(e){switch(e){case A_.UNKNOWN:return"UNKNOWN";case A_.JS:return"JS";case A_.SWIFT:return"SWIFT";case A_.ANDROID:return"ANDROID";case A_.FLUTTER:return"FLUTTER";case A_.GO:return"GO";case A_.UNITY:return"UNITY";case A_.REACT_NATIVE:return"REACT_NATIVE";case A_.RUST:return"RUST";case A_.UNRECOGNIZED:default:return"UNRECOGNIZED"}}(e.sdk)),void 0!==e.version&&(t.version=e.version),void 0!==e.protocol&&(t.protocol=Math.round(e.protocol)),void 0!==e.os&&(t.os=e.os),void 0!==e.osVersion&&(t.osVersion=e.osVersion),void 0!==e.deviceModel&&(t.deviceModel=e.deviceModel),void 0!==e.browser&&(t.browser=e.browser),void 0!==e.browserVersion&&(t.browserVersion=e.browserVersion),void 0!==e.address&&(t.address=e.address),void 0!==e.network&&(t.network=e.network),t},create:e=>fS.fromPartial(null!=e?e:{}),fromPartial(e){var t,r,n,o,i,a,s,c,l,u;const d={sdk:0,version:"",protocol:0,os:"",osVersion:"",deviceModel:"",browser:"",browserVersion:"",address:"",network:""};return d.sdk=null!==(t=e.sdk)&&void 0!==t?t:0,d.version=null!==(r=e.version)&&void 0!==r?r:"",d.protocol=null!==(n=e.protocol)&&void 0!==n?n:0,d.os=null!==(o=e.os)&&void 0!==o?o:"",d.osVersion=null!==(i=e.osVersion)&&void 0!==i?i:"",d.deviceModel=null!==(a=e.deviceModel)&&void 0!==a?a:"",d.browser=null!==(s=e.browser)&&void 0!==s?s:"",d.browserVersion=null!==(c=e.browserVersion)&&void 0!==c?c:"",d.address=null!==(l=e.address)&&void 0!==l?l:"",d.network=null!==(u=e.network)&&void 0!==u?u:"",d}},hS={encode(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:D_.Writer.create();return void 0!==e.video&&mS.encode(e.video,t.uint32(10).fork()).ldelim(),void 0!==e.screen&&mS.encode(e.screen,t.uint32(18).fork()).ldelim(),0!==e.resumeConnection&&t.uint32(24).int32(e.resumeConnection),void 0!==e.disabledCodecs&&yS.encode(e.disabledCodecs,t.uint32(34).fork()).ldelim(),0!==e.forceRelay&&t.uint32(40).int32(e.forceRelay),t},decode(e,t){const r=e instanceof D_.Reader?e:D_.Reader.create(e);let n=void 0===t?r.len:r.pos+t;const o={video:void 0,screen:void 0,resumeConnection:0,disabledCodecs:void 0,forceRelay:0};for(;r.pos<n;){const e=r.uint32();switch(e>>>3){case 1:if(10!=e)break;o.video=mS.decode(r,r.uint32());continue;case 2:if(18!=e)break;o.screen=mS.decode(r,r.uint32());continue;case 3:if(24!=e)break;o.resumeConnection=r.int32();continue;case 4:if(34!=e)break;o.disabledCodecs=yS.decode(r,r.uint32());continue;case 5:if(40!=e)break;o.forceRelay=r.int32();continue}if(4==(7&e)||0==e)break;r.skipType(7&e)}return o},fromJSON:e=>({video:kS(e.video)?mS.fromJSON(e.video):void 0,screen:kS(e.screen)?mS.fromJSON(e.screen):void 0,resumeConnection:kS(e.resumeConnection)?Z_(e.resumeConnection):0,disabledCodecs:kS(e.disabledCodecs)?yS.fromJSON(e.disabledCodecs):void 0,forceRelay:kS(e.forceRelay)?Z_(e.forceRelay):0}),toJSON(e){const t={};return void 0!==e.video&&(t.video=e.video?mS.toJSON(e.video):void 0),void 0!==e.screen&&(t.screen=e.screen?mS.toJSON(e.screen):void 0),void 0!==e.resumeConnection&&(t.resumeConnection=H_(e.resumeConnection)),void 0!==e.disabledCodecs&&(t.disabledCodecs=e.disabledCodecs?yS.toJSON(e.disabledCodecs):void 0),void 0!==e.forceRelay&&(t.forceRelay=H_(e.forceRelay)),t},create:e=>hS.fromPartial(null!=e?e:{}),fromPartial(e){var t,r;const n={video:void 0,screen:void 0,resumeConnection:0,disabledCodecs:void 0,forceRelay:0};return n.video=void 0!==e.video&&null!==e.video?mS.fromPartial(e.video):void 0,n.screen=void 0!==e.screen&&null!==e.screen?mS.fromPartial(e.screen):void 0,n.resumeConnection=null!==(t=e.resumeConnection)&&void 0!==t?t:0,n.disabledCodecs=void 0!==e.disabledCodecs&&null!==e.disabledCodecs?yS.fromPartial(e.disabledCodecs):void 0,n.forceRelay=null!==(r=e.forceRelay)&&void 0!==r?r:0,n}},mS={encode(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:D_.Writer.create();return 0!==e.hardwareEncoder&&t.uint32(8).int32(e.hardwareEncoder),t},decode(e,t){const r=e instanceof D_.Reader?e:D_.Reader.create(e);let n=void 0===t?r.len:r.pos+t;const o={hardwareEncoder:0};for(;r.pos<n;){const e=r.uint32();switch(e>>>3){case 1:if(8!=e)break;o.hardwareEncoder=r.int32();continue}if(4==(7&e)||0==e)break;r.skipType(7&e)}return o},fromJSON:e=>({hardwareEncoder:kS(e.hardwareEncoder)?Z_(e.hardwareEncoder):0}),toJSON(e){const t={};return void 0!==e.hardwareEncoder&&(t.hardwareEncoder=H_(e.hardwareEncoder)),t},create:e=>mS.fromPartial(null!=e?e:{}),fromPartial(e){var t;const r={hardwareEncoder:0};return r.hardwareEncoder=null!==(t=e.hardwareEncoder)&&void 0!==t?t:0,r}},yS={encode(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:D_.Writer.create();for(const r of e.codecs)eS.encode(r,t.uint32(10).fork()).ldelim();return t},decode(e,t){const r=e instanceof D_.Reader?e:D_.Reader.create(e);let n=void 0===t?r.len:r.pos+t;const o={codecs:[]};for(;r.pos<n;){const e=r.uint32();switch(e>>>3){case 1:if(10!=e)break;o.codecs.push(eS.decode(r,r.uint32()));continue}if(4==(7&e)||0==e)break;r.skipType(7&e)}return o},fromJSON:e=>({codecs:Array.isArray(null==e?void 0:e.codecs)?e.codecs.map((e=>eS.fromJSON(e))):[]}),toJSON(e){const t={};return e.codecs?t.codecs=e.codecs.map((e=>e?eS.toJSON(e):void 0)):t.codecs=[],t},create:e=>yS.fromPartial(null!=e?e:{}),fromPartial(e){var t;const r={codecs:[]};return r.codecs=(null===(t=e.codecs)||void 0===t?void 0:t.map((e=>eS.fromPartial(e))))||[],r}};var gS=(()=>{if("undefined"!=typeof globalThis)return globalThis;if("undefined"!=typeof self)return self;if("undefined"!=typeof window)return window;if("undefined"!=typeof global)return global;throw"Unable to locate global object"})();function bS(e){if(gS.Buffer)return Uint8Array.from(gS.Buffer.from(e,"base64"));{const t=gS.atob(e),r=new Uint8Array(t.length);for(let e=0;e<t.length;++e)r[e]=t.charCodeAt(e);return r}}function vS(e){if(e.gt(Number.MAX_SAFE_INTEGER))throw new gS.Error("Value is larger than Number.MAX_SAFE_INTEGER");return e.toNumber()}function kS(e){return null!=e}D_.util.Long!==Cw&&(D_.util.Long=Cw,D_.configure());const wS=7e3,_S=[0,300,1200,2700,4800,wS,wS,wS,wS,wS];function SS(e){var t,r,n,o=2;for("undefined"!=typeof Symbol&&(r=Symbol.asyncIterator,n=Symbol.iterator);o--;){if(r&&null!=(t=e[r]))return t.call(e);if(n&&null!=(t=e[n]))return new OS(t.call(e));r="@@asyncIterator",n="@@iterator"}throw new TypeError("Object is not async iterable")}function OS(e){function t(e){if(Object(e)!==e)return Promise.reject(new TypeError(e+" is not an object."));var t=e.done;return Promise.resolve(e.value).then((function(e){return{value:e,done:t}}))}return OS=function(e){this.s=e,this.n=e.next},OS.prototype={s:null,n:null,next:function(){return t(this.n.apply(this.s,arguments))},return:function(e){var r=this.s.return;return void 0===r?Promise.resolve({value:e,done:!0}):t(r.apply(this.s,arguments))},throw:function(e){var r=this.s.return;return void 0===r?Promise.reject(e):t(r.apply(this.s,arguments))}},new OS(e)}function PS(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function ES(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?PS(Object(r),!0).forEach((function(t){CS(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):PS(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function CS(e,t,r){return(t=function(e){var t=function(e,t){if("object"!=typeof e||null===e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,"string");if("object"!=typeof n)return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"==typeof t?t:String(t)}(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}let xS=!0,jS=!0;function TS(e,t,r){const n=e.match(t);return n&&n.length>=r&&parseInt(n[r],10)}function RS(e,t,r){if(!e.RTCPeerConnection)return;const n=e.RTCPeerConnection.prototype,o=n.addEventListener;n.addEventListener=function(e,n){if(e!==t)return o.apply(this,arguments);const i=e=>{const t=r(e);t&&(n.handleEvent?n.handleEvent(t):n(t))};return this._eventMap=this._eventMap||{},this._eventMap[t]||(this._eventMap[t]=new Map),this._eventMap[t].set(n,i),o.apply(this,[e,i])};const i=n.removeEventListener;n.removeEventListener=function(e,r){if(e!==t||!this._eventMap||!this._eventMap[t])return i.apply(this,arguments);if(!this._eventMap[t].has(r))return i.apply(this,arguments);const n=this._eventMap[t].get(r);return this._eventMap[t].delete(r),0===this._eventMap[t].size&&delete this._eventMap[t],0===Object.keys(this._eventMap).length&&delete this._eventMap,i.apply(this,[e,n])},Object.defineProperty(n,"on"+t,{get(){return this["_on"+t]},set(e){this["_on"+t]&&(this.removeEventListener(t,this["_on"+t]),delete this["_on"+t]),e&&this.addEventListener(t,this["_on"+t]=e)},enumerable:!0,configurable:!0})}function zS(e){return"boolean"!=typeof e?new Error("Argument type: "+typeof e+". Please use a boolean."):(xS=e,e?"adapter.js logging disabled":"adapter.js logging enabled")}function IS(e){return"boolean"!=typeof e?new Error("Argument type: "+typeof e+". Please use a boolean."):(jS=!e,"adapter.js deprecation warnings "+(e?"disabled":"enabled"))}function AS(){if("object"==typeof window){if(xS)return;"undefined"!=typeof console&&"function"==typeof console.log&&console.log.apply(console,arguments)}}function MS(e,t){jS&&console.warn(e+" is deprecated, please use "+t+" instead.")}function DS(e){return"[object Object]"===Object.prototype.toString.call(e)}function NS(e){return DS(e)?Object.keys(e).reduce((function(t,r){const n=DS(e[r]),o=n?NS(e[r]):e[r],i=n&&!Object.keys(o).length;return void 0===o||i?t:Object.assign(t,{[r]:o})}),{}):e}function LS(e,t,r){t&&!r.has(t.id)&&(r.set(t.id,t),Object.keys(t).forEach((n=>{n.endsWith("Id")?LS(e,e.get(t[n]),r):n.endsWith("Ids")&&t[n].forEach((t=>{LS(e,e.get(t),r)}))})))}function US(e,t,r){const n=r?"outbound-rtp":"inbound-rtp",o=new Map;if(null===t)return o;const i=[];return e.forEach((e=>{"track"===e.type&&e.trackIdentifier===t.id&&i.push(e)})),i.forEach((t=>{e.forEach((r=>{r.type===n&&r.trackId===t.id&&LS(e,r,o)}))})),o}const BS=AS;function FS(e,t){const r=e&&e.navigator;if(!r.mediaDevices)return;const n=function(e){if("object"!=typeof e||e.mandatory||e.optional)return e;const t={};return Object.keys(e).forEach((r=>{if("require"===r||"advanced"===r||"mediaSource"===r)return;const n="object"==typeof e[r]?e[r]:{ideal:e[r]};void 0!==n.exact&&"number"==typeof n.exact&&(n.min=n.max=n.exact);const o=function(e,t){return e?e+t.charAt(0).toUpperCase()+t.slice(1):"deviceId"===t?"sourceId":t};if(void 0!==n.ideal){t.optional=t.optional||[];let e={};"number"==typeof n.ideal?(e[o("min",r)]=n.ideal,t.optional.push(e),e={},e[o("max",r)]=n.ideal,t.optional.push(e)):(e[o("",r)]=n.ideal,t.optional.push(e))}void 0!==n.exact&&"number"!=typeof n.exact?(t.mandatory=t.mandatory||{},t.mandatory[o("",r)]=n.exact):["min","max"].forEach((e=>{void 0!==n[e]&&(t.mandatory=t.mandatory||{},t.mandatory[o(e,r)]=n[e])}))})),e.advanced&&(t.optional=(t.optional||[]).concat(e.advanced)),t},o=function(e,o){if(t.version>=61)return o(e);if((e=JSON.parse(JSON.stringify(e)))&&"object"==typeof e.audio){const t=function(e,t,r){t in e&&!(r in e)&&(e[r]=e[t],delete e[t])};t((e=JSON.parse(JSON.stringify(e))).audio,"autoGainControl","googAutoGainControl"),t(e.audio,"noiseSuppression","googNoiseSuppression"),e.audio=n(e.audio)}if(e&&"object"==typeof e.video){let i=e.video.facingMode;i=i&&("object"==typeof i?i:{ideal:i});const a=t.version<66;if(i&&("user"===i.exact||"environment"===i.exact||"user"===i.ideal||"environment"===i.ideal)&&(!r.mediaDevices.getSupportedConstraints||!r.mediaDevices.getSupportedConstraints().facingMode||a)){let t;if(delete e.video.facingMode,"environment"===i.exact||"environment"===i.ideal?t=["back","rear"]:"user"!==i.exact&&"user"!==i.ideal||(t=["front"]),t)return r.mediaDevices.enumerateDevices().then((r=>{let a=(r=r.filter((e=>"videoinput"===e.kind))).find((e=>t.some((t=>e.label.toLowerCase().includes(t)))));return!a&&r.length&&t.includes("back")&&(a=r[r.length-1]),a&&(e.video.deviceId=i.exact?{exact:a.deviceId}:{ideal:a.deviceId}),e.video=n(e.video),BS("chrome: "+JSON.stringify(e)),o(e)}))}e.video=n(e.video)}return BS("chrome: "+JSON.stringify(e)),o(e)},i=function(e){return t.version>=64?e:{name:{PermissionDeniedError:"NotAllowedError",PermissionDismissedError:"NotAllowedError",InvalidStateError:"NotAllowedError",DevicesNotFoundError:"NotFoundError",ConstraintNotSatisfiedError:"OverconstrainedError",TrackStartError:"NotReadableError",MediaDeviceFailedDueToShutdown:"NotAllowedError",MediaDeviceKillSwitchOn:"NotAllowedError",TabCaptureError:"AbortError",ScreenCaptureError:"AbortError",DeviceCaptureError:"AbortError"}[e.name]||e.name,message:e.message,constraint:e.constraint||e.constraintName,toString(){return this.name+(this.message&&": ")+this.message}}};if(r.getUserMedia=function(e,t,n){o(e,(e=>{r.webkitGetUserMedia(e,t,(e=>{n&&n(i(e))}))}))}.bind(r),r.mediaDevices.getUserMedia){const e=r.mediaDevices.getUserMedia.bind(r.mediaDevices);r.mediaDevices.getUserMedia=function(t){return o(t,(t=>e(t).then((e=>{if(t.audio&&!e.getAudioTracks().length||t.video&&!e.getVideoTracks().length)throw e.getTracks().forEach((e=>{e.stop()})),new DOMException("","NotFoundError");return e}),(e=>Promise.reject(i(e))))))}}}function qS(e){e.MediaStream=e.MediaStream||e.webkitMediaStream}function WS(e){if("object"==typeof e&&e.RTCPeerConnection&&!("ontrack"in e.RTCPeerConnection.prototype)){Object.defineProperty(e.RTCPeerConnection.prototype,"ontrack",{get(){return this._ontrack},set(e){this._ontrack&&this.removeEventListener("track",this._ontrack),this.addEventListener("track",this._ontrack=e)},enumerable:!0,configurable:!0});const t=e.RTCPeerConnection.prototype.setRemoteDescription;e.RTCPeerConnection.prototype.setRemoteDescription=function(){return this._ontrackpoly||(this._ontrackpoly=t=>{t.stream.addEventListener("addtrack",(r=>{let n;n=e.RTCPeerConnection.prototype.getReceivers?this.getReceivers().find((e=>e.track&&e.track.id===r.track.id)):{track:r.track};const o=new Event("track");o.track=r.track,o.receiver=n,o.transceiver={receiver:n},o.streams=[t.stream],this.dispatchEvent(o)})),t.stream.getTracks().forEach((r=>{let n;n=e.RTCPeerConnection.prototype.getReceivers?this.getReceivers().find((e=>e.track&&e.track.id===r.id)):{track:r};const o=new Event("track");o.track=r,o.receiver=n,o.transceiver={receiver:n},o.streams=[t.stream],this.dispatchEvent(o)}))},this.addEventListener("addstream",this._ontrackpoly)),t.apply(this,arguments)}}else RS(e,"track",(e=>(e.transceiver||Object.defineProperty(e,"transceiver",{value:{receiver:e.receiver}}),e)))}function ZS(e){if("object"==typeof e&&e.RTCPeerConnection&&!("getSenders"in e.RTCPeerConnection.prototype)&&"createDTMFSender"in e.RTCPeerConnection.prototype){const t=function(e,t){return{track:t,get dtmf(){return void 0===this._dtmf&&("audio"===t.kind?this._dtmf=e.createDTMFSender(t):this._dtmf=null),this._dtmf},_pc:e}};if(!e.RTCPeerConnection.prototype.getSenders){e.RTCPeerConnection.prototype.getSenders=function(){return this._senders=this._senders||[],this._senders.slice()};const r=e.RTCPeerConnection.prototype.addTrack;e.RTCPeerConnection.prototype.addTrack=function(e,n){let o=r.apply(this,arguments);return o||(o=t(this,e),this._senders.push(o)),o};const n=e.RTCPeerConnection.prototype.removeTrack;e.RTCPeerConnection.prototype.removeTrack=function(e){n.apply(this,arguments);const t=this._senders.indexOf(e);-1!==t&&this._senders.splice(t,1)}}const r=e.RTCPeerConnection.prototype.addStream;e.RTCPeerConnection.prototype.addStream=function(e){this._senders=this._senders||[],r.apply(this,[e]),e.getTracks().forEach((e=>{this._senders.push(t(this,e))}))};const n=e.RTCPeerConnection.prototype.removeStream;e.RTCPeerConnection.prototype.removeStream=function(e){this._senders=this._senders||[],n.apply(this,[e]),e.getTracks().forEach((e=>{const t=this._senders.find((t=>t.track===e));t&&this._senders.splice(this._senders.indexOf(t),1)}))}}else if("object"==typeof e&&e.RTCPeerConnection&&"getSenders"in e.RTCPeerConnection.prototype&&"createDTMFSender"in e.RTCPeerConnection.prototype&&e.RTCRtpSender&&!("dtmf"in e.RTCRtpSender.prototype)){const t=e.RTCPeerConnection.prototype.getSenders;e.RTCPeerConnection.prototype.getSenders=function(){const e=t.apply(this,[]);return e.forEach((e=>e._pc=this)),e},Object.defineProperty(e.RTCRtpSender.prototype,"dtmf",{get(){return void 0===this._dtmf&&("audio"===this.track.kind?this._dtmf=this._pc.createDTMFSender(this.track):this._dtmf=null),this._dtmf}})}}function HS(e){if(!e.RTCPeerConnection)return;const t=e.RTCPeerConnection.prototype.getStats;e.RTCPeerConnection.prototype.getStats=function(){const[e,r,n]=arguments;if(arguments.length>0&&"function"==typeof e)return t.apply(this,arguments);if(0===t.length&&(0===arguments.length||"function"!=typeof e))return t.apply(this,[]);const o=function(e){const t={};return e.result().forEach((e=>{const r={id:e.id,timestamp:e.timestamp,type:{localcandidate:"local-candidate",remotecandidate:"remote-candidate"}[e.type]||e.type};e.names().forEach((t=>{r[t]=e.stat(t)})),t[r.id]=r})),t},i=function(e){return new Map(Object.keys(e).map((t=>[t,e[t]])))};if(arguments.length>=2){const n=function(e){r(i(o(e)))};return t.apply(this,[n,e])}return new Promise(((e,r)=>{t.apply(this,[function(t){e(i(o(t)))},r])})).then(r,n)}}function $S(e){if(!("object"==typeof e&&e.RTCPeerConnection&&e.RTCRtpSender&&e.RTCRtpReceiver))return;if(!("getStats"in e.RTCRtpSender.prototype)){const t=e.RTCPeerConnection.prototype.getSenders;t&&(e.RTCPeerConnection.prototype.getSenders=function(){const e=t.apply(this,[]);return e.forEach((e=>e._pc=this)),e});const r=e.RTCPeerConnection.prototype.addTrack;r&&(e.RTCPeerConnection.prototype.addTrack=function(){const e=r.apply(this,arguments);return e._pc=this,e}),e.RTCRtpSender.prototype.getStats=function(){const e=this;return this._pc.getStats().then((t=>US(t,e.track,!0)))}}if(!("getStats"in e.RTCRtpReceiver.prototype)){const t=e.RTCPeerConnection.prototype.getReceivers;t&&(e.RTCPeerConnection.prototype.getReceivers=function(){const e=t.apply(this,[]);return e.forEach((e=>e._pc=this)),e}),RS(e,"track",(e=>(e.receiver._pc=e.srcElement,e))),e.RTCRtpReceiver.prototype.getStats=function(){const e=this;return this._pc.getStats().then((t=>US(t,e.track,!1)))}}if(!("getStats"in e.RTCRtpSender.prototype)||!("getStats"in e.RTCRtpReceiver.prototype))return;const t=e.RTCPeerConnection.prototype.getStats;e.RTCPeerConnection.prototype.getStats=function(){if(arguments.length>0&&arguments[0]instanceof e.MediaStreamTrack){const e=arguments[0];let t,r,n;return this.getSenders().forEach((r=>{r.track===e&&(t?n=!0:t=r)})),this.getReceivers().forEach((t=>(t.track===e&&(r?n=!0:r=t),t.track===e))),n||t&&r?Promise.reject(new DOMException("There are more than one sender or receiver for the track.","InvalidAccessError")):t?t.getStats():r?r.getStats():Promise.reject(new DOMException("There is no sender or receiver for the track.","InvalidAccessError"))}return t.apply(this,arguments)}}function VS(e){e.RTCPeerConnection.prototype.getLocalStreams=function(){return this._shimmedLocalStreams=this._shimmedLocalStreams||{},Object.keys(this._shimmedLocalStreams).map((e=>this._shimmedLocalStreams[e][0]))};const t=e.RTCPeerConnection.prototype.addTrack;e.RTCPeerConnection.prototype.addTrack=function(e,r){if(!r)return t.apply(this,arguments);this._shimmedLocalStreams=this._shimmedLocalStreams||{};const n=t.apply(this,arguments);return this._shimmedLocalStreams[r.id]?-1===this._shimmedLocalStreams[r.id].indexOf(n)&&this._shimmedLocalStreams[r.id].push(n):this._shimmedLocalStreams[r.id]=[r,n],n};const r=e.RTCPeerConnection.prototype.addStream;e.RTCPeerConnection.prototype.addStream=function(e){this._shimmedLocalStreams=this._shimmedLocalStreams||{},e.getTracks().forEach((e=>{const t=this.getSenders().find((t=>t.track===e));if(t)throw new DOMException("Track already exists.","InvalidAccessError")}));const t=this.getSenders();r.apply(this,arguments);const n=this.getSenders().filter((e=>-1===t.indexOf(e)));this._shimmedLocalStreams[e.id]=[e].concat(n)};const n=e.RTCPeerConnection.prototype.removeStream;e.RTCPeerConnection.prototype.removeStream=function(e){return this._shimmedLocalStreams=this._shimmedLocalStreams||{},delete this._shimmedLocalStreams[e.id],n.apply(this,arguments)};const o=e.RTCPeerConnection.prototype.removeTrack;e.RTCPeerConnection.prototype.removeTrack=function(e){return this._shimmedLocalStreams=this._shimmedLocalStreams||{},e&&Object.keys(this._shimmedLocalStreams).forEach((t=>{const r=this._shimmedLocalStreams[t].indexOf(e);-1!==r&&this._shimmedLocalStreams[t].splice(r,1),1===this._shimmedLocalStreams[t].length&&delete this._shimmedLocalStreams[t]})),o.apply(this,arguments)}}function GS(e,t){if(!e.RTCPeerConnection)return;if(e.RTCPeerConnection.prototype.addTrack&&t.version>=65)return VS(e);const r=e.RTCPeerConnection.prototype.getLocalStreams;e.RTCPeerConnection.prototype.getLocalStreams=function(){const e=r.apply(this);return this._reverseStreams=this._reverseStreams||{},e.map((e=>this._reverseStreams[e.id]))};const n=e.RTCPeerConnection.prototype.addStream;e.RTCPeerConnection.prototype.addStream=function(t){if(this._streams=this._streams||{},this._reverseStreams=this._reverseStreams||{},t.getTracks().forEach((e=>{const t=this.getSenders().find((t=>t.track===e));if(t)throw new DOMException("Track already exists.","InvalidAccessError")})),!this._reverseStreams[t.id]){const r=new e.MediaStream(t.getTracks());this._streams[t.id]=r,this._reverseStreams[r.id]=t,t=r}n.apply(this,[t])};const o=e.RTCPeerConnection.prototype.removeStream;function i(e,t){let r=t.sdp;return Object.keys(e._reverseStreams||[]).forEach((t=>{const n=e._reverseStreams[t],o=e._streams[n.id];r=r.replace(new RegExp(o.id,"g"),n.id)})),new RTCSessionDescription({type:t.type,sdp:r})}e.RTCPeerConnection.prototype.removeStream=function(e){this._streams=this._streams||{},this._reverseStreams=this._reverseStreams||{},o.apply(this,[this._streams[e.id]||e]),delete this._reverseStreams[this._streams[e.id]?this._streams[e.id].id:e.id],delete this._streams[e.id]},e.RTCPeerConnection.prototype.addTrack=function(t,r){if("closed"===this.signalingState)throw new DOMException("The RTCPeerConnection's signalingState is 'closed'.","InvalidStateError");const n=[].slice.call(arguments,1);if(1!==n.length||!n[0].getTracks().find((e=>e===t)))throw new DOMException("The adapter.js addTrack polyfill only supports a single  stream which is associated with the specified track.","NotSupportedError");const o=this.getSenders().find((e=>e.track===t));if(o)throw new DOMException("Track already exists.","InvalidAccessError");this._streams=this._streams||{},this._reverseStreams=this._reverseStreams||{};const i=this._streams[r.id];if(i)i.addTrack(t),Promise.resolve().then((()=>{this.dispatchEvent(new Event("negotiationneeded"))}));else{const n=new e.MediaStream([t]);this._streams[r.id]=n,this._reverseStreams[n.id]=r,this.addStream(n)}return this.getSenders().find((e=>e.track===t))},["createOffer","createAnswer"].forEach((function(t){const r=e.RTCPeerConnection.prototype[t],n={[t](){const e=arguments;return arguments.length&&"function"==typeof arguments[0]?r.apply(this,[t=>{const r=i(this,t);e[0].apply(null,[r])},t=>{e[1]&&e[1].apply(null,t)},arguments[2]]):r.apply(this,arguments).then((e=>i(this,e)))}};e.RTCPeerConnection.prototype[t]=n[t]}));const a=e.RTCPeerConnection.prototype.setLocalDescription;e.RTCPeerConnection.prototype.setLocalDescription=function(){return arguments.length&&arguments[0].type?(arguments[0]=function(e,t){let r=t.sdp;return Object.keys(e._reverseStreams||[]).forEach((t=>{const n=e._reverseStreams[t],o=e._streams[n.id];r=r.replace(new RegExp(n.id,"g"),o.id)})),new RTCSessionDescription({type:t.type,sdp:r})}(this,arguments[0]),a.apply(this,arguments)):a.apply(this,arguments)};const s=Object.getOwnPropertyDescriptor(e.RTCPeerConnection.prototype,"localDescription");Object.defineProperty(e.RTCPeerConnection.prototype,"localDescription",{get(){const e=s.get.apply(this);return""===e.type?e:i(this,e)}}),e.RTCPeerConnection.prototype.removeTrack=function(e){if("closed"===this.signalingState)throw new DOMException("The RTCPeerConnection's signalingState is 'closed'.","InvalidStateError");if(!e._pc)throw new DOMException("Argument 1 of RTCPeerConnection.removeTrack does not implement interface RTCRtpSender.","TypeError");if(e._pc!==this)throw new DOMException("Sender was not created by this connection.","InvalidAccessError");let t;this._streams=this._streams||{},Object.keys(this._streams).forEach((r=>{this._streams[r].getTracks().find((t=>e.track===t))&&(t=this._streams[r])})),t&&(1===t.getTracks().length?this.removeStream(this._reverseStreams[t.id]):t.removeTrack(e.track),this.dispatchEvent(new Event("negotiationneeded")))}}function JS(e,t){!e.RTCPeerConnection&&e.webkitRTCPeerConnection&&(e.RTCPeerConnection=e.webkitRTCPeerConnection),e.RTCPeerConnection&&t.version<53&&["setLocalDescription","setRemoteDescription","addIceCandidate"].forEach((function(t){const r=e.RTCPeerConnection.prototype[t],n={[t](){return arguments[0]=new("addIceCandidate"===t?e.RTCIceCandidate:e.RTCSessionDescription)(arguments[0]),r.apply(this,arguments)}};e.RTCPeerConnection.prototype[t]=n[t]}))}function KS(e,t){RS(e,"negotiationneeded",(e=>{const r=e.target;if(!(t.version<72||r.getConfiguration&&"plan-b"===r.getConfiguration().sdpSemantics)||"stable"===r.signalingState)return e}))}var YS=Object.freeze({__proto__:null,fixNegotiationNeeded:KS,shimAddTrackRemoveTrack:GS,shimAddTrackRemoveTrackWithNative:VS,shimGetDisplayMedia:function(e,t){e.navigator.mediaDevices&&"getDisplayMedia"in e.navigator.mediaDevices||e.navigator.mediaDevices&&("function"==typeof t?e.navigator.mediaDevices.getDisplayMedia=function(r){return t(r).then((t=>{const n=r.video&&r.video.width,o=r.video&&r.video.height,i=r.video&&r.video.frameRate;return r.video={mandatory:{chromeMediaSource:"desktop",chromeMediaSourceId:t,maxFrameRate:i||3}},n&&(r.video.mandatory.maxWidth=n),o&&(r.video.mandatory.maxHeight=o),e.navigator.mediaDevices.getUserMedia(r)}))}:console.error("shimGetDisplayMedia: getSourceId argument is not a function"))},shimGetSendersWithDtmf:ZS,shimGetStats:HS,shimGetUserMedia:FS,shimMediaStream:qS,shimOnTrack:WS,shimPeerConnection:JS,shimSenderReceiverGetStats:$S});function XS(e,t){const r=e&&e.navigator,n=e&&e.MediaStreamTrack;if(r.getUserMedia=function(e,t,n){MS("navigator.getUserMedia","navigator.mediaDevices.getUserMedia"),r.mediaDevices.getUserMedia(e).then(t,n)},!(t.version>55&&"autoGainControl"in r.mediaDevices.getSupportedConstraints())){const e=function(e,t,r){t in e&&!(r in e)&&(e[r]=e[t],delete e[t])},t=r.mediaDevices.getUserMedia.bind(r.mediaDevices);if(r.mediaDevices.getUserMedia=function(r){return"object"==typeof r&&"object"==typeof r.audio&&(r=JSON.parse(JSON.stringify(r)),e(r.audio,"autoGainControl","mozAutoGainControl"),e(r.audio,"noiseSuppression","mozNoiseSuppression")),t(r)},n&&n.prototype.getSettings){const t=n.prototype.getSettings;n.prototype.getSettings=function(){const r=t.apply(this,arguments);return e(r,"mozAutoGainControl","autoGainControl"),e(r,"mozNoiseSuppression","noiseSuppression"),r}}if(n&&n.prototype.applyConstraints){const t=n.prototype.applyConstraints;n.prototype.applyConstraints=function(r){return"audio"===this.kind&&"object"==typeof r&&(r=JSON.parse(JSON.stringify(r)),e(r,"autoGainControl","mozAutoGainControl"),e(r,"noiseSuppression","mozNoiseSuppression")),t.apply(this,[r])}}}}function QS(e){"object"==typeof e&&e.RTCTrackEvent&&"receiver"in e.RTCTrackEvent.prototype&&!("transceiver"in e.RTCTrackEvent.prototype)&&Object.defineProperty(e.RTCTrackEvent.prototype,"transceiver",{get(){return{receiver:this.receiver}}})}function eO(e,t){if("object"!=typeof e||!e.RTCPeerConnection&&!e.mozRTCPeerConnection)return;!e.RTCPeerConnection&&e.mozRTCPeerConnection&&(e.RTCPeerConnection=e.mozRTCPeerConnection),t.version<53&&["setLocalDescription","setRemoteDescription","addIceCandidate"].forEach((function(t){const r=e.RTCPeerConnection.prototype[t],n={[t](){return arguments[0]=new("addIceCandidate"===t?e.RTCIceCandidate:e.RTCSessionDescription)(arguments[0]),r.apply(this,arguments)}};e.RTCPeerConnection.prototype[t]=n[t]}));const r={inboundrtp:"inbound-rtp",outboundrtp:"outbound-rtp",candidatepair:"candidate-pair",localcandidate:"local-candidate",remotecandidate:"remote-candidate"},n=e.RTCPeerConnection.prototype.getStats;e.RTCPeerConnection.prototype.getStats=function(){const[e,o,i]=arguments;return n.apply(this,[e||null]).then((e=>{if(t.version<53&&!o)try{e.forEach((e=>{e.type=r[e.type]||e.type}))}catch(t){if("TypeError"!==t.name)throw t;e.forEach(((t,n)=>{e.set(n,Object.assign({},t,{type:r[t.type]||t.type}))}))}return e})).then(o,i)}}function tO(e){if("object"!=typeof e||!e.RTCPeerConnection||!e.RTCRtpSender)return;if(e.RTCRtpSender&&"getStats"in e.RTCRtpSender.prototype)return;const t=e.RTCPeerConnection.prototype.getSenders;t&&(e.RTCPeerConnection.prototype.getSenders=function(){const e=t.apply(this,[]);return e.forEach((e=>e._pc=this)),e});const r=e.RTCPeerConnection.prototype.addTrack;r&&(e.RTCPeerConnection.prototype.addTrack=function(){const e=r.apply(this,arguments);return e._pc=this,e}),e.RTCRtpSender.prototype.getStats=function(){return this.track?this._pc.getStats(this.track):Promise.resolve(new Map)}}function rO(e){if("object"!=typeof e||!e.RTCPeerConnection||!e.RTCRtpSender)return;if(e.RTCRtpSender&&"getStats"in e.RTCRtpReceiver.prototype)return;const t=e.RTCPeerConnection.prototype.getReceivers;t&&(e.RTCPeerConnection.prototype.getReceivers=function(){const e=t.apply(this,[]);return e.forEach((e=>e._pc=this)),e}),RS(e,"track",(e=>(e.receiver._pc=e.srcElement,e))),e.RTCRtpReceiver.prototype.getStats=function(){return this._pc.getStats(this.track)}}function nO(e){e.RTCPeerConnection&&!("removeStream"in e.RTCPeerConnection.prototype)&&(e.RTCPeerConnection.prototype.removeStream=function(e){MS("removeStream","removeTrack"),this.getSenders().forEach((t=>{t.track&&e.getTracks().includes(t.track)&&this.removeTrack(t)}))})}function oO(e){e.DataChannel&&!e.RTCDataChannel&&(e.RTCDataChannel=e.DataChannel)}function iO(e){if("object"!=typeof e||!e.RTCPeerConnection)return;const t=e.RTCPeerConnection.prototype.addTransceiver;t&&(e.RTCPeerConnection.prototype.addTransceiver=function(){this.setParametersPromises=[];let e=arguments[1]&&arguments[1].sendEncodings;void 0===e&&(e=[]),e=[...e];const r=e.length>0;r&&e.forEach((e=>{if("rid"in e&&!/^[a-z0-9]{0,16}$/i.test(e.rid))throw new TypeError("Invalid RID value provided.");if("scaleResolutionDownBy"in e&&!(parseFloat(e.scaleResolutionDownBy)>=1))throw new RangeError("scale_resolution_down_by must be >= 1.0");if("maxFramerate"in e&&!(parseFloat(e.maxFramerate)>=0))throw new RangeError("max_framerate must be >= 0.0")}));const n=t.apply(this,arguments);if(r){const{sender:t}=n,r=t.getParameters();(!("encodings"in r)||1===r.encodings.length&&0===Object.keys(r.encodings[0]).length)&&(r.encodings=e,t.sendEncodings=e,this.setParametersPromises.push(t.setParameters(r).then((()=>{delete t.sendEncodings})).catch((()=>{delete t.sendEncodings}))))}return n})}function aO(e){if("object"!=typeof e||!e.RTCRtpSender)return;const t=e.RTCRtpSender.prototype.getParameters;t&&(e.RTCRtpSender.prototype.getParameters=function(){const e=t.apply(this,arguments);return"encodings"in e||(e.encodings=[].concat(this.sendEncodings||[{}])),e})}function sO(e){if("object"!=typeof e||!e.RTCPeerConnection)return;const t=e.RTCPeerConnection.prototype.createOffer;e.RTCPeerConnection.prototype.createOffer=function(){return this.setParametersPromises&&this.setParametersPromises.length?Promise.all(this.setParametersPromises).then((()=>t.apply(this,arguments))).finally((()=>{this.setParametersPromises=[]})):t.apply(this,arguments)}}function cO(e){if("object"!=typeof e||!e.RTCPeerConnection)return;const t=e.RTCPeerConnection.prototype.createAnswer;e.RTCPeerConnection.prototype.createAnswer=function(){return this.setParametersPromises&&this.setParametersPromises.length?Promise.all(this.setParametersPromises).then((()=>t.apply(this,arguments))).finally((()=>{this.setParametersPromises=[]})):t.apply(this,arguments)}}var lO=Object.freeze({__proto__:null,shimAddTransceiver:iO,shimCreateAnswer:cO,shimCreateOffer:sO,shimGetDisplayMedia:function(e,t){e.navigator.mediaDevices&&"getDisplayMedia"in e.navigator.mediaDevices||e.navigator.mediaDevices&&(e.navigator.mediaDevices.getDisplayMedia=function(r){if(!r||!r.video){const e=new DOMException("getDisplayMedia without video constraints is undefined");return e.name="NotFoundError",e.code=8,Promise.reject(e)}return!0===r.video?r.video={mediaSource:t}:r.video.mediaSource=t,e.navigator.mediaDevices.getUserMedia(r)})},shimGetParameters:aO,shimGetUserMedia:XS,shimOnTrack:QS,shimPeerConnection:eO,shimRTCDataChannel:oO,shimReceiverGetStats:rO,shimRemoveStream:nO,shimSenderGetStats:tO});function uO(e){if("object"==typeof e&&e.RTCPeerConnection){if("getLocalStreams"in e.RTCPeerConnection.prototype||(e.RTCPeerConnection.prototype.getLocalStreams=function(){return this._localStreams||(this._localStreams=[]),this._localStreams}),!("addStream"in e.RTCPeerConnection.prototype)){const t=e.RTCPeerConnection.prototype.addTrack;e.RTCPeerConnection.prototype.addStream=function(e){this._localStreams||(this._localStreams=[]),this._localStreams.includes(e)||this._localStreams.push(e),e.getAudioTracks().forEach((r=>t.call(this,r,e))),e.getVideoTracks().forEach((r=>t.call(this,r,e)))},e.RTCPeerConnection.prototype.addTrack=function(e){for(var r=arguments.length,n=new Array(r>1?r-1:0),o=1;o<r;o++)n[o-1]=arguments[o];return n&&n.forEach((e=>{this._localStreams?this._localStreams.includes(e)||this._localStreams.push(e):this._localStreams=[e]})),t.apply(this,arguments)}}"removeStream"in e.RTCPeerConnection.prototype||(e.RTCPeerConnection.prototype.removeStream=function(e){this._localStreams||(this._localStreams=[]);const t=this._localStreams.indexOf(e);if(-1===t)return;this._localStreams.splice(t,1);const r=e.getTracks();this.getSenders().forEach((e=>{r.includes(e.track)&&this.removeTrack(e)}))})}}function dO(e){if("object"==typeof e&&e.RTCPeerConnection&&("getRemoteStreams"in e.RTCPeerConnection.prototype||(e.RTCPeerConnection.prototype.getRemoteStreams=function(){return this._remoteStreams?this._remoteStreams:[]}),!("onaddstream"in e.RTCPeerConnection.prototype))){Object.defineProperty(e.RTCPeerConnection.prototype,"onaddstream",{get(){return this._onaddstream},set(e){this._onaddstream&&(this.removeEventListener("addstream",this._onaddstream),this.removeEventListener("track",this._onaddstreampoly)),this.addEventListener("addstream",this._onaddstream=e),this.addEventListener("track",this._onaddstreampoly=e=>{e.streams.forEach((e=>{if(this._remoteStreams||(this._remoteStreams=[]),this._remoteStreams.includes(e))return;this._remoteStreams.push(e);const t=new Event("addstream");t.stream=e,this.dispatchEvent(t)}))})}});const t=e.RTCPeerConnection.prototype.setRemoteDescription;e.RTCPeerConnection.prototype.setRemoteDescription=function(){const e=this;return this._onaddstreampoly||this.addEventListener("track",this._onaddstreampoly=function(t){t.streams.forEach((t=>{if(e._remoteStreams||(e._remoteStreams=[]),e._remoteStreams.indexOf(t)>=0)return;e._remoteStreams.push(t);const r=new Event("addstream");r.stream=t,e.dispatchEvent(r)}))}),t.apply(e,arguments)}}}function pO(e){if("object"!=typeof e||!e.RTCPeerConnection)return;const t=e.RTCPeerConnection.prototype,r=t.createOffer,n=t.createAnswer,o=t.setLocalDescription,i=t.setRemoteDescription,a=t.addIceCandidate;t.createOffer=function(e,t){const n=arguments.length>=2?arguments[2]:arguments[0],o=r.apply(this,[n]);return t?(o.then(e,t),Promise.resolve()):o},t.createAnswer=function(e,t){const r=arguments.length>=2?arguments[2]:arguments[0],o=n.apply(this,[r]);return t?(o.then(e,t),Promise.resolve()):o};let s=function(e,t,r){const n=o.apply(this,[e]);return r?(n.then(t,r),Promise.resolve()):n};t.setLocalDescription=s,s=function(e,t,r){const n=i.apply(this,[e]);return r?(n.then(t,r),Promise.resolve()):n},t.setRemoteDescription=s,s=function(e,t,r){const n=a.apply(this,[e]);return r?(n.then(t,r),Promise.resolve()):n},t.addIceCandidate=s}function fO(e){const t=e&&e.navigator;if(t.mediaDevices&&t.mediaDevices.getUserMedia){const e=t.mediaDevices,r=e.getUserMedia.bind(e);t.mediaDevices.getUserMedia=e=>r(hO(e))}!t.getUserMedia&&t.mediaDevices&&t.mediaDevices.getUserMedia&&(t.getUserMedia=function(e,r,n){t.mediaDevices.getUserMedia(e).then(r,n)}.bind(t))}function hO(e){return e&&void 0!==e.video?Object.assign({},e,{video:NS(e.video)}):e}function mO(e){if(!e.RTCPeerConnection)return;const t=e.RTCPeerConnection;e.RTCPeerConnection=function(e,r){if(e&&e.iceServers){const t=[];for(let r=0;r<e.iceServers.length;r++){let n=e.iceServers[r];void 0===n.urls&&n.url?(MS("RTCIceServer.url","RTCIceServer.urls"),n=JSON.parse(JSON.stringify(n)),n.urls=n.url,delete n.url,t.push(n)):t.push(e.iceServers[r])}e.iceServers=t}return new t(e,r)},e.RTCPeerConnection.prototype=t.prototype,"generateCertificate"in t&&Object.defineProperty(e.RTCPeerConnection,"generateCertificate",{get:()=>t.generateCertificate})}function yO(e){"object"==typeof e&&e.RTCTrackEvent&&"receiver"in e.RTCTrackEvent.prototype&&!("transceiver"in e.RTCTrackEvent.prototype)&&Object.defineProperty(e.RTCTrackEvent.prototype,"transceiver",{get(){return{receiver:this.receiver}}})}function gO(e){const t=e.RTCPeerConnection.prototype.createOffer;e.RTCPeerConnection.prototype.createOffer=function(e){if(e){void 0!==e.offerToReceiveAudio&&(e.offerToReceiveAudio=!!e.offerToReceiveAudio);const t=this.getTransceivers().find((e=>"audio"===e.receiver.track.kind));!1===e.offerToReceiveAudio&&t?"sendrecv"===t.direction?t.setDirection?t.setDirection("sendonly"):t.direction="sendonly":"recvonly"===t.direction&&(t.setDirection?t.setDirection("inactive"):t.direction="inactive"):!0!==e.offerToReceiveAudio||t||this.addTransceiver("audio",{direction:"recvonly"}),void 0!==e.offerToReceiveVideo&&(e.offerToReceiveVideo=!!e.offerToReceiveVideo);const r=this.getTransceivers().find((e=>"video"===e.receiver.track.kind));!1===e.offerToReceiveVideo&&r?"sendrecv"===r.direction?r.setDirection?r.setDirection("sendonly"):r.direction="sendonly":"recvonly"===r.direction&&(r.setDirection?r.setDirection("inactive"):r.direction="inactive"):!0!==e.offerToReceiveVideo||r||this.addTransceiver("video",{direction:"recvonly"})}return t.apply(this,arguments)}}function bO(e){"object"!=typeof e||e.AudioContext||(e.AudioContext=e.webkitAudioContext)}var vO=Object.freeze({__proto__:null,shimAudioContext:bO,shimCallbacksAPI:pO,shimConstraints:hO,shimCreateOfferLegacy:gO,shimGetUserMedia:fO,shimLocalStreamsAPI:uO,shimRTCIceServerUrls:mO,shimRemoteStreamsAPI:dO,shimTrackEventTransceiver:yO}),kO={exports:{}};!function(e){const t={generateIdentifier:function(){return Math.random().toString(36).substring(2,12)}};t.localCName=t.generateIdentifier(),t.splitLines=function(e){return e.trim().split("\n").map((e=>e.trim()))},t.splitSections=function(e){return e.split("\nm=").map(((e,t)=>(t>0?"m="+e:e).trim()+"\r\n"))},t.getDescription=function(e){const r=t.splitSections(e);return r&&r[0]},t.getMediaSections=function(e){const r=t.splitSections(e);return r.shift(),r},t.matchPrefix=function(e,r){return t.splitLines(e).filter((e=>0===e.indexOf(r)))},t.parseCandidate=function(e){let t;t=0===e.indexOf("a=candidate:")?e.substring(12).split(" "):e.substring(10).split(" ");const r={foundation:t[0],component:{1:"rtp",2:"rtcp"}[t[1]]||t[1],protocol:t[2].toLowerCase(),priority:parseInt(t[3],10),ip:t[4],address:t[4],port:parseInt(t[5],10),type:t[7]};for(let e=8;e<t.length;e+=2)switch(t[e]){case"raddr":r.relatedAddress=t[e+1];break;case"rport":r.relatedPort=parseInt(t[e+1],10);break;case"tcptype":r.tcpType=t[e+1];break;case"ufrag":r.ufrag=t[e+1],r.usernameFragment=t[e+1];break;default:void 0===r[t[e]]&&(r[t[e]]=t[e+1])}return r},t.writeCandidate=function(e){const t=[];t.push(e.foundation);const r=e.component;"rtp"===r?t.push(1):"rtcp"===r?t.push(2):t.push(r),t.push(e.protocol.toUpperCase()),t.push(e.priority),t.push(e.address||e.ip),t.push(e.port);const n=e.type;return t.push("typ"),t.push(n),"host"!==n&&e.relatedAddress&&e.relatedPort&&(t.push("raddr"),t.push(e.relatedAddress),t.push("rport"),t.push(e.relatedPort)),e.tcpType&&"tcp"===e.protocol.toLowerCase()&&(t.push("tcptype"),t.push(e.tcpType)),(e.usernameFragment||e.ufrag)&&(t.push("ufrag"),t.push(e.usernameFragment||e.ufrag)),"candidate:"+t.join(" ")},t.parseIceOptions=function(e){return e.substring(14).split(" ")},t.parseRtpMap=function(e){let t=e.substring(9).split(" ");const r={payloadType:parseInt(t.shift(),10)};return t=t[0].split("/"),r.name=t[0],r.clockRate=parseInt(t[1],10),r.channels=3===t.length?parseInt(t[2],10):1,r.numChannels=r.channels,r},t.writeRtpMap=function(e){let t=e.payloadType;void 0!==e.preferredPayloadType&&(t=e.preferredPayloadType);const r=e.channels||e.numChannels||1;return"a=rtpmap:"+t+" "+e.name+"/"+e.clockRate+(1!==r?"/"+r:"")+"\r\n"},t.parseExtmap=function(e){const t=e.substring(9).split(" ");return{id:parseInt(t[0],10),direction:t[0].indexOf("/")>0?t[0].split("/")[1]:"sendrecv",uri:t[1],attributes:t.slice(2).join(" ")}},t.writeExtmap=function(e){return"a=extmap:"+(e.id||e.preferredId)+(e.direction&&"sendrecv"!==e.direction?"/"+e.direction:"")+" "+e.uri+(e.attributes?" "+e.attributes:"")+"\r\n"},t.parseFmtp=function(e){const t={};let r;const n=e.substring(e.indexOf(" ")+1).split(";");for(let e=0;e<n.length;e++)r=n[e].trim().split("="),t[r[0].trim()]=r[1];return t},t.writeFmtp=function(e){let t="",r=e.payloadType;if(void 0!==e.preferredPayloadType&&(r=e.preferredPayloadType),e.parameters&&Object.keys(e.parameters).length){const n=[];Object.keys(e.parameters).forEach((t=>{void 0!==e.parameters[t]?n.push(t+"="+e.parameters[t]):n.push(t)})),t+="a=fmtp:"+r+" "+n.join(";")+"\r\n"}return t},t.parseRtcpFb=function(e){const t=e.substring(e.indexOf(" ")+1).split(" ");return{type:t.shift(),parameter:t.join(" ")}},t.writeRtcpFb=function(e){let t="",r=e.payloadType;return void 0!==e.preferredPayloadType&&(r=e.preferredPayloadType),e.rtcpFeedback&&e.rtcpFeedback.length&&e.rtcpFeedback.forEach((e=>{t+="a=rtcp-fb:"+r+" "+e.type+(e.parameter&&e.parameter.length?" "+e.parameter:"")+"\r\n"})),t},t.parseSsrcMedia=function(e){const t=e.indexOf(" "),r={ssrc:parseInt(e.substring(7,t),10)},n=e.indexOf(":",t);return n>-1?(r.attribute=e.substring(t+1,n),r.value=e.substring(n+1)):r.attribute=e.substring(t+1),r},t.parseSsrcGroup=function(e){const t=e.substring(13).split(" ");return{semantics:t.shift(),ssrcs:t.map((e=>parseInt(e,10)))}},t.getMid=function(e){const r=t.matchPrefix(e,"a=mid:")[0];if(r)return r.substring(6)},t.parseFingerprint=function(e){const t=e.substring(14).split(" ");return{algorithm:t[0].toLowerCase(),value:t[1].toUpperCase()}},t.getDtlsParameters=function(e,r){return{role:"auto",fingerprints:t.matchPrefix(e+r,"a=fingerprint:").map(t.parseFingerprint)}},t.writeDtlsParameters=function(e,t){let r="a=setup:"+t+"\r\n";return e.fingerprints.forEach((e=>{r+="a=fingerprint:"+e.algorithm+" "+e.value+"\r\n"})),r},t.parseCryptoLine=function(e){const t=e.substring(9).split(" ");return{tag:parseInt(t[0],10),cryptoSuite:t[1],keyParams:t[2],sessionParams:t.slice(3)}},t.writeCryptoLine=function(e){return"a=crypto:"+e.tag+" "+e.cryptoSuite+" "+("object"==typeof e.keyParams?t.writeCryptoKeyParams(e.keyParams):e.keyParams)+(e.sessionParams?" "+e.sessionParams.join(" "):"")+"\r\n"},t.parseCryptoKeyParams=function(e){if(0!==e.indexOf("inline:"))return null;const t=e.substring(7).split("|");return{keyMethod:"inline",keySalt:t[0],lifeTime:t[1],mkiValue:t[2]?t[2].split(":")[0]:void 0,mkiLength:t[2]?t[2].split(":")[1]:void 0}},t.writeCryptoKeyParams=function(e){return e.keyMethod+":"+e.keySalt+(e.lifeTime?"|"+e.lifeTime:"")+(e.mkiValue&&e.mkiLength?"|"+e.mkiValue+":"+e.mkiLength:"")},t.getCryptoParameters=function(e,r){return t.matchPrefix(e+r,"a=crypto:").map(t.parseCryptoLine)},t.getIceParameters=function(e,r){const n=t.matchPrefix(e+r,"a=ice-ufrag:")[0],o=t.matchPrefix(e+r,"a=ice-pwd:")[0];return n&&o?{usernameFragment:n.substring(12),password:o.substring(10)}:null},t.writeIceParameters=function(e){let t="a=ice-ufrag:"+e.usernameFragment+"\r\na=ice-pwd:"+e.password+"\r\n";return e.iceLite&&(t+="a=ice-lite\r\n"),t},t.parseRtpParameters=function(e){const r={codecs:[],headerExtensions:[],fecMechanisms:[],rtcp:[]},n=t.splitLines(e)[0].split(" ");r.profile=n[2];for(let o=3;o<n.length;o++){const i=n[o],a=t.matchPrefix(e,"a=rtpmap:"+i+" ")[0];if(a){const n=t.parseRtpMap(a),o=t.matchPrefix(e,"a=fmtp:"+i+" ");switch(n.parameters=o.length?t.parseFmtp(o[0]):{},n.rtcpFeedback=t.matchPrefix(e,"a=rtcp-fb:"+i+" ").map(t.parseRtcpFb),r.codecs.push(n),n.name.toUpperCase()){case"RED":case"ULPFEC":r.fecMechanisms.push(n.name.toUpperCase())}}}t.matchPrefix(e,"a=extmap:").forEach((e=>{r.headerExtensions.push(t.parseExtmap(e))}));const o=t.matchPrefix(e,"a=rtcp-fb:* ").map(t.parseRtcpFb);return r.codecs.forEach((e=>{o.forEach((t=>{e.rtcpFeedback.find((e=>e.type===t.type&&e.parameter===t.parameter))||e.rtcpFeedback.push(t)}))})),r},t.writeRtpDescription=function(e,r){let n="";n+="m="+e+" ",n+=r.codecs.length>0?"9":"0",n+=" "+(r.profile||"UDP/TLS/RTP/SAVPF")+" ",n+=r.codecs.map((e=>void 0!==e.preferredPayloadType?e.preferredPayloadType:e.payloadType)).join(" ")+"\r\n",n+="c=IN IP4 0.0.0.0\r\n",n+="a=rtcp:9 IN IP4 0.0.0.0\r\n",r.codecs.forEach((e=>{n+=t.writeRtpMap(e),n+=t.writeFmtp(e),n+=t.writeRtcpFb(e)}));let o=0;return r.codecs.forEach((e=>{e.maxptime>o&&(o=e.maxptime)})),o>0&&(n+="a=maxptime:"+o+"\r\n"),r.headerExtensions&&r.headerExtensions.forEach((e=>{n+=t.writeExtmap(e)})),n},t.parseRtpEncodingParameters=function(e){const r=[],n=t.parseRtpParameters(e),o=-1!==n.fecMechanisms.indexOf("RED"),i=-1!==n.fecMechanisms.indexOf("ULPFEC"),a=t.matchPrefix(e,"a=ssrc:").map((e=>t.parseSsrcMedia(e))).filter((e=>"cname"===e.attribute)),s=a.length>0&&a[0].ssrc;let c;const l=t.matchPrefix(e,"a=ssrc-group:FID").map((e=>e.substring(17).split(" ").map((e=>parseInt(e,10)))));l.length>0&&l[0].length>1&&l[0][0]===s&&(c=l[0][1]),n.codecs.forEach((e=>{if("RTX"===e.name.toUpperCase()&&e.parameters.apt){let t={ssrc:s,codecPayloadType:parseInt(e.parameters.apt,10)};s&&c&&(t.rtx={ssrc:c}),r.push(t),o&&(t=JSON.parse(JSON.stringify(t)),t.fec={ssrc:s,mechanism:i?"red+ulpfec":"red"},r.push(t))}})),0===r.length&&s&&r.push({ssrc:s});let u=t.matchPrefix(e,"b=");return u.length&&(u=0===u[0].indexOf("b=TIAS:")?parseInt(u[0].substring(7),10):0===u[0].indexOf("b=AS:")?1e3*parseInt(u[0].substring(5),10)*.95-16e3:void 0,r.forEach((e=>{e.maxBitrate=u}))),r},t.parseRtcpParameters=function(e){const r={},n=t.matchPrefix(e,"a=ssrc:").map((e=>t.parseSsrcMedia(e))).filter((e=>"cname"===e.attribute))[0];n&&(r.cname=n.value,r.ssrc=n.ssrc);const o=t.matchPrefix(e,"a=rtcp-rsize");r.reducedSize=o.length>0,r.compound=0===o.length;const i=t.matchPrefix(e,"a=rtcp-mux");return r.mux=i.length>0,r},t.writeRtcpParameters=function(e){let t="";return e.reducedSize&&(t+="a=rtcp-rsize\r\n"),e.mux&&(t+="a=rtcp-mux\r\n"),void 0!==e.ssrc&&e.cname&&(t+="a=ssrc:"+e.ssrc+" cname:"+e.cname+"\r\n"),t},t.parseMsid=function(e){let r;const n=t.matchPrefix(e,"a=msid:");if(1===n.length)return r=n[0].substring(7).split(" "),{stream:r[0],track:r[1]};const o=t.matchPrefix(e,"a=ssrc:").map((e=>t.parseSsrcMedia(e))).filter((e=>"msid"===e.attribute));return o.length>0?(r=o[0].value.split(" "),{stream:r[0],track:r[1]}):void 0},t.parseSctpDescription=function(e){const r=t.parseMLine(e),n=t.matchPrefix(e,"a=max-message-size:");let o;n.length>0&&(o=parseInt(n[0].substring(19),10)),isNaN(o)&&(o=65536);const i=t.matchPrefix(e,"a=sctp-port:");if(i.length>0)return{port:parseInt(i[0].substring(12),10),protocol:r.fmt,maxMessageSize:o};const a=t.matchPrefix(e,"a=sctpmap:");if(a.length>0){const e=a[0].substring(10).split(" ");return{port:parseInt(e[0],10),protocol:e[1],maxMessageSize:o}}},t.writeSctpDescription=function(e,t){let r=[];return r="DTLS/SCTP"!==e.protocol?["m="+e.kind+" 9 "+e.protocol+" "+t.protocol+"\r\n","c=IN IP4 0.0.0.0\r\n","a=sctp-port:"+t.port+"\r\n"]:["m="+e.kind+" 9 "+e.protocol+" "+t.port+"\r\n","c=IN IP4 0.0.0.0\r\n","a=sctpmap:"+t.port+" "+t.protocol+" 65535\r\n"],void 0!==t.maxMessageSize&&r.push("a=max-message-size:"+t.maxMessageSize+"\r\n"),r.join("")},t.generateSessionId=function(){return Math.random().toString().substr(2,22)},t.writeSessionBoilerplate=function(e,r,n){let o;const i=void 0!==r?r:2;return o=e||t.generateSessionId(),"v=0\r\no="+(n||"thisisadapterortc")+" "+o+" "+i+" IN IP4 127.0.0.1\r\ns=-\r\nt=0 0\r\n"},t.getDirection=function(e,r){const n=t.splitLines(e);for(let e=0;e<n.length;e++)switch(n[e]){case"a=sendrecv":case"a=sendonly":case"a=recvonly":case"a=inactive":return n[e].substring(2)}return r?t.getDirection(r):"sendrecv"},t.getKind=function(e){return t.splitLines(e)[0].split(" ")[0].substring(2)},t.isRejected=function(e){return"0"===e.split(" ",2)[1]},t.parseMLine=function(e){const r=t.splitLines(e)[0].substring(2).split(" ");return{kind:r[0],port:parseInt(r[1],10),protocol:r[2],fmt:r.slice(3).join(" ")}},t.parseOLine=function(e){const r=t.matchPrefix(e,"o=")[0].substring(2).split(" ");return{username:r[0],sessionId:r[1],sessionVersion:parseInt(r[2],10),netType:r[3],addressType:r[4],address:r[5]}},t.isValidSDP=function(e){if("string"!=typeof e||0===e.length)return!1;const r=t.splitLines(e);for(let e=0;e<r.length;e++)if(r[e].length<2||"="!==r[e].charAt(1))return!1;return!0},e.exports=t}(kO);var wO=kO.exports,_O=Ik(wO),SO=Rk({__proto__:null,default:_O},[wO]);function OO(e){if(!e.RTCIceCandidate||e.RTCIceCandidate&&"foundation"in e.RTCIceCandidate.prototype)return;const t=e.RTCIceCandidate;e.RTCIceCandidate=function(e){if("object"==typeof e&&e.candidate&&0===e.candidate.indexOf("a=")&&((e=JSON.parse(JSON.stringify(e))).candidate=e.candidate.substring(2)),e.candidate&&e.candidate.length){const r=new t(e),n=_O.parseCandidate(e.candidate);for(const e in n)e in r||Object.defineProperty(r,e,{value:n[e]});return r.toJSON=function(){return{candidate:r.candidate,sdpMid:r.sdpMid,sdpMLineIndex:r.sdpMLineIndex,usernameFragment:r.usernameFragment}},r}return new t(e)},e.RTCIceCandidate.prototype=t.prototype,RS(e,"icecandidate",(t=>(t.candidate&&Object.defineProperty(t,"candidate",{value:new e.RTCIceCandidate(t.candidate),writable:"false"}),t)))}function PO(e){!e.RTCIceCandidate||e.RTCIceCandidate&&"relayProtocol"in e.RTCIceCandidate.prototype||RS(e,"icecandidate",(e=>{if(e.candidate){const t=_O.parseCandidate(e.candidate.candidate);"relay"===t.type&&(e.candidate.relayProtocol={0:"tls",1:"tcp",2:"udp"}[t.priority>>24])}return e}))}function EO(e,t){if(!e.RTCPeerConnection)return;"sctp"in e.RTCPeerConnection.prototype||Object.defineProperty(e.RTCPeerConnection.prototype,"sctp",{get(){return void 0===this._sctp?null:this._sctp}});const r=e.RTCPeerConnection.prototype.setRemoteDescription;e.RTCPeerConnection.prototype.setRemoteDescription=function(){if(this._sctp=null,"chrome"===t.browser&&t.version>=76){const{sdpSemantics:e}=this.getConfiguration();"plan-b"===e&&Object.defineProperty(this,"sctp",{get(){return void 0===this._sctp?null:this._sctp},enumerable:!0,configurable:!0})}if(function(e){if(!e||!e.sdp)return!1;const t=_O.splitSections(e.sdp);return t.shift(),t.some((e=>{const t=_O.parseMLine(e);return t&&"application"===t.kind&&-1!==t.protocol.indexOf("SCTP")}))}(arguments[0])){const e=function(e){const t=e.sdp.match(/mozilla...THIS_IS_SDPARTA-(\d+)/);if(null===t||t.length<2)return-1;const r=parseInt(t[1],10);return r!=r?-1:r}(arguments[0]),r=function(e){let r=65536;return"firefox"===t.browser&&(r=t.version<57?-1===e?16384:2147483637:t.version<60?57===t.version?65535:65536:2147483637),r}(e),n=function(e,r){let n=65536;"firefox"===t.browser&&57===t.version&&(n=65535);const o=_O.matchPrefix(e.sdp,"a=max-message-size:");return o.length>0?n=parseInt(o[0].substring(19),10):"firefox"===t.browser&&-1!==r&&(n=2147483637),n}(arguments[0],e);let o;o=0===r&&0===n?Number.POSITIVE_INFINITY:0===r||0===n?Math.max(r,n):Math.min(r,n);const i={};Object.defineProperty(i,"maxMessageSize",{get:()=>o}),this._sctp=i}return r.apply(this,arguments)}}function CO(e){if(!e.RTCPeerConnection||!("createDataChannel"in e.RTCPeerConnection.prototype))return;function t(e,t){const r=e.send;e.send=function(){const n=arguments[0],o=n.length||n.size||n.byteLength;if("open"===e.readyState&&t.sctp&&o>t.sctp.maxMessageSize)throw new TypeError("Message too large (can send a maximum of "+t.sctp.maxMessageSize+" bytes)");return r.apply(e,arguments)}}const r=e.RTCPeerConnection.prototype.createDataChannel;e.RTCPeerConnection.prototype.createDataChannel=function(){const e=r.apply(this,arguments);return t(e,this),e},RS(e,"datachannel",(e=>(t(e.channel,e.target),e)))}function xO(e){if(!e.RTCPeerConnection||"connectionState"in e.RTCPeerConnection.prototype)return;const t=e.RTCPeerConnection.prototype;Object.defineProperty(t,"connectionState",{get(){return{completed:"connected",checking:"connecting"}[this.iceConnectionState]||this.iceConnectionState},enumerable:!0,configurable:!0}),Object.defineProperty(t,"onconnectionstatechange",{get(){return this._onconnectionstatechange||null},set(e){this._onconnectionstatechange&&(this.removeEventListener("connectionstatechange",this._onconnectionstatechange),delete this._onconnectionstatechange),e&&this.addEventListener("connectionstatechange",this._onconnectionstatechange=e)},enumerable:!0,configurable:!0}),["setLocalDescription","setRemoteDescription"].forEach((e=>{const r=t[e];t[e]=function(){return this._connectionstatechangepoly||(this._connectionstatechangepoly=e=>{const t=e.target;if(t._lastConnectionState!==t.connectionState){t._lastConnectionState=t.connectionState;const r=new Event("connectionstatechange",e);t.dispatchEvent(r)}return e},this.addEventListener("iceconnectionstatechange",this._connectionstatechangepoly)),r.apply(this,arguments)}}))}function jO(e,t){if(!e.RTCPeerConnection)return;if("chrome"===t.browser&&t.version>=71)return;if("safari"===t.browser&&t.version>=605)return;const r=e.RTCPeerConnection.prototype.setRemoteDescription;e.RTCPeerConnection.prototype.setRemoteDescription=function(t){if(t&&t.sdp&&-1!==t.sdp.indexOf("\na=extmap-allow-mixed")){const r=t.sdp.split("\n").filter((e=>"a=extmap-allow-mixed"!==e.trim())).join("\n");e.RTCSessionDescription&&t instanceof e.RTCSessionDescription?arguments[0]=new e.RTCSessionDescription({type:t.type,sdp:r}):t.sdp=r}return r.apply(this,arguments)}}function TO(e,t){if(!e.RTCPeerConnection||!e.RTCPeerConnection.prototype)return;const r=e.RTCPeerConnection.prototype.addIceCandidate;r&&0!==r.length&&(e.RTCPeerConnection.prototype.addIceCandidate=function(){return arguments[0]?("chrome"===t.browser&&t.version<78||"firefox"===t.browser&&t.version<68||"safari"===t.browser)&&arguments[0]&&""===arguments[0].candidate?Promise.resolve():r.apply(this,arguments):(arguments[1]&&arguments[1].apply(null),Promise.resolve())})}function RO(e,t){if(!e.RTCPeerConnection||!e.RTCPeerConnection.prototype)return;const r=e.RTCPeerConnection.prototype.setLocalDescription;r&&0!==r.length&&(e.RTCPeerConnection.prototype.setLocalDescription=function(){let e=arguments[0]||{};if("object"!=typeof e||e.type&&e.sdp)return r.apply(this,arguments);if(e={type:e.type,sdp:e.sdp},!e.type)switch(this.signalingState){case"stable":case"have-local-offer":case"have-remote-pranswer":e.type="offer";break;default:e.type="answer"}return e.sdp||"offer"!==e.type&&"answer"!==e.type?r.apply(this,[e]):("offer"===e.type?this.createOffer:this.createAnswer).apply(this).then((e=>r.apply(this,[e])))})}var zO,IO,AO,MO=Object.freeze({__proto__:null,removeExtmapAllowMixed:jO,shimAddIceCandidateNullOrEmpty:TO,shimConnectionState:xO,shimMaxMessageSize:EO,shimParameterlessSetLocalDescription:RO,shimRTCIceCandidate:OO,shimRTCIceCandidateRelayProtocol:PO,shimSendThrowTypeError:CO});function DO(e){switch(e){case 0:case"PUBLISHER":return zO.PUBLISHER;case 1:case"SUBSCRIBER":return zO.SUBSCRIBER;default:return zO.UNRECOGNIZED}}function NO(e){switch(e){case zO.PUBLISHER:return"PUBLISHER";case zO.SUBSCRIBER:return"SUBSCRIBER";case zO.UNRECOGNIZED:default:return"UNRECOGNIZED"}}function LO(e){switch(e){case 0:case"ACTIVE":return IO.ACTIVE;case 1:case"PAUSED":return IO.PAUSED;default:return IO.UNRECOGNIZED}}function UO(e){switch(e){case 0:case"UDP":return AO.UDP;case 1:case"TCP":return AO.TCP;case 2:case"TLS":return AO.TLS;default:return AO.UNRECOGNIZED}}!function(){let{window:e}=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{shimChrome:!0,shimFirefox:!0,shimSafari:!0};const r=AS,n=function(e){const t={browser:null,version:null};if(void 0===e||!e.navigator)return t.browser="Not a browser.",t;const{navigator:r}=e;if(r.mozGetUserMedia)t.browser="firefox",t.version=TS(r.userAgent,/Firefox\/(\d+)\./,1);else if(r.webkitGetUserMedia||!1===e.isSecureContext&&e.webkitRTCPeerConnection)t.browser="chrome",t.version=TS(r.userAgent,/Chrom(e|ium)\/(\d+)\./,2);else{if(!e.RTCPeerConnection||!r.userAgent.match(/AppleWebKit\/(\d+)\./))return t.browser="Not a supported browser.",t;t.browser="safari",t.version=TS(r.userAgent,/AppleWebKit\/(\d+)\./,1),t.supportsUnifiedPlan=e.RTCRtpTransceiver&&"currentDirection"in e.RTCRtpTransceiver.prototype}return t}(e),o={browserDetails:n,commonShim:MO,extractVersion:TS,disableLog:zS,disableWarnings:IS,sdp:SO};switch(n.browser){case"chrome":if(!YS||!JS||!t.shimChrome)return r("Chrome shim is not included in this adapter release."),o;if(null===n.version)return r("Chrome shim can not determine version, not shimming."),o;r("adapter.js shimming chrome."),o.browserShim=YS,TO(e,n),RO(e),FS(e,n),qS(e),JS(e,n),WS(e),GS(e,n),ZS(e),HS(e),$S(e),KS(e,n),OO(e),PO(e),xO(e),EO(e,n),CO(e),jO(e,n);break;case"firefox":if(!lO||!eO||!t.shimFirefox)return r("Firefox shim is not included in this adapter release."),o;r("adapter.js shimming firefox."),o.browserShim=lO,TO(e,n),RO(e),XS(e,n),eO(e,n),QS(e),nO(e),tO(e),rO(e),oO(e),iO(e),aO(e),sO(e),cO(e),OO(e),xO(e),EO(e,n),CO(e);break;case"safari":if(!vO||!t.shimSafari)return r("Safari shim is not included in this adapter release."),o;r("adapter.js shimming safari."),o.browserShim=vO,TO(e,n),RO(e),mO(e),gO(e),pO(e),uO(e),dO(e),yO(e),fO(e),bO(e),OO(e),PO(e),EO(e,n),CO(e),jO(e,n);break;default:r("Unsupported browser!")}}({window:"undefined"==typeof window?void 0:window}),function(e){e[e.PUBLISHER=0]="PUBLISHER",e[e.SUBSCRIBER=1]="SUBSCRIBER",e[e.UNRECOGNIZED=-1]="UNRECOGNIZED"}(zO||(zO={})),function(e){e[e.ACTIVE=0]="ACTIVE",e[e.PAUSED=1]="PAUSED",e[e.UNRECOGNIZED=-1]="UNRECOGNIZED"}(IO||(IO={})),function(e){e[e.UDP=0]="UDP",e[e.TCP=1]="TCP",e[e.TLS=2]="TLS",e[e.UNRECOGNIZED=-1]="UNRECOGNIZED"}(AO||(AO={}));const BO={encode(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:D_.Writer.create();var r;switch(null===(r=e.message)||void 0===r?void 0:r.$case){case"offer":KO.encode(e.message.offer,t.uint32(10).fork()).ldelim();break;case"answer":KO.encode(e.message.answer,t.uint32(18).fork()).ldelim();break;case"trickle":ZO.encode(e.message.trickle,t.uint32(26).fork()).ldelim();break;case"addTrack":WO.encode(e.message.addTrack,t.uint32(34).fork()).ldelim();break;case"mute":HO.encode(e.message.mute,t.uint32(42).fork()).ldelim();break;case"subscription":XO.encode(e.message.subscription,t.uint32(50).fork()).ldelim();break;case"trackSetting":QO.encode(e.message.trackSetting,t.uint32(58).fork()).ldelim();break;case"leave":eP.encode(e.message.leave,t.uint32(66).fork()).ldelim();break;case"updateLayers":tP.encode(e.message.updateLayers,t.uint32(82).fork()).ldelim();break;case"subscriptionPermission":hP.encode(e.message.subscriptionPermission,t.uint32(90).fork()).ldelim();break;case"syncState":yP.encode(e.message.syncState,t.uint32(98).fork()).ldelim();break;case"simulate":bP.encode(e.message.simulate,t.uint32(106).fork()).ldelim();break;case"ping":t.uint32(112).int64(e.message.ping);break;case"updateMetadata":rP.encode(e.message.updateMetadata,t.uint32(122).fork()).ldelim();break;case"pingReq":vP.encode(e.message.pingReq,t.uint32(130).fork()).ldelim()}return t},decode(e,t){const r=e instanceof D_.Reader?e:D_.Reader.create(e);let n=void 0===t?r.len:r.pos+t;const o={message:void 0};for(;r.pos<n;){const e=r.uint32();switch(e>>>3){case 1:if(10!=e)break;o.message={$case:"offer",offer:KO.decode(r,r.uint32())};continue;case 2:if(18!=e)break;o.message={$case:"answer",answer:KO.decode(r,r.uint32())};continue;case 3:if(26!=e)break;o.message={$case:"trickle",trickle:ZO.decode(r,r.uint32())};continue;case 4:if(34!=e)break;o.message={$case:"addTrack",addTrack:WO.decode(r,r.uint32())};continue;case 5:if(42!=e)break;o.message={$case:"mute",mute:HO.decode(r,r.uint32())};continue;case 6:if(50!=e)break;o.message={$case:"subscription",subscription:XO.decode(r,r.uint32())};continue;case 7:if(58!=e)break;o.message={$case:"trackSetting",trackSetting:QO.decode(r,r.uint32())};continue;case 8:if(66!=e)break;o.message={$case:"leave",leave:eP.decode(r,r.uint32())};continue;case 10:if(82!=e)break;o.message={$case:"updateLayers",updateLayers:tP.decode(r,r.uint32())};continue;case 11:if(90!=e)break;o.message={$case:"subscriptionPermission",subscriptionPermission:hP.decode(r,r.uint32())};continue;case 12:if(98!=e)break;o.message={$case:"syncState",syncState:yP.decode(r,r.uint32())};continue;case 13:if(106!=e)break;o.message={$case:"simulate",simulate:bP.decode(r,r.uint32())};continue;case 14:if(112!=e)break;o.message={$case:"ping",ping:xP(r.int64())};continue;case 15:if(122!=e)break;o.message={$case:"updateMetadata",updateMetadata:rP.decode(r,r.uint32())};continue;case 16:if(130!=e)break;o.message={$case:"pingReq",pingReq:vP.decode(r,r.uint32())};continue}if(4==(7&e)||0==e)break;r.skipType(7&e)}return o},fromJSON:e=>({message:jP(e.offer)?{$case:"offer",offer:KO.fromJSON(e.offer)}:jP(e.answer)?{$case:"answer",answer:KO.fromJSON(e.answer)}:jP(e.trickle)?{$case:"trickle",trickle:ZO.fromJSON(e.trickle)}:jP(e.addTrack)?{$case:"addTrack",addTrack:WO.fromJSON(e.addTrack)}:jP(e.mute)?{$case:"mute",mute:HO.fromJSON(e.mute)}:jP(e.subscription)?{$case:"subscription",subscription:XO.fromJSON(e.subscription)}:jP(e.trackSetting)?{$case:"trackSetting",trackSetting:QO.fromJSON(e.trackSetting)}:jP(e.leave)?{$case:"leave",leave:eP.fromJSON(e.leave)}:jP(e.updateLayers)?{$case:"updateLayers",updateLayers:tP.fromJSON(e.updateLayers)}:jP(e.subscriptionPermission)?{$case:"subscriptionPermission",subscriptionPermission:hP.fromJSON(e.subscriptionPermission)}:jP(e.syncState)?{$case:"syncState",syncState:yP.fromJSON(e.syncState)}:jP(e.simulate)?{$case:"simulate",simulate:bP.fromJSON(e.simulate)}:jP(e.ping)?{$case:"ping",ping:Number(e.ping)}:jP(e.updateMetadata)?{$case:"updateMetadata",updateMetadata:rP.fromJSON(e.updateMetadata)}:jP(e.pingReq)?{$case:"pingReq",pingReq:vP.fromJSON(e.pingReq)}:void 0}),toJSON(e){var t,r,n,o,i,a,s,c,l,u,d,p,f,h,m,y,g,b,v,k,w,_,S,O,P,E,C,x,j,T,R,z,I,A,M,D,N,L,U,B,F,q,W,Z;const H={};return"offer"===(null===(t=e.message)||void 0===t?void 0:t.$case)&&(H.offer=(null===(r=e.message)||void 0===r?void 0:r.offer)?KO.toJSON(null===(n=e.message)||void 0===n?void 0:n.offer):void 0),"answer"===(null===(o=e.message)||void 0===o?void 0:o.$case)&&(H.answer=(null===(i=e.message)||void 0===i?void 0:i.answer)?KO.toJSON(null===(a=e.message)||void 0===a?void 0:a.answer):void 0),"trickle"===(null===(s=e.message)||void 0===s?void 0:s.$case)&&(H.trickle=(null===(c=e.message)||void 0===c?void 0:c.trickle)?ZO.toJSON(null===(l=e.message)||void 0===l?void 0:l.trickle):void 0),"addTrack"===(null===(u=e.message)||void 0===u?void 0:u.$case)&&(H.addTrack=(null===(d=e.message)||void 0===d?void 0:d.addTrack)?WO.toJSON(null===(p=e.message)||void 0===p?void 0:p.addTrack):void 0),"mute"===(null===(f=e.message)||void 0===f?void 0:f.$case)&&(H.mute=(null===(h=e.message)||void 0===h?void 0:h.mute)?HO.toJSON(null===(m=e.message)||void 0===m?void 0:m.mute):void 0),"subscription"===(null===(y=e.message)||void 0===y?void 0:y.$case)&&(H.subscription=(null===(g=e.message)||void 0===g?void 0:g.subscription)?XO.toJSON(null===(b=e.message)||void 0===b?void 0:b.subscription):void 0),"trackSetting"===(null===(v=e.message)||void 0===v?void 0:v.$case)&&(H.trackSetting=(null===(k=e.message)||void 0===k?void 0:k.trackSetting)?QO.toJSON(null===(w=e.message)||void 0===w?void 0:w.trackSetting):void 0),"leave"===(null===(_=e.message)||void 0===_?void 0:_.$case)&&(H.leave=(null===(S=e.message)||void 0===S?void 0:S.leave)?eP.toJSON(null===(O=e.message)||void 0===O?void 0:O.leave):void 0),"updateLayers"===(null===(P=e.message)||void 0===P?void 0:P.$case)&&(H.updateLayers=(null===(E=e.message)||void 0===E?void 0:E.updateLayers)?tP.toJSON(null===(C=e.message)||void 0===C?void 0:C.updateLayers):void 0),"subscriptionPermission"===(null===(x=e.message)||void 0===x?void 0:x.$case)&&(H.subscriptionPermission=(null===(j=e.message)||void 0===j?void 0:j.subscriptionPermission)?hP.toJSON(null===(T=e.message)||void 0===T?void 0:T.subscriptionPermission):void 0),"syncState"===(null===(R=e.message)||void 0===R?void 0:R.$case)&&(H.syncState=(null===(z=e.message)||void 0===z?void 0:z.syncState)?yP.toJSON(null===(I=e.message)||void 0===I?void 0:I.syncState):void 0),"simulate"===(null===(A=e.message)||void 0===A?void 0:A.$case)&&(H.simulate=(null===(M=e.message)||void 0===M?void 0:M.simulate)?bP.toJSON(null===(D=e.message)||void 0===D?void 0:D.simulate):void 0),"ping"===(null===(N=e.message)||void 0===N?void 0:N.$case)&&(H.ping=Math.round(null===(L=e.message)||void 0===L?void 0:L.ping)),"updateMetadata"===(null===(U=e.message)||void 0===U?void 0:U.$case)&&(H.updateMetadata=(null===(B=e.message)||void 0===B?void 0:B.updateMetadata)?rP.toJSON(null===(F=e.message)||void 0===F?void 0:F.updateMetadata):void 0),"pingReq"===(null===(q=e.message)||void 0===q?void 0:q.$case)&&(H.pingReq=(null===(W=e.message)||void 0===W?void 0:W.pingReq)?vP.toJSON(null===(Z=e.message)||void 0===Z?void 0:Z.pingReq):void 0),H},create:e=>BO.fromPartial(null!=e?e:{}),fromPartial(e){var t,r,n,o,i,a,s,c,l,u,d,p,f,h,m,y,g,b,v,k,w,_,S,O,P,E,C,x,j,T,R,z,I,A,M,D,N,L,U,B,F,q,W,Z,H;const $={message:void 0};return"offer"===(null===(t=e.message)||void 0===t?void 0:t.$case)&&void 0!==(null===(r=e.message)||void 0===r?void 0:r.offer)&&null!==(null===(n=e.message)||void 0===n?void 0:n.offer)&&($.message={$case:"offer",offer:KO.fromPartial(e.message.offer)}),"answer"===(null===(o=e.message)||void 0===o?void 0:o.$case)&&void 0!==(null===(i=e.message)||void 0===i?void 0:i.answer)&&null!==(null===(a=e.message)||void 0===a?void 0:a.answer)&&($.message={$case:"answer",answer:KO.fromPartial(e.message.answer)}),"trickle"===(null===(s=e.message)||void 0===s?void 0:s.$case)&&void 0!==(null===(c=e.message)||void 0===c?void 0:c.trickle)&&null!==(null===(l=e.message)||void 0===l?void 0:l.trickle)&&($.message={$case:"trickle",trickle:ZO.fromPartial(e.message.trickle)}),"addTrack"===(null===(u=e.message)||void 0===u?void 0:u.$case)&&void 0!==(null===(d=e.message)||void 0===d?void 0:d.addTrack)&&null!==(null===(p=e.message)||void 0===p?void 0:p.addTrack)&&($.message={$case:"addTrack",addTrack:WO.fromPartial(e.message.addTrack)}),"mute"===(null===(f=e.message)||void 0===f?void 0:f.$case)&&void 0!==(null===(h=e.message)||void 0===h?void 0:h.mute)&&null!==(null===(m=e.message)||void 0===m?void 0:m.mute)&&($.message={$case:"mute",mute:HO.fromPartial(e.message.mute)}),"subscription"===(null===(y=e.message)||void 0===y?void 0:y.$case)&&void 0!==(null===(g=e.message)||void 0===g?void 0:g.subscription)&&null!==(null===(b=e.message)||void 0===b?void 0:b.subscription)&&($.message={$case:"subscription",subscription:XO.fromPartial(e.message.subscription)}),"trackSetting"===(null===(v=e.message)||void 0===v?void 0:v.$case)&&void 0!==(null===(k=e.message)||void 0===k?void 0:k.trackSetting)&&null!==(null===(w=e.message)||void 0===w?void 0:w.trackSetting)&&($.message={$case:"trackSetting",trackSetting:QO.fromPartial(e.message.trackSetting)}),"leave"===(null===(_=e.message)||void 0===_?void 0:_.$case)&&void 0!==(null===(S=e.message)||void 0===S?void 0:S.leave)&&null!==(null===(O=e.message)||void 0===O?void 0:O.leave)&&($.message={$case:"leave",leave:eP.fromPartial(e.message.leave)}),"updateLayers"===(null===(P=e.message)||void 0===P?void 0:P.$case)&&void 0!==(null===(E=e.message)||void 0===E?void 0:E.updateLayers)&&null!==(null===(C=e.message)||void 0===C?void 0:C.updateLayers)&&($.message={$case:"updateLayers",updateLayers:tP.fromPartial(e.message.updateLayers)}),"subscriptionPermission"===(null===(x=e.message)||void 0===x?void 0:x.$case)&&void 0!==(null===(j=e.message)||void 0===j?void 0:j.subscriptionPermission)&&null!==(null===(T=e.message)||void 0===T?void 0:T.subscriptionPermission)&&($.message={$case:"subscriptionPermission",subscriptionPermission:hP.fromPartial(e.message.subscriptionPermission)}),"syncState"===(null===(R=e.message)||void 0===R?void 0:R.$case)&&void 0!==(null===(z=e.message)||void 0===z?void 0:z.syncState)&&null!==(null===(I=e.message)||void 0===I?void 0:I.syncState)&&($.message={$case:"syncState",syncState:yP.fromPartial(e.message.syncState)}),"simulate"===(null===(A=e.message)||void 0===A?void 0:A.$case)&&void 0!==(null===(M=e.message)||void 0===M?void 0:M.simulate)&&null!==(null===(D=e.message)||void 0===D?void 0:D.simulate)&&($.message={$case:"simulate",simulate:bP.fromPartial(e.message.simulate)}),"ping"===(null===(N=e.message)||void 0===N?void 0:N.$case)&&void 0!==(null===(L=e.message)||void 0===L?void 0:L.ping)&&null!==(null===(U=e.message)||void 0===U?void 0:U.ping)&&($.message={$case:"ping",ping:e.message.ping}),"updateMetadata"===(null===(B=e.message)||void 0===B?void 0:B.$case)&&void 0!==(null===(F=e.message)||void 0===F?void 0:F.updateMetadata)&&null!==(null===(q=e.message)||void 0===q?void 0:q.updateMetadata)&&($.message={$case:"updateMetadata",updateMetadata:rP.fromPartial(e.message.updateMetadata)}),"pingReq"===(null===(W=e.message)||void 0===W?void 0:W.$case)&&void 0!==(null===(Z=e.message)||void 0===Z?void 0:Z.pingReq)&&null!==(null===(H=e.message)||void 0===H?void 0:H.pingReq)&&($.message={$case:"pingReq",pingReq:vP.fromPartial(e.message.pingReq)}),$}},FO={encode(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:D_.Writer.create();var r;switch(null===(r=e.message)||void 0===r?void 0:r.$case){case"join":$O.encode(e.message.join,t.uint32(10).fork()).ldelim();break;case"answer":KO.encode(e.message.answer,t.uint32(18).fork()).ldelim();break;case"offer":KO.encode(e.message.offer,t.uint32(26).fork()).ldelim();break;case"trickle":ZO.encode(e.message.trickle,t.uint32(34).fork()).ldelim();break;case"update":YO.encode(e.message.update,t.uint32(42).fork()).ldelim();break;case"trackPublished":GO.encode(e.message.trackPublished,t.uint32(50).fork()).ldelim();break;case"leave":eP.encode(e.message.leave,t.uint32(66).fork()).ldelim();break;case"mute":HO.encode(e.message.mute,t.uint32(74).fork()).ldelim();break;case"speakersChanged":oP.encode(e.message.speakersChanged,t.uint32(82).fork()).ldelim();break;case"roomUpdate":iP.encode(e.message.roomUpdate,t.uint32(90).fork()).ldelim();break;case"connectionQuality":sP.encode(e.message.connectionQuality,t.uint32(98).fork()).ldelim();break;case"streamStateUpdate":lP.encode(e.message.streamStateUpdate,t.uint32(106).fork()).ldelim();break;case"subscribedQualityUpdate":pP.encode(e.message.subscribedQualityUpdate,t.uint32(114).fork()).ldelim();break;case"subscriptionPermissionUpdate":mP.encode(e.message.subscriptionPermissionUpdate,t.uint32(122).fork()).ldelim();break;case"refreshToken":t.uint32(130).string(e.message.refreshToken);break;case"trackUnpublished":JO.encode(e.message.trackUnpublished,t.uint32(138).fork()).ldelim();break;case"pong":t.uint32(144).int64(e.message.pong);break;case"reconnect":VO.encode(e.message.reconnect,t.uint32(154).fork()).ldelim();break;case"pongResp":kP.encode(e.message.pongResp,t.uint32(162).fork()).ldelim()}return t},decode(e,t){const r=e instanceof D_.Reader?e:D_.Reader.create(e);let n=void 0===t?r.len:r.pos+t;const o={message:void 0};for(;r.pos<n;){const e=r.uint32();switch(e>>>3){case 1:if(10!=e)break;o.message={$case:"join",join:$O.decode(r,r.uint32())};continue;case 2:if(18!=e)break;o.message={$case:"answer",answer:KO.decode(r,r.uint32())};continue;case 3:if(26!=e)break;o.message={$case:"offer",offer:KO.decode(r,r.uint32())};continue;case 4:if(34!=e)break;o.message={$case:"trickle",trickle:ZO.decode(r,r.uint32())};continue;case 5:if(42!=e)break;o.message={$case:"update",update:YO.decode(r,r.uint32())};continue;case 6:if(50!=e)break;o.message={$case:"trackPublished",trackPublished:GO.decode(r,r.uint32())};continue;case 8:if(66!=e)break;o.message={$case:"leave",leave:eP.decode(r,r.uint32())};continue;case 9:if(74!=e)break;o.message={$case:"mute",mute:HO.decode(r,r.uint32())};continue;case 10:if(82!=e)break;o.message={$case:"speakersChanged",speakersChanged:oP.decode(r,r.uint32())};continue;case 11:if(90!=e)break;o.message={$case:"roomUpdate",roomUpdate:iP.decode(r,r.uint32())};continue;case 12:if(98!=e)break;o.message={$case:"connectionQuality",connectionQuality:sP.decode(r,r.uint32())};continue;case 13:if(106!=e)break;o.message={$case:"streamStateUpdate",streamStateUpdate:lP.decode(r,r.uint32())};continue;case 14:if(114!=e)break;o.message={$case:"subscribedQualityUpdate",subscribedQualityUpdate:pP.decode(r,r.uint32())};continue;case 15:if(122!=e)break;o.message={$case:"subscriptionPermissionUpdate",subscriptionPermissionUpdate:mP.decode(r,r.uint32())};continue;case 16:if(130!=e)break;o.message={$case:"refreshToken",refreshToken:r.string()};continue;case 17:if(138!=e)break;o.message={$case:"trackUnpublished",trackUnpublished:JO.decode(r,r.uint32())};continue;case 18:if(144!=e)break;o.message={$case:"pong",pong:xP(r.int64())};continue;case 19:if(154!=e)break;o.message={$case:"reconnect",reconnect:VO.decode(r,r.uint32())};continue;case 20:if(162!=e)break;o.message={$case:"pongResp",pongResp:kP.decode(r,r.uint32())};continue}if(4==(7&e)||0==e)break;r.skipType(7&e)}return o},fromJSON:e=>({message:jP(e.join)?{$case:"join",join:$O.fromJSON(e.join)}:jP(e.answer)?{$case:"answer",answer:KO.fromJSON(e.answer)}:jP(e.offer)?{$case:"offer",offer:KO.fromJSON(e.offer)}:jP(e.trickle)?{$case:"trickle",trickle:ZO.fromJSON(e.trickle)}:jP(e.update)?{$case:"update",update:YO.fromJSON(e.update)}:jP(e.trackPublished)?{$case:"trackPublished",trackPublished:GO.fromJSON(e.trackPublished)}:jP(e.leave)?{$case:"leave",leave:eP.fromJSON(e.leave)}:jP(e.mute)?{$case:"mute",mute:HO.fromJSON(e.mute)}:jP(e.speakersChanged)?{$case:"speakersChanged",speakersChanged:oP.fromJSON(e.speakersChanged)}:jP(e.roomUpdate)?{$case:"roomUpdate",roomUpdate:iP.fromJSON(e.roomUpdate)}:jP(e.connectionQuality)?{$case:"connectionQuality",connectionQuality:sP.fromJSON(e.connectionQuality)}:jP(e.streamStateUpdate)?{$case:"streamStateUpdate",streamStateUpdate:lP.fromJSON(e.streamStateUpdate)}:jP(e.subscribedQualityUpdate)?{$case:"subscribedQualityUpdate",subscribedQualityUpdate:pP.fromJSON(e.subscribedQualityUpdate)}:jP(e.subscriptionPermissionUpdate)?{$case:"subscriptionPermissionUpdate",subscriptionPermissionUpdate:mP.fromJSON(e.subscriptionPermissionUpdate)}:jP(e.refreshToken)?{$case:"refreshToken",refreshToken:String(e.refreshToken)}:jP(e.trackUnpublished)?{$case:"trackUnpublished",trackUnpublished:JO.fromJSON(e.trackUnpublished)}:jP(e.pong)?{$case:"pong",pong:Number(e.pong)}:jP(e.reconnect)?{$case:"reconnect",reconnect:VO.fromJSON(e.reconnect)}:jP(e.pongResp)?{$case:"pongResp",pongResp:kP.fromJSON(e.pongResp)}:void 0}),toJSON(e){var t,r,n,o,i,a,s,c,l,u,d,p,f,h,m,y,g,b,v,k,w,_,S,O,P,E,C,x,j,T,R,z,I,A,M,D,N,L,U,B,F,q,W,Z,H,$,V,G,J,K,Y,X,Q,ee,te;const re={};return"join"===(null===(t=e.message)||void 0===t?void 0:t.$case)&&(re.join=(null===(r=e.message)||void 0===r?void 0:r.join)?$O.toJSON(null===(n=e.message)||void 0===n?void 0:n.join):void 0),"answer"===(null===(o=e.message)||void 0===o?void 0:o.$case)&&(re.answer=(null===(i=e.message)||void 0===i?void 0:i.answer)?KO.toJSON(null===(a=e.message)||void 0===a?void 0:a.answer):void 0),"offer"===(null===(s=e.message)||void 0===s?void 0:s.$case)&&(re.offer=(null===(c=e.message)||void 0===c?void 0:c.offer)?KO.toJSON(null===(l=e.message)||void 0===l?void 0:l.offer):void 0),"trickle"===(null===(u=e.message)||void 0===u?void 0:u.$case)&&(re.trickle=(null===(d=e.message)||void 0===d?void 0:d.trickle)?ZO.toJSON(null===(p=e.message)||void 0===p?void 0:p.trickle):void 0),"update"===(null===(f=e.message)||void 0===f?void 0:f.$case)&&(re.update=(null===(h=e.message)||void 0===h?void 0:h.update)?YO.toJSON(null===(m=e.message)||void 0===m?void 0:m.update):void 0),"trackPublished"===(null===(y=e.message)||void 0===y?void 0:y.$case)&&(re.trackPublished=(null===(g=e.message)||void 0===g?void 0:g.trackPublished)?GO.toJSON(null===(b=e.message)||void 0===b?void 0:b.trackPublished):void 0),"leave"===(null===(v=e.message)||void 0===v?void 0:v.$case)&&(re.leave=(null===(k=e.message)||void 0===k?void 0:k.leave)?eP.toJSON(null===(w=e.message)||void 0===w?void 0:w.leave):void 0),"mute"===(null===(_=e.message)||void 0===_?void 0:_.$case)&&(re.mute=(null===(S=e.message)||void 0===S?void 0:S.mute)?HO.toJSON(null===(O=e.message)||void 0===O?void 0:O.mute):void 0),"speakersChanged"===(null===(P=e.message)||void 0===P?void 0:P.$case)&&(re.speakersChanged=(null===(E=e.message)||void 0===E?void 0:E.speakersChanged)?oP.toJSON(null===(C=e.message)||void 0===C?void 0:C.speakersChanged):void 0),"roomUpdate"===(null===(x=e.message)||void 0===x?void 0:x.$case)&&(re.roomUpdate=(null===(j=e.message)||void 0===j?void 0:j.roomUpdate)?iP.toJSON(null===(T=e.message)||void 0===T?void 0:T.roomUpdate):void 0),"connectionQuality"===(null===(R=e.message)||void 0===R?void 0:R.$case)&&(re.connectionQuality=(null===(z=e.message)||void 0===z?void 0:z.connectionQuality)?sP.toJSON(null===(I=e.message)||void 0===I?void 0:I.connectionQuality):void 0),"streamStateUpdate"===(null===(A=e.message)||void 0===A?void 0:A.$case)&&(re.streamStateUpdate=(null===(M=e.message)||void 0===M?void 0:M.streamStateUpdate)?lP.toJSON(null===(D=e.message)||void 0===D?void 0:D.streamStateUpdate):void 0),"subscribedQualityUpdate"===(null===(N=e.message)||void 0===N?void 0:N.$case)&&(re.subscribedQualityUpdate=(null===(L=e.message)||void 0===L?void 0:L.subscribedQualityUpdate)?pP.toJSON(null===(U=e.message)||void 0===U?void 0:U.subscribedQualityUpdate):void 0),"subscriptionPermissionUpdate"===(null===(B=e.message)||void 0===B?void 0:B.$case)&&(re.subscriptionPermissionUpdate=(null===(F=e.message)||void 0===F?void 0:F.subscriptionPermissionUpdate)?mP.toJSON(null===(q=e.message)||void 0===q?void 0:q.subscriptionPermissionUpdate):void 0),"refreshToken"===(null===(W=e.message)||void 0===W?void 0:W.$case)&&(re.refreshToken=null===(Z=e.message)||void 0===Z?void 0:Z.refreshToken),"trackUnpublished"===(null===(H=e.message)||void 0===H?void 0:H.$case)&&(re.trackUnpublished=(null===($=e.message)||void 0===$?void 0:$.trackUnpublished)?JO.toJSON(null===(V=e.message)||void 0===V?void 0:V.trackUnpublished):void 0),"pong"===(null===(G=e.message)||void 0===G?void 0:G.$case)&&(re.pong=Math.round(null===(J=e.message)||void 0===J?void 0:J.pong)),"reconnect"===(null===(K=e.message)||void 0===K?void 0:K.$case)&&(re.reconnect=(null===(Y=e.message)||void 0===Y?void 0:Y.reconnect)?VO.toJSON(null===(X=e.message)||void 0===X?void 0:X.reconnect):void 0),"pongResp"===(null===(Q=e.message)||void 0===Q?void 0:Q.$case)&&(re.pongResp=(null===(ee=e.message)||void 0===ee?void 0:ee.pongResp)?kP.toJSON(null===(te=e.message)||void 0===te?void 0:te.pongResp):void 0),re},create:e=>FO.fromPartial(null!=e?e:{}),fromPartial(e){var t,r,n,o,i,a,s,c,l,u,d,p,f,h,m,y,g,b,v,k,w,_,S,O,P,E,C,x,j,T,R,z,I,A,M,D,N,L,U,B,F,q,W,Z,H,$,V,G,J,K,Y,X,Q,ee,te,re,ne;const oe={message:void 0};return"join"===(null===(t=e.message)||void 0===t?void 0:t.$case)&&void 0!==(null===(r=e.message)||void 0===r?void 0:r.join)&&null!==(null===(n=e.message)||void 0===n?void 0:n.join)&&(oe.message={$case:"join",join:$O.fromPartial(e.message.join)}),"answer"===(null===(o=e.message)||void 0===o?void 0:o.$case)&&void 0!==(null===(i=e.message)||void 0===i?void 0:i.answer)&&null!==(null===(a=e.message)||void 0===a?void 0:a.answer)&&(oe.message={$case:"answer",answer:KO.fromPartial(e.message.answer)}),"offer"===(null===(s=e.message)||void 0===s?void 0:s.$case)&&void 0!==(null===(c=e.message)||void 0===c?void 0:c.offer)&&null!==(null===(l=e.message)||void 0===l?void 0:l.offer)&&(oe.message={$case:"offer",offer:KO.fromPartial(e.message.offer)}),"trickle"===(null===(u=e.message)||void 0===u?void 0:u.$case)&&void 0!==(null===(d=e.message)||void 0===d?void 0:d.trickle)&&null!==(null===(p=e.message)||void 0===p?void 0:p.trickle)&&(oe.message={$case:"trickle",trickle:ZO.fromPartial(e.message.trickle)}),"update"===(null===(f=e.message)||void 0===f?void 0:f.$case)&&void 0!==(null===(h=e.message)||void 0===h?void 0:h.update)&&null!==(null===(m=e.message)||void 0===m?void 0:m.update)&&(oe.message={$case:"update",update:YO.fromPartial(e.message.update)}),"trackPublished"===(null===(y=e.message)||void 0===y?void 0:y.$case)&&void 0!==(null===(g=e.message)||void 0===g?void 0:g.trackPublished)&&null!==(null===(b=e.message)||void 0===b?void 0:b.trackPublished)&&(oe.message={$case:"trackPublished",trackPublished:GO.fromPartial(e.message.trackPublished)}),"leave"===(null===(v=e.message)||void 0===v?void 0:v.$case)&&void 0!==(null===(k=e.message)||void 0===k?void 0:k.leave)&&null!==(null===(w=e.message)||void 0===w?void 0:w.leave)&&(oe.message={$case:"leave",leave:eP.fromPartial(e.message.leave)}),"mute"===(null===(_=e.message)||void 0===_?void 0:_.$case)&&void 0!==(null===(S=e.message)||void 0===S?void 0:S.mute)&&null!==(null===(O=e.message)||void 0===O?void 0:O.mute)&&(oe.message={$case:"mute",mute:HO.fromPartial(e.message.mute)}),"speakersChanged"===(null===(P=e.message)||void 0===P?void 0:P.$case)&&void 0!==(null===(E=e.message)||void 0===E?void 0:E.speakersChanged)&&null!==(null===(C=e.message)||void 0===C?void 0:C.speakersChanged)&&(oe.message={$case:"speakersChanged",speakersChanged:oP.fromPartial(e.message.speakersChanged)}),"roomUpdate"===(null===(x=e.message)||void 0===x?void 0:x.$case)&&void 0!==(null===(j=e.message)||void 0===j?void 0:j.roomUpdate)&&null!==(null===(T=e.message)||void 0===T?void 0:T.roomUpdate)&&(oe.message={$case:"roomUpdate",roomUpdate:iP.fromPartial(e.message.roomUpdate)}),"connectionQuality"===(null===(R=e.message)||void 0===R?void 0:R.$case)&&void 0!==(null===(z=e.message)||void 0===z?void 0:z.connectionQuality)&&null!==(null===(I=e.message)||void 0===I?void 0:I.connectionQuality)&&(oe.message={$case:"connectionQuality",connectionQuality:sP.fromPartial(e.message.connectionQuality)}),"streamStateUpdate"===(null===(A=e.message)||void 0===A?void 0:A.$case)&&void 0!==(null===(M=e.message)||void 0===M?void 0:M.streamStateUpdate)&&null!==(null===(D=e.message)||void 0===D?void 0:D.streamStateUpdate)&&(oe.message={$case:"streamStateUpdate",streamStateUpdate:lP.fromPartial(e.message.streamStateUpdate)}),"subscribedQualityUpdate"===(null===(N=e.message)||void 0===N?void 0:N.$case)&&void 0!==(null===(L=e.message)||void 0===L?void 0:L.subscribedQualityUpdate)&&null!==(null===(U=e.message)||void 0===U?void 0:U.subscribedQualityUpdate)&&(oe.message={$case:"subscribedQualityUpdate",subscribedQualityUpdate:pP.fromPartial(e.message.subscribedQualityUpdate)}),"subscriptionPermissionUpdate"===(null===(B=e.message)||void 0===B?void 0:B.$case)&&void 0!==(null===(F=e.message)||void 0===F?void 0:F.subscriptionPermissionUpdate)&&null!==(null===(q=e.message)||void 0===q?void 0:q.subscriptionPermissionUpdate)&&(oe.message={$case:"subscriptionPermissionUpdate",subscriptionPermissionUpdate:mP.fromPartial(e.message.subscriptionPermissionUpdate)}),"refreshToken"===(null===(W=e.message)||void 0===W?void 0:W.$case)&&void 0!==(null===(Z=e.message)||void 0===Z?void 0:Z.refreshToken)&&null!==(null===(H=e.message)||void 0===H?void 0:H.refreshToken)&&(oe.message={$case:"refreshToken",refreshToken:e.message.refreshToken}),"trackUnpublished"===(null===($=e.message)||void 0===$?void 0:$.$case)&&void 0!==(null===(V=e.message)||void 0===V?void 0:V.trackUnpublished)&&null!==(null===(G=e.message)||void 0===G?void 0:G.trackUnpublished)&&(oe.message={$case:"trackUnpublished",trackUnpublished:JO.fromPartial(e.message.trackUnpublished)}),"pong"===(null===(J=e.message)||void 0===J?void 0:J.$case)&&void 0!==(null===(K=e.message)||void 0===K?void 0:K.pong)&&null!==(null===(Y=e.message)||void 0===Y?void 0:Y.pong)&&(oe.message={$case:"pong",pong:e.message.pong}),"reconnect"===(null===(X=e.message)||void 0===X?void 0:X.$case)&&void 0!==(null===(Q=e.message)||void 0===Q?void 0:Q.reconnect)&&null!==(null===(ee=e.message)||void 0===ee?void 0:ee.reconnect)&&(oe.message={$case:"reconnect",reconnect:VO.fromPartial(e.message.reconnect)}),"pongResp"===(null===(te=e.message)||void 0===te?void 0:te.$case)&&void 0!==(null===(re=e.message)||void 0===re?void 0:re.pongResp)&&null!==(null===(ne=e.message)||void 0===ne?void 0:ne.pongResp)&&(oe.message={$case:"pongResp",pongResp:kP.fromPartial(e.message.pongResp)}),oe}},qO={encode(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:D_.Writer.create();return""!==e.codec&&t.uint32(10).string(e.codec),""!==e.cid&&t.uint32(18).string(e.cid),!0===e.enableSimulcastLayers&&t.uint32(24).bool(e.enableSimulcastLayers),t},decode(e,t){const r=e instanceof D_.Reader?e:D_.Reader.create(e);let n=void 0===t?r.len:r.pos+t;const o={codec:"",cid:"",enableSimulcastLayers:!1};for(;r.pos<n;){const e=r.uint32();switch(e>>>3){case 1:if(10!=e)break;o.codec=r.string();continue;case 2:if(18!=e)break;o.cid=r.string();continue;case 3:if(24!=e)break;o.enableSimulcastLayers=r.bool();continue}if(4==(7&e)||0==e)break;r.skipType(7&e)}return o},fromJSON:e=>({codec:jP(e.codec)?String(e.codec):"",cid:jP(e.cid)?String(e.cid):"",enableSimulcastLayers:!!jP(e.enableSimulcastLayers)&&Boolean(e.enableSimulcastLayers)}),toJSON(e){const t={};return void 0!==e.codec&&(t.codec=e.codec),void 0!==e.cid&&(t.cid=e.cid),void 0!==e.enableSimulcastLayers&&(t.enableSimulcastLayers=e.enableSimulcastLayers),t},create:e=>qO.fromPartial(null!=e?e:{}),fromPartial(e){var t,r,n;const o={codec:"",cid:"",enableSimulcastLayers:!1};return o.codec=null!==(t=e.codec)&&void 0!==t?t:"",o.cid=null!==(r=e.cid)&&void 0!==r?r:"",o.enableSimulcastLayers=null!==(n=e.enableSimulcastLayers)&&void 0!==n&&n,o}},WO={encode(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:D_.Writer.create();""!==e.cid&&t.uint32(10).string(e.cid),""!==e.name&&t.uint32(18).string(e.name),0!==e.type&&t.uint32(24).int32(e.type),0!==e.width&&t.uint32(32).uint32(e.width),0!==e.height&&t.uint32(40).uint32(e.height),!0===e.muted&&t.uint32(48).bool(e.muted),!0===e.disableDtx&&t.uint32(56).bool(e.disableDtx),0!==e.source&&t.uint32(64).int32(e.source);for(const r of e.layers)iS.encode(r,t.uint32(74).fork()).ldelim();for(const r of e.simulcastCodecs)qO.encode(r,t.uint32(82).fork()).ldelim();return""!==e.sid&&t.uint32(90).string(e.sid),!0===e.stereo&&t.uint32(96).bool(e.stereo),!0===e.disableRed&&t.uint32(104).bool(e.disableRed),0!==e.encryption&&t.uint32(112).int32(e.encryption),t},decode(e,t){const r=e instanceof D_.Reader?e:D_.Reader.create(e);let n=void 0===t?r.len:r.pos+t;const o={cid:"",name:"",type:0,width:0,height:0,muted:!1,disableDtx:!1,source:0,layers:[],simulcastCodecs:[],sid:"",stereo:!1,disableRed:!1,encryption:0};for(;r.pos<n;){const e=r.uint32();switch(e>>>3){case 1:if(10!=e)break;o.cid=r.string();continue;case 2:if(18!=e)break;o.name=r.string();continue;case 3:if(24!=e)break;o.type=r.int32();continue;case 4:if(32!=e)break;o.width=r.uint32();continue;case 5:if(40!=e)break;o.height=r.uint32();continue;case 6:if(48!=e)break;o.muted=r.bool();continue;case 7:if(56!=e)break;o.disableDtx=r.bool();continue;case 8:if(64!=e)break;o.source=r.int32();continue;case 9:if(74!=e)break;o.layers.push(iS.decode(r,r.uint32()));continue;case 10:if(82!=e)break;o.simulcastCodecs.push(qO.decode(r,r.uint32()));continue;case 11:if(90!=e)break;o.sid=r.string();continue;case 12:if(96!=e)break;o.stereo=r.bool();continue;case 13:if(104!=e)break;o.disableRed=r.bool();continue;case 14:if(112!=e)break;o.encryption=r.int32();continue}if(4==(7&e)||0==e)break;r.skipType(7&e)}return o},fromJSON:e=>({cid:jP(e.cid)?String(e.cid):"",name:jP(e.name)?String(e.name):"",type:jP(e.type)?N_(e.type):0,width:jP(e.width)?Number(e.width):0,height:jP(e.height)?Number(e.height):0,muted:!!jP(e.muted)&&Boolean(e.muted),disableDtx:!!jP(e.disableDtx)&&Boolean(e.disableDtx),source:jP(e.source)?U_(e.source):0,layers:Array.isArray(null==e?void 0:e.layers)?e.layers.map((e=>iS.fromJSON(e))):[],simulcastCodecs:Array.isArray(null==e?void 0:e.simulcastCodecs)?e.simulcastCodecs.map((e=>qO.fromJSON(e))):[],sid:jP(e.sid)?String(e.sid):"",stereo:!!jP(e.stereo)&&Boolean(e.stereo),disableRed:!!jP(e.disableRed)&&Boolean(e.disableRed),encryption:jP(e.encryption)?G_(e.encryption):0}),toJSON(e){const t={};return void 0!==e.cid&&(t.cid=e.cid),void 0!==e.name&&(t.name=e.name),void 0!==e.type&&(t.type=L_(e.type)),void 0!==e.width&&(t.width=Math.round(e.width)),void 0!==e.height&&(t.height=Math.round(e.height)),void 0!==e.muted&&(t.muted=e.muted),void 0!==e.disableDtx&&(t.disableDtx=e.disableDtx),void 0!==e.source&&(t.source=B_(e.source)),e.layers?t.layers=e.layers.map((e=>e?iS.toJSON(e):void 0)):t.layers=[],e.simulcastCodecs?t.simulcastCodecs=e.simulcastCodecs.map((e=>e?qO.toJSON(e):void 0)):t.simulcastCodecs=[],void 0!==e.sid&&(t.sid=e.sid),void 0!==e.stereo&&(t.stereo=e.stereo),void 0!==e.disableRed&&(t.disableRed=e.disableRed),void 0!==e.encryption&&(t.encryption=J_(e.encryption)),t},create:e=>WO.fromPartial(null!=e?e:{}),fromPartial(e){var t,r,n,o,i,a,s,c,l,u,d,p,f,h;const m={cid:"",name:"",type:0,width:0,height:0,muted:!1,disableDtx:!1,source:0,layers:[],simulcastCodecs:[],sid:"",stereo:!1,disableRed:!1,encryption:0};return m.cid=null!==(t=e.cid)&&void 0!==t?t:"",m.name=null!==(r=e.name)&&void 0!==r?r:"",m.type=null!==(n=e.type)&&void 0!==n?n:0,m.width=null!==(o=e.width)&&void 0!==o?o:0,m.height=null!==(i=e.height)&&void 0!==i?i:0,m.muted=null!==(a=e.muted)&&void 0!==a&&a,m.disableDtx=null!==(s=e.disableDtx)&&void 0!==s&&s,m.source=null!==(c=e.source)&&void 0!==c?c:0,m.layers=(null===(l=e.layers)||void 0===l?void 0:l.map((e=>iS.fromPartial(e))))||[],m.simulcastCodecs=(null===(u=e.simulcastCodecs)||void 0===u?void 0:u.map((e=>qO.fromPartial(e))))||[],m.sid=null!==(d=e.sid)&&void 0!==d?d:"",m.stereo=null!==(p=e.stereo)&&void 0!==p&&p,m.disableRed=null!==(f=e.disableRed)&&void 0!==f&&f,m.encryption=null!==(h=e.encryption)&&void 0!==h?h:0,m}},ZO={encode(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:D_.Writer.create();return""!==e.candidateInit&&t.uint32(10).string(e.candidateInit),0!==e.target&&t.uint32(16).int32(e.target),t},decode(e,t){const r=e instanceof D_.Reader?e:D_.Reader.create(e);let n=void 0===t?r.len:r.pos+t;const o={candidateInit:"",target:0};for(;r.pos<n;){const e=r.uint32();switch(e>>>3){case 1:if(10!=e)break;o.candidateInit=r.string();continue;case 2:if(16!=e)break;o.target=r.int32();continue}if(4==(7&e)||0==e)break;r.skipType(7&e)}return o},fromJSON:e=>({candidateInit:jP(e.candidateInit)?String(e.candidateInit):"",target:jP(e.target)?DO(e.target):0}),toJSON(e){const t={};return void 0!==e.candidateInit&&(t.candidateInit=e.candidateInit),void 0!==e.target&&(t.target=NO(e.target)),t},create:e=>ZO.fromPartial(null!=e?e:{}),fromPartial(e){var t,r;const n={candidateInit:"",target:0};return n.candidateInit=null!==(t=e.candidateInit)&&void 0!==t?t:"",n.target=null!==(r=e.target)&&void 0!==r?r:0,n}},HO={encode(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:D_.Writer.create();return""!==e.sid&&t.uint32(10).string(e.sid),!0===e.muted&&t.uint32(16).bool(e.muted),t},decode(e,t){const r=e instanceof D_.Reader?e:D_.Reader.create(e);let n=void 0===t?r.len:r.pos+t;const o={sid:"",muted:!1};for(;r.pos<n;){const e=r.uint32();switch(e>>>3){case 1:if(10!=e)break;o.sid=r.string();continue;case 2:if(16!=e)break;o.muted=r.bool();continue}if(4==(7&e)||0==e)break;r.skipType(7&e)}return o},fromJSON:e=>({sid:jP(e.sid)?String(e.sid):"",muted:!!jP(e.muted)&&Boolean(e.muted)}),toJSON(e){const t={};return void 0!==e.sid&&(t.sid=e.sid),void 0!==e.muted&&(t.muted=e.muted),t},create:e=>HO.fromPartial(null!=e?e:{}),fromPartial(e){var t,r;const n={sid:"",muted:!1};return n.sid=null!==(t=e.sid)&&void 0!==t?t:"",n.muted=null!==(r=e.muted)&&void 0!==r&&r,n}},$O={encode(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:D_.Writer.create();void 0!==e.room&&Q_.encode(e.room,t.uint32(10).fork()).ldelim(),void 0!==e.participant&&rS.encode(e.participant,t.uint32(18).fork()).ldelim();for(const r of e.otherParticipants)rS.encode(r,t.uint32(26).fork()).ldelim();""!==e.serverVersion&&t.uint32(34).string(e.serverVersion);for(const r of e.iceServers)nP.encode(r,t.uint32(42).fork()).ldelim();return!0===e.subscriberPrimary&&t.uint32(48).bool(e.subscriberPrimary),""!==e.alternativeUrl&&t.uint32(58).string(e.alternativeUrl),void 0!==e.clientConfiguration&&hS.encode(e.clientConfiguration,t.uint32(66).fork()).ldelim(),""!==e.serverRegion&&t.uint32(74).string(e.serverRegion),0!==e.pingTimeout&&t.uint32(80).int32(e.pingTimeout),0!==e.pingInterval&&t.uint32(88).int32(e.pingInterval),void 0!==e.serverInfo&&pS.encode(e.serverInfo,t.uint32(98).fork()).ldelim(),t},decode(e,t){const r=e instanceof D_.Reader?e:D_.Reader.create(e);let n=void 0===t?r.len:r.pos+t;const o={room:void 0,participant:void 0,otherParticipants:[],serverVersion:"",iceServers:[],subscriberPrimary:!1,alternativeUrl:"",clientConfiguration:void 0,serverRegion:"",pingTimeout:0,pingInterval:0,serverInfo:void 0};for(;r.pos<n;){const e=r.uint32();switch(e>>>3){case 1:if(10!=e)break;o.room=Q_.decode(r,r.uint32());continue;case 2:if(18!=e)break;o.participant=rS.decode(r,r.uint32());continue;case 3:if(26!=e)break;o.otherParticipants.push(rS.decode(r,r.uint32()));continue;case 4:if(34!=e)break;o.serverVersion=r.string();continue;case 5:if(42!=e)break;o.iceServers.push(nP.decode(r,r.uint32()));continue;case 6:if(48!=e)break;o.subscriberPrimary=r.bool();continue;case 7:if(58!=e)break;o.alternativeUrl=r.string();continue;case 8:if(66!=e)break;o.clientConfiguration=hS.decode(r,r.uint32());continue;case 9:if(74!=e)break;o.serverRegion=r.string();continue;case 10:if(80!=e)break;o.pingTimeout=r.int32();continue;case 11:if(88!=e)break;o.pingInterval=r.int32();continue;case 12:if(98!=e)break;o.serverInfo=pS.decode(r,r.uint32());continue}if(4==(7&e)||0==e)break;r.skipType(7&e)}return o},fromJSON:e=>({room:jP(e.room)?Q_.fromJSON(e.room):void 0,participant:jP(e.participant)?rS.fromJSON(e.participant):void 0,otherParticipants:Array.isArray(null==e?void 0:e.otherParticipants)?e.otherParticipants.map((e=>rS.fromJSON(e))):[],serverVersion:jP(e.serverVersion)?String(e.serverVersion):"",iceServers:Array.isArray(null==e?void 0:e.iceServers)?e.iceServers.map((e=>nP.fromJSON(e))):[],subscriberPrimary:!!jP(e.subscriberPrimary)&&Boolean(e.subscriberPrimary),alternativeUrl:jP(e.alternativeUrl)?String(e.alternativeUrl):"",clientConfiguration:jP(e.clientConfiguration)?hS.fromJSON(e.clientConfiguration):void 0,serverRegion:jP(e.serverRegion)?String(e.serverRegion):"",pingTimeout:jP(e.pingTimeout)?Number(e.pingTimeout):0,pingInterval:jP(e.pingInterval)?Number(e.pingInterval):0,serverInfo:jP(e.serverInfo)?pS.fromJSON(e.serverInfo):void 0}),toJSON(e){const t={};return void 0!==e.room&&(t.room=e.room?Q_.toJSON(e.room):void 0),void 0!==e.participant&&(t.participant=e.participant?rS.toJSON(e.participant):void 0),e.otherParticipants?t.otherParticipants=e.otherParticipants.map((e=>e?rS.toJSON(e):void 0)):t.otherParticipants=[],void 0!==e.serverVersion&&(t.serverVersion=e.serverVersion),e.iceServers?t.iceServers=e.iceServers.map((e=>e?nP.toJSON(e):void 0)):t.iceServers=[],void 0!==e.subscriberPrimary&&(t.subscriberPrimary=e.subscriberPrimary),void 0!==e.alternativeUrl&&(t.alternativeUrl=e.alternativeUrl),void 0!==e.clientConfiguration&&(t.clientConfiguration=e.clientConfiguration?hS.toJSON(e.clientConfiguration):void 0),void 0!==e.serverRegion&&(t.serverRegion=e.serverRegion),void 0!==e.pingTimeout&&(t.pingTimeout=Math.round(e.pingTimeout)),void 0!==e.pingInterval&&(t.pingInterval=Math.round(e.pingInterval)),void 0!==e.serverInfo&&(t.serverInfo=e.serverInfo?pS.toJSON(e.serverInfo):void 0),t},create:e=>$O.fromPartial(null!=e?e:{}),fromPartial(e){var t,r,n,o,i,a,s,c;const l={room:void 0,participant:void 0,otherParticipants:[],serverVersion:"",iceServers:[],subscriberPrimary:!1,alternativeUrl:"",clientConfiguration:void 0,serverRegion:"",pingTimeout:0,pingInterval:0,serverInfo:void 0};return l.room=void 0!==e.room&&null!==e.room?Q_.fromPartial(e.room):void 0,l.participant=void 0!==e.participant&&null!==e.participant?rS.fromPartial(e.participant):void 0,l.otherParticipants=(null===(t=e.otherParticipants)||void 0===t?void 0:t.map((e=>rS.fromPartial(e))))||[],l.serverVersion=null!==(r=e.serverVersion)&&void 0!==r?r:"",l.iceServers=(null===(n=e.iceServers)||void 0===n?void 0:n.map((e=>nP.fromPartial(e))))||[],l.subscriberPrimary=null!==(o=e.subscriberPrimary)&&void 0!==o&&o,l.alternativeUrl=null!==(i=e.alternativeUrl)&&void 0!==i?i:"",l.clientConfiguration=void 0!==e.clientConfiguration&&null!==e.clientConfiguration?hS.fromPartial(e.clientConfiguration):void 0,l.serverRegion=null!==(a=e.serverRegion)&&void 0!==a?a:"",l.pingTimeout=null!==(s=e.pingTimeout)&&void 0!==s?s:0,l.pingInterval=null!==(c=e.pingInterval)&&void 0!==c?c:0,l.serverInfo=void 0!==e.serverInfo&&null!==e.serverInfo?pS.fromPartial(e.serverInfo):void 0,l}},VO={encode(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:D_.Writer.create();for(const r of e.iceServers)nP.encode(r,t.uint32(10).fork()).ldelim();return void 0!==e.clientConfiguration&&hS.encode(e.clientConfiguration,t.uint32(18).fork()).ldelim(),t},decode(e,t){const r=e instanceof D_.Reader?e:D_.Reader.create(e);let n=void 0===t?r.len:r.pos+t;const o={iceServers:[],clientConfiguration:void 0};for(;r.pos<n;){const e=r.uint32();switch(e>>>3){case 1:if(10!=e)break;o.iceServers.push(nP.decode(r,r.uint32()));continue;case 2:if(18!=e)break;o.clientConfiguration=hS.decode(r,r.uint32());continue}if(4==(7&e)||0==e)break;r.skipType(7&e)}return o},fromJSON:e=>({iceServers:Array.isArray(null==e?void 0:e.iceServers)?e.iceServers.map((e=>nP.fromJSON(e))):[],clientConfiguration:jP(e.clientConfiguration)?hS.fromJSON(e.clientConfiguration):void 0}),toJSON(e){const t={};return e.iceServers?t.iceServers=e.iceServers.map((e=>e?nP.toJSON(e):void 0)):t.iceServers=[],void 0!==e.clientConfiguration&&(t.clientConfiguration=e.clientConfiguration?hS.toJSON(e.clientConfiguration):void 0),t},create:e=>VO.fromPartial(null!=e?e:{}),fromPartial(e){var t;const r={iceServers:[],clientConfiguration:void 0};return r.iceServers=(null===(t=e.iceServers)||void 0===t?void 0:t.map((e=>nP.fromPartial(e))))||[],r.clientConfiguration=void 0!==e.clientConfiguration&&null!==e.clientConfiguration?hS.fromPartial(e.clientConfiguration):void 0,r}},GO={encode(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:D_.Writer.create();return""!==e.cid&&t.uint32(10).string(e.cid),void 0!==e.track&&oS.encode(e.track,t.uint32(18).fork()).ldelim(),t},decode(e,t){const r=e instanceof D_.Reader?e:D_.Reader.create(e);let n=void 0===t?r.len:r.pos+t;const o={cid:"",track:void 0};for(;r.pos<n;){const e=r.uint32();switch(e>>>3){case 1:if(10!=e)break;o.cid=r.string();continue;case 2:if(18!=e)break;o.track=oS.decode(r,r.uint32());continue}if(4==(7&e)||0==e)break;r.skipType(7&e)}return o},fromJSON:e=>({cid:jP(e.cid)?String(e.cid):"",track:jP(e.track)?oS.fromJSON(e.track):void 0}),toJSON(e){const t={};return void 0!==e.cid&&(t.cid=e.cid),void 0!==e.track&&(t.track=e.track?oS.toJSON(e.track):void 0),t},create:e=>GO.fromPartial(null!=e?e:{}),fromPartial(e){var t;const r={cid:"",track:void 0};return r.cid=null!==(t=e.cid)&&void 0!==t?t:"",r.track=void 0!==e.track&&null!==e.track?oS.fromPartial(e.track):void 0,r}},JO={encode(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:D_.Writer.create();return""!==e.trackSid&&t.uint32(10).string(e.trackSid),t},decode(e,t){const r=e instanceof D_.Reader?e:D_.Reader.create(e);let n=void 0===t?r.len:r.pos+t;const o={trackSid:""};for(;r.pos<n;){const e=r.uint32();switch(e>>>3){case 1:if(10!=e)break;o.trackSid=r.string();continue}if(4==(7&e)||0==e)break;r.skipType(7&e)}return o},fromJSON:e=>({trackSid:jP(e.trackSid)?String(e.trackSid):""}),toJSON(e){const t={};return void 0!==e.trackSid&&(t.trackSid=e.trackSid),t},create:e=>JO.fromPartial(null!=e?e:{}),fromPartial(e){var t;const r={trackSid:""};return r.trackSid=null!==(t=e.trackSid)&&void 0!==t?t:"",r}},KO={encode(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:D_.Writer.create();return""!==e.type&&t.uint32(10).string(e.type),""!==e.sdp&&t.uint32(18).string(e.sdp),t},decode(e,t){const r=e instanceof D_.Reader?e:D_.Reader.create(e);let n=void 0===t?r.len:r.pos+t;const o={type:"",sdp:""};for(;r.pos<n;){const e=r.uint32();switch(e>>>3){case 1:if(10!=e)break;o.type=r.string();continue;case 2:if(18!=e)break;o.sdp=r.string();continue}if(4==(7&e)||0==e)break;r.skipType(7&e)}return o},fromJSON:e=>({type:jP(e.type)?String(e.type):"",sdp:jP(e.sdp)?String(e.sdp):""}),toJSON(e){const t={};return void 0!==e.type&&(t.type=e.type),void 0!==e.sdp&&(t.sdp=e.sdp),t},create:e=>KO.fromPartial(null!=e?e:{}),fromPartial(e){var t,r;const n={type:"",sdp:""};return n.type=null!==(t=e.type)&&void 0!==t?t:"",n.sdp=null!==(r=e.sdp)&&void 0!==r?r:"",n}},YO={encode(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:D_.Writer.create();for(const r of e.participants)rS.encode(r,t.uint32(10).fork()).ldelim();return t},decode(e,t){const r=e instanceof D_.Reader?e:D_.Reader.create(e);let n=void 0===t?r.len:r.pos+t;const o={participants:[]};for(;r.pos<n;){const e=r.uint32();switch(e>>>3){case 1:if(10!=e)break;o.participants.push(rS.decode(r,r.uint32()));continue}if(4==(7&e)||0==e)break;r.skipType(7&e)}return o},fromJSON:e=>({participants:Array.isArray(null==e?void 0:e.participants)?e.participants.map((e=>rS.fromJSON(e))):[]}),toJSON(e){const t={};return e.participants?t.participants=e.participants.map((e=>e?rS.toJSON(e):void 0)):t.participants=[],t},create:e=>YO.fromPartial(null!=e?e:{}),fromPartial(e){var t;const r={participants:[]};return r.participants=(null===(t=e.participants)||void 0===t?void 0:t.map((e=>rS.fromPartial(e))))||[],r}},XO={encode(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:D_.Writer.create();for(const r of e.trackSids)t.uint32(10).string(r);!0===e.subscribe&&t.uint32(16).bool(e.subscribe);for(const r of e.participantTracks)dS.encode(r,t.uint32(26).fork()).ldelim();return t},decode(e,t){const r=e instanceof D_.Reader?e:D_.Reader.create(e);let n=void 0===t?r.len:r.pos+t;const o={trackSids:[],subscribe:!1,participantTracks:[]};for(;r.pos<n;){const e=r.uint32();switch(e>>>3){case 1:if(10!=e)break;o.trackSids.push(r.string());continue;case 2:if(16!=e)break;o.subscribe=r.bool();continue;case 3:if(26!=e)break;o.participantTracks.push(dS.decode(r,r.uint32()));continue}if(4==(7&e)||0==e)break;r.skipType(7&e)}return o},fromJSON:e=>({trackSids:Array.isArray(null==e?void 0:e.trackSids)?e.trackSids.map((e=>String(e))):[],subscribe:!!jP(e.subscribe)&&Boolean(e.subscribe),participantTracks:Array.isArray(null==e?void 0:e.participantTracks)?e.participantTracks.map((e=>dS.fromJSON(e))):[]}),toJSON(e){const t={};return e.trackSids?t.trackSids=e.trackSids.map((e=>e)):t.trackSids=[],void 0!==e.subscribe&&(t.subscribe=e.subscribe),e.participantTracks?t.participantTracks=e.participantTracks.map((e=>e?dS.toJSON(e):void 0)):t.participantTracks=[],t},create:e=>XO.fromPartial(null!=e?e:{}),fromPartial(e){var t,r,n;const o={trackSids:[],subscribe:!1,participantTracks:[]};return o.trackSids=(null===(t=e.trackSids)||void 0===t?void 0:t.map((e=>e)))||[],o.subscribe=null!==(r=e.subscribe)&&void 0!==r&&r,o.participantTracks=(null===(n=e.participantTracks)||void 0===n?void 0:n.map((e=>dS.fromPartial(e))))||[],o}},QO={encode(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:D_.Writer.create();for(const r of e.trackSids)t.uint32(10).string(r);return!0===e.disabled&&t.uint32(24).bool(e.disabled),0!==e.quality&&t.uint32(32).int32(e.quality),0!==e.width&&t.uint32(40).uint32(e.width),0!==e.height&&t.uint32(48).uint32(e.height),0!==e.fps&&t.uint32(56).uint32(e.fps),0!==e.priority&&t.uint32(64).uint32(e.priority),t},decode(e,t){const r=e instanceof D_.Reader?e:D_.Reader.create(e);let n=void 0===t?r.len:r.pos+t;const o={trackSids:[],disabled:!1,quality:0,width:0,height:0,fps:0,priority:0};for(;r.pos<n;){const e=r.uint32();switch(e>>>3){case 1:if(10!=e)break;o.trackSids.push(r.string());continue;case 3:if(24!=e)break;o.disabled=r.bool();continue;case 4:if(32!=e)break;o.quality=r.int32();continue;case 5:if(40!=e)break;o.width=r.uint32();continue;case 6:if(48!=e)break;o.height=r.uint32();continue;case 7:if(56!=e)break;o.fps=r.uint32();continue;case 8:if(64!=e)break;o.priority=r.uint32();continue}if(4==(7&e)||0==e)break;r.skipType(7&e)}return o},fromJSON:e=>({trackSids:Array.isArray(null==e?void 0:e.trackSids)?e.trackSids.map((e=>String(e))):[],disabled:!!jP(e.disabled)&&Boolean(e.disabled),quality:jP(e.quality)?F_(e.quality):0,width:jP(e.width)?Number(e.width):0,height:jP(e.height)?Number(e.height):0,fps:jP(e.fps)?Number(e.fps):0,priority:jP(e.priority)?Number(e.priority):0}),toJSON(e){const t={};return e.trackSids?t.trackSids=e.trackSids.map((e=>e)):t.trackSids=[],void 0!==e.disabled&&(t.disabled=e.disabled),void 0!==e.quality&&(t.quality=q_(e.quality)),void 0!==e.width&&(t.width=Math.round(e.width)),void 0!==e.height&&(t.height=Math.round(e.height)),void 0!==e.fps&&(t.fps=Math.round(e.fps)),void 0!==e.priority&&(t.priority=Math.round(e.priority)),t},create:e=>QO.fromPartial(null!=e?e:{}),fromPartial(e){var t,r,n,o,i,a,s;const c={trackSids:[],disabled:!1,quality:0,width:0,height:0,fps:0,priority:0};return c.trackSids=(null===(t=e.trackSids)||void 0===t?void 0:t.map((e=>e)))||[],c.disabled=null!==(r=e.disabled)&&void 0!==r&&r,c.quality=null!==(n=e.quality)&&void 0!==n?n:0,c.width=null!==(o=e.width)&&void 0!==o?o:0,c.height=null!==(i=e.height)&&void 0!==i?i:0,c.fps=null!==(a=e.fps)&&void 0!==a?a:0,c.priority=null!==(s=e.priority)&&void 0!==s?s:0,c}},eP={encode(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:D_.Writer.create();return!0===e.canReconnect&&t.uint32(8).bool(e.canReconnect),0!==e.reason&&t.uint32(16).int32(e.reason),t},decode(e,t){const r=e instanceof D_.Reader?e:D_.Reader.create(e);let n=void 0===t?r.len:r.pos+t;const o={canReconnect:!1,reason:0};for(;r.pos<n;){const e=r.uint32();switch(e>>>3){case 1:if(8!=e)break;o.canReconnect=r.bool();continue;case 2:if(16!=e)break;o.reason=r.int32();continue}if(4==(7&e)||0==e)break;r.skipType(7&e)}return o},fromJSON:e=>({canReconnect:!!jP(e.canReconnect)&&Boolean(e.canReconnect),reason:jP(e.reason)?$_(e.reason):0}),toJSON(e){const t={};return void 0!==e.canReconnect&&(t.canReconnect=e.canReconnect),void 0!==e.reason&&(t.reason=function(e){switch(e){case x_.UNKNOWN_REASON:return"UNKNOWN_REASON";case x_.CLIENT_INITIATED:return"CLIENT_INITIATED";case x_.DUPLICATE_IDENTITY:return"DUPLICATE_IDENTITY";case x_.SERVER_SHUTDOWN:return"SERVER_SHUTDOWN";case x_.PARTICIPANT_REMOVED:return"PARTICIPANT_REMOVED";case x_.ROOM_DELETED:return"ROOM_DELETED";case x_.STATE_MISMATCH:return"STATE_MISMATCH";case x_.JOIN_FAILURE:return"JOIN_FAILURE";case x_.UNRECOGNIZED:default:return"UNRECOGNIZED"}}(e.reason)),t},create:e=>eP.fromPartial(null!=e?e:{}),fromPartial(e){var t,r;const n={canReconnect:!1,reason:0};return n.canReconnect=null!==(t=e.canReconnect)&&void 0!==t&&t,n.reason=null!==(r=e.reason)&&void 0!==r?r:0,n}},tP={encode(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:D_.Writer.create();""!==e.trackSid&&t.uint32(10).string(e.trackSid);for(const r of e.layers)iS.encode(r,t.uint32(18).fork()).ldelim();return t},decode(e,t){const r=e instanceof D_.Reader?e:D_.Reader.create(e);let n=void 0===t?r.len:r.pos+t;const o={trackSid:"",layers:[]};for(;r.pos<n;){const e=r.uint32();switch(e>>>3){case 1:if(10!=e)break;o.trackSid=r.string();continue;case 2:if(18!=e)break;o.layers.push(iS.decode(r,r.uint32()));continue}if(4==(7&e)||0==e)break;r.skipType(7&e)}return o},fromJSON:e=>({trackSid:jP(e.trackSid)?String(e.trackSid):"",layers:Array.isArray(null==e?void 0:e.layers)?e.layers.map((e=>iS.fromJSON(e))):[]}),toJSON(e){const t={};return void 0!==e.trackSid&&(t.trackSid=e.trackSid),e.layers?t.layers=e.layers.map((e=>e?iS.toJSON(e):void 0)):t.layers=[],t},create:e=>tP.fromPartial(null!=e?e:{}),fromPartial(e){var t,r;const n={trackSid:"",layers:[]};return n.trackSid=null!==(t=e.trackSid)&&void 0!==t?t:"",n.layers=(null===(r=e.layers)||void 0===r?void 0:r.map((e=>iS.fromPartial(e))))||[],n}},rP={encode(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:D_.Writer.create();return""!==e.metadata&&t.uint32(10).string(e.metadata),""!==e.name&&t.uint32(18).string(e.name),t},decode(e,t){const r=e instanceof D_.Reader?e:D_.Reader.create(e);let n=void 0===t?r.len:r.pos+t;const o={metadata:"",name:""};for(;r.pos<n;){const e=r.uint32();switch(e>>>3){case 1:if(10!=e)break;o.metadata=r.string();continue;case 2:if(18!=e)break;o.name=r.string();continue}if(4==(7&e)||0==e)break;r.skipType(7&e)}return o},fromJSON:e=>({metadata:jP(e.metadata)?String(e.metadata):"",name:jP(e.name)?String(e.name):""}),toJSON(e){const t={};return void 0!==e.metadata&&(t.metadata=e.metadata),void 0!==e.name&&(t.name=e.name),t},create:e=>rP.fromPartial(null!=e?e:{}),fromPartial(e){var t,r;const n={metadata:"",name:""};return n.metadata=null!==(t=e.metadata)&&void 0!==t?t:"",n.name=null!==(r=e.name)&&void 0!==r?r:"",n}},nP={encode(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:D_.Writer.create();for(const r of e.urls)t.uint32(10).string(r);return""!==e.username&&t.uint32(18).string(e.username),""!==e.credential&&t.uint32(26).string(e.credential),t},decode(e,t){const r=e instanceof D_.Reader?e:D_.Reader.create(e);let n=void 0===t?r.len:r.pos+t;const o={urls:[],username:"",credential:""};for(;r.pos<n;){const e=r.uint32();switch(e>>>3){case 1:if(10!=e)break;o.urls.push(r.string());continue;case 2:if(18!=e)break;o.username=r.string();continue;case 3:if(26!=e)break;o.credential=r.string();continue}if(4==(7&e)||0==e)break;r.skipType(7&e)}return o},fromJSON:e=>({urls:Array.isArray(null==e?void 0:e.urls)?e.urls.map((e=>String(e))):[],username:jP(e.username)?String(e.username):"",credential:jP(e.credential)?String(e.credential):""}),toJSON(e){const t={};return e.urls?t.urls=e.urls.map((e=>e)):t.urls=[],void 0!==e.username&&(t.username=e.username),void 0!==e.credential&&(t.credential=e.credential),t},create:e=>nP.fromPartial(null!=e?e:{}),fromPartial(e){var t,r,n;const o={urls:[],username:"",credential:""};return o.urls=(null===(t=e.urls)||void 0===t?void 0:t.map((e=>e)))||[],o.username=null!==(r=e.username)&&void 0!==r?r:"",o.credential=null!==(n=e.credential)&&void 0!==n?n:"",o}},oP={encode(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:D_.Writer.create();for(const r of e.speakers)cS.encode(r,t.uint32(10).fork()).ldelim();return t},decode(e,t){const r=e instanceof D_.Reader?e:D_.Reader.create(e);let n=void 0===t?r.len:r.pos+t;const o={speakers:[]};for(;r.pos<n;){const e=r.uint32();switch(e>>>3){case 1:if(10!=e)break;o.speakers.push(cS.decode(r,r.uint32()));continue}if(4==(7&e)||0==e)break;r.skipType(7&e)}return o},fromJSON:e=>({speakers:Array.isArray(null==e?void 0:e.speakers)?e.speakers.map((e=>cS.fromJSON(e))):[]}),toJSON(e){const t={};return e.speakers?t.speakers=e.speakers.map((e=>e?cS.toJSON(e):void 0)):t.speakers=[],t},create:e=>oP.fromPartial(null!=e?e:{}),fromPartial(e){var t;const r={speakers:[]};return r.speakers=(null===(t=e.speakers)||void 0===t?void 0:t.map((e=>cS.fromPartial(e))))||[],r}},iP={encode(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:D_.Writer.create();return void 0!==e.room&&Q_.encode(e.room,t.uint32(10).fork()).ldelim(),t},decode(e,t){const r=e instanceof D_.Reader?e:D_.Reader.create(e);let n=void 0===t?r.len:r.pos+t;const o={room:void 0};for(;r.pos<n;){const e=r.uint32();switch(e>>>3){case 1:if(10!=e)break;o.room=Q_.decode(r,r.uint32());continue}if(4==(7&e)||0==e)break;r.skipType(7&e)}return o},fromJSON:e=>({room:jP(e.room)?Q_.fromJSON(e.room):void 0}),toJSON(e){const t={};return void 0!==e.room&&(t.room=e.room?Q_.toJSON(e.room):void 0),t},create:e=>iP.fromPartial(null!=e?e:{}),fromPartial(e){const t={room:void 0};return t.room=void 0!==e.room&&null!==e.room?Q_.fromPartial(e.room):void 0,t}},aP={encode(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:D_.Writer.create();return""!==e.participantSid&&t.uint32(10).string(e.participantSid),0!==e.quality&&t.uint32(16).int32(e.quality),0!==e.score&&t.uint32(29).float(e.score),t},decode(e,t){const r=e instanceof D_.Reader?e:D_.Reader.create(e);let n=void 0===t?r.len:r.pos+t;const o={participantSid:"",quality:0,score:0};for(;r.pos<n;){const e=r.uint32();switch(e>>>3){case 1:if(10!=e)break;o.participantSid=r.string();continue;case 2:if(16!=e)break;o.quality=r.int32();continue;case 3:if(29!=e)break;o.score=r.float();continue}if(4==(7&e)||0==e)break;r.skipType(7&e)}return o},fromJSON:e=>({participantSid:jP(e.participantSid)?String(e.participantSid):"",quality:jP(e.quality)?W_(e.quality):0,score:jP(e.score)?Number(e.score):0}),toJSON(e){const t={};return void 0!==e.participantSid&&(t.participantSid=e.participantSid),void 0!==e.quality&&(t.quality=function(e){switch(e){case E_.POOR:return"POOR";case E_.GOOD:return"GOOD";case E_.EXCELLENT:return"EXCELLENT";case E_.UNRECOGNIZED:default:return"UNRECOGNIZED"}}(e.quality)),void 0!==e.score&&(t.score=e.score),t},create:e=>aP.fromPartial(null!=e?e:{}),fromPartial(e){var t,r,n;const o={participantSid:"",quality:0,score:0};return o.participantSid=null!==(t=e.participantSid)&&void 0!==t?t:"",o.quality=null!==(r=e.quality)&&void 0!==r?r:0,o.score=null!==(n=e.score)&&void 0!==n?n:0,o}},sP={encode(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:D_.Writer.create();for(const r of e.updates)aP.encode(r,t.uint32(10).fork()).ldelim();return t},decode(e,t){const r=e instanceof D_.Reader?e:D_.Reader.create(e);let n=void 0===t?r.len:r.pos+t;const o={updates:[]};for(;r.pos<n;){const e=r.uint32();switch(e>>>3){case 1:if(10!=e)break;o.updates.push(aP.decode(r,r.uint32()));continue}if(4==(7&e)||0==e)break;r.skipType(7&e)}return o},fromJSON:e=>({updates:Array.isArray(null==e?void 0:e.updates)?e.updates.map((e=>aP.fromJSON(e))):[]}),toJSON(e){const t={};return e.updates?t.updates=e.updates.map((e=>e?aP.toJSON(e):void 0)):t.updates=[],t},create:e=>sP.fromPartial(null!=e?e:{}),fromPartial(e){var t;const r={updates:[]};return r.updates=(null===(t=e.updates)||void 0===t?void 0:t.map((e=>aP.fromPartial(e))))||[],r}},cP={encode(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:D_.Writer.create();return""!==e.participantSid&&t.uint32(10).string(e.participantSid),""!==e.trackSid&&t.uint32(18).string(e.trackSid),0!==e.state&&t.uint32(24).int32(e.state),t},decode(e,t){const r=e instanceof D_.Reader?e:D_.Reader.create(e);let n=void 0===t?r.len:r.pos+t;const o={participantSid:"",trackSid:"",state:0};for(;r.pos<n;){const e=r.uint32();switch(e>>>3){case 1:if(10!=e)break;o.participantSid=r.string();continue;case 2:if(18!=e)break;o.trackSid=r.string();continue;case 3:if(24!=e)break;o.state=r.int32();continue}if(4==(7&e)||0==e)break;r.skipType(7&e)}return o},fromJSON:e=>({participantSid:jP(e.participantSid)?String(e.participantSid):"",trackSid:jP(e.trackSid)?String(e.trackSid):"",state:jP(e.state)?LO(e.state):0}),toJSON(e){const t={};return void 0!==e.participantSid&&(t.participantSid=e.participantSid),void 0!==e.trackSid&&(t.trackSid=e.trackSid),void 0!==e.state&&(t.state=function(e){switch(e){case IO.ACTIVE:return"ACTIVE";case IO.PAUSED:return"PAUSED";case IO.UNRECOGNIZED:default:return"UNRECOGNIZED"}}(e.state)),t},create:e=>cP.fromPartial(null!=e?e:{}),fromPartial(e){var t,r,n;const o={participantSid:"",trackSid:"",state:0};return o.participantSid=null!==(t=e.participantSid)&&void 0!==t?t:"",o.trackSid=null!==(r=e.trackSid)&&void 0!==r?r:"",o.state=null!==(n=e.state)&&void 0!==n?n:0,o}},lP={encode(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:D_.Writer.create();for(const r of e.streamStates)cP.encode(r,t.uint32(10).fork()).ldelim();return t},decode(e,t){const r=e instanceof D_.Reader?e:D_.Reader.create(e);let n=void 0===t?r.len:r.pos+t;const o={streamStates:[]};for(;r.pos<n;){const e=r.uint32();switch(e>>>3){case 1:if(10!=e)break;o.streamStates.push(cP.decode(r,r.uint32()));continue}if(4==(7&e)||0==e)break;r.skipType(7&e)}return o},fromJSON:e=>({streamStates:Array.isArray(null==e?void 0:e.streamStates)?e.streamStates.map((e=>cP.fromJSON(e))):[]}),toJSON(e){const t={};return e.streamStates?t.streamStates=e.streamStates.map((e=>e?cP.toJSON(e):void 0)):t.streamStates=[],t},create:e=>lP.fromPartial(null!=e?e:{}),fromPartial(e){var t;const r={streamStates:[]};return r.streamStates=(null===(t=e.streamStates)||void 0===t?void 0:t.map((e=>cP.fromPartial(e))))||[],r}},uP={encode(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:D_.Writer.create();return 0!==e.quality&&t.uint32(8).int32(e.quality),!0===e.enabled&&t.uint32(16).bool(e.enabled),t},decode(e,t){const r=e instanceof D_.Reader?e:D_.Reader.create(e);let n=void 0===t?r.len:r.pos+t;const o={quality:0,enabled:!1};for(;r.pos<n;){const e=r.uint32();switch(e>>>3){case 1:if(8!=e)break;o.quality=r.int32();continue;case 2:if(16!=e)break;o.enabled=r.bool();continue}if(4==(7&e)||0==e)break;r.skipType(7&e)}return o},fromJSON:e=>({quality:jP(e.quality)?F_(e.quality):0,enabled:!!jP(e.enabled)&&Boolean(e.enabled)}),toJSON(e){const t={};return void 0!==e.quality&&(t.quality=q_(e.quality)),void 0!==e.enabled&&(t.enabled=e.enabled),t},create:e=>uP.fromPartial(null!=e?e:{}),fromPartial(e){var t,r;const n={quality:0,enabled:!1};return n.quality=null!==(t=e.quality)&&void 0!==t?t:0,n.enabled=null!==(r=e.enabled)&&void 0!==r&&r,n}},dP={encode(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:D_.Writer.create();""!==e.codec&&t.uint32(10).string(e.codec);for(const r of e.qualities)uP.encode(r,t.uint32(18).fork()).ldelim();return t},decode(e,t){const r=e instanceof D_.Reader?e:D_.Reader.create(e);let n=void 0===t?r.len:r.pos+t;const o={codec:"",qualities:[]};for(;r.pos<n;){const e=r.uint32();switch(e>>>3){case 1:if(10!=e)break;o.codec=r.string();continue;case 2:if(18!=e)break;o.qualities.push(uP.decode(r,r.uint32()));continue}if(4==(7&e)||0==e)break;r.skipType(7&e)}return o},fromJSON:e=>({codec:jP(e.codec)?String(e.codec):"",qualities:Array.isArray(null==e?void 0:e.qualities)?e.qualities.map((e=>uP.fromJSON(e))):[]}),toJSON(e){const t={};return void 0!==e.codec&&(t.codec=e.codec),e.qualities?t.qualities=e.qualities.map((e=>e?uP.toJSON(e):void 0)):t.qualities=[],t},create:e=>dP.fromPartial(null!=e?e:{}),fromPartial(e){var t,r;const n={codec:"",qualities:[]};return n.codec=null!==(t=e.codec)&&void 0!==t?t:"",n.qualities=(null===(r=e.qualities)||void 0===r?void 0:r.map((e=>uP.fromPartial(e))))||[],n}},pP={encode(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:D_.Writer.create();""!==e.trackSid&&t.uint32(10).string(e.trackSid);for(const r of e.subscribedQualities)uP.encode(r,t.uint32(18).fork()).ldelim();for(const r of e.subscribedCodecs)dP.encode(r,t.uint32(26).fork()).ldelim();return t},decode(e,t){const r=e instanceof D_.Reader?e:D_.Reader.create(e);let n=void 0===t?r.len:r.pos+t;const o={trackSid:"",subscribedQualities:[],subscribedCodecs:[]};for(;r.pos<n;){const e=r.uint32();switch(e>>>3){case 1:if(10!=e)break;o.trackSid=r.string();continue;case 2:if(18!=e)break;o.subscribedQualities.push(uP.decode(r,r.uint32()));continue;case 3:if(26!=e)break;o.subscribedCodecs.push(dP.decode(r,r.uint32()));continue}if(4==(7&e)||0==e)break;r.skipType(7&e)}return o},fromJSON:e=>({trackSid:jP(e.trackSid)?String(e.trackSid):"",subscribedQualities:Array.isArray(null==e?void 0:e.subscribedQualities)?e.subscribedQualities.map((e=>uP.fromJSON(e))):[],subscribedCodecs:Array.isArray(null==e?void 0:e.subscribedCodecs)?e.subscribedCodecs.map((e=>dP.fromJSON(e))):[]}),toJSON(e){const t={};return void 0!==e.trackSid&&(t.trackSid=e.trackSid),e.subscribedQualities?t.subscribedQualities=e.subscribedQualities.map((e=>e?uP.toJSON(e):void 0)):t.subscribedQualities=[],e.subscribedCodecs?t.subscribedCodecs=e.subscribedCodecs.map((e=>e?dP.toJSON(e):void 0)):t.subscribedCodecs=[],t},create:e=>pP.fromPartial(null!=e?e:{}),fromPartial(e){var t,r,n;const o={trackSid:"",subscribedQualities:[],subscribedCodecs:[]};return o.trackSid=null!==(t=e.trackSid)&&void 0!==t?t:"",o.subscribedQualities=(null===(r=e.subscribedQualities)||void 0===r?void 0:r.map((e=>uP.fromPartial(e))))||[],o.subscribedCodecs=(null===(n=e.subscribedCodecs)||void 0===n?void 0:n.map((e=>dP.fromPartial(e))))||[],o}},fP={encode(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:D_.Writer.create();""!==e.participantSid&&t.uint32(10).string(e.participantSid),!0===e.allTracks&&t.uint32(16).bool(e.allTracks);for(const r of e.trackSids)t.uint32(26).string(r);return""!==e.participantIdentity&&t.uint32(34).string(e.participantIdentity),t},decode(e,t){const r=e instanceof D_.Reader?e:D_.Reader.create(e);let n=void 0===t?r.len:r.pos+t;const o={participantSid:"",allTracks:!1,trackSids:[],participantIdentity:""};for(;r.pos<n;){const e=r.uint32();switch(e>>>3){case 1:if(10!=e)break;o.participantSid=r.string();continue;case 2:if(16!=e)break;o.allTracks=r.bool();continue;case 3:if(26!=e)break;o.trackSids.push(r.string());continue;case 4:if(34!=e)break;o.participantIdentity=r.string();continue}if(4==(7&e)||0==e)break;r.skipType(7&e)}return o},fromJSON:e=>({participantSid:jP(e.participantSid)?String(e.participantSid):"",allTracks:!!jP(e.allTracks)&&Boolean(e.allTracks),trackSids:Array.isArray(null==e?void 0:e.trackSids)?e.trackSids.map((e=>String(e))):[],participantIdentity:jP(e.participantIdentity)?String(e.participantIdentity):""}),toJSON(e){const t={};return void 0!==e.participantSid&&(t.participantSid=e.participantSid),void 0!==e.allTracks&&(t.allTracks=e.allTracks),e.trackSids?t.trackSids=e.trackSids.map((e=>e)):t.trackSids=[],void 0!==e.participantIdentity&&(t.participantIdentity=e.participantIdentity),t},create:e=>fP.fromPartial(null!=e?e:{}),fromPartial(e){var t,r,n,o;const i={participantSid:"",allTracks:!1,trackSids:[],participantIdentity:""};return i.participantSid=null!==(t=e.participantSid)&&void 0!==t?t:"",i.allTracks=null!==(r=e.allTracks)&&void 0!==r&&r,i.trackSids=(null===(n=e.trackSids)||void 0===n?void 0:n.map((e=>e)))||[],i.participantIdentity=null!==(o=e.participantIdentity)&&void 0!==o?o:"",i}},hP={encode(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:D_.Writer.create();!0===e.allParticipants&&t.uint32(8).bool(e.allParticipants);for(const r of e.trackPermissions)fP.encode(r,t.uint32(18).fork()).ldelim();return t},decode(e,t){const r=e instanceof D_.Reader?e:D_.Reader.create(e);let n=void 0===t?r.len:r.pos+t;const o={allParticipants:!1,trackPermissions:[]};for(;r.pos<n;){const e=r.uint32();switch(e>>>3){case 1:if(8!=e)break;o.allParticipants=r.bool();continue;case 2:if(18!=e)break;o.trackPermissions.push(fP.decode(r,r.uint32()));continue}if(4==(7&e)||0==e)break;r.skipType(7&e)}return o},fromJSON:e=>({allParticipants:!!jP(e.allParticipants)&&Boolean(e.allParticipants),trackPermissions:Array.isArray(null==e?void 0:e.trackPermissions)?e.trackPermissions.map((e=>fP.fromJSON(e))):[]}),toJSON(e){const t={};return void 0!==e.allParticipants&&(t.allParticipants=e.allParticipants),e.trackPermissions?t.trackPermissions=e.trackPermissions.map((e=>e?fP.toJSON(e):void 0)):t.trackPermissions=[],t},create:e=>hP.fromPartial(null!=e?e:{}),fromPartial(e){var t,r;const n={allParticipants:!1,trackPermissions:[]};return n.allParticipants=null!==(t=e.allParticipants)&&void 0!==t&&t,n.trackPermissions=(null===(r=e.trackPermissions)||void 0===r?void 0:r.map((e=>fP.fromPartial(e))))||[],n}},mP={encode(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:D_.Writer.create();return""!==e.participantSid&&t.uint32(10).string(e.participantSid),""!==e.trackSid&&t.uint32(18).string(e.trackSid),!0===e.allowed&&t.uint32(24).bool(e.allowed),t},decode(e,t){const r=e instanceof D_.Reader?e:D_.Reader.create(e);let n=void 0===t?r.len:r.pos+t;const o={participantSid:"",trackSid:"",allowed:!1};for(;r.pos<n;){const e=r.uint32();switch(e>>>3){case 1:if(10!=e)break;o.participantSid=r.string();continue;case 2:if(18!=e)break;o.trackSid=r.string();continue;case 3:if(24!=e)break;o.allowed=r.bool();continue}if(4==(7&e)||0==e)break;r.skipType(7&e)}return o},fromJSON:e=>({participantSid:jP(e.participantSid)?String(e.participantSid):"",trackSid:jP(e.trackSid)?String(e.trackSid):"",allowed:!!jP(e.allowed)&&Boolean(e.allowed)}),toJSON(e){const t={};return void 0!==e.participantSid&&(t.participantSid=e.participantSid),void 0!==e.trackSid&&(t.trackSid=e.trackSid),void 0!==e.allowed&&(t.allowed=e.allowed),t},create:e=>mP.fromPartial(null!=e?e:{}),fromPartial(e){var t,r,n;const o={participantSid:"",trackSid:"",allowed:!1};return o.participantSid=null!==(t=e.participantSid)&&void 0!==t?t:"",o.trackSid=null!==(r=e.trackSid)&&void 0!==r?r:"",o.allowed=null!==(n=e.allowed)&&void 0!==n&&n,o}},yP={encode(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:D_.Writer.create();void 0!==e.answer&&KO.encode(e.answer,t.uint32(10).fork()).ldelim(),void 0!==e.subscription&&XO.encode(e.subscription,t.uint32(18).fork()).ldelim();for(const r of e.publishTracks)GO.encode(r,t.uint32(26).fork()).ldelim();for(const r of e.dataChannels)gP.encode(r,t.uint32(34).fork()).ldelim();return void 0!==e.offer&&KO.encode(e.offer,t.uint32(42).fork()).ldelim(),t},decode(e,t){const r=e instanceof D_.Reader?e:D_.Reader.create(e);let n=void 0===t?r.len:r.pos+t;const o={answer:void 0,subscription:void 0,publishTracks:[],dataChannels:[],offer:void 0};for(;r.pos<n;){const e=r.uint32();switch(e>>>3){case 1:if(10!=e)break;o.answer=KO.decode(r,r.uint32());continue;case 2:if(18!=e)break;o.subscription=XO.decode(r,r.uint32());continue;case 3:if(26!=e)break;o.publishTracks.push(GO.decode(r,r.uint32()));continue;case 4:if(34!=e)break;o.dataChannels.push(gP.decode(r,r.uint32()));continue;case 5:if(42!=e)break;o.offer=KO.decode(r,r.uint32());continue}if(4==(7&e)||0==e)break;r.skipType(7&e)}return o},fromJSON:e=>({answer:jP(e.answer)?KO.fromJSON(e.answer):void 0,subscription:jP(e.subscription)?XO.fromJSON(e.subscription):void 0,publishTracks:Array.isArray(null==e?void 0:e.publishTracks)?e.publishTracks.map((e=>GO.fromJSON(e))):[],dataChannels:Array.isArray(null==e?void 0:e.dataChannels)?e.dataChannels.map((e=>gP.fromJSON(e))):[],offer:jP(e.offer)?KO.fromJSON(e.offer):void 0}),toJSON(e){const t={};return void 0!==e.answer&&(t.answer=e.answer?KO.toJSON(e.answer):void 0),void 0!==e.subscription&&(t.subscription=e.subscription?XO.toJSON(e.subscription):void 0),e.publishTracks?t.publishTracks=e.publishTracks.map((e=>e?GO.toJSON(e):void 0)):t.publishTracks=[],e.dataChannels?t.dataChannels=e.dataChannels.map((e=>e?gP.toJSON(e):void 0)):t.dataChannels=[],void 0!==e.offer&&(t.offer=e.offer?KO.toJSON(e.offer):void 0),t},create:e=>yP.fromPartial(null!=e?e:{}),fromPartial(e){var t,r;const n={answer:void 0,subscription:void 0,publishTracks:[],dataChannels:[],offer:void 0};return n.answer=void 0!==e.answer&&null!==e.answer?KO.fromPartial(e.answer):void 0,n.subscription=void 0!==e.subscription&&null!==e.subscription?XO.fromPartial(e.subscription):void 0,n.publishTracks=(null===(t=e.publishTracks)||void 0===t?void 0:t.map((e=>GO.fromPartial(e))))||[],n.dataChannels=(null===(r=e.dataChannels)||void 0===r?void 0:r.map((e=>gP.fromPartial(e))))||[],n.offer=void 0!==e.offer&&null!==e.offer?KO.fromPartial(e.offer):void 0,n}},gP={encode(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:D_.Writer.create();return""!==e.label&&t.uint32(10).string(e.label),0!==e.id&&t.uint32(16).uint32(e.id),0!==e.target&&t.uint32(24).int32(e.target),t},decode(e,t){const r=e instanceof D_.Reader?e:D_.Reader.create(e);let n=void 0===t?r.len:r.pos+t;const o={label:"",id:0,target:0};for(;r.pos<n;){const e=r.uint32();switch(e>>>3){case 1:if(10!=e)break;o.label=r.string();continue;case 2:if(16!=e)break;o.id=r.uint32();continue;case 3:if(24!=e)break;o.target=r.int32();continue}if(4==(7&e)||0==e)break;r.skipType(7&e)}return o},fromJSON:e=>({label:jP(e.label)?String(e.label):"",id:jP(e.id)?Number(e.id):0,target:jP(e.target)?DO(e.target):0}),toJSON(e){const t={};return void 0!==e.label&&(t.label=e.label),void 0!==e.id&&(t.id=Math.round(e.id)),void 0!==e.target&&(t.target=NO(e.target)),t},create:e=>gP.fromPartial(null!=e?e:{}),fromPartial(e){var t,r,n;const o={label:"",id:0,target:0};return o.label=null!==(t=e.label)&&void 0!==t?t:"",o.id=null!==(r=e.id)&&void 0!==r?r:0,o.target=null!==(n=e.target)&&void 0!==n?n:0,o}},bP={encode(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:D_.Writer.create();var r;switch(null===(r=e.scenario)||void 0===r?void 0:r.$case){case"speakerUpdate":t.uint32(8).int32(e.scenario.speakerUpdate);break;case"nodeFailure":t.uint32(16).bool(e.scenario.nodeFailure);break;case"migration":t.uint32(24).bool(e.scenario.migration);break;case"serverLeave":t.uint32(32).bool(e.scenario.serverLeave);break;case"switchCandidateProtocol":t.uint32(40).int32(e.scenario.switchCandidateProtocol);break;case"subscriberBandwidth":t.uint32(48).int64(e.scenario.subscriberBandwidth)}return t},decode(e,t){const r=e instanceof D_.Reader?e:D_.Reader.create(e);let n=void 0===t?r.len:r.pos+t;const o={scenario:void 0};for(;r.pos<n;){const e=r.uint32();switch(e>>>3){case 1:if(8!=e)break;o.scenario={$case:"speakerUpdate",speakerUpdate:r.int32()};continue;case 2:if(16!=e)break;o.scenario={$case:"nodeFailure",nodeFailure:r.bool()};continue;case 3:if(24!=e)break;o.scenario={$case:"migration",migration:r.bool()};continue;case 4:if(32!=e)break;o.scenario={$case:"serverLeave",serverLeave:r.bool()};continue;case 5:if(40!=e)break;o.scenario={$case:"switchCandidateProtocol",switchCandidateProtocol:r.int32()};continue;case 6:if(48!=e)break;o.scenario={$case:"subscriberBandwidth",subscriberBandwidth:xP(r.int64())};continue}if(4==(7&e)||0==e)break;r.skipType(7&e)}return o},fromJSON:e=>({scenario:jP(e.speakerUpdate)?{$case:"speakerUpdate",speakerUpdate:Number(e.speakerUpdate)}:jP(e.nodeFailure)?{$case:"nodeFailure",nodeFailure:Boolean(e.nodeFailure)}:jP(e.migration)?{$case:"migration",migration:Boolean(e.migration)}:jP(e.serverLeave)?{$case:"serverLeave",serverLeave:Boolean(e.serverLeave)}:jP(e.switchCandidateProtocol)?{$case:"switchCandidateProtocol",switchCandidateProtocol:UO(e.switchCandidateProtocol)}:jP(e.subscriberBandwidth)?{$case:"subscriberBandwidth",subscriberBandwidth:Number(e.subscriberBandwidth)}:void 0}),toJSON(e){var t,r,n,o,i,a,s,c,l,u,d,p,f;const h={};return"speakerUpdate"===(null===(t=e.scenario)||void 0===t?void 0:t.$case)&&(h.speakerUpdate=Math.round(null===(r=e.scenario)||void 0===r?void 0:r.speakerUpdate)),"nodeFailure"===(null===(n=e.scenario)||void 0===n?void 0:n.$case)&&(h.nodeFailure=null===(o=e.scenario)||void 0===o?void 0:o.nodeFailure),"migration"===(null===(i=e.scenario)||void 0===i?void 0:i.$case)&&(h.migration=null===(a=e.scenario)||void 0===a?void 0:a.migration),"serverLeave"===(null===(s=e.scenario)||void 0===s?void 0:s.$case)&&(h.serverLeave=null===(c=e.scenario)||void 0===c?void 0:c.serverLeave),"switchCandidateProtocol"===(null===(l=e.scenario)||void 0===l?void 0:l.$case)&&(h.switchCandidateProtocol=void 0!==(null===(u=e.scenario)||void 0===u?void 0:u.switchCandidateProtocol)?function(e){switch(e){case AO.UDP:return"UDP";case AO.TCP:return"TCP";case AO.TLS:return"TLS";case AO.UNRECOGNIZED:default:return"UNRECOGNIZED"}}(null===(d=e.scenario)||void 0===d?void 0:d.switchCandidateProtocol):void 0),"subscriberBandwidth"===(null===(p=e.scenario)||void 0===p?void 0:p.$case)&&(h.subscriberBandwidth=Math.round(null===(f=e.scenario)||void 0===f?void 0:f.subscriberBandwidth)),h},create:e=>bP.fromPartial(null!=e?e:{}),fromPartial(e){var t,r,n,o,i,a,s,c,l,u,d,p,f,h,m,y,g,b;const v={scenario:void 0};return"speakerUpdate"===(null===(t=e.scenario)||void 0===t?void 0:t.$case)&&void 0!==(null===(r=e.scenario)||void 0===r?void 0:r.speakerUpdate)&&null!==(null===(n=e.scenario)||void 0===n?void 0:n.speakerUpdate)&&(v.scenario={$case:"speakerUpdate",speakerUpdate:e.scenario.speakerUpdate}),"nodeFailure"===(null===(o=e.scenario)||void 0===o?void 0:o.$case)&&void 0!==(null===(i=e.scenario)||void 0===i?void 0:i.nodeFailure)&&null!==(null===(a=e.scenario)||void 0===a?void 0:a.nodeFailure)&&(v.scenario={$case:"nodeFailure",nodeFailure:e.scenario.nodeFailure}),"migration"===(null===(s=e.scenario)||void 0===s?void 0:s.$case)&&void 0!==(null===(c=e.scenario)||void 0===c?void 0:c.migration)&&null!==(null===(l=e.scenario)||void 0===l?void 0:l.migration)&&(v.scenario={$case:"migration",migration:e.scenario.migration}),"serverLeave"===(null===(u=e.scenario)||void 0===u?void 0:u.$case)&&void 0!==(null===(d=e.scenario)||void 0===d?void 0:d.serverLeave)&&null!==(null===(p=e.scenario)||void 0===p?void 0:p.serverLeave)&&(v.scenario={$case:"serverLeave",serverLeave:e.scenario.serverLeave}),"switchCandidateProtocol"===(null===(f=e.scenario)||void 0===f?void 0:f.$case)&&void 0!==(null===(h=e.scenario)||void 0===h?void 0:h.switchCandidateProtocol)&&null!==(null===(m=e.scenario)||void 0===m?void 0:m.switchCandidateProtocol)&&(v.scenario={$case:"switchCandidateProtocol",switchCandidateProtocol:e.scenario.switchCandidateProtocol}),"subscriberBandwidth"===(null===(y=e.scenario)||void 0===y?void 0:y.$case)&&void 0!==(null===(g=e.scenario)||void 0===g?void 0:g.subscriberBandwidth)&&null!==(null===(b=e.scenario)||void 0===b?void 0:b.subscriberBandwidth)&&(v.scenario={$case:"subscriberBandwidth",subscriberBandwidth:e.scenario.subscriberBandwidth}),v}},vP={encode(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:D_.Writer.create();return 0!==e.timestamp&&t.uint32(8).int64(e.timestamp),0!==e.rtt&&t.uint32(16).int64(e.rtt),t},decode(e,t){const r=e instanceof D_.Reader?e:D_.Reader.create(e);let n=void 0===t?r.len:r.pos+t;const o={timestamp:0,rtt:0};for(;r.pos<n;){const e=r.uint32();switch(e>>>3){case 1:if(8!=e)break;o.timestamp=xP(r.int64());continue;case 2:if(16!=e)break;o.rtt=xP(r.int64());continue}if(4==(7&e)||0==e)break;r.skipType(7&e)}return o},fromJSON:e=>({timestamp:jP(e.timestamp)?Number(e.timestamp):0,rtt:jP(e.rtt)?Number(e.rtt):0}),toJSON(e){const t={};return void 0!==e.timestamp&&(t.timestamp=Math.round(e.timestamp)),void 0!==e.rtt&&(t.rtt=Math.round(e.rtt)),t},create:e=>vP.fromPartial(null!=e?e:{}),fromPartial(e){var t,r;const n={timestamp:0,rtt:0};return n.timestamp=null!==(t=e.timestamp)&&void 0!==t?t:0,n.rtt=null!==(r=e.rtt)&&void 0!==r?r:0,n}},kP={encode(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:D_.Writer.create();return 0!==e.lastPingTimestamp&&t.uint32(8).int64(e.lastPingTimestamp),0!==e.timestamp&&t.uint32(16).int64(e.timestamp),t},decode(e,t){const r=e instanceof D_.Reader?e:D_.Reader.create(e);let n=void 0===t?r.len:r.pos+t;const o={lastPingTimestamp:0,timestamp:0};for(;r.pos<n;){const e=r.uint32();switch(e>>>3){case 1:if(8!=e)break;o.lastPingTimestamp=xP(r.int64());continue;case 2:if(16!=e)break;o.timestamp=xP(r.int64());continue}if(4==(7&e)||0==e)break;r.skipType(7&e)}return o},fromJSON:e=>({lastPingTimestamp:jP(e.lastPingTimestamp)?Number(e.lastPingTimestamp):0,timestamp:jP(e.timestamp)?Number(e.timestamp):0}),toJSON(e){const t={};return void 0!==e.lastPingTimestamp&&(t.lastPingTimestamp=Math.round(e.lastPingTimestamp)),void 0!==e.timestamp&&(t.timestamp=Math.round(e.timestamp)),t},create:e=>kP.fromPartial(null!=e?e:{}),fromPartial(e){var t,r;const n={lastPingTimestamp:0,timestamp:0};return n.lastPingTimestamp=null!==(t=e.lastPingTimestamp)&&void 0!==t?t:0,n.timestamp=null!==(r=e.timestamp)&&void 0!==r?r:0,n}};var wP,_P,SP,OP,PP,EP,CP=(()=>{if("undefined"!=typeof globalThis)return globalThis;if("undefined"!=typeof self)return self;if("undefined"!=typeof window)return window;if("undefined"!=typeof global)return global;throw"Unable to locate global object"})();function xP(e){if(e.gt(Number.MAX_SAFE_INTEGER))throw new CP.Error("Value is larger than Number.MAX_SAFE_INTEGER");return e.toNumber()}function jP(e){return null!=e}D_.util.Long!==Cw&&(D_.util.Long=Cw,D_.configure());class TP extends Error{constructor(e,t){super(t||"an error has occured"),this.code=e}}class RP extends TP{constructor(e,t,r){super(1,e),this.status=r,this.reason=t}}class zP extends TP{constructor(e){super(21,null!=e?e:"device is unsupported")}}class IP extends TP{constructor(e){super(20,null!=e?e:"track is invalid")}}class AP extends TP{constructor(e){super(10,null!=e?e:"unsupported server")}}class MP extends TP{constructor(e){super(12,null!=e?e:"unexpected connection state")}}class DP extends TP{constructor(e){super(13,null!=e?e:"unable to negotiate")}}!function(e){e.PermissionDenied="PermissionDenied",e.NotFound="NotFound",e.DeviceInUse="DeviceInUse",e.Other="Other"}(wP||(wP={})),function(e){e.getFailure=function(t){if(t&&"name"in t)return"NotFoundError"===t.name||"DevicesNotFoundError"===t.name?e.NotFound:"NotAllowedError"===t.name||"PermissionDeniedError"===t.name?e.PermissionDenied:"NotReadableError"===t.name||"TrackStartError"===t.name?e.DeviceInUse:e.Other}}(wP||(wP={})),function(e){e.Connected="connected",e.Reconnecting="reconnecting",e.Reconnected="reconnected",e.Disconnected="disconnected",e.ConnectionStateChanged="connectionStateChanged",e.StateChanged="connectionStateChanged",e.MediaDevicesChanged="mediaDevicesChanged",e.ParticipantConnected="participantConnected",e.ParticipantDisconnected="participantDisconnected",e.TrackPublished="trackPublished",e.TrackSubscribed="trackSubscribed",e.TrackSubscriptionFailed="trackSubscriptionFailed",e.TrackUnpublished="trackUnpublished",e.TrackUnsubscribed="trackUnsubscribed",e.TrackMuted="trackMuted",e.TrackUnmuted="trackUnmuted",e.LocalTrackPublished="localTrackPublished",e.LocalTrackUnpublished="localTrackUnpublished",e.LocalAudioSilenceDetected="localAudioSilenceDetected",e.ActiveSpeakersChanged="activeSpeakersChanged",e.ParticipantMetadataChanged="participantMetadataChanged",e.RoomMetadataChanged="roomMetadataChanged",e.DataReceived="dataReceived",e.ConnectionQualityChanged="connectionQualityChanged",e.TrackStreamStateChanged="trackStreamStateChanged",e.TrackSubscriptionPermissionChanged="trackSubscriptionPermissionChanged",e.TrackSubscriptionStatusChanged="trackSubscriptionStatusChanged",e.AudioPlaybackStatusChanged="audioPlaybackChanged",e.MediaDevicesError="mediaDevicesError",e.ParticipantPermissionsChanged="participantPermissionsChanged",e.SignalConnected="signalConnected",e.RecordingStatusChanged="recordingStatusChanged",e.DCBufferStatusChanged="dcBufferStatusChanged"}(_P||(_P={})),function(e){e.TrackPublished="trackPublished",e.TrackSubscribed="trackSubscribed",e.TrackSubscriptionFailed="trackSubscriptionFailed",e.TrackUnpublished="trackUnpublished",e.TrackUnsubscribed="trackUnsubscribed",e.TrackMuted="trackMuted",e.TrackUnmuted="trackUnmuted",e.LocalTrackPublished="localTrackPublished",e.LocalTrackUnpublished="localTrackUnpublished",e.ParticipantMetadataChanged="participantMetadataChanged",e.DataReceived="dataReceived",e.IsSpeakingChanged="isSpeakingChanged",e.ConnectionQualityChanged="connectionQualityChanged",e.TrackStreamStateChanged="trackStreamStateChanged",e.TrackSubscriptionPermissionChanged="trackSubscriptionPermissionChanged",e.TrackSubscriptionStatusChanged="trackSubscriptionStatusChanged",e.MediaDevicesError="mediaDevicesError",e.ParticipantPermissionsChanged="participantPermissionsChanged"}(SP||(SP={})),function(e){e.TransportsCreated="transportsCreated",e.Connected="connected",e.Disconnected="disconnected",e.Resuming="resuming",e.Resumed="resumed",e.Restarting="restarting",e.Restarted="restarted",e.SignalResumed="signalResumed",e.Closing="closing",e.MediaTrackAdded="mediaTrackAdded",e.ActiveSpeakersUpdate="activeSpeakersUpdate",e.DataPacketReceived="dataPacketReceived",e.DCBufferStatusChanged="dcBufferStatusChanged"}(OP||(OP={})),(EP=PP||(PP={})).Message="message",EP.Muted="muted",EP.Unmuted="unmuted",EP.Restarted="restarted",EP.Ended="ended",EP.Subscribed="subscribed",EP.Unsubscribed="unsubscribed",EP.UpdateSettings="updateSettings",EP.UpdateSubscription="updateSubscription",EP.AudioPlaybackStarted="audioPlaybackStarted",EP.AudioPlaybackFailed="audioPlaybackFailed",EP.AudioSilenceDetected="audioSilenceDetected",EP.VisibilityChanged="visibilityChanged",EP.VideoDimensionsChanged="videoDimensionsChanged",EP.ElementAttached="elementAttached",EP.ElementDetached="elementDetached",EP.UpstreamPaused="upstreamPaused",EP.UpstreamResumed="upstreamResumed",EP.SubscriptionPermissionChanged="subscriptionPermissionChanged",EP.SubscriptionStatusChanged="subscriptionStatusChanged";const NP=2e3;function LP(e,t){if(!t)return 0;let r,n;return"bytesReceived"in e?(r=e.bytesReceived,n=t.bytesReceived):"bytesSent"in e&&(r=e.bytesSent,n=t.bytesSent),void 0===r||void 0===n||void 0===e.timestamp||void 0===t.timestamp?0:8*(r-n)*1e3/(e.timestamp-t.timestamp)}var UP={exports:{}};!function(e,t){!function(r,n){var o="function",i="undefined",a="object",s="string",c="major",l="model",u="name",d="type",p="vendor",f="version",h="architecture",m="console",y="mobile",g="tablet",b="smarttv",v="wearable",k="embedded",w="Amazon",_="Apple",S="ASUS",O="BlackBerry",P="Browser",E="Chrome",C="Firefox",x="Google",j="Huawei",T="LG",R="Microsoft",z="Motorola",I="Opera",A="Samsung",M="Sharp",D="Sony",N="Xiaomi",L="Zebra",U="Facebook",B="Chromium OS",F="Mac OS",q=function(e){for(var t={},r=0;r<e.length;r++)t[e[r].toUpperCase()]=e[r];return t},W=function(e,t){return typeof e===s&&-1!==Z(t).indexOf(Z(e))},Z=function(e){return e.toLowerCase()},H=function(e,t){if(typeof e===s)return e=e.replace(/^\s\s*/,""),typeof t===i?e:e.substring(0,350)},$=function(e,t){for(var r,i,s,c,l,u,d=0;d<t.length&&!l;){var p=t[d],f=t[d+1];for(r=i=0;r<p.length&&!l&&p[r];)if(l=p[r++].exec(e))for(s=0;s<f.length;s++)u=l[++i],typeof(c=f[s])===a&&c.length>0?2===c.length?typeof c[1]==o?this[c[0]]=c[1].call(this,u):this[c[0]]=c[1]:3===c.length?typeof c[1]!==o||c[1].exec&&c[1].test?this[c[0]]=u?u.replace(c[1],c[2]):n:this[c[0]]=u?c[1].call(this,u,c[2]):n:4===c.length&&(this[c[0]]=u?c[3].call(this,u.replace(c[1],c[2])):n):this[c]=u||n;d+=2}},V=function(e,t){for(var r in t)if(typeof t[r]===a&&t[r].length>0){for(var o=0;o<t[r].length;o++)if(W(t[r][o],e))return"?"===r?n:r}else if(W(t[r],e))return"?"===r?n:r;return e},G={ME:"4.90","NT 3.11":"NT3.51","NT 4.0":"NT4.0",2e3:"NT 5.0",XP:["NT 5.1","NT 5.2"],Vista:"NT 6.0",7:"NT 6.1",8:"NT 6.2",8.1:"NT 6.3",10:["NT 6.4","NT 10.0"],RT:"ARM"},J={browser:[[/\b(?:crmo|crios)\/([\w\.]+)/i],[f,[u,"Chrome"]],[/edg(?:e|ios|a)?\/([\w\.]+)/i],[f,[u,"Edge"]],[/(opera mini)\/([-\w\.]+)/i,/(opera [mobiletab]{3,6})\b.+version\/([-\w\.]+)/i,/(opera)(?:.+version\/|[\/ ]+)([\w\.]+)/i],[u,f],[/opios[\/ ]+([\w\.]+)/i],[f,[u,I+" Mini"]],[/\bopr\/([\w\.]+)/i],[f,[u,I]],[/(kindle)\/([\w\.]+)/i,/(lunascape|maxthon|netfront|jasmine|blazer)[\/ ]?([\w\.]*)/i,/(avant |iemobile|slim)(?:browser)?[\/ ]?([\w\.]*)/i,/(ba?idubrowser)[\/ ]?([\w\.]+)/i,/(?:ms|\()(ie) ([\w\.]+)/i,/(flock|rockmelt|midori|epiphany|silk|skyfire|bolt|iron|vivaldi|iridium|phantomjs|bowser|quark|qupzilla|falkon|rekonq|puffin|brave|whale(?!.+naver)|qqbrowserlite|qq|duckduckgo)\/([-\w\.]+)/i,/(heytap|ovi)browser\/([\d\.]+)/i,/(weibo)__([\d\.]+)/i],[u,f],[/(?:\buc? ?browser|(?:juc.+)ucweb)[\/ ]?([\w\.]+)/i],[f,[u,"UC"+P]],[/microm.+\bqbcore\/([\w\.]+)/i,/\bqbcore\/([\w\.]+).+microm/i],[f,[u,"WeChat(Win) Desktop"]],[/micromessenger\/([\w\.]+)/i],[f,[u,"WeChat"]],[/konqueror\/([\w\.]+)/i],[f,[u,"Konqueror"]],[/trident.+rv[: ]([\w\.]{1,9})\b.+like gecko/i],[f,[u,"IE"]],[/ya(?:search)?browser\/([\w\.]+)/i],[f,[u,"Yandex"]],[/(avast|avg)\/([\w\.]+)/i],[[u,/(.+)/,"$1 Secure "+P],f],[/\bfocus\/([\w\.]+)/i],[f,[u,C+" Focus"]],[/\bopt\/([\w\.]+)/i],[f,[u,I+" Touch"]],[/coc_coc\w+\/([\w\.]+)/i],[f,[u,"Coc Coc"]],[/dolfin\/([\w\.]+)/i],[f,[u,"Dolphin"]],[/coast\/([\w\.]+)/i],[f,[u,I+" Coast"]],[/miuibrowser\/([\w\.]+)/i],[f,[u,"MIUI "+P]],[/fxios\/([-\w\.]+)/i],[f,[u,C]],[/\bqihu|(qi?ho?o?|360)browser/i],[[u,"360 "+P]],[/(oculus|samsung|sailfish|huawei)browser\/([\w\.]+)/i],[[u,/(.+)/,"$1 "+P],f],[/(comodo_dragon)\/([\w\.]+)/i],[[u,/_/g," "],f],[/(electron)\/([\w\.]+) safari/i,/(tesla)(?: qtcarbrowser|\/(20\d\d\.[-\w\.]+))/i,/m?(qqbrowser|baiduboxapp|2345Explorer)[\/ ]?([\w\.]+)/i],[u,f],[/(metasr)[\/ ]?([\w\.]+)/i,/(lbbrowser)/i,/\[(linkedin)app\]/i],[u],[/((?:fban\/fbios|fb_iab\/fb4a)(?!.+fbav)|;fbav\/([\w\.]+);)/i],[[u,U],f],[/(kakao(?:talk|story))[\/ ]([\w\.]+)/i,/(naver)\(.*?(\d+\.[\w\.]+).*\)/i,/safari (line)\/([\w\.]+)/i,/\b(line)\/([\w\.]+)\/iab/i,/(chromium|instagram)[\/ ]([-\w\.]+)/i],[u,f],[/\bgsa\/([\w\.]+) .*safari\//i],[f,[u,"GSA"]],[/musical_ly(?:.+app_?version\/|_)([\w\.]+)/i],[f,[u,"TikTok"]],[/headlesschrome(?:\/([\w\.]+)| )/i],[f,[u,E+" Headless"]],[/ wv\).+(chrome)\/([\w\.]+)/i],[[u,E+" WebView"],f],[/droid.+ version\/([\w\.]+)\b.+(?:mobile safari|safari)/i],[f,[u,"Android "+P]],[/(chrome|omniweb|arora|[tizenoka]{5} ?browser)\/v?([\w\.]+)/i],[u,f],[/version\/([\w\.\,]+) .*mobile\/\w+ (safari)/i],[f,[u,"Mobile Safari"]],[/version\/([\w(\.|\,)]+) .*(mobile ?safari|safari)/i],[f,u],[/webkit.+?(mobile ?safari|safari)(\/[\w\.]+)/i],[u,[f,V,{"1.0":"/8",1.2:"/1",1.3:"/3","2.0":"/412","2.0.2":"/416","2.0.3":"/417","2.0.4":"/419","?":"/"}]],[/(webkit|khtml)\/([\w\.]+)/i],[u,f],[/(navigator|netscape\d?)\/([-\w\.]+)/i],[[u,"Netscape"],f],[/mobile vr; rv:([\w\.]+)\).+firefox/i],[f,[u,C+" Reality"]],[/ekiohf.+(flow)\/([\w\.]+)/i,/(swiftfox)/i,/(icedragon|iceweasel|camino|chimera|fennec|maemo browser|minimo|conkeror|klar)[\/ ]?([\w\.\+]+)/i,/(seamonkey|k-meleon|icecat|iceape|firebird|phoenix|palemoon|basilisk|waterfox)\/([-\w\.]+)$/i,/(firefox)\/([\w\.]+)/i,/(mozilla)\/([\w\.]+) .+rv\:.+gecko\/\d+/i,/(polaris|lynx|dillo|icab|doris|amaya|w3m|netsurf|sleipnir|obigo|mosaic|(?:go|ice|up)[\. ]?browser)[-\/ ]?v?([\w\.]+)/i,/(links) \(([\w\.]+)/i,/panasonic;(viera)/i],[u,f],[/(cobalt)\/([\w\.]+)/i],[u,[f,/master.|lts./,""]]],cpu:[[/(?:(amd|x(?:(?:86|64)[-_])?|wow|win)64)[;\)]/i],[[h,"amd64"]],[/(ia32(?=;))/i],[[h,Z]],[/((?:i[346]|x)86)[;\)]/i],[[h,"ia32"]],[/\b(aarch64|arm(v?8e?l?|_?64))\b/i],[[h,"arm64"]],[/\b(arm(?:v[67])?ht?n?[fl]p?)\b/i],[[h,"armhf"]],[/windows (ce|mobile); ppc;/i],[[h,"arm"]],[/((?:ppc|powerpc)(?:64)?)(?: mac|;|\))/i],[[h,/ower/,"",Z]],[/(sun4\w)[;\)]/i],[[h,"sparc"]],[/((?:avr32|ia64(?=;))|68k(?=\))|\barm(?=v(?:[1-7]|[5-7]1)l?|;|eabi)|(?=atmel )avr|(?:irix|mips|sparc)(?:64)?\b|pa-risc)/i],[[h,Z]]],device:[[/\b(sch-i[89]0\d|shw-m380s|sm-[ptx]\w{2,4}|gt-[pn]\d{2,4}|sgh-t8[56]9|nexus 10)/i],[l,[p,A],[d,g]],[/\b((?:s[cgp]h|gt|sm)-\w+|sc[g-]?[\d]+a?|galaxy nexus)/i,/samsung[- ]([-\w]+)/i,/sec-(sgh\w+)/i],[l,[p,A],[d,y]],[/(?:\/|\()(ip(?:hone|od)[\w, ]*)(?:\/|;)/i],[l,[p,_],[d,y]],[/\((ipad);[-\w\),; ]+apple/i,/applecoremedia\/[\w\.]+ \((ipad)/i,/\b(ipad)\d\d?,\d\d?[;\]].+ios/i],[l,[p,_],[d,g]],[/(macintosh);/i],[l,[p,_]],[/\b(sh-?[altvz]?\d\d[a-ekm]?)/i],[l,[p,M],[d,y]],[/\b((?:ag[rs][23]?|bah2?|sht?|btv)-a?[lw]\d{2})\b(?!.+d\/s)/i],[l,[p,j],[d,g]],[/(?:huawei|honor)([-\w ]+)[;\)]/i,/\b(nexus 6p|\w{2,4}e?-[atu]?[ln][\dx][012359c][adn]?)\b(?!.+d\/s)/i],[l,[p,j],[d,y]],[/\b(poco[\w ]+)(?: bui|\))/i,/\b; (\w+) build\/hm\1/i,/\b(hm[-_ ]?note?[_ ]?(?:\d\w)?) bui/i,/\b(redmi[\-_ ]?(?:note|k)?[\w_ ]+)(?: bui|\))/i,/\b(mi[-_ ]?(?:a\d|one|one[_ ]plus|note lte|max|cc)?[_ ]?(?:\d?\w?)[_ ]?(?:plus|se|lite)?)(?: bui|\))/i],[[l,/_/g," "],[p,N],[d,y]],[/\b(mi[-_ ]?(?:pad)(?:[\w_ ]+))(?: bui|\))/i],[[l,/_/g," "],[p,N],[d,g]],[/; (\w+) bui.+ oppo/i,/\b(cph[12]\d{3}|p(?:af|c[al]|d\w|e[ar])[mt]\d0|x9007|a101op)\b/i],[l,[p,"OPPO"],[d,y]],[/vivo (\w+)(?: bui|\))/i,/\b(v[12]\d{3}\w?[at])(?: bui|;)/i],[l,[p,"Vivo"],[d,y]],[/\b(rmx[12]\d{3})(?: bui|;|\))/i],[l,[p,"Realme"],[d,y]],[/\b(milestone|droid(?:[2-4x]| (?:bionic|x2|pro|razr))?:?( 4g)?)\b[\w ]+build\//i,/\bmot(?:orola)?[- ](\w*)/i,/((?:moto[\w\(\) ]+|xt\d{3,4}|nexus 6)(?= bui|\)))/i],[l,[p,z],[d,y]],[/\b(mz60\d|xoom[2 ]{0,2}) build\//i],[l,[p,z],[d,g]],[/((?=lg)?[vl]k\-?\d{3}) bui| 3\.[-\w; ]{10}lg?-([06cv9]{3,4})/i],[l,[p,T],[d,g]],[/(lm(?:-?f100[nv]?|-[\w\.]+)(?= bui|\))|nexus [45])/i,/\blg[-e;\/ ]+((?!browser|netcast|android tv)\w+)/i,/\blg-?([\d\w]+) bui/i],[l,[p,T],[d,y]],[/(ideatab[-\w ]+)/i,/lenovo ?(s[56]000[-\w]+|tab(?:[\w ]+)|yt[-\d\w]{6}|tb[-\d\w]{6})/i],[l,[p,"Lenovo"],[d,g]],[/(?:maemo|nokia).*(n900|lumia \d+)/i,/nokia[-_ ]?([-\w\.]*)/i],[[l,/_/g," "],[p,"Nokia"],[d,y]],[/(pixel c)\b/i],[l,[p,x],[d,g]],[/droid.+; (pixel[\daxl ]{0,6})(?: bui|\))/i],[l,[p,x],[d,y]],[/droid.+ (a?\d[0-2]{2}so|[c-g]\d{4}|so[-gl]\w+|xq-a\w[4-7][12])(?= bui|\).+chrome\/(?![1-6]{0,1}\d\.))/i],[l,[p,D],[d,y]],[/sony tablet [ps]/i,/\b(?:sony)?sgp\w+(?: bui|\))/i],[[l,"Xperia Tablet"],[p,D],[d,g]],[/ (kb2005|in20[12]5|be20[12][59])\b/i,/(?:one)?(?:plus)? (a\d0\d\d)(?: b|\))/i],[l,[p,"OnePlus"],[d,y]],[/(alexa)webm/i,/(kf[a-z]{2}wi|aeo[c-r]{2})( bui|\))/i,/(kf[a-z]+)( bui|\)).+silk\//i],[l,[p,w],[d,g]],[/((?:sd|kf)[0349hijorstuw]+)( bui|\)).+silk\//i],[[l,/(.+)/g,"Fire Phone $1"],[p,w],[d,y]],[/(playbook);[-\w\),; ]+(rim)/i],[l,p,[d,g]],[/\b((?:bb[a-f]|st[hv])100-\d)/i,/\(bb10; (\w+)/i],[l,[p,O],[d,y]],[/(?:\b|asus_)(transfo[prime ]{4,10} \w+|eeepc|slider \w+|nexus 7|padfone|p00[cj])/i],[l,[p,S],[d,g]],[/ (z[bes]6[027][012][km][ls]|zenfone \d\w?)\b/i],[l,[p,S],[d,y]],[/(nexus 9)/i],[l,[p,"HTC"],[d,g]],[/(htc)[-;_ ]{1,2}([\w ]+(?=\)| bui)|\w+)/i,/(zte)[- ]([\w ]+?)(?: bui|\/|\))/i,/(alcatel|geeksphone|nexian|panasonic(?!(?:;|\.))|sony(?!-bra))[-_ ]?([-\w]*)/i],[p,[l,/_/g," "],[d,y]],[/droid.+; ([ab][1-7]-?[0178a]\d\d?)/i],[l,[p,"Acer"],[d,g]],[/droid.+; (m[1-5] note) bui/i,/\bmz-([-\w]{2,})/i],[l,[p,"Meizu"],[d,y]],[/(blackberry|benq|palm(?=\-)|sonyericsson|acer|asus|dell|meizu|motorola|polytron)[-_ ]?([-\w]*)/i,/(hp) ([\w ]+\w)/i,/(asus)-?(\w+)/i,/(microsoft); (lumia[\w ]+)/i,/(lenovo)[-_ ]?([-\w]+)/i,/(jolla)/i,/(oppo) ?([\w ]+) bui/i],[p,l,[d,y]],[/(kobo)\s(ereader|touch)/i,/(archos) (gamepad2?)/i,/(hp).+(touchpad(?!.+tablet)|tablet)/i,/(kindle)\/([\w\.]+)/i,/(nook)[\w ]+build\/(\w+)/i,/(dell) (strea[kpr\d ]*[\dko])/i,/(le[- ]+pan)[- ]+(\w{1,9}) bui/i,/(trinity)[- ]*(t\d{3}) bui/i,/(gigaset)[- ]+(q\w{1,9}) bui/i,/(vodafone) ([\w ]+)(?:\)| bui)/i],[p,l,[d,g]],[/(surface duo)/i],[l,[p,R],[d,g]],[/droid [\d\.]+; (fp\du?)(?: b|\))/i],[l,[p,"Fairphone"],[d,y]],[/(u304aa)/i],[l,[p,"AT&T"],[d,y]],[/\bsie-(\w*)/i],[l,[p,"Siemens"],[d,y]],[/\b(rct\w+) b/i],[l,[p,"RCA"],[d,g]],[/\b(venue[\d ]{2,7}) b/i],[l,[p,"Dell"],[d,g]],[/\b(q(?:mv|ta)\w+) b/i],[l,[p,"Verizon"],[d,g]],[/\b(?:barnes[& ]+noble |bn[rt])([\w\+ ]*) b/i],[l,[p,"Barnes & Noble"],[d,g]],[/\b(tm\d{3}\w+) b/i],[l,[p,"NuVision"],[d,g]],[/\b(k88) b/i],[l,[p,"ZTE"],[d,g]],[/\b(nx\d{3}j) b/i],[l,[p,"ZTE"],[d,y]],[/\b(gen\d{3}) b.+49h/i],[l,[p,"Swiss"],[d,y]],[/\b(zur\d{3}) b/i],[l,[p,"Swiss"],[d,g]],[/\b((zeki)?tb.*\b) b/i],[l,[p,"Zeki"],[d,g]],[/\b([yr]\d{2}) b/i,/\b(dragon[- ]+touch |dt)(\w{5}) b/i],[[p,"Dragon Touch"],l,[d,g]],[/\b(ns-?\w{0,9}) b/i],[l,[p,"Insignia"],[d,g]],[/\b((nxa|next)-?\w{0,9}) b/i],[l,[p,"NextBook"],[d,g]],[/\b(xtreme\_)?(v(1[045]|2[015]|[3469]0|7[05])) b/i],[[p,"Voice"],l,[d,y]],[/\b(lvtel\-)?(v1[12]) b/i],[[p,"LvTel"],l,[d,y]],[/\b(ph-1) /i],[l,[p,"Essential"],[d,y]],[/\b(v(100md|700na|7011|917g).*\b) b/i],[l,[p,"Envizen"],[d,g]],[/\b(trio[-\w\. ]+) b/i],[l,[p,"MachSpeed"],[d,g]],[/\btu_(1491) b/i],[l,[p,"Rotor"],[d,g]],[/(shield[\w ]+) b/i],[l,[p,"Nvidia"],[d,g]],[/(sprint) (\w+)/i],[p,l,[d,y]],[/(kin\.[onetw]{3})/i],[[l,/\./g," "],[p,R],[d,y]],[/droid.+; (cc6666?|et5[16]|mc[239][23]x?|vc8[03]x?)\)/i],[l,[p,L],[d,g]],[/droid.+; (ec30|ps20|tc[2-8]\d[kx])\)/i],[l,[p,L],[d,y]],[/smart-tv.+(samsung)/i],[p,[d,b]],[/hbbtv.+maple;(\d+)/i],[[l,/^/,"SmartTV"],[p,A],[d,b]],[/(nux; netcast.+smarttv|lg (netcast\.tv-201\d|android tv))/i],[[p,T],[d,b]],[/(apple) ?tv/i],[p,[l,_+" TV"],[d,b]],[/crkey/i],[[l,E+"cast"],[p,x],[d,b]],[/droid.+aft(\w)( bui|\))/i],[l,[p,w],[d,b]],[/\(dtv[\);].+(aquos)/i,/(aquos-tv[\w ]+)\)/i],[l,[p,M],[d,b]],[/(bravia[\w ]+)( bui|\))/i],[l,[p,D],[d,b]],[/(mitv-\w{5}) bui/i],[l,[p,N],[d,b]],[/Hbbtv.*(technisat) (.*);/i],[p,l,[d,b]],[/\b(roku)[\dx]*[\)\/]((?:dvp-)?[\d\.]*)/i,/hbbtv\/\d+\.\d+\.\d+ +\([\w\+ ]*; *([\w\d][^;]*);([^;]*)/i],[[p,H],[l,H],[d,b]],[/\b(android tv|smart[- ]?tv|opera tv|tv; rv:)\b/i],[[d,b]],[/(ouya)/i,/(nintendo) ([wids3utch]+)/i],[p,l,[d,m]],[/droid.+; (shield) bui/i],[l,[p,"Nvidia"],[d,m]],[/(playstation [345portablevi]+)/i],[l,[p,D],[d,m]],[/\b(xbox(?: one)?(?!; xbox))[\); ]/i],[l,[p,R],[d,m]],[/((pebble))app/i],[p,l,[d,v]],[/(watch)(?: ?os[,\/]|\d,\d\/)[\d\.]+/i],[l,[p,_],[d,v]],[/droid.+; (glass) \d/i],[l,[p,x],[d,v]],[/droid.+; (wt63?0{2,3})\)/i],[l,[p,L],[d,v]],[/(quest( 2| pro)?)/i],[l,[p,U],[d,v]],[/(tesla)(?: qtcarbrowser|\/[-\w\.]+)/i],[p,[d,k]],[/(aeobc)\b/i],[l,[p,w],[d,k]],[/droid .+?; ([^;]+?)(?: bui|\) applew).+? mobile safari/i],[l,[d,y]],[/droid .+?; ([^;]+?)(?: bui|\) applew).+?(?! mobile) safari/i],[l,[d,g]],[/\b((tablet|tab)[;\/]|focus\/\d(?!.+mobile))/i],[[d,g]],[/(phone|mobile(?:[;\/]| [ \w\/\.]*safari)|pda(?=.+windows ce))/i],[[d,y]],[/(android[-\w\. ]{0,9});.+buil/i],[l,[p,"Generic"]]],engine:[[/windows.+ edge\/([\w\.]+)/i],[f,[u,"EdgeHTML"]],[/webkit\/537\.36.+chrome\/(?!27)([\w\.]+)/i],[f,[u,"Blink"]],[/(presto)\/([\w\.]+)/i,/(webkit|trident|netfront|netsurf|amaya|lynx|w3m|goanna)\/([\w\.]+)/i,/ekioh(flow)\/([\w\.]+)/i,/(khtml|tasman|links)[\/ ]\(?([\w\.]+)/i,/(icab)[\/ ]([23]\.[\d\.]+)/i,/\b(libweb)/i],[u,f],[/rv\:([\w\.]{1,9})\b.+(gecko)/i],[f,u]],os:[[/microsoft (windows) (vista|xp)/i],[u,f],[/(windows) nt 6\.2; (arm)/i,/(windows (?:phone(?: os)?|mobile))[\/ ]?([\d\.\w ]*)/i,/(windows)[\/ ]?([ntce\d\. ]+\w)(?!.+xbox)/i],[u,[f,V,G]],[/(win(?=3|9|n)|win 9x )([nt\d\.]+)/i],[[u,"Windows"],[f,V,G]],[/ip[honead]{2,4}\b(?:.*os ([\w]+) like mac|; opera)/i,/ios;fbsv\/([\d\.]+)/i,/cfnetwork\/.+darwin/i],[[f,/_/g,"."],[u,"iOS"]],[/(mac os x) ?([\w\. ]*)/i,/(macintosh|mac_powerpc\b)(?!.+haiku)/i],[[u,F],[f,/_/g,"."]],[/droid ([\w\.]+)\b.+(android[- ]x86|harmonyos)/i],[f,u],[/(android|webos|qnx|bada|rim tablet os|maemo|meego|sailfish)[-\/ ]?([\w\.]*)/i,/(blackberry)\w*\/([\w\.]*)/i,/(tizen|kaios)[\/ ]([\w\.]+)/i,/\((series40);/i],[u,f],[/\(bb(10);/i],[f,[u,O]],[/(?:symbian ?os|symbos|s60(?=;)|series60)[-\/ ]?([\w\.]*)/i],[f,[u,"Symbian"]],[/mozilla\/[\d\.]+ \((?:mobile|tablet|tv|mobile; [\w ]+); rv:.+ gecko\/([\w\.]+)/i],[f,[u,C+" OS"]],[/web0s;.+rt(tv)/i,/\b(?:hp)?wos(?:browser)?\/([\w\.]+)/i],[f,[u,"webOS"]],[/watch(?: ?os[,\/]|\d,\d\/)([\d\.]+)/i],[f,[u,"watchOS"]],[/crkey\/([\d\.]+)/i],[f,[u,E+"cast"]],[/(cros) [\w]+(?:\)| ([\w\.]+)\b)/i],[[u,B],f],[/panasonic;(viera)/i,/(netrange)mmh/i,/(nettv)\/(\d+\.[\w\.]+)/i,/(nintendo|playstation) ([wids345portablevuch]+)/i,/(xbox); +xbox ([^\);]+)/i,/\b(joli|palm)\b ?(?:os)?\/?([\w\.]*)/i,/(mint)[\/\(\) ]?(\w*)/i,/(mageia|vectorlinux)[; ]/i,/([kxln]?ubuntu|debian|suse|opensuse|gentoo|arch(?= linux)|slackware|fedora|mandriva|centos|pclinuxos|red ?hat|zenwalk|linpus|raspbian|plan 9|minix|risc os|contiki|deepin|manjaro|elementary os|sabayon|linspire)(?: gnu\/linux)?(?: enterprise)?(?:[- ]linux)?(?:-gnu)?[-\/ ]?(?!chrom|package)([-\w\.]*)/i,/(hurd|linux) ?([\w\.]*)/i,/(gnu) ?([\w\.]*)/i,/\b([-frentopcghs]{0,5}bsd|dragonfly)[\/ ]?(?!amd|[ix346]{1,2}86)([\w\.]*)/i,/(haiku) (\w+)/i],[u,f],[/(sunos) ?([\w\.\d]*)/i],[[u,"Solaris"],f],[/((?:open)?solaris)[-\/ ]?([\w\.]*)/i,/(aix) ((\d)(?=\.|\)| )[\w\.])*/i,/\b(beos|os\/2|amigaos|morphos|openvms|fuchsia|hp-ux|serenityos)/i,/(unix) ?([\w\.]*)/i],[u,f]]},K=function(e,t){if(typeof e===a&&(t=e,e=n),!(this instanceof K))return new K(e,t).getResult();var m=typeof r!==i&&r.navigator?r.navigator:n,b=e||(m&&m.userAgent?m.userAgent:""),v=m&&m.userAgentData?m.userAgentData:n,k=t?function(e,t){var r={};for(var n in e)t[n]&&t[n].length%2==0?r[n]=t[n].concat(e[n]):r[n]=e[n];return r}(J,t):J,w=m&&m.userAgent==b;return this.getBrowser=function(){var e,t={};return t[u]=n,t[f]=n,$.call(t,b,k.browser),t[c]=typeof(e=t[f])===s?e.replace(/[^\d\.]/g,"").split(".")[0]:n,w&&m&&m.brave&&typeof m.brave.isBrave==o&&(t[u]="Brave"),t},this.getCPU=function(){var e={};return e[h]=n,$.call(e,b,k.cpu),e},this.getDevice=function(){var e={};return e[p]=n,e[l]=n,e[d]=n,$.call(e,b,k.device),w&&!e[d]&&v&&v.mobile&&(e[d]=y),w&&"Macintosh"==e[l]&&m&&typeof m.standalone!==i&&m.maxTouchPoints&&m.maxTouchPoints>2&&(e[l]="iPad",e[d]=g),e},this.getEngine=function(){var e={};return e[u]=n,e[f]=n,$.call(e,b,k.engine),e},this.getOS=function(){var e={};return e[u]=n,e[f]=n,$.call(e,b,k.os),w&&!e[u]&&v&&"Unknown"!=v.platform&&(e[u]=v.platform.replace(/chrome os/i,B).replace(/macos/i,F)),e},this.getResult=function(){return{ua:this.getUA(),browser:this.getBrowser(),engine:this.getEngine(),os:this.getOS(),device:this.getDevice(),cpu:this.getCPU()}},this.getUA=function(){return b},this.setUA=function(e){return b=typeof e===s&&e.length>350?H(e,350):e,this},this.setUA(b),this};K.VERSION="1.0.35",K.BROWSER=q([u,f,c]),K.CPU=q([h]),K.DEVICE=q([l,p,d,m,y,b,g,v,k]),K.ENGINE=K.OS=q([u,f]),e.exports&&(t=e.exports=K),t.UAParser=K;var Y=typeof r!==i&&(r.jQuery||r.Zepto);if(Y&&!Y.ua){var X=new K;Y.ua=X.getResult(),Y.ua.get=function(){return X.getUA()},Y.ua.set=function(e){X.setUA(e);var t=X.getResult();for(var r in t)Y.ua[r]=t[r]}}}("object"==typeof window?window:zk)}(UP,UP.exports);var BP=Ik(UP.exports);function FP(e,t){return Object.keys(t).forEach((r=>{void 0===e[r]&&(e[r]=t[r])})),e}function qP(e){const t={};if(e.video)if("object"==typeof e.video){const r={},n=r,o=e.video;Object.keys(o).forEach((e=>{"resolution"===e?FP(n,o.resolution):n[e]=o[e]})),t.video=r}else t.video=e.video;else t.video=!1;return e.audio?"object"==typeof e.audio?t.audio=e.audio:t.audio=!0:t.audio=!1,t}function WP(){const e="undefined"!=typeof window&&(window.AudioContext||window.webkitAudioContext);if(e)return new e({latencyHint:"interactive"})}async function ZP(e){return new Promise((t=>setTimeout(t,e)))}function HP(){return"addTransceiver"in RTCPeerConnection.prototype}function $P(){return"addTrack"in RTCPeerConnection.prototype}function VP(e){return!!document&&(e||(e=document.createElement("audio")),"setSinkId"in e)}const GP={Chrome:"100",Chromium:"100",Safari:"15",Firefox:"100",Edge:"100",Brave:"1.40"};function JP(){return!!XP()&&-1!==navigator.userAgent.indexOf("Firefox")}function KP(){return!!XP()&&/^((?!chrome|android).)*safari/i.test(navigator.userAgent)}function YP(){return!!XP()&&/Tablet|iPad|Mobile|Android|BlackBerry/.test(navigator.userAgent)}function XP(){return"undefined"!=typeof document}function QP(){return"ReactNative"==navigator.product}function eE(e){return e.hostname.endsWith(".livekit.cloud")}function tE(){if(global&&global.LiveKitReactNativeGlobal)return global.LiveKitReactNativeGlobal}function rE(){if(XP())return window.devicePixelRatio;if(QP()){let e=tE();if(e)return e.devicePixelRatio}return 1}function nE(e){for(const t of e)t.target.handleResize(t)}function oE(e){for(const t of e)t.target.handleVisibilityChanged(t)}let iE=null;const aE=()=>(iE||(iE=new ResizeObserver(nE)),iE);let sE=null;const cE=()=>(sE||(sE=new IntersectionObserver(oE,{root:document,rootMargin:"0px"})),sE);let lE,uE;function dE(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:16,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:16,r=arguments.length>2&&void 0!==arguments[2]&&arguments[2],n=arguments.length>3&&void 0!==arguments[3]&&arguments[3];const o=document.createElement("canvas");o.width=e,o.height=t;const i=o.getContext("2d");null==i||i.fillRect(0,0,o.width,o.height),n&&i&&(i.beginPath(),i.arc(e/2,t/2,50,0,2*Math.PI,!0),i.closePath(),i.fillStyle="grey",i.fill());const a=o.captureStream(),[s]=a.getTracks();if(!s)throw Error("Could not get empty media stream video track");return s.enabled=r,s}function pE(){if(!uE){const e=new AudioContext,t=e.createOscillator(),r=e.createMediaStreamDestination();if(t.connect(r),t.start(),[uE]=r.stream.getAudioTracks(),!uE)throw Error("Could not get empty media stream audio track");uE.enabled=!1}return uE}class fE{constructor(e,t){this.onFinally=t,this.promise=new Promise((async(t,r)=>{this.resolve=t,this.reject=r,e&&await e(t,r)})).finally((()=>{var e;return null===(e=this.onFinally)||void 0===e?void 0:e.call(this)}))}}class hE{constructor(){this._locking=Promise.resolve(),this._locks=0}isLocked(){return this._locks>0}lock(){let e;this._locks+=1;const t=new Promise((t=>e=()=>{this._locks-=1,t()})),r=this._locking.then((()=>e));return this._locking=this._locking.then((()=>t)),r}}const mE="default";class yE{static getInstance(){return void 0===this.instance&&(this.instance=new yE),this.instance}async getDevices(e){let t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];var r;if((null===(r=yE.userMediaPromiseMap)||void 0===r?void 0:r.size)>0){Bk.debug("awaiting getUserMedia promise");try{e?await yE.userMediaPromiseMap.get(e):await Promise.all(yE.userMediaPromiseMap.values())}catch(e){Bk.warn("error waiting for media permissons")}}let n=await navigator.mediaDevices.enumerateDevices();if(t&&e&&(!yE.userMediaPromiseMap.get(e)||!KP())&&(0===n.length||n.some((t=>{const r=""===t.label,n=!e||t.kind===e;return r&&n})))){const t={video:"audioinput"!==e&&"audiooutput"!==e,audio:"videoinput"!==e},r=await navigator.mediaDevices.getUserMedia(t);n=await navigator.mediaDevices.enumerateDevices(),r.getTracks().forEach((e=>{e.stop()}))}return e&&(n=n.filter((t=>t.kind===e))),n}async normalizeDeviceId(e,t,r){if(t!==mE)return t;const n=(await this.getDevices(e)).find((e=>e.groupId===r&&e.deviceId!==mE));return null==n?void 0:n.deviceId}}yE.mediaDeviceKinds=["audioinput","audiooutput","videoinput"],yE.userMediaPromiseMap=new Map;var gE,bE={exports:{}},vE="object"==typeof Reflect?Reflect:null,kE=vE&&"function"==typeof vE.apply?vE.apply:function(e,t,r){return Function.prototype.apply.call(e,t,r)};gE=vE&&"function"==typeof vE.ownKeys?vE.ownKeys:Object.getOwnPropertySymbols?function(e){return Object.getOwnPropertyNames(e).concat(Object.getOwnPropertySymbols(e))}:function(e){return Object.getOwnPropertyNames(e)};var wE=Number.isNaN||function(e){return e!=e};function _E(){_E.init.call(this)}bE.exports=_E,bE.exports.once=function(e,t){return new Promise((function(r,n){function o(r){e.removeListener(t,i),n(r)}function i(){"function"==typeof e.removeListener&&e.removeListener("error",o),r([].slice.call(arguments))}zE(e,t,i,{once:!0}),"error"!==t&&function(e,t,r){"function"==typeof e.on&&zE(e,"error",t,{once:!0})}(e,o)}))},_E.EventEmitter=_E,_E.prototype._events=void 0,_E.prototype._eventsCount=0,_E.prototype._maxListeners=void 0;var SE=10;function OE(e){if("function"!=typeof e)throw new TypeError('The "listener" argument must be of type Function. Received type '+typeof e)}function PE(e){return void 0===e._maxListeners?_E.defaultMaxListeners:e._maxListeners}function EE(e,t,r,n){var o,i,a,s;if(OE(r),void 0===(i=e._events)?(i=e._events=Object.create(null),e._eventsCount=0):(void 0!==i.newListener&&(e.emit("newListener",t,r.listener?r.listener:r),i=e._events),a=i[t]),void 0===a)a=i[t]=r,++e._eventsCount;else if("function"==typeof a?a=i[t]=n?[r,a]:[a,r]:n?a.unshift(r):a.push(r),(o=PE(e))>0&&a.length>o&&!a.warned){a.warned=!0;var c=new Error("Possible EventEmitter memory leak detected. "+a.length+" "+String(t)+" listeners added. Use emitter.setMaxListeners() to increase limit");c.name="MaxListenersExceededWarning",c.emitter=e,c.type=t,c.count=a.length,s=c,console&&console.warn&&console.warn(s)}return e}function CE(){if(!this.fired)return this.target.removeListener(this.type,this.wrapFn),this.fired=!0,0===arguments.length?this.listener.call(this.target):this.listener.apply(this.target,arguments)}function xE(e,t,r){var n={fired:!1,wrapFn:void 0,target:e,type:t,listener:r},o=CE.bind(n);return o.listener=r,n.wrapFn=o,o}function jE(e,t,r){var n=e._events;if(void 0===n)return[];var o=n[t];return void 0===o?[]:"function"==typeof o?r?[o.listener||o]:[o]:r?function(e){for(var t=new Array(e.length),r=0;r<t.length;++r)t[r]=e[r].listener||e[r];return t}(o):RE(o,o.length)}function TE(e){var t=this._events;if(void 0!==t){var r=t[e];if("function"==typeof r)return 1;if(void 0!==r)return r.length}return 0}function RE(e,t){for(var r=new Array(t),n=0;n<t;++n)r[n]=e[n];return r}function zE(e,t,r,n){if("function"==typeof e.on)n.once?e.once(t,r):e.on(t,r);else{if("function"!=typeof e.addEventListener)throw new TypeError('The "emitter" argument must be of type EventEmitter. Received type '+typeof e);e.addEventListener(t,(function o(i){n.once&&e.removeEventListener(t,o),r(i)}))}}Object.defineProperty(_E,"defaultMaxListeners",{enumerable:!0,get:function(){return SE},set:function(e){if("number"!=typeof e||e<0||wE(e))throw new RangeError('The value of "defaultMaxListeners" is out of range. It must be a non-negative number. Received '+e+".");SE=e}}),_E.init=function(){void 0!==this._events&&this._events!==Object.getPrototypeOf(this)._events||(this._events=Object.create(null),this._eventsCount=0),this._maxListeners=this._maxListeners||void 0},_E.prototype.setMaxListeners=function(e){if("number"!=typeof e||e<0||wE(e))throw new RangeError('The value of "n" is out of range. It must be a non-negative number. Received '+e+".");return this._maxListeners=e,this},_E.prototype.getMaxListeners=function(){return PE(this)},_E.prototype.emit=function(e){for(var t=[],r=1;r<arguments.length;r++)t.push(arguments[r]);var n="error"===e,o=this._events;if(void 0!==o)n=n&&void 0===o.error;else if(!n)return!1;if(n){var i;if(t.length>0&&(i=t[0]),i instanceof Error)throw i;var a=new Error("Unhandled error."+(i?" ("+i.message+")":""));throw a.context=i,a}var s=o[e];if(void 0===s)return!1;if("function"==typeof s)kE(s,this,t);else{var c=s.length,l=RE(s,c);for(r=0;r<c;++r)kE(l[r],this,t)}return!0},_E.prototype.addListener=function(e,t){return EE(this,e,t,!1)},_E.prototype.on=_E.prototype.addListener,_E.prototype.prependListener=function(e,t){return EE(this,e,t,!0)},_E.prototype.once=function(e,t){return OE(t),this.on(e,xE(this,e,t)),this},_E.prototype.prependOnceListener=function(e,t){return OE(t),this.prependListener(e,xE(this,e,t)),this},_E.prototype.removeListener=function(e,t){var r,n,o,i,a;if(OE(t),void 0===(n=this._events))return this;if(void 0===(r=n[e]))return this;if(r===t||r.listener===t)0==--this._eventsCount?this._events=Object.create(null):(delete n[e],n.removeListener&&this.emit("removeListener",e,r.listener||t));else if("function"!=typeof r){for(o=-1,i=r.length-1;i>=0;i--)if(r[i]===t||r[i].listener===t){a=r[i].listener,o=i;break}if(o<0)return this;0===o?r.shift():function(e,t){for(;t+1<e.length;t++)e[t]=e[t+1];e.pop()}(r,o),1===r.length&&(n[e]=r[0]),void 0!==n.removeListener&&this.emit("removeListener",e,a||t)}return this},_E.prototype.off=_E.prototype.removeListener,_E.prototype.removeAllListeners=function(e){var t,r,n;if(void 0===(r=this._events))return this;if(void 0===r.removeListener)return 0===arguments.length?(this._events=Object.create(null),this._eventsCount=0):void 0!==r[e]&&(0==--this._eventsCount?this._events=Object.create(null):delete r[e]),this;if(0===arguments.length){var o,i=Object.keys(r);for(n=0;n<i.length;++n)"removeListener"!==(o=i[n])&&this.removeAllListeners(o);return this.removeAllListeners("removeListener"),this._events=Object.create(null),this._eventsCount=0,this}if("function"==typeof(t=r[e]))this.removeListener(e,t);else if(void 0!==t)for(n=t.length-1;n>=0;n--)this.removeListener(e,t[n]);return this},_E.prototype.listeners=function(e){return jE(this,e,!0)},_E.prototype.rawListeners=function(e){return jE(this,e,!1)},_E.listenerCount=function(e,t){return"function"==typeof e.listenerCount?e.listenerCount(t):TE.call(e,t)},_E.prototype.listenerCount=TE,_E.prototype.eventNames=function(){return this._eventsCount>0?gE(this._events):[]};var IE=bE.exports,AE=Ik(IE);const ME=[];class DE extends IE.EventEmitter{constructor(e,t){super(),this.attachedElements=[],this.isMuted=!1,this.streamState=DE.StreamState.Active,this.isInBackground=!1,this._currentBitrate=0,this.appVisibilityChangedListener=()=>{this.backgroundTimeout&&clearTimeout(this.backgroundTimeout),"hidden"===document.visibilityState?this.backgroundTimeout=setTimeout((()=>this.handleAppVisibilityChanged()),5e3):this.handleAppVisibilityChanged()},this.setMaxListeners(100),this.kind=t,this._mediaStreamTrack=e,this._mediaStreamID=e.id,this.source=DE.Source.Unknown}get currentBitrate(){return this._currentBitrate}get mediaStreamTrack(){return this._mediaStreamTrack}get mediaStreamID(){return this._mediaStreamID}attach(e){let t="audio";this.kind===DE.Kind.Video&&(t="video"),0===this.attachedElements.length&&DE.Kind.Video&&this.addAppVisibilityListener(),e||("audio"===t&&(ME.forEach((t=>{null!==t.parentElement||e||(e=t)})),e&&ME.splice(ME.indexOf(e),1)),e||(e=document.createElement(t))),this.attachedElements.includes(e)||this.attachedElements.push(e),NE(this._mediaStreamTrack,e);const r=e.srcObject.getTracks();return r.some((e=>"audio"===e.kind))&&e.play().then((()=>{this.emit(PP.AudioPlaybackStarted)})).catch((t=>{"NotAllowedError"===t.name?this.emit(PP.AudioPlaybackFailed,t):Bk.warn("could not playback audio",t),e&&r.some((e=>"video"===e.kind))&&"NotAllowedError"===t.name&&(e.muted=!0,e.play().catch((()=>{})))})),this.emit(PP.ElementAttached,e),e}detach(e){try{if(e){LE(this._mediaStreamTrack,e);const t=this.attachedElements.indexOf(e);return t>=0&&(this.attachedElements.splice(t,1),this.recycleElement(e),this.emit(PP.ElementDetached,e)),e}const t=[];return this.attachedElements.forEach((e=>{LE(this._mediaStreamTrack,e),t.push(e),this.recycleElement(e),this.emit(PP.ElementDetached,e)})),this.attachedElements=[],t}finally{0===this.attachedElements.length&&this.removeAppVisibilityListener()}}stop(){this.stopMonitor(),this._mediaStreamTrack.stop()}enable(){this._mediaStreamTrack.enabled=!0}disable(){this._mediaStreamTrack.enabled=!1}stopMonitor(){this.monitorInterval&&clearInterval(this.monitorInterval)}recycleElement(e){if(e instanceof HTMLAudioElement){let t=!0;e.pause(),ME.forEach((e=>{e.parentElement||(t=!1)})),t&&ME.push(e)}}async handleAppVisibilityChanged(){this.isInBackground="hidden"===document.visibilityState}addAppVisibilityListener(){XP()?(this.isInBackground="hidden"===document.visibilityState,document.addEventListener("visibilitychange",this.appVisibilityChangedListener)):this.isInBackground=!1}removeAppVisibilityListener(){XP()&&document.removeEventListener("visibilitychange",this.appVisibilityChangedListener)}}function NE(e,t){let r,n;r=t.srcObject instanceof MediaStream?t.srcObject:new MediaStream,n="audio"===e.kind?r.getAudioTracks():r.getVideoTracks(),n.includes(e)||(n.forEach((e=>{r.removeTrack(e)})),r.addTrack(e)),t.autoplay=!0,t.muted=0===r.getAudioTracks().length,t instanceof HTMLVideoElement&&(t.playsInline=!0),t.srcObject!==r&&(t.srcObject=r,(KP()||JP())&&t instanceof HTMLVideoElement&&setTimeout((()=>{t.srcObject=r,t.play().catch((()=>{}))}),0))}function LE(e,t){if(t.srcObject instanceof MediaStream){const r=t.srcObject;r.removeTrack(e),r.getTracks().length>0?t.srcObject=r:t.srcObject=null}}!function(e){let t,r,n;!function(e){e.Audio="audio",e.Video="video",e.Unknown="unknown"}(t=e.Kind||(e.Kind={})),function(e){e.Camera="camera",e.Microphone="microphone",e.ScreenShare="screen_share",e.ScreenShareAudio="screen_share_audio",e.Unknown="unknown"}(r=e.Source||(e.Source={})),function(e){e.Active="active",e.Paused="paused",e.Unknown="unknown"}(n=e.StreamState||(e.StreamState={})),e.kindToProto=function(e){switch(e){case t.Audio:return S_.AUDIO;case t.Video:return S_.VIDEO;default:return S_.UNRECOGNIZED}},e.kindFromProto=function(e){switch(e){case S_.AUDIO:return t.Audio;case S_.VIDEO:return t.Video;default:return t.Unknown}},e.sourceToProto=function(e){switch(e){case r.Camera:return O_.CAMERA;case r.Microphone:return O_.MICROPHONE;case r.ScreenShare:return O_.SCREEN_SHARE;case r.ScreenShareAudio:return O_.SCREEN_SHARE_AUDIO;default:return O_.UNRECOGNIZED}},e.sourceFromProto=function(e){switch(e){case O_.CAMERA:return r.Camera;case O_.MICROPHONE:return r.Microphone;case O_.SCREEN_SHARE:return r.ScreenShare;case O_.SCREEN_SHARE_AUDIO:return r.ScreenShareAudio;default:return r.Unknown}},e.streamStateFromProto=function(e){switch(e){case IO.ACTIVE:return n.Active;case IO.PAUSED:return n.Paused;default:return n.Unknown}}}(DE||(DE={}));class UE extends DE{constructor(e,t,r){let n=arguments.length>3&&void 0!==arguments[3]&&arguments[3];super(e,t),this._isUpstreamPaused=!1,this.handleEnded=()=>{this.isInBackground&&(this.reacquireTrack=!0),this.emit(PP.Ended,this)},this._mediaStreamTrack.addEventListener("ended",this.handleEnded),this.constraints=null!=r?r:e.getConstraints(),this.reacquireTrack=!1,this.providedByUser=n,this.muteLock=new hE,this.pauseUpstreamLock=new hE}get id(){return this._mediaStreamTrack.id}get dimensions(){if(this.kind!==DE.Kind.Video)return;const{width:e,height:t}=this._mediaStreamTrack.getSettings();return e&&t?{width:e,height:t}:void 0}get isUpstreamPaused(){return this._isUpstreamPaused}get isUserProvided(){return this.providedByUser}async waitForDimensions(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:2e3;if(this.kind===DE.Kind.Audio)throw new Error("cannot get dimensions for audio tracks");const t=Date.now();for(;Date.now()-t<e;){const e=this.dimensions;if(e)return e;await ZP(50)}throw new IP("unable to get track dimensions after timeout")}async getDeviceId(){if(this.source===DE.Source.ScreenShare)return;const{deviceId:e,groupId:t}=this._mediaStreamTrack.getSettings(),r=this.kind===DE.Kind.Audio?"audioinput":"videoinput";return yE.getInstance().normalizeDeviceId(r,e,t)}async mute(){return this.setTrackMuted(!0),this}async unmute(){return this.setTrackMuted(!1),this}async replaceTrack(e){let t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];if(!this.sender)throw new IP("unable to replace an unpublished track");return this.attachedElements.forEach((e=>{LE(this._mediaStreamTrack,e)})),this._mediaStreamTrack.removeEventListener("ended",this.handleEnded),this.providedByUser||this._mediaStreamTrack.stop(),e.addEventListener("ended",this.handleEnded),Bk.debug("replace MediaStreamTrack"),this.sender&&await this.sender.replaceTrack(e),this._mediaStreamTrack=e,this._mediaStreamTrack.enabled=!this.isMuted,await this.resumeUpstream(),this.attachedElements.forEach((t=>{NE(e,t)})),this.mediaStream=new MediaStream([e]),this.providedByUser=t,this}async restart(e){e||(e=this.constraints),Bk.debug("restarting track with constraints",e);const t={audio:!1,video:!1};this.kind===DE.Kind.Video?t.video=e:t.audio=e,this.attachedElements.forEach((e=>{LE(this._mediaStreamTrack,e)})),this._mediaStreamTrack.removeEventListener("ended",this.handleEnded),this._mediaStreamTrack.stop();const r=await navigator.mediaDevices.getUserMedia(t),n=r.getTracks()[0];return n.addEventListener("ended",this.handleEnded),Bk.debug("re-acquired MediaStreamTrack"),this.sender&&await this.sender.replaceTrack(n),this._mediaStreamTrack=n,await this.resumeUpstream(),this.attachedElements.forEach((e=>{NE(n,e)})),this.mediaStream=r,this.constraints=e,this.emit(PP.Restarted,this),this}setTrackMuted(e){Bk.debug("setting ".concat(this.kind," track ").concat(e?"muted":"unmuted")),this.isMuted===e&&this._mediaStreamTrack.enabled!==e||(this.isMuted=e,this._mediaStreamTrack.enabled=!e,this.emit(e?PP.Muted:PP.Unmuted,this))}get needsReAcquisition(){return"live"!==this._mediaStreamTrack.readyState||this._mediaStreamTrack.muted||!this._mediaStreamTrack.enabled||this.reacquireTrack}async handleAppVisibilityChanged(){await super.handleAppVisibilityChanged(),YP()&&(Bk.debug("visibility changed, is in Background: ".concat(this.isInBackground)),this.isInBackground||!this.needsReAcquisition||this.isUserProvided||this.isMuted||(Bk.debug("track needs to be reaquired, restarting ".concat(this.source)),await this.restart(),this.reacquireTrack=!1))}async pauseUpstream(){const e=await this.pauseUpstreamLock.lock();try{if(!0===this._isUpstreamPaused)return;if(!this.sender)return void Bk.warn("unable to pause upstream for an unpublished track");this._isUpstreamPaused=!0,this.emit(PP.UpstreamPaused,this);const e=this.kind===DE.Kind.Audio?pE():(lE||(lE=dE()),lE);await this.sender.replaceTrack(e)}finally{e()}}async resumeUpstream(){const e=await this.pauseUpstreamLock.lock();try{if(!1===this._isUpstreamPaused)return;if(!this.sender)return void Bk.warn("unable to resume upstream for an unpublished track");this._isUpstreamPaused=!1,this.emit(PP.UpstreamResumed,this),await this.sender.replaceTrack(this._mediaStreamTrack)}finally{e()}}}class BE extends UE{constructor(e,t){let r=!(arguments.length>2&&void 0!==arguments[2])||arguments[2];super(e,DE.Kind.Audio,t,r),this.stopOnMute=!1,this.monitorSender=async()=>{if(!this.sender)return void(this._currentBitrate=0);let e;try{e=await this.getSenderStats()}catch(e){return void Bk.error("could not get audio sender stats",{error:e})}e&&this.prevStats&&(this._currentBitrate=LP(e,this.prevStats)),this.prevStats=e},this.checkForSilence()}async setDeviceId(e){this.constraints.deviceId!==e&&(this.constraints.deviceId=e,this.isMuted||await this.restartTrack())}async mute(){const e=await this.muteLock.lock();try{return this.source===DE.Source.Microphone&&this.stopOnMute&&!this.isUserProvided&&(Bk.debug("stopping mic track"),this._mediaStreamTrack.stop()),await super.mute(),this}finally{e()}}async unmute(){const e=await this.muteLock.lock();try{return this.source!==DE.Source.Microphone||!this.stopOnMute&&"ended"!==this._mediaStreamTrack.readyState||this.isUserProvided||(Bk.debug("reacquiring mic track"),await this.restartTrack()),await super.unmute(),this}finally{e()}}async restartTrack(e){let t;if(e){const r=qP({audio:e});"boolean"!=typeof r.audio&&(t=r.audio)}await this.restart(t)}async restart(e){const t=await super.restart(e);return this.checkForSilence(),t}startMonitor(){XP()&&(this.monitorInterval||(this.monitorInterval=setInterval((()=>{this.monitorSender()}),NP)))}async getSenderStats(){var e;if(!(null===(e=this.sender)||void 0===e?void 0:e.getStats))return;let t;return(await this.sender.getStats()).forEach((e=>{"outbound-rtp"===e.type&&(t={type:"audio",streamId:e.id,packetsSent:e.packetsSent,packetsLost:e.packetsLost,bytesSent:e.bytesSent,timestamp:e.timestamp,roundTripTime:e.roundTripTime,jitter:e.jitter})})),t}async checkForSilence(){const e=await async function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:200;const r=WP();if(r){const n=r.createAnalyser();n.fftSize=2048;const o=n.frequencyBinCount,i=new Uint8Array(o);r.createMediaStreamSource(new MediaStream([e.mediaStreamTrack])).connect(n),await ZP(t),n.getByteTimeDomainData(i);const a=i.some((e=>128!==e&&0!==e));return r.close(),!a}return!1}(this);return e&&(this.isMuted||Bk.warn("silence detected on local audio track"),this.emit(PP.AudioSilenceDetected)),e}}class FE extends UE{constructor(e,t){let r=!(arguments.length>2&&void 0!==arguments[2])||arguments[2];super(e,DE.Kind.Video,t,r),this.simulcastCodecs=new Map,this.monitorSender=async()=>{if(!this.sender)return void(this._currentBitrate=0);let e;try{e=await this.getSenderStats()}catch(e){return void Bk.error("could not get audio sender stats",{error:e})}const t=new Map(e.map((e=>[e.rid,e])));if(this.prevStats){let e=0;t.forEach(((t,r)=>{var n;const o=null===(n=this.prevStats)||void 0===n?void 0:n.get(r);e+=LP(t,o)})),this._currentBitrate=e}this.prevStats=t},this.senderLock=new hE}get isSimulcast(){return!!(this.sender&&this.sender.getParameters().encodings.length>1)}startMonitor(e){var t;if(this.signalClient=e,!XP())return;const r=null===(t=this.sender)||void 0===t?void 0:t.getParameters();r&&(this.encodings=r.encodings),this.monitorInterval||(this.monitorInterval=setInterval((()=>{this.monitorSender()}),NP))}stop(){this._mediaStreamTrack.getConstraints(),this.simulcastCodecs.forEach((e=>{e.mediaStreamTrack.stop()})),super.stop()}async mute(){const e=await this.muteLock.lock();try{return this.source!==DE.Source.Camera||this.isUserProvided||(Bk.debug("stopping camera track"),this._mediaStreamTrack.stop()),await super.mute(),this}finally{e()}}async unmute(){const e=await this.muteLock.lock();try{return this.source!==DE.Source.Camera||this.isUserProvided||(Bk.debug("reacquiring camera track"),await this.restartTrack()),await super.unmute(),this}finally{e()}}async getSenderStats(){var e;if(!(null===(e=this.sender)||void 0===e?void 0:e.getStats))return[];const t=[],r=await this.sender.getStats();return r.forEach((e=>{var n;if("outbound-rtp"===e.type){const o={type:"video",streamId:e.id,frameHeight:e.frameHeight,frameWidth:e.frameWidth,firCount:e.firCount,pliCount:e.pliCount,nackCount:e.nackCount,packetsSent:e.packetsSent,bytesSent:e.bytesSent,framesSent:e.framesSent,timestamp:e.timestamp,rid:null!==(n=e.rid)&&void 0!==n?n:e.id,retransmittedPacketsSent:e.retransmittedPacketsSent,qualityLimitationReason:e.qualityLimitationReason,qualityLimitationResolutionChanges:e.qualityLimitationResolutionChanges},i=r.get(e.remoteId);i&&(o.jitter=i.jitter,o.packetsLost=i.packetsLost,o.roundTripTime=i.roundTripTime),t.push(o)}})),t}setPublishingQuality(e){const t=[];for(let r=P_.LOW;r<=P_.HIGH;r+=1)t.push({quality:r,enabled:r<=e});Bk.debug("setting publishing quality. max quality ".concat(e)),this.setPublishingLayers(t)}async setDeviceId(e){this.constraints.deviceId!==e&&(this.constraints.deviceId=e,this.isMuted||await this.restartTrack())}async restartTrack(e){let t;if(e){const r=qP({video:e});"boolean"!=typeof r.video&&(t=r.video)}await this.restart(t)}addSimulcastTrack(e,t){if(this.simulcastCodecs.has(e))throw new Error("".concat(e," already added"));const r={codec:e,mediaStreamTrack:this.mediaStreamTrack.clone(),sender:void 0,encodings:t};return this.simulcastCodecs.set(e,r),r}setSimulcastTrackSender(e,t){const r=this.simulcastCodecs.get(e);r&&(r.sender=t,setTimeout((()=>{this.subscribedCodecs&&this.setPublishingCodecs(this.subscribedCodecs)}),5e3))}async setPublishingCodecs(e){if(Bk.debug("setting publishing codecs",{codecs:e,currentCodec:this.codec}),!this.codec&&e.length>0)return await this.setPublishingLayers(e[0].qualities),[];this.subscribedCodecs=e;const t=[];var r,n=!1,o=!1;try{for(var i,a=SS(e);n=!(i=await a.next()).done;n=!1){const e=i.value;if(this.codec&&this.codec!==e.codec){const r=this.simulcastCodecs.get(e.codec);if(Bk.debug("try setPublishingCodec for ".concat(e.codec),r),r&&r.sender)r.encodings&&(Bk.debug("try setPublishingLayersForSender ".concat(e.codec)),await qE(r.sender,r.encodings,e.qualities,this.senderLock));else for(const r of e.qualities)if(r.enabled){t.push(e.codec);break}}else await this.setPublishingLayers(e.qualities)}}catch(e){o=!0,r=e}finally{try{n&&null!=a.return&&await a.return()}finally{if(o)throw r}}return t}async setPublishingLayers(e){Bk.debug("setting publishing layers",e),this.sender&&this.encodings&&await qE(this.sender,this.encodings,e,this.senderLock)}async handleAppVisibilityChanged(){await super.handleAppVisibilityChanged(),YP()&&this.isInBackground&&this.source===DE.Source.Camera&&(this._mediaStreamTrack.enabled=!1)}}async function qE(e,t,r,n){const o=await n.lock();Bk.debug("setPublishingLayersForSender",{sender:e,qualities:r,senderEncodings:t});try{const n=e.getParameters(),{encodings:o}=n;if(!o)return;if(o.length!==t.length)return void Bk.warn("cannot set publishing layers, encodings mismatch");let i=!1;o.forEach(((e,n)=>{var o;let a=null!==(o=e.rid)&&void 0!==o?o:"";""===a&&(a="q");const s=WE(a),c=r.find((e=>e.quality===s));c&&e.active!==c.enabled&&(i=!0,e.active=c.enabled,Bk.debug("setting layer ".concat(c.quality," to ").concat(e.active?"enabled":"disabled")),JP()&&(c.enabled?(e.scaleResolutionDownBy=t[n].scaleResolutionDownBy,e.maxBitrate=t[n].maxBitrate,e.maxFrameRate=t[n].maxFrameRate):(e.scaleResolutionDownBy=4,e.maxBitrate=10,e.maxFrameRate=2)))})),i&&(n.encodings=o,await e.setParameters(n))}finally{o()}}function WE(e){switch(e){case"f":return P_.HIGH;case"h":return P_.MEDIUM;case"q":return P_.LOW;default:return P_.UNRECOGNIZED}}function ZE(e,t,r){return r?r.map((n=>{var o,i,a;const s=null!==(o=n.scaleResolutionDownBy)&&void 0!==o?o:1;let c=WE(null!==(i=n.rid)&&void 0!==i?i:"");return c===P_.UNRECOGNIZED&&1===r.length&&(c=P_.HIGH),{quality:c,width:e/s,height:t/s,bitrate:null!==(a=n.maxBitrate)&&void 0!==a?a:0,ssrc:0}})):[{quality:P_.HIGH,width:e,height:t,bitrate:0,ssrc:0}]}class HE extends DE{constructor(e,t,r,n){super(e,r),this.sid=t,this.receiver=n}setMuted(e){this.isMuted!==e&&(this.isMuted=e,this._mediaStreamTrack.enabled=!e,this.emit(e?PP.Muted:PP.Unmuted,this))}setMediaStream(e){this.mediaStream=e,e.onremovetrack=()=>{this.receiver=void 0,this._currentBitrate=0,this.emit(PP.Ended,this)}}start(){this.startMonitor(),super.enable()}stop(){this.stopMonitor(),super.disable()}startMonitor(){this.monitorInterval||(this.monitorInterval=setInterval((()=>this.monitorReceiver()),NP))}}class $E extends HE{constructor(e,t,r,n,o){super(e,t,DE.Kind.Audio,r),this.monitorReceiver=async()=>{if(!this.receiver)return void(this._currentBitrate=0);const e=await this.getReceiverStats();e&&this.prevStats&&this.receiver&&(this._currentBitrate=LP(e,this.prevStats)),this.prevStats=e},this.audioContext=n,this.webAudioPluginNodes=[],o&&(this.sinkId=o.deviceId)}setVolume(e){var t;for(const r of this.attachedElements)this.audioContext?null===(t=this.gainNode)||void 0===t||t.gain.setTargetAtTime(e,0,.1):r.volume=e;this.elementVolume=e}getVolume(){if(this.elementVolume)return this.elementVolume;let e=0;return this.attachedElements.forEach((t=>{t.volume>e&&(e=t.volume)})),e}async setSinkId(e){this.sinkId=e,await Promise.all(this.attachedElements.map((t=>{if(VP(t))return t.setSinkId(e)})))}attach(e){const t=0===this.attachedElements.length;return e?super.attach(e):e=super.attach(),this.elementVolume&&(e.volume=this.elementVolume),this.sinkId&&VP(e)&&e.setSinkId(this.sinkId),this.audioContext&&t&&(Bk.debug("using audio context mapping"),this.connectWebAudio(this.audioContext,e),e.volume=0,e.muted=!0),e}detach(e){let t;return e?(t=super.detach(e),this.audioContext&&(this.attachedElements.length>0?this.connectWebAudio(this.audioContext,this.attachedElements[0]):this.disconnectWebAudio())):(t=super.detach(),this.disconnectWebAudio()),t}setAudioContext(e){this.audioContext=e,e&&this.attachedElements.length>0?this.connectWebAudio(e,this.attachedElements[0]):e||this.disconnectWebAudio()}setWebAudioPlugins(e){this.webAudioPluginNodes=e,this.attachedElements.length>0&&this.audioContext&&this.connectWebAudio(this.audioContext,this.attachedElements[0])}connectWebAudio(e,t){this.disconnectWebAudio(),this.sourceNode=e.createMediaStreamSource(t.srcObject);let r=this.sourceNode;this.webAudioPluginNodes.forEach((e=>{r.connect(e),r=e})),this.gainNode=e.createGain(),r.connect(this.gainNode),this.gainNode.connect(e.destination),this.elementVolume&&this.gainNode.gain.setTargetAtTime(this.elementVolume,0,.1),"running"!==e.state&&e.resume().then((()=>{"running"!==e.state&&this.emit(PP.AudioPlaybackFailed,new Error("Audio Context couldn't be started automatically"))})).catch((e=>{this.emit(PP.AudioPlaybackFailed,e)}))}disconnectWebAudio(){var e,t;null===(e=this.gainNode)||void 0===e||e.disconnect(),null===(t=this.sourceNode)||void 0===t||t.disconnect(),this.gainNode=void 0,this.sourceNode=void 0}async getReceiverStats(){if(!this.receiver||!this.receiver.getStats)return;let e;return(await this.receiver.getStats()).forEach((t=>{"inbound-rtp"===t.type&&(e={type:"audio",timestamp:t.timestamp,jitter:t.jitter,bytesReceived:t.bytesReceived,concealedSamples:t.concealedSamples,concealmentEvents:t.concealmentEvents,silentConcealedSamples:t.silentConcealedSamples,silentConcealmentEvents:t.silentConcealmentEvents,totalAudioEnergy:t.totalAudioEnergy,totalSamplesDuration:t.totalSamplesDuration})})),e}}function VE(e,t,r){var n,o,i;void 0===t&&(t=50),void 0===r&&(r={});var a=null!=(n=r.isImmediate)&&n,s=null!=(o=r.callback)&&o,c=r.maxWait,l=Date.now(),u=[];function d(){if(void 0!==c){var e=Date.now()-l;if(e+t>=c)return c-e}return t}var p=function(){var t=[].slice.call(arguments),r=this;return new Promise((function(n,o){var c=a&&void 0===i;if(void 0!==i&&clearTimeout(i),i=setTimeout((function(){if(i=void 0,l=Date.now(),!a){var n=e.apply(r,t);s&&s(n),u.forEach((function(e){return(0,e.resolve)(n)})),u=[]}}),d()),c){var p=e.apply(r,t);return s&&s(p),n(p)}u.push({resolve:n,reject:o})}))};return p.cancel=function(e){void 0!==i&&clearTimeout(i),u.forEach((function(t){return(0,t.reject)(e)})),u=[]},p}class GE{}GE.setTimeout=function(){return setTimeout(...arguments)},GE.setInterval=function(){return setInterval(...arguments)},GE.clearTimeout=function(){return clearTimeout(...arguments)},GE.clearInterval=function(){return clearInterval(...arguments)};class JE extends HE{constructor(e,t,r,n){super(e,t,DE.Kind.Video,r),this.elementInfos=[],this.isObserved=!1,this.monitorReceiver=async()=>{if(!this.receiver)return void(this._currentBitrate=0);const e=await this.getReceiverStats();e&&this.prevStats&&this.receiver&&(this._currentBitrate=LP(e,this.prevStats)),this.prevStats=e},this.debouncedHandleResize=VE((()=>{this.updateDimensions()}),100),this.adaptiveStreamSettings=n}get isAdaptiveStream(){return void 0!==this.adaptiveStreamSettings}get mediaStreamTrack(){return this.isAdaptiveStream&&!this.isObserved&&Bk.warn("When using adaptiveStream, you need to use remoteVideoTrack.attach() to add the track to a HTMLVideoElement, otherwise your video tracks might never start"),this._mediaStreamTrack}setMuted(e){super.setMuted(e),this.attachedElements.forEach((t=>{e?LE(this._mediaStreamTrack,t):NE(this._mediaStreamTrack,t)}))}attach(e){if(e?super.attach(e):e=super.attach(),this.adaptiveStreamSettings&&void 0===this.elementInfos.find((t=>t.element===e))){const t=new KE(e);this.observeElementInfo(t)}return e}observeElementInfo(e){this.adaptiveStreamSettings&&void 0===this.elementInfos.find((t=>t===e))?(e.handleResize=()=>{this.debouncedHandleResize()},e.handleVisibilityChanged=()=>{this.updateVisibility()},this.elementInfos.push(e),e.observe(),this.debouncedHandleResize(),this.updateVisibility(),this.isObserved=!0):Bk.warn("visibility resize observer not triggered")}stopObservingElementInfo(e){if(!this.isAdaptiveStream)return void Bk.warn("stopObservingElementInfo ignored");const t=this.elementInfos.filter((t=>t===e));for(const e of t)e.stopObserving();this.elementInfos=this.elementInfos.filter((t=>t!==e)),this.updateVisibility()}detach(e){let t=[];if(e)return this.stopObservingElement(e),super.detach(e);t=super.detach();for(const e of t)this.stopObservingElement(e);return t}getDecoderImplementation(){var e;return null===(e=this.prevStats)||void 0===e?void 0:e.decoderImplementation}async getReceiverStats(){if(!this.receiver||!this.receiver.getStats)return;let e;return(await this.receiver.getStats()).forEach((t=>{"inbound-rtp"===t.type&&(e={type:"video",framesDecoded:t.framesDecoded,framesDropped:t.framesDropped,framesReceived:t.framesReceived,packetsReceived:t.packetsReceived,packetsLost:t.packetsLost,frameWidth:t.frameWidth,frameHeight:t.frameHeight,pliCount:t.pliCount,firCount:t.firCount,nackCount:t.nackCount,jitter:t.jitter,timestamp:t.timestamp,bytesReceived:t.bytesReceived,decoderImplementation:t.decoderImplementation})})),e}stopObservingElement(e){const t=this.elementInfos.filter((t=>t.element===e));for(const e of t)e.stopObserving();this.elementInfos=this.elementInfos.filter((t=>t.element!==e))}async handleAppVisibilityChanged(){await super.handleAppVisibilityChanged(),this.isAdaptiveStream&&this.updateVisibility()}updateVisibility(){var e,t;const r=this.elementInfos.reduce(((e,t)=>Math.max(e,t.visibilityChangedAt||0)),0),n=!(null!==(t=null===(e=this.adaptiveStreamSettings)||void 0===e?void 0:e.pauseVideoInBackground)&&void 0!==t&&!t)&&this.isInBackground,o=this.elementInfos.some((e=>e.pictureInPicture)),i=this.elementInfos.some((e=>e.visible))&&!n||o;this.lastVisible!==i&&(!i&&Date.now()-r<100?GE.setTimeout((()=>{this.updateVisibility()}),100):(this.lastVisible=i,this.emit(PP.VisibilityChanged,i,this)))}updateDimensions(){var e,t,r,n;let o=0,i=0;for(const r of this.elementInfos){const n=null!==(t=null===(e=this.adaptiveStreamSettings)||void 0===e?void 0:e.pixelDensity)&&void 0!==t?t:1,a="screen"===n?rE():n,s=r.width()*a,c=r.height()*a;s+c>o+i&&(o=s,i=c)}(null===(r=this.lastDimensions)||void 0===r?void 0:r.width)===o&&(null===(n=this.lastDimensions)||void 0===n?void 0:n.height)===i||(this.lastDimensions={width:o,height:i},this.emit(PP.VideoDimensionsChanged,this.lastDimensions,this))}}class KE{get visible(){return this.isPiP||this.isIntersecting}get pictureInPicture(){return this.isPiP}constructor(e,t){this.onVisibilityChanged=e=>{var t;const{target:r,isIntersecting:n}=e;r===this.element&&(this.isIntersecting=n,this.visibilityChangedAt=Date.now(),null===(t=this.handleVisibilityChanged)||void 0===t||t.call(this))},this.onEnterPiP=()=>{var e;this.isPiP=!0,null===(e=this.handleVisibilityChanged)||void 0===e||e.call(this)},this.onLeavePiP=()=>{var e;this.isPiP=!1,null===(e=this.handleVisibilityChanged)||void 0===e||e.call(this)},this.element=e,this.isIntersecting=null!=t?t:YE(e),this.isPiP=XP()&&document.pictureInPictureElement===e,this.visibilityChangedAt=0}width(){return this.element.clientWidth}height(){return this.element.clientHeight}observe(){this.isIntersecting=YE(this.element),this.isPiP=document.pictureInPictureElement===this.element,this.element.handleResize=()=>{var e;null===(e=this.handleResize)||void 0===e||e.call(this)},this.element.handleVisibilityChanged=this.onVisibilityChanged,cE().observe(this.element),aE().observe(this.element),this.element.addEventListener("enterpictureinpicture",this.onEnterPiP),this.element.addEventListener("leavepictureinpicture",this.onLeavePiP)}stopObserving(){var e,t;null===(e=cE())||void 0===e||e.unobserve(this.element),null===(t=aE())||void 0===t||t.unobserve(this.element),this.element.removeEventListener("enterpictureinpicture",this.onEnterPiP),this.element.removeEventListener("leavepictureinpicture",this.onLeavePiP)}}function YE(e){let t=e.offsetTop,r=e.offsetLeft;const n=e.offsetWidth,o=e.offsetHeight,{hidden:i}=e,{opacity:a,display:s}=getComputedStyle(e);for(;e.offsetParent;)t+=(e=e.offsetParent).offsetTop,r+=e.offsetLeft;return t<window.pageYOffset+window.innerHeight&&r<window.pageXOffset+window.innerWidth&&t+o>window.pageYOffset&&r+n>window.pageXOffset&&!i&&(""===a||parseFloat(a)>0)&&"none"!==s}class XE extends IE.EventEmitter{constructor(e,t,r){super(),this.metadataMuted=!1,this.handleMuted=()=>{this.emit(PP.Muted)},this.handleUnmuted=()=>{this.emit(PP.Unmuted)},this.setMaxListeners(100),this.kind=e,this.trackSid=t,this.trackName=r,this.source=DE.Source.Unknown}setTrack(e){this.track&&(this.track.off(PP.Muted,this.handleMuted),this.track.off(PP.Unmuted,this.handleUnmuted)),this.track=e,e&&(e.on(PP.Muted,this.handleMuted),e.on(PP.Unmuted,this.handleUnmuted))}get isMuted(){return this.metadataMuted}get isEnabled(){return!0}get isSubscribed(){return void 0!==this.track}get audioTrack(){if(this.track instanceof BE||this.track instanceof $E)return this.track}get videoTrack(){if(this.track instanceof FE||this.track instanceof JE)return this.track}updateInfo(e){this.trackSid=e.sid,this.trackName=e.name,this.source=DE.sourceFromProto(e.source),this.mimeType=e.mimeType,this.kind===DE.Kind.Video&&e.width>0&&(this.dimensions={width:e.width,height:e.height},this.simulcasted=e.simulcast),this.trackInfo=e,Bk.trace("update publication info",{info:e})}}!function(e){var t,r;(t=e.SubscriptionStatus||(e.SubscriptionStatus={})).Desired="desired",t.Subscribed="subscribed",t.Unsubscribed="unsubscribed",(r=e.PermissionStatus||(e.PermissionStatus={})).Allowed="allowed",r.NotAllowed="not_allowed"}(XE||(XE={}));class QE extends XE{get isUpstreamPaused(){var e;return null===(e=this.track)||void 0===e?void 0:e.isUpstreamPaused}constructor(e,t,r){super(e,t.sid,t.name),this.track=void 0,this.handleTrackEnded=()=>{this.emit(PP.Ended)},this.updateInfo(t),this.setTrack(r)}setTrack(e){this.track&&this.track.off(PP.Ended,this.handleTrackEnded),super.setTrack(e),e&&e.on(PP.Ended,this.handleTrackEnded)}get isMuted(){return this.track?this.track.isMuted:super.isMuted}get audioTrack(){return super.audioTrack}get videoTrack(){return super.videoTrack}async mute(){var e;return null===(e=this.track)||void 0===e?void 0:e.mute()}async unmute(){var e;return null===(e=this.track)||void 0===e?void 0:e.unmute()}async pauseUpstream(){var e;await(null===(e=this.track)||void 0===e?void 0:e.pauseUpstream())}async resumeUpstream(){var e;await(null===(e=this.track)||void 0===e?void 0:e.resumeUpstream())}}class eC{constructor(e,t,r,n){this.width=e,this.height=t,this.encoding={maxBitrate:r,maxFramerate:n}}get resolution(){return{width:this.width,height:this.height,frameRate:this.encoding.maxFramerate,aspectRatio:this.width/this.height}}}const tC=["vp8","h264"];function rC(e){return!!tC.find((t=>t===e))}var nC;!function(e){e.telephone={maxBitrate:12e3},e.speech={maxBitrate:2e4},e.music={maxBitrate:32e3},e.musicStereo={maxBitrate:48e3},e.musicHighQuality={maxBitrate:64e3},e.musicHighQualityStereo={maxBitrate:96e3}}(nC||(nC={}));const oC={h90:new eC(160,90,6e4,15),h180:new eC(320,180,12e4,15),h216:new eC(384,216,18e4,15),h360:new eC(640,360,3e5,20),h540:new eC(960,540,6e5,25),h720:new eC(1280,720,17e5,30),h1080:new eC(1920,1080,3e6,30),h1440:new eC(2560,1440,5e6,30),h2160:new eC(3840,2160,8e6,30)},iC={h120:new eC(160,120,8e4,15),h180:new eC(240,180,1e5,15),h240:new eC(320,240,15e4,15),h360:new eC(480,360,225e3,20),h480:new eC(640,480,3e5,20),h540:new eC(720,540,45e4,25),h720:new eC(960,720,15e5,30),h1080:new eC(1440,1080,25e5,30),h1440:new eC(1920,1440,35e5,30)},aC={h360fps3:new eC(640,360,2e5,3),h720fps5:new eC(1280,720,4e5,5),h720fps15:new eC(1280,720,1e6,15),h1080fps15:new eC(1920,1080,15e5,15),h1080fps30:new eC(1920,1080,3e6,30)};var sC;!function(e){e.Excellent="excellent",e.Good="good",e.Poor="poor",e.Unknown="unknown"}(sC||(sC={}));class cC extends IE.EventEmitter{constructor(e,t,r,n){super(),this.audioLevel=0,this.isSpeaking=!1,this._connectionQuality=sC.Unknown,this.setMaxListeners(100),this.sid=e,this.identity=t,this.name=r,this.metadata=n,this.audioTracks=new Map,this.videoTracks=new Map,this.tracks=new Map}getTracks(){return Array.from(this.tracks.values())}getTrack(e){for(const[,t]of this.tracks)if(t.source===e)return t}getTrackByName(e){for(const[,t]of this.tracks)if(t.trackName===e)return t}get connectionQuality(){return this._connectionQuality}get isCameraEnabled(){var e;const t=this.getTrack(DE.Source.Camera);return!(null===(e=null==t?void 0:t.isMuted)||void 0===e||e)}get isMicrophoneEnabled(){var e;const t=this.getTrack(DE.Source.Microphone);return!(null===(e=null==t?void 0:t.isMuted)||void 0===e||e)}get isScreenShareEnabled(){return!!this.getTrack(DE.Source.ScreenShare)}get isLocal(){return!1}get joinedAt(){return this.participantInfo?new Date(1e3*this.participantInfo.joinedAt):new Date}updateInfo(e){this.identity=e.identity,this.sid=e.sid,this.name=e.name,this.setMetadata(e.metadata),e.permission&&this.setPermissions(e.permission),this.participantInfo=e,Bk.trace("update participant info",{info:e})}setMetadata(e){const t=this.metadata!==e,r=this.metadata;this.metadata=e,t&&this.emit(SP.ParticipantMetadataChanged,r)}setPermissions(e){var t,r,n,o,i;const a=this.permissions,s=e.canPublish!==(null===(t=this.permissions)||void 0===t?void 0:t.canPublish)||e.canSubscribe!==(null===(r=this.permissions)||void 0===r?void 0:r.canSubscribe)||e.canPublishData!==(null===(n=this.permissions)||void 0===n?void 0:n.canPublishData)||e.hidden!==(null===(o=this.permissions)||void 0===o?void 0:o.hidden)||e.recorder!==(null===(i=this.permissions)||void 0===i?void 0:i.recorder)||e.canPublishSources.length!==this.permissions.canPublishSources.length||e.canPublishSources.some(((e,t)=>{var r;return e!==(null===(r=this.permissions)||void 0===r?void 0:r.canPublishSources[t])}));return this.permissions=e,s&&this.emit(SP.ParticipantPermissionsChanged,a),s}setIsSpeaking(e){e!==this.isSpeaking&&(this.isSpeaking=e,e&&(this.lastSpokeAt=new Date),this.emit(SP.IsSpeakingChanged,e))}setConnectionQuality(e){const t=this._connectionQuality;this._connectionQuality=function(e){switch(e){case E_.EXCELLENT:return sC.Excellent;case E_.GOOD:return sC.Good;case E_.POOR:return sC.Poor;default:return sC.Unknown}}(e),t!==this._connectionQuality&&this.emit(SP.ConnectionQualityChanged,this._connectionQuality)}addTrackPublication(e){e.on(PP.Muted,(()=>{this.emit(SP.TrackMuted,e)})),e.on(PP.Unmuted,(()=>{this.emit(SP.TrackUnmuted,e)}));const t=e;switch(t.track&&(t.track.sid=e.trackSid),this.tracks.set(e.trackSid,e),e.kind){case DE.Kind.Audio:this.audioTracks.set(e.trackSid,e);break;case DE.Kind.Video:this.videoTracks.set(e.trackSid,e)}}}const lC=Object.values(oC),uC=Object.values(iC),dC=Object.values(aC),pC=[oC.h180,oC.h360],fC=[iC.h180,iC.h360],hC=e=>[{scaleResolutionDownBy:2,fps:3}].map((t=>{var r;return new eC(Math.floor(e.width/t.scaleResolutionDownBy),Math.floor(e.height/t.scaleResolutionDownBy),Math.max(15e4,Math.floor(e.encoding.maxBitrate/(t.scaleResolutionDownBy**2*((null!==(r=e.encoding.maxFramerate)&&void 0!==r?r:30)/t.fps)))),t.fps)})),mC=["q","h","f"];function yC(e,t,r,n){var o,i;let a=null==n?void 0:n.videoEncoding;e&&(a=null==n?void 0:n.screenShareEncoding);const s=null==n?void 0:n.simulcast,c=null==n?void 0:n.scalabilityMode,l=null==n?void 0:n.videoCodec;if(!a&&!s&&!c||!t||!r)return[{}];a||(a=function(e,t,r,n){const o=function(e,t,r){if(e)return dC;const n=t>r?t/r:r/t;return Math.abs(n-16/9)<Math.abs(n-4/3)?lC:uC}(e,t,r);let{encoding:i}=o[0];const a=Math.max(t,r);for(let e=0;e<o.length;e+=1){const t=o[e];if(i=t.encoding,t.width>=a)break}return n&&"av1"===n&&(i.maxBitrate=.7*i.maxBitrate),i}(e,t,r,l),Bk.debug("using video encoding",a));const u=new eC(t,r,a.maxBitrate,a.maxFramerate);if(c&&"av1"===l){Bk.debug("using svc with scalabilityMode ".concat(c));const e=[];if("L3T3"===c){for(let t=0;t<3;t+=1)e.push({rid:mC[2-t],scaleResolutionDownBy:2**t,maxBitrate:a.maxBitrate/3**t,maxFramerate:u.encoding.maxFramerate,scalabilityMode:"L3T3"});return Bk.debug("encodings",e),e}throw new Error("unsupported scalabilityMode: ".concat(c))}if(!s)return[a];let d,p=[];if(p=e?null!==(o=kC(null==n?void 0:n.screenShareSimulcastLayers))&&void 0!==o?o:bC(e,u):null!==(i=kC(null==n?void 0:n.videoSimulcastLayers))&&void 0!==i?i:bC(e,u),p.length>0){const e=p[0];p.length>1&&([,d]=p);const n=Math.max(t,r);if(n>=960&&d)return vC(t,r,[e,d,u]);if(n>=480)return vC(t,r,[e,u])}return vC(t,r,[u])}function gC(e,t,r){var n,o,i,a;if(!r.backupCodec||r.backupCodec.codec===r.videoCodec)return;t!==r.backupCodec.codec&&Bk.warn("requested a different codec than specified as backup",{serverRequested:t,backup:r.backupCodec.codec}),r.videoCodec=t,r.videoEncoding=r.backupCodec.encoding;const s=e.mediaStreamTrack.getSettings(),c=null!==(n=s.width)&&void 0!==n?n:null===(o=e.dimensions)||void 0===o?void 0:o.width,l=null!==(i=s.height)&&void 0!==i?i:null===(a=e.dimensions)||void 0===a?void 0:a.height;return yC(e.source===DE.Source.ScreenShare,c,l,r)}function bC(e,t){if(e)return hC(t);const{width:r,height:n}=t,o=r>n?r/n:n/r;return Math.abs(o-16/9)<Math.abs(o-4/3)?pC:fC}function vC(e,t,r){const n=[];return r.forEach(((r,o)=>{if(o>=mC.length)return;const i=Math.min(e,t),a=mC[o];n.push({rid:a,scaleResolutionDownBy:Math.max(1,i/Math.min(r.width,r.height)),maxBitrate:r.encoding.maxBitrate,maxFramerate:r.encoding.maxFramerate})})),n}function kC(e){if(e)return e.sort(((e,t)=>{const{encoding:r}=e,{encoding:n}=t;return r.maxBitrate>n.maxBitrate?1:r.maxBitrate<n.maxBitrate?-1:r.maxBitrate===n.maxBitrate&&r.maxFramerate&&n.maxFramerate?r.maxFramerate>n.maxFramerate?1:-1:0}))}class wC extends XE{constructor(e,t,r){super(e,t.sid,t.name),this.track=void 0,this.allowed=!0,this.disabled=!1,this.currentVideoQuality=P_.HIGH,this.handleEnded=e=>{this.setTrack(void 0),this.emit(PP.Ended,e)},this.handleVisibilityChange=e=>{Bk.debug("adaptivestream video visibility ".concat(this.trackSid,", visible=").concat(e),{trackSid:this.trackSid}),this.disabled=!e,this.emitTrackUpdate()},this.handleVideoDimensionsChange=e=>{Bk.debug("adaptivestream video dimensions ".concat(e.width,"x").concat(e.height),{trackSid:this.trackSid}),this.videoDimensions=e,this.emitTrackUpdate()},this.subscribed=r,this.updateInfo(t)}setSubscribed(e){const t=this.subscriptionStatus,r=this.permissionStatus;this.subscribed=e,e&&(this.allowed=!0);const n={trackSids:[this.trackSid],subscribe:this.subscribed,participantTracks:[{participantSid:"",trackSids:[this.trackSid]}]};this.emit(PP.UpdateSubscription,n),this.emitSubscriptionUpdateIfChanged(t),this.emitPermissionUpdateIfChanged(r)}get subscriptionStatus(){return!1===this.subscribed?XE.SubscriptionStatus.Unsubscribed:super.isSubscribed?XE.SubscriptionStatus.Subscribed:XE.SubscriptionStatus.Desired}get permissionStatus(){return this.allowed?XE.PermissionStatus.Allowed:XE.PermissionStatus.NotAllowed}get isSubscribed(){return!1!==this.subscribed&&super.isSubscribed}get isDesired(){return!1!==this.subscribed}get isEnabled(){return!this.disabled}setEnabled(e){this.isManualOperationAllowed()&&this.disabled!==!e&&(this.disabled=!e,this.emitTrackUpdate())}setVideoQuality(e){this.isManualOperationAllowed()&&this.currentVideoQuality!==e&&(this.currentVideoQuality=e,this.videoDimensions=void 0,this.emitTrackUpdate())}setVideoDimensions(e){var t,r;this.isManualOperationAllowed()&&((null===(t=this.videoDimensions)||void 0===t?void 0:t.width)===e.width&&(null===(r=this.videoDimensions)||void 0===r?void 0:r.height)===e.height||(this.track instanceof JE&&(this.videoDimensions=e),this.currentVideoQuality=void 0,this.emitTrackUpdate()))}setVideoFPS(e){this.isManualOperationAllowed()&&this.track instanceof JE&&this.fps!==e&&(this.fps=e,this.emitTrackUpdate())}get videoQuality(){return this.currentVideoQuality}setTrack(e){const t=this.subscriptionStatus,r=this.permissionStatus,n=this.track;n!==e&&(n&&(n.off(PP.VideoDimensionsChanged,this.handleVideoDimensionsChange),n.off(PP.VisibilityChanged,this.handleVisibilityChange),n.off(PP.Ended,this.handleEnded),n.detach(),n.stopMonitor(),this.emit(PP.Unsubscribed,n)),super.setTrack(e),e&&(e.sid=this.trackSid,e.on(PP.VideoDimensionsChanged,this.handleVideoDimensionsChange),e.on(PP.VisibilityChanged,this.handleVisibilityChange),e.on(PP.Ended,this.handleEnded),this.emit(PP.Subscribed,e)),this.emitPermissionUpdateIfChanged(r),this.emitSubscriptionUpdateIfChanged(t))}setAllowed(e){const t=this.subscriptionStatus,r=this.permissionStatus;this.allowed=e,this.emitPermissionUpdateIfChanged(r),this.emitSubscriptionUpdateIfChanged(t)}updateInfo(e){super.updateInfo(e);const t=this.metadataMuted;this.metadataMuted=e.muted,this.track?this.track.setMuted(e.muted):t!==e.muted&&this.emit(e.muted?PP.Muted:PP.Unmuted)}emitSubscriptionUpdateIfChanged(e){const t=this.subscriptionStatus;e!==t&&this.emit(PP.SubscriptionStatusChanged,t,e)}emitPermissionUpdateIfChanged(e){this.permissionStatus!==e&&this.emit(PP.SubscriptionPermissionChanged,this.permissionStatus,e)}isManualOperationAllowed(){return this.kind===DE.Kind.Video&&this.isAdaptiveStream?(Bk.warn("adaptive stream is enabled, cannot change video track settings",{trackSid:this.trackSid}),!1):!!this.isDesired||(Bk.warn("cannot update track settings when not subscribed",{trackSid:this.trackSid}),!1)}get isAdaptiveStream(){return this.track instanceof JE&&this.track.isAdaptiveStream}emitTrackUpdate(){const e=QO.fromPartial({trackSids:[this.trackSid],disabled:this.disabled,fps:this.fps});this.videoDimensions?(e.width=this.videoDimensions.width,e.height=this.videoDimensions.height):void 0!==this.currentVideoQuality?e.quality=this.currentVideoQuality:e.quality=P_.HIGH,this.emit(PP.UpdateSettings,e)}}class _C extends cC{static fromParticipantInfo(e,t){return new _C(e,t.sid,t.identity,t.name,t.metadata)}constructor(e,t,r,n,o){super(t,r||"",n,o),this.signalClient=e,this.tracks=new Map,this.audioTracks=new Map,this.videoTracks=new Map}addTrackPublication(e){super.addTrackPublication(e),e.on(PP.UpdateSettings,(e=>{Bk.debug("send update settings",e),this.signalClient.sendUpdateTrackSettings(e)})),e.on(PP.UpdateSubscription,(e=>{e.participantTracks.forEach((e=>{e.participantSid=this.sid})),this.signalClient.sendUpdateSubscription(e)})),e.on(PP.SubscriptionPermissionChanged,(t=>{this.emit(SP.TrackSubscriptionPermissionChanged,e,t)})),e.on(PP.SubscriptionStatusChanged,(t=>{this.emit(SP.TrackSubscriptionStatusChanged,e,t)})),e.on(PP.Subscribed,(t=>{this.emit(SP.TrackSubscribed,t,e)})),e.on(PP.Unsubscribed,(t=>{this.emit(SP.TrackUnsubscribed,t,e)}))}getTrack(e){const t=super.getTrack(e);if(t)return t}getTrackByName(e){const t=super.getTrackByName(e);if(t)return t}setVolume(e){this.volume=e;const t=this.getTrack(DE.Source.Microphone);t&&t.track&&t.track.setVolume(e)}getVolume(){const e=this.getTrack(DE.Source.Microphone);return e&&e.track?e.track.getVolume():this.volume}addSubscribedMediaTrack(e,t,r,n,o,i){let a,s=this.getTrackPublication(t);return s||t.startsWith("TR")||this.tracks.forEach((t=>{s||e.kind!==t.kind.toString()||(s=t)})),s?"ended"===e.readyState?(Bk.error("unable to subscribe because MediaStreamTrack is ended. Do not call MediaStreamTrack.stop()",{participant:this.sid,trackSid:t}),void this.emit(SP.TrackSubscriptionFailed,t)):(a="video"===e.kind?new JE(e,t,n,o):new $E(e,t,n,this.audioContext,this.audioOutput),a.source=s.source,a.isMuted=s.isMuted,a.setMediaStream(r),a.start(),s.setTrack(a),void 0!==this.volume&&a instanceof $E&&a.source===DE.Source.Microphone&&a.setVolume(this.volume),s):0===i?(Bk.error("could not find published track",{participant:this.sid,trackSid:t}),void this.emit(SP.TrackSubscriptionFailed,t)):(void 0===i&&(i=20),void setTimeout((()=>{this.addSubscribedMediaTrack(e,t,r,n,o,i-1)}),150))}get hasMetadata(){return!!this.participantInfo}getTrackPublication(e){return this.tracks.get(e)}updateInfo(e){super.updateInfo(e);const t=new Map,r=new Map;e.tracks.forEach((n=>{var o;let i=this.getTrackPublication(n.sid);if(i)i.updateInfo(n);else{const t=DE.kindFromProto(n.type);if(!t)return;i=new wC(t,n,null===(o=this.signalClient.connectOptions)||void 0===o?void 0:o.autoSubscribe),i.updateInfo(n),r.set(n.sid,i);const a=Array.from(this.tracks.values()).find((e=>e.source===(null==i?void 0:i.source)));a&&i.source!==DE.Source.Unknown&&Bk.debug("received a second track publication for ".concat(this.identity," with the same source: ").concat(i.source),{oldTrack:a,newTrack:i,participant:this,participantInfo:e}),this.addTrackPublication(i)}t.set(n.sid,i)})),this.tracks.forEach((e=>{t.has(e.trackSid)||(Bk.trace("detected removed track on remote participant, unpublishing",{publication:e,participantSid:this.sid}),this.unpublishTrack(e.trackSid,!0))})),r.forEach((e=>{this.emit(SP.TrackPublished,e)}))}unpublishTrack(e,t){const r=this.tracks.get(e);if(!r)return;switch(this.tracks.delete(e),r.kind){case DE.Kind.Audio:this.audioTracks.delete(e);break;case DE.Kind.Video:this.videoTracks.delete(e)}const{track:n}=r;n&&(n.stop(),r.setTrack(void 0)),t&&this.emit(SP.TrackUnpublished,r)}setAudioContext(e){this.audioContext=e,this.audioTracks.forEach((t=>t.track instanceof $E&&t.track.setAudioContext(e)))}async setAudioOutput(e){this.audioOutput=e;const t=[];this.audioTracks.forEach((r=>{var n;r.track instanceof $E&&t.push(r.track.setSinkId(null!==(n=e.deviceId)&&void 0!==n?n:"default"))})),await Promise.all(t)}emit(e){for(var t=arguments.length,r=new Array(t>1?t-1:0),n=1;n<t;n++)r[n-1]=arguments[n];return Bk.trace("participant event",{participant:this.sid,event:e,args:r}),super.emit(e,...r)}}class SC extends cC{constructor(e,t,r,n){super(e,t),this.pendingPublishing=new Set,this.pendingPublishPromises=new Map,this.participantTrackPermissions=[],this.allParticipantsAllowedToSubscribe=!0,this.handleReconnecting=()=>{this.reconnectFuture||(this.reconnectFuture=new fE)},this.handleReconnected=()=>{var e,t;null===(t=null===(e=this.reconnectFuture)||void 0===e?void 0:e.resolve)||void 0===t||t.call(e),this.reconnectFuture=void 0,this.updateTrackSubscriptionPermissions()},this.handleDisconnected=()=>{var e,t;null===(t=null===(e=this.reconnectFuture)||void 0===e?void 0:e.reject)||void 0===t||t.call(e,"Got disconnected during publishing attempt"),this.reconnectFuture=void 0},this.updateTrackSubscriptionPermissions=()=>{Bk.debug("updating track subscription permissions",{allParticipantsAllowed:this.allParticipantsAllowedToSubscribe,participantTrackPermissions:this.participantTrackPermissions}),this.engine.client.sendUpdateSubscriptionPermissions(this.allParticipantsAllowedToSubscribe,this.participantTrackPermissions.map((e=>function(e){var t,r,n;if(!e.participantSid&&!e.participantIdentity)throw new Error("Invalid track permission, must provide at least one of participantIdentity and participantSid");return{participantIdentity:null!==(t=e.participantIdentity)&&void 0!==t?t:"",participantSid:null!==(r=e.participantSid)&&void 0!==r?r:"",allTracks:null!==(n=e.allowAll)&&void 0!==n&&n,trackSids:e.allowedTrackSids||[]}}(e))))},this.onTrackUnmuted=e=>{this.onTrackMuted(e,e.isUpstreamPaused)},this.onTrackMuted=(e,t)=>{void 0===t&&(t=!0),e.sid?this.engine.updateMuteStatus(e.sid,t):Bk.error("could not update mute status for unpublished track",e)},this.onTrackUpstreamPaused=e=>{Bk.debug("upstream paused"),this.onTrackMuted(e,!0)},this.onTrackUpstreamResumed=e=>{Bk.debug("upstream resumed"),this.onTrackMuted(e,e.isMuted)},this.handleSubscribedQualityUpdate=async e=>{var t,r;if(!(null===(t=this.roomOptions)||void 0===t?void 0:t.dynacast))return;const n=this.videoTracks.get(e.trackSid);if(n)if(e.subscribedCodecs.length>0){if(!n.videoTrack)return;const t=await n.videoTrack.setPublishingCodecs(e.subscribedCodecs);var o,i=!1,a=!1;try{for(var s,c=SS(t);i=!(s=await c.next()).done;i=!1){const e=s.value;rC(e)&&(Bk.debug("publish ".concat(e," for ").concat(n.videoTrack.sid)),await this.publishAdditionalCodecForTrack(n.videoTrack,e,n.options))}}catch(e){a=!0,o=e}finally{try{i&&null!=c.return&&await c.return()}finally{if(a)throw o}}}else e.subscribedQualities.length>0&&await(null===(r=n.videoTrack)||void 0===r?void 0:r.setPublishingLayers(e.subscribedQualities));else Bk.warn("received subscribed quality update for unknown track",{method:"handleSubscribedQualityUpdate",sid:e.trackSid})},this.handleLocalTrackUnpublished=e=>{const t=this.tracks.get(e.trackSid);t?this.unpublishTrack(t.track):Bk.warn("received unpublished event for unknown track",{method:"handleLocalTrackUnpublished",trackSid:e.trackSid})},this.handleTrackEnded=async e=>{if(e.source===DE.Source.ScreenShare||e.source===DE.Source.ScreenShareAudio)Bk.debug("unpublishing local track due to TrackEnded",{track:e.sid}),this.unpublishTrack(e);else if(e.isUserProvided)await e.mute();else if(e instanceof BE||e instanceof FE)try{if(XP())try{const t=await(null===navigator||void 0===navigator?void 0:navigator.permissions.query({name:e.source===DE.Source.Camera?"camera":"microphone"}));if(t&&"denied"===t.state)throw Bk.warn("user has revoked access to ".concat(e.source)),t.onchange=()=>{"denied"!==t.state&&(e.isMuted||e.restartTrack(),t.onchange=null)},new Error("GetUserMedia Permission denied")}catch(e){}e.isMuted||(Bk.debug("track ended, attempting to use a different device"),await e.restartTrack())}catch(t){Bk.warn("could not restart track, muting instead"),await e.mute()}},this.audioTracks=new Map,this.videoTracks=new Map,this.tracks=new Map,this.engine=r,this.roomOptions=n,this.setupEngine(r)}get lastCameraError(){return this.cameraError}get lastMicrophoneError(){return this.microphoneError}getTrack(e){const t=super.getTrack(e);if(t)return t}getTrackByName(e){const t=super.getTrackByName(e);if(t)return t}setupEngine(e){this.engine=e,this.engine.client.onRemoteMuteChanged=(e,t)=>{const r=this.tracks.get(e);r&&r.track&&(t?r.mute():r.unmute())},this.engine.client.onSubscribedQualityUpdate=this.handleSubscribedQualityUpdate,this.engine.client.onLocalTrackUnpublished=this.handleLocalTrackUnpublished,this.engine.on(OP.Connected,this.handleReconnected).on(OP.Restarted,this.handleReconnected).on(OP.Resumed,this.handleReconnected).on(OP.Restarting,this.handleReconnecting).on(OP.Resuming,this.handleReconnecting).on(OP.Disconnected,this.handleDisconnected)}setCameraEnabled(e,t,r){return this.setTrackEnabled(DE.Source.Camera,e,t,r)}setMicrophoneEnabled(e,t,r){return this.setTrackEnabled(DE.Source.Microphone,e,t,r)}setScreenShareEnabled(e,t,r){return this.setTrackEnabled(DE.Source.ScreenShare,e,t,r)}async setTrackEnabled(e,t,r,n){var o,i;Bk.debug("setTrackEnabled",{source:e,enabled:t});let a=this.getTrack(e);if(t)if(a)await a.unmute();else{let t;if(this.pendingPublishing.has(e))return void Bk.info("skipping duplicate published source",{source:e});this.pendingPublishing.add(e);try{switch(e){case DE.Source.Camera:t=await this.createTracks({video:null===(o=r)||void 0===o||o});break;case DE.Source.Microphone:t=await this.createTracks({audio:null===(i=r)||void 0===i||i});break;case DE.Source.ScreenShare:t=await this.createScreenTracks(ES({},r));break;default:throw new IP(e)}const s=[];for(const e of t)Bk.info("publishing track",{localTrack:e}),s.push(this.publishTrack(e,n));const c=await Promise.all(s);[a]=c}catch(e){throw e instanceof Error&&!(e instanceof IP)&&this.emit(SP.MediaDevicesError,e),e}finally{this.pendingPublishing.delete(e)}}else if(a&&a.track)if(e===DE.Source.ScreenShare){a=await this.unpublishTrack(a.track);const e=this.getTrack(DE.Source.ScreenShareAudio);e&&e.track&&this.unpublishTrack(e.track)}else await a.mute();return a}async enableCameraAndMicrophone(){if(!this.pendingPublishing.has(DE.Source.Camera)&&!this.pendingPublishing.has(DE.Source.Microphone)){this.pendingPublishing.add(DE.Source.Camera),this.pendingPublishing.add(DE.Source.Microphone);try{const e=await this.createTracks({audio:!0,video:!0});await Promise.all(e.map((e=>this.publishTrack(e))))}finally{this.pendingPublishing.delete(DE.Source.Camera),this.pendingPublishing.delete(DE.Source.Microphone)}}}async createTracks(e){var t,r;const n=qP(function(e,t,r){const n=ES({},e);return!0===n.audio&&(n.audio={}),!0===n.video&&(n.video={}),n.audio&&FP(n.audio,t),n.video&&FP(n.video,r),n}(e,null===(t=this.roomOptions)||void 0===t?void 0:t.audioCaptureDefaults,null===(r=this.roomOptions)||void 0===r?void 0:r.videoCaptureDefaults));let o;try{o=await navigator.mediaDevices.getUserMedia(n)}catch(e){throw e instanceof Error&&(n.audio&&(this.microphoneError=e),n.video&&(this.cameraError=e)),e}return n.audio&&(this.microphoneError=void 0),n.video&&(this.cameraError=void 0),o.getTracks().map((t=>{const r="audio"===t.kind;let i;r?e.audio:e.video;const a=r?n.audio:n.video;"boolean"!=typeof a&&(i=a);const s=function(e,t){switch(e.kind){case"audio":return new BE(e,t,!1);case"video":return new FE(e,t,!1);default:throw new IP("unsupported track type: ".concat(e.kind))}}(t,i);return s.kind===DE.Kind.Video?s.source=DE.Source.Camera:s.kind===DE.Kind.Audio&&(s.source=DE.Source.Microphone),s.mediaStream=o,s}))}async createScreenTracks(e){var t;void 0===e&&(e={}),void 0===e.resolution&&(e.resolution=aC.h1080fps15.resolution);let r=!0;if(e.resolution&&(r=KP()?{width:{max:e.resolution.width},height:{max:e.resolution.height},frameRate:e.resolution.frameRate}:{width:{ideal:e.resolution.width},height:{ideal:e.resolution.height},frameRate:e.resolution.frameRate}),void 0===navigator.mediaDevices.getDisplayMedia)throw new zP("getDisplayMedia not supported");const n=await navigator.mediaDevices.getDisplayMedia({audio:null!==(t=e.audio)&&void 0!==t&&t,video:r,controller:e.controller,selfBrowserSurface:e.selfBrowserSurface,surfaceSwitching:e.surfaceSwitching,systemAudio:e.systemAudio}),o=n.getVideoTracks();if(0===o.length)throw new IP("no video track found");const i=new FE(o[0],void 0,!1);i.source=DE.Source.ScreenShare;const a=[i];if(n.getAudioTracks().length>0){const e=new BE(n.getAudioTracks()[0],void 0,!1);e.source=DE.Source.ScreenShareAudio,a.push(e)}return a}async publishTrack(e,t){var r,n,o;if(await(null===(r=this.reconnectFuture)||void 0===r?void 0:r.promise),e instanceof UE&&this.pendingPublishPromises.has(e)&&await this.pendingPublishPromises.get(e),e instanceof MediaStreamTrack)switch(e.kind){case"audio":e=new BE(e,void 0,!0);break;case"video":e=new FE(e,void 0,!0);break;default:throw new IP("unsupported MediaStreamTrack kind ".concat(e.kind))}let i;if(this.tracks.forEach((t=>{t.track&&t.track===e&&(i=t)})),i)return Bk.warn("track has already been published, skipping"),i;const a=(null==t?void 0:t.forceStereo)||"channelCount"in e.mediaStreamTrack.getSettings()&&2===e.mediaStreamTrack.getSettings().channelCount||2===e.mediaStreamTrack.getConstraints().channelCount;a&&(t||(t={}),void 0===t.dtx&&Bk.info("Opus DTX will be disabled for stereo tracks by default. Enable them explicitly to make it work."),void 0===t.red&&Bk.info("Opus RED will be disabled for stereo tracks by default. Enable them explicitly to make it work."),null!==(n=t.dtx)&&void 0!==n||(t.dtx=!1),null!==(o=t.red)&&void 0!==o||(t.red=!1));const s=ES(ES({},this.roomOptions.publishDefaults),t);s.source&&(e.source=s.source);const c=this.publish(e,s,t,a);this.pendingPublishPromises.set(e,c);try{return await c}catch(e){throw e}finally{this.pendingPublishPromises.delete(e)}}async publish(e,t,r,n){var o,i,a,s;const c=Array.from(this.tracks.values()).find((t=>e instanceof UE&&t.source===e.source));if(c&&e.source!==DE.Source.Unknown)try{throw Error("publishing a second track with the same source: ".concat(e.source))}catch(t){t instanceof Error&&Bk.warn(t.message,{oldTrack:c,newTrack:e,trace:t.stack})}t.stopMicTrackOnMute&&e instanceof BE&&(e.stopOnMute=!0),e.source===DE.Source.ScreenShare&&JP()&&(t.simulcast=!1),"av1"!==t.videoCodec||function(){const e=RTCRtpReceiver.getCapabilities("video");let t=!1,r=!1;if(e){for(const r of e.codecs)if("video/AV1"===r.mimeType){t=!0;break}for(const t of e.headerExtensions)if("https://aomediacodec.github.io/av1-rtp-spec/#dependency-descriptor-rtp-header-extension"===t.uri){r=!0;break}}return t&&r}()||(t.videoCodec=void 0),e.on(PP.Muted,this.onTrackMuted),e.on(PP.Unmuted,this.onTrackUnmuted),e.on(PP.Ended,this.handleTrackEnded),e.on(PP.UpstreamPaused,this.onTrackUpstreamPaused),e.on(PP.UpstreamResumed,this.onTrackUpstreamResumed);const l=WO.fromPartial({cid:e.mediaStreamTrack.id,name:null==r?void 0:r.name,type:DE.kindToProto(e.kind),muted:e.isMuted,source:DE.sourceToProto(e.source),disableDtx:!(null===(o=t.dtx)||void 0===o||o),stereo:n,disableRed:!(null===(i=t.red)||void 0===i||i)});let u,d;if(e.kind===DE.Kind.Video){let r={width:0,height:0};try{r=await e.waitForDimensions()}catch(e){Bk.error("could not determine track dimensions")}if(l.width=r.width,l.height=r.height,e instanceof FE&&("av1"===(null==t?void 0:t.videoCodec)&&(t.scalabilityMode=null!==(a=t.scalabilityMode)&&void 0!==a?a:"L3T3"),t.videoCodec&&t.backupCodec&&t.videoCodec!==t.backupCodec.codec)){const r=ES({},t);r.simulcast=!0,d=gC(e,t.backupCodec.codec,r),l.simulcastCodecs=[{codec:t.videoCodec,cid:e.mediaStreamTrack.id,enableSimulcastLayers:!0},{codec:t.backupCodec.codec,cid:"",enableSimulcastLayers:!0}]}u=yC(e.source===DE.Source.ScreenShare,r.width,r.height,t),l.layers=ZE(l.width,l.height,null!=d?d:u)}else e.kind===DE.Kind.Audio&&t.audioBitrate&&(u=[{maxBitrate:t.audioBitrate}]);if(!this.engine||this.engine.isClosed)throw new MP("cannot publish track when not connected");const p=await this.engine.addTrack(l),f=new QE(e.kind,p,e);if(f.options=t,e.sid=p.sid,!this.engine.publisher)throw new MP("publisher is closed");return Bk.debug("publishing ".concat(e.kind," with encodings"),{encodings:u,trackInfo:p}),e.sender=await this.engine.createSender(e,t,u),"av1"===e.codec&&u&&(null===(s=u[0])||void 0===s?void 0:s.maxBitrate)&&this.engine.publisher.setTrackCodecBitrate(l.cid,e.codec,u[0].maxBitrate/1e3),this.engine.negotiate(),e instanceof FE?e.startMonitor(this.engine.client):e instanceof BE&&e.startMonitor(),this.addTrackPublication(f),this.emit(SP.LocalTrackPublished,f),f}get isLocal(){return!0}async publishAdditionalCodecForTrack(e,t,r){var n;let o;if(this.tracks.forEach((t=>{t.track&&t.track===e&&(o=t)})),!o)throw new IP("track is not published");if(!(e instanceof FE))throw new IP("track is not a video track");const i=ES(ES({},null===(n=this.roomOptions)||void 0===n?void 0:n.publishDefaults),r),a=gC(e,t,i);if(!a)return void Bk.info("backup codec has been disabled, ignoring request to add additional codec for track");const s=e.addSimulcastTrack(t,a),c=WO.fromPartial({cid:s.mediaStreamTrack.id,type:DE.kindToProto(e.kind),muted:e.isMuted,source:DE.sourceToProto(e.source),sid:e.sid,simulcastCodecs:[{codec:i.videoCodec,cid:s.mediaStreamTrack.id,enableSimulcastLayers:i.simulcast}]});if(c.layers=ZE(c.width,c.height,a),!this.engine||this.engine.isClosed)throw new MP("cannot publish track when not connected");const l=await this.engine.addTrack(c);await this.engine.createSimulcastSender(e,s,i,a),this.engine.negotiate(),Bk.debug("published ".concat(t," for track ").concat(e.sid),{encodings:a,trackInfo:l})}async unpublishTrack(e,t){var r,n;const o=this.getPublicationForTrack(e);if(Bk.debug("unpublishing track",{track:e,method:"unpublishTrack"}),!o||!o.track)return void Bk.warn("track was not unpublished because no publication was found",{track:e,method:"unpublishTrack"});(e=o.track).off(PP.Muted,this.onTrackMuted),e.off(PP.Unmuted,this.onTrackUnmuted),e.off(PP.Ended,this.handleTrackEnded),e.off(PP.UpstreamPaused,this.onTrackUpstreamPaused),e.off(PP.UpstreamResumed,this.onTrackUpstreamResumed),void 0===t&&(t=null===(n=null===(r=this.roomOptions)||void 0===r?void 0:r.stopLocalTrackOnUnpublish)||void 0===n||n),t&&e.stop();let i=!1;const a=e.sender;if(e.sender=void 0,this.engine.publisher&&"closed"!==this.engine.publisher.pc.connectionState&&a)try{if(this.engine.removeTrack(a)&&(i=!0),e instanceof FE){for(const[,t]of e.simulcastCodecs)t.sender&&(this.engine.removeTrack(t.sender)&&(i=!0),t.sender=void 0);e.simulcastCodecs.clear()}}catch(e){Bk.warn("failed to unpublish track",{error:e,method:"unpublishTrack"})}switch(this.tracks.delete(o.trackSid),o.kind){case DE.Kind.Audio:this.audioTracks.delete(o.trackSid);break;case DE.Kind.Video:this.videoTracks.delete(o.trackSid)}return this.emit(SP.LocalTrackUnpublished,o),o.setTrack(void 0),i&&await this.engine.negotiate(),o}async unpublishTracks(e){return(await Promise.all(e.map((e=>this.unpublishTrack(e))))).filter((e=>e instanceof QE))}async republishAllTracks(e){const t=[];this.tracks.forEach((r=>{r.track&&(e&&(r.options=ES(ES({},r.options),e)),t.push(r))})),await Promise.all(t.map((async e=>{const t=e.track;await this.unpublishTrack(t,!1),await this.publishTrack(t,e.options)})))}async publishData(e,t){let r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};const n=Array.isArray(r)?r:null==r?void 0:r.destination,o=[],i=Array.isArray(r)?void 0:r.topic;void 0!==n&&n.forEach((e=>{e instanceof _C?o.push(e.sid):o.push(e)}));const a={kind:t,value:{$case:"user",user:{participantSid:this.sid,payload:e,destinationSids:o,topic:i}}};await this.engine.sendDataPacket(a,t)}setTrackSubscriptionPermissions(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[];this.participantTrackPermissions=t,this.allParticipantsAllowedToSubscribe=e,this.engine.client.isConnected&&this.updateTrackSubscriptionPermissions()}updateInfo(e){e.sid===this.sid&&(super.updateInfo(e),e.tracks.forEach((e=>{var t,r;const n=this.tracks.get(e.sid);if(n){const o=n.isMuted||null!==(r=null===(t=n.track)||void 0===t?void 0:t.isUpstreamPaused)&&void 0!==r&&r;o!==e.muted&&(Bk.debug("updating server mute state after reconcile",{sid:e.sid,muted:o}),this.engine.client.sendMuteTrack(e.sid,o))}})))}getPublicationForTrack(e){let t;return this.tracks.forEach((r=>{const n=r.track;n&&(e instanceof MediaStreamTrack?(n instanceof BE||n instanceof FE)&&n.mediaStreamTrack===e&&(t=r):e===n&&(t=r))})),t}publishedTracksInfo(){const e=[];return this.tracks.forEach((t=>{void 0!==t.track&&e.push({cid:t.track.mediaStreamID,track:t.trackInfo})})),e}dataChannelsInfo(){const e=[],t=(t,r)=>{void 0!==(null==t?void 0:t.id)&&null!==t.id&&e.push({label:t.label,id:t.id,target:r})};return t(this.engine.dataChannelForKind(z_.LOSSY),zO.PUBLISHER),t(this.engine.dataChannelForKind(z_.RELIABLE),zO.PUBLISHER),t(this.engine.dataChannelForKind(z_.LOSSY,!0),zO.SUBSCRIBER),t(this.engine.dataChannelForKind(z_.RELIABLE,!0),zO.SUBSCRIBER),e}}class OC{constructor(e,t){this.maxConcurrent=e||1,this.minCycle=t||0,this.queueRunning=[],this.queueWaiting={},this.lastRun=0}dequeue(e){const t=this.queueRunning,r=t.findIndex((t=>t.hash===e));if(-1==r)throw"queue desync";const n=t[r];return t.splice(r,1),n}getFirstWaiting(){for(let e of Object.keys(this.queueWaiting).sort(((e,t)=>e-t)))if(void 0!==this.queueWaiting[e]&&this.queueWaiting[e].length>0)return this.queueWaiting[e]}end(e){this.dequeue(e).resolve();const t=this.getFirstWaiting();void 0!==t&&t.shift().resolve()}async wait(e,t){const r=void 0===t?0:t;let n={hash:e,priority:r};for(null==this.queueWaiting[r]&&(this.queueWaiting[r]=[]),this.queueRunning.length>=this.maxConcurrent&&(n.promise=new Promise((e=>{n.resolve=e})),this.queueWaiting[r].push(n),await n.promise),this.queueRunning.push(n),n.promise=new Promise((e=>{n.resolve=e}));Date.now()-this.lastRun<this.minCycle;)await new Promise((e=>setTimeout(e,this.minCycle-Date.now()+this.lastRun)));this.lastRun=Date.now()}run(e,t){const r=void 0===t?0:t,n=Symbol();return this.wait(n,r).then((()=>e())).finally((()=>{this.end(n)}))}stat(){return{running:this.queueRunning.length,waiting:Object.keys(this.queueWaiting).reduce(((e,t)=>e+this.queueWaiting[t].length),0),last:this.lastRun}}async flush(){for(;this.stat().waiting>0;)for(let e of Object.keys(this.queueWaiting).sort(((e,t)=>t-e))){const t=this.queueWaiting[e];void 0!==t&&t.length>0&&await t[t.length-1].promise}for(;this.queueRunning.length>0;)await Promise.allSettled(this.queueRunning.map((e=>e.promise)))}}const PC=["syncState","trickle","offer","answer","simulate","leave"];class EC{constructor(){let e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];this.rtt=0,this.isConnected=!1,this.isReconnecting=!1,this.useJSON=e,this.requestQueue=new OC,this.queuedRequests=[],this.closingLock=new hE}async join(e,t,r,n){return this.isConnected=!1,this.options=r,await this.connect(e,t,r,n)}async reconnect(e,t,r,n){if(this.options)return this.isReconnecting=!0,this.clearPingInterval(),await this.connect(e,t,ES(ES({},this.options),{},{reconnect:!0,sid:r,reconnectReason:n}));Bk.warn("attempted to reconnect without signal options being set, ignoring")}connect(e,t,r,n){this.connectOptions=r,e.startsWith("http")&&(e=e.replace("http","ws")),e=e.replace(/\/$/,""),e+="/rtc";const o=function(e,t,r){var n;const o=new URLSearchParams;return o.set("access_token",e),r.reconnect&&(o.set("reconnect","1"),r.sid&&o.set("sid",r.sid)),o.set("auto_subscribe",r.autoSubscribe?"1":"0"),o.set("sdk",QP()?"reactnative":"js"),o.set("version",t.version),o.set("protocol",t.protocol.toString()),t.deviceModel&&o.set("device_model",t.deviceModel),t.os&&o.set("os",t.os),t.osVersion&&o.set("os_version",t.osVersion),t.browser&&o.set("browser",t.browser),t.browserVersion&&o.set("browser_version",t.browserVersion),void 0!==r.publishOnly&&o.set("publish",r.publishOnly),r.adaptiveStream&&o.set("adaptive_stream","1"),r.reconnectReason&&o.set("reconnect_reason",r.reconnectReason.toString()),(null===(n=navigator.connection)||void 0===n?void 0:n.type)&&o.set("network",navigator.connection.type),"?".concat(o.toString())}(t,function(){var e;const t=fS.fromPartial({sdk:A_.JS,protocol:9,version:"1.8.0"});return QP()&&(t.os=null!==(e=function(){if(!QP())return;let e=tE();return e?e.platform:void 0}())&&void 0!==e?e:""),t}(),r);return new Promise((async(t,i)=>{const a=async()=>{await this.close(),i(new RP("room connection has been cancelled (signal)"))};(null==n?void 0:n.aborted)&&a(),null==n||n.addEventListener("abort",a),Bk.debug("connecting to ".concat(e+o)),this.ws&&await this.close(),this.ws=new WebSocket(e+o),this.ws.binaryType="arraybuffer",this.ws.onerror=async t=>{if(this.isConnected)this.handleWSError(t);else try{const t=await fetch("http".concat(e.substring(2),"/validate").concat(o));if(t.status.toFixed(0).startsWith("4")){const e=await t.text();i(new RP(e,0,t.status))}else i(new RP("Internal error",2,t.status))}catch(e){i(new RP("server was not reachable",1))}},this.ws.onmessage=async e=>{var o,s,c,l;let u;if("string"==typeof e.data){const t=JSON.parse(e.data);u=FO.fromJSON(t)}else{if(!(e.data instanceof ArrayBuffer))return void Bk.error("could not decode websocket message: ".concat(typeof e.data));u=FO.decode(new Uint8Array(e.data))}if(!this.isConnected){let e=!1;if("join"===(null===(o=u.message)||void 0===o?void 0:o.$case)?(this.isConnected=!0,null==n||n.removeEventListener("abort",a),this.pingTimeoutDuration=u.message.join.pingTimeout,this.pingIntervalDuration=u.message.join.pingInterval,this.pingTimeoutDuration&&this.pingTimeoutDuration>0&&(Bk.debug("ping config",{timeout:this.pingTimeoutDuration,interval:this.pingIntervalDuration}),this.startPingInterval()),t(u.message.join)):r.reconnect?(this.isConnected=!0,null==n||n.removeEventListener("abort",a),this.startPingInterval(),"reconnect"===(null===(s=u.message)||void 0===s?void 0:s.$case)?t(null===(c=u.message)||void 0===c?void 0:c.reconnect):(t(),e=!0)):r.reconnect||i(new RP("did not receive join response, got ".concat(null===(l=u.message)||void 0===l?void 0:l.$case," instead"))),!e)return}this.signalLatency&&await ZP(this.signalLatency),this.handleSignalResponse(u)},this.ws.onclose=e=>{this.isConnected&&(Bk.debug("websocket connection closed: ".concat(e.reason)),this.isConnected=!1,this.onClose&&this.onClose(e.reason),this.ws=void 0)}}))}async close(){const e=await this.closingLock.lock();try{if(this.isConnected=!1,this.ws){this.ws.onclose=null,this.ws.onmessage=null,this.ws.onopen=null;const e=new Promise((e=>{this.ws?this.ws.onclose=e:e(!0)}));this.ws.close(),await Promise.race([e,ZP(250)])}this.ws=void 0,this.clearPingInterval()}finally{e()}}sendOffer(e){Bk.debug("sending offer",e),this.sendRequest({$case:"offer",offer:xC(e)})}sendAnswer(e){Bk.debug("sending answer"),this.sendRequest({$case:"answer",answer:xC(e)})}sendIceCandidate(e,t){Bk.trace("sending ice candidate",e),this.sendRequest({$case:"trickle",trickle:{candidateInit:JSON.stringify(e),target:t}})}sendMuteTrack(e,t){this.sendRequest({$case:"mute",mute:{sid:e,muted:t}})}sendAddTrack(e){this.sendRequest({$case:"addTrack",addTrack:WO.fromPartial(e)})}sendUpdateTrackSettings(e){this.sendRequest({$case:"trackSetting",trackSetting:e})}sendUpdateSubscription(e){this.sendRequest({$case:"subscription",subscription:e})}sendSyncState(e){this.sendRequest({$case:"syncState",syncState:e})}sendUpdateVideoLayers(e,t){this.sendRequest({$case:"updateLayers",updateLayers:{trackSid:e,layers:t}})}sendUpdateSubscriptionPermissions(e,t){this.sendRequest({$case:"subscriptionPermission",subscriptionPermission:{allParticipants:e,trackPermissions:t}})}sendSimulateScenario(e){this.sendRequest({$case:"simulate",simulate:e})}sendPing(){this.sendRequest({$case:"ping",ping:Date.now()}),this.sendRequest({$case:"pingReq",pingReq:{timestamp:Date.now(),rtt:this.rtt}})}async sendLeave(){await this.sendRequest({$case:"leave",leave:{canReconnect:!1,reason:x_.CLIENT_INITIATED}})}async sendRequest(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];const r=!t&&!function(e){const t=PC.includes(e.$case);return Bk.trace("request allowed to bypass queue:",{canPass:t,req:e}),t}(e);if(r&&this.isReconnecting)return void this.queuedRequests.push((async()=>{await this.sendRequest(e,!0)}));if(t||await this.requestQueue.flush(),this.signalLatency&&await ZP(this.signalLatency),!this.ws||this.ws.readyState!==this.ws.OPEN)return void Bk.error("cannot send signal request before connected, type: ".concat(null==e?void 0:e.$case));const n={message:e};try{this.useJSON?this.ws.send(JSON.stringify(BO.toJSON(n))):this.ws.send(BO.encode(n).finish())}catch(e){Bk.error("error sending signal message",{error:e})}}handleSignalResponse(e){var t,r;const n=e.message;if(null!=n)if("answer"===n.$case){const e=CC(n.answer);this.onAnswer&&this.onAnswer(e)}else if("offer"===n.$case){const e=CC(n.offer);this.onOffer&&this.onOffer(e)}else if("trickle"===n.$case){const e=JSON.parse(n.trickle.candidateInit);this.onTrickle&&this.onTrickle(e,n.trickle.target)}else"update"===n.$case?this.onParticipantUpdate&&this.onParticipantUpdate(null!==(t=n.update.participants)&&void 0!==t?t:[]):"trackPublished"===n.$case?this.onLocalTrackPublished&&this.onLocalTrackPublished(n.trackPublished):"speakersChanged"===n.$case?this.onSpeakersChanged&&this.onSpeakersChanged(null!==(r=n.speakersChanged.speakers)&&void 0!==r?r:[]):"leave"===n.$case?this.onLeave&&this.onLeave(n.leave):"mute"===n.$case?this.onRemoteMuteChanged&&this.onRemoteMuteChanged(n.mute.sid,n.mute.muted):"roomUpdate"===n.$case?this.onRoomUpdate&&n.roomUpdate.room&&this.onRoomUpdate(n.roomUpdate.room):"connectionQuality"===n.$case?this.onConnectionQuality&&this.onConnectionQuality(n.connectionQuality):"streamStateUpdate"===n.$case?this.onStreamStateUpdate&&this.onStreamStateUpdate(n.streamStateUpdate):"subscribedQualityUpdate"===n.$case?this.onSubscribedQualityUpdate&&this.onSubscribedQualityUpdate(n.subscribedQualityUpdate):"subscriptionPermissionUpdate"===n.$case?this.onSubscriptionPermissionUpdate&&this.onSubscriptionPermissionUpdate(n.subscriptionPermissionUpdate):"refreshToken"===n.$case?this.onTokenRefresh&&this.onTokenRefresh(n.refreshToken):"trackUnpublished"===n.$case?this.onLocalTrackUnpublished&&this.onLocalTrackUnpublished(n.trackUnpublished):"pong"===n.$case?this.resetPingTimeout():"pongResp"===n.$case?(this.rtt=Date.now()-n.pongResp.lastPingTimestamp,this.resetPingTimeout()):Bk.debug("unsupported message",n);else Bk.debug("received unsupported message")}setReconnected(){for(;this.queuedRequests.length>0;){const e=this.queuedRequests.shift();e&&this.requestQueue.run(e)}this.isReconnecting=!1}handleWSError(e){Bk.error("websocket error",e)}resetPingTimeout(){this.clearPingTimeout(),this.pingTimeoutDuration?this.pingTimeout=GE.setTimeout((()=>{Bk.warn("ping timeout triggered. last pong received at: ".concat(new Date(Date.now()-1e3*this.pingTimeoutDuration).toUTCString())),this.onClose&&this.onClose("ping timeout")}),1e3*this.pingTimeoutDuration):Bk.warn("ping timeout duration not set")}clearPingTimeout(){this.pingTimeout&&GE.clearTimeout(this.pingTimeout)}startPingInterval(){this.clearPingInterval(),this.resetPingTimeout(),this.pingIntervalDuration?(Bk.debug("start ping interval"),this.pingInterval=GE.setInterval((()=>{this.sendPing()}),1e3*this.pingIntervalDuration)):Bk.warn("ping interval duration not set")}clearPingInterval(){Bk.debug("clearing ping interval"),this.clearPingTimeout(),this.pingInterval&&GE.clearInterval(this.pingInterval)}}function CC(e){const t={type:"offer",sdp:e.sdp};switch(e.type){case"answer":case"offer":case"pranswer":case"rollback":t.type=e.type}return t}function xC(e){return{sdp:e.sdp,type:e.type}}const jC={audioBitrate:nC.music.maxBitrate,dtx:!0,red:!0,forceStereo:!1,simulcast:!0,screenShareEncoding:aC.h1080fps15.encoding,stopMicTrackOnMute:!1,videoCodec:"vp8",backupCodec:{codec:"vp8",encoding:oC.h540.encoding}},TC={autoGainControl:!0,echoCancellation:!0,noiseSuppression:!0},RC={resolution:oC.h720.resolution},zC={adaptiveStream:!1,dynacast:!1,stopLocalTrackOnUnpublish:!0,reconnectPolicy:new class{constructor(e){this._retryDelays=void 0!==e?[...e]:_S}nextRetryDelayInMs(e){if(e.retryCount>=this._retryDelays.length)return null;const t=this._retryDelays[e.retryCount];return e.retryCount<=1?t:t+1e3*Math.random()}},disconnectOnPageLeave:!0,expWebAudioMix:!1},IC={autoSubscribe:!0,maxRetries:1,peerConnectionTimeout:15e3};var AC={},MC={exports:{}},DC=MC.exports={v:[{name:"version",reg:/^(\d*)$/}],o:[{name:"origin",reg:/^(\S*) (\d*) (\d*) (\S*) IP(\d) (\S*)/,names:["username","sessionId","sessionVersion","netType","ipVer","address"],format:"%s %s %d %s IP%d %s"}],s:[{name:"name"}],i:[{name:"description"}],u:[{name:"uri"}],e:[{name:"email"}],p:[{name:"phone"}],z:[{name:"timezones"}],r:[{name:"repeats"}],t:[{name:"timing",reg:/^(\d*) (\d*)/,names:["start","stop"],format:"%d %d"}],c:[{name:"connection",reg:/^IN IP(\d) (\S*)/,names:["version","ip"],format:"IN IP%d %s"}],b:[{push:"bandwidth",reg:/^(TIAS|AS|CT|RR|RS):(\d*)/,names:["type","limit"],format:"%s:%s"}],m:[{reg:/^(\w*) (\d*) ([\w/]*)(?: (.*))?/,names:["type","port","protocol","payloads"],format:"%s %d %s %s"}],a:[{push:"rtp",reg:/^rtpmap:(\d*) ([\w\-.]*)(?:\s*\/(\d*)(?:\s*\/(\S*))?)?/,names:["payload","codec","rate","encoding"],format:function(e){return e.encoding?"rtpmap:%d %s/%s/%s":e.rate?"rtpmap:%d %s/%s":"rtpmap:%d %s"}},{push:"fmtp",reg:/^fmtp:(\d*) ([\S| ]*)/,names:["payload","config"],format:"fmtp:%d %s"},{name:"control",reg:/^control:(.*)/,format:"control:%s"},{name:"rtcp",reg:/^rtcp:(\d*)(?: (\S*) IP(\d) (\S*))?/,names:["port","netType","ipVer","address"],format:function(e){return null!=e.address?"rtcp:%d %s IP%d %s":"rtcp:%d"}},{push:"rtcpFbTrrInt",reg:/^rtcp-fb:(\*|\d*) trr-int (\d*)/,names:["payload","value"],format:"rtcp-fb:%s trr-int %d"},{push:"rtcpFb",reg:/^rtcp-fb:(\*|\d*) ([\w-_]*)(?: ([\w-_]*))?/,names:["payload","type","subtype"],format:function(e){return null!=e.subtype?"rtcp-fb:%s %s %s":"rtcp-fb:%s %s"}},{push:"ext",reg:/^extmap:(\d+)(?:\/(\w+))?(?: (urn:ietf:params:rtp-hdrext:encrypt))? (\S*)(?: (\S*))?/,names:["value","direction","encrypt-uri","uri","config"],format:function(e){return"extmap:%d"+(e.direction?"/%s":"%v")+(e["encrypt-uri"]?" %s":"%v")+" %s"+(e.config?" %s":"")}},{name:"extmapAllowMixed",reg:/^(extmap-allow-mixed)/},{push:"crypto",reg:/^crypto:(\d*) ([\w_]*) (\S*)(?: (\S*))?/,names:["id","suite","config","sessionConfig"],format:function(e){return null!=e.sessionConfig?"crypto:%d %s %s %s":"crypto:%d %s %s"}},{name:"setup",reg:/^setup:(\w*)/,format:"setup:%s"},{name:"connectionType",reg:/^connection:(new|existing)/,format:"connection:%s"},{name:"mid",reg:/^mid:([^\s]*)/,format:"mid:%s"},{name:"msid",reg:/^msid:(.*)/,format:"msid:%s"},{name:"ptime",reg:/^ptime:(\d*(?:\.\d*)*)/,format:"ptime:%d"},{name:"maxptime",reg:/^maxptime:(\d*(?:\.\d*)*)/,format:"maxptime:%d"},{name:"direction",reg:/^(sendrecv|recvonly|sendonly|inactive)/},{name:"icelite",reg:/^(ice-lite)/},{name:"iceUfrag",reg:/^ice-ufrag:(\S*)/,format:"ice-ufrag:%s"},{name:"icePwd",reg:/^ice-pwd:(\S*)/,format:"ice-pwd:%s"},{name:"fingerprint",reg:/^fingerprint:(\S*) (\S*)/,names:["type","hash"],format:"fingerprint:%s %s"},{push:"candidates",reg:/^candidate:(\S*) (\d*) (\S*) (\d*) (\S*) (\d*) typ (\S*)(?: raddr (\S*) rport (\d*))?(?: tcptype (\S*))?(?: generation (\d*))?(?: network-id (\d*))?(?: network-cost (\d*))?/,names:["foundation","component","transport","priority","ip","port","type","raddr","rport","tcptype","generation","network-id","network-cost"],format:function(e){var t="candidate:%s %d %s %d %s %d typ %s";return t+=null!=e.raddr?" raddr %s rport %d":"%v%v",t+=null!=e.tcptype?" tcptype %s":"%v",null!=e.generation&&(t+=" generation %d"),(t+=null!=e["network-id"]?" network-id %d":"%v")+(null!=e["network-cost"]?" network-cost %d":"%v")}},{name:"endOfCandidates",reg:/^(end-of-candidates)/},{name:"remoteCandidates",reg:/^remote-candidates:(.*)/,format:"remote-candidates:%s"},{name:"iceOptions",reg:/^ice-options:(\S*)/,format:"ice-options:%s"},{push:"ssrcs",reg:/^ssrc:(\d*) ([\w_-]*)(?::(.*))?/,names:["id","attribute","value"],format:function(e){var t="ssrc:%d";return null!=e.attribute&&(t+=" %s",null!=e.value&&(t+=":%s")),t}},{push:"ssrcGroups",reg:/^ssrc-group:([\x21\x23\x24\x25\x26\x27\x2A\x2B\x2D\x2E\w]*) (.*)/,names:["semantics","ssrcs"],format:"ssrc-group:%s %s"},{name:"msidSemantic",reg:/^msid-semantic:\s?(\w*) (\S*)/,names:["semantic","token"],format:"msid-semantic: %s %s"},{push:"groups",reg:/^group:(\w*) (.*)/,names:["type","mids"],format:"group:%s %s"},{name:"rtcpMux",reg:/^(rtcp-mux)/},{name:"rtcpRsize",reg:/^(rtcp-rsize)/},{name:"sctpmap",reg:/^sctpmap:([\w_/]*) (\S*)(?: (\S*))?/,names:["sctpmapNumber","app","maxMessageSize"],format:function(e){return null!=e.maxMessageSize?"sctpmap:%s %s %s":"sctpmap:%s %s"}},{name:"xGoogleFlag",reg:/^x-google-flag:([^\s]*)/,format:"x-google-flag:%s"},{push:"rids",reg:/^rid:([\d\w]+) (\w+)(?: ([\S| ]*))?/,names:["id","direction","params"],format:function(e){return e.params?"rid:%s %s %s":"rid:%s %s"}},{push:"imageattrs",reg:new RegExp("^imageattr:(\\d+|\\*)[\\s\\t]+(send|recv)[\\s\\t]+(\\*|\\[\\S+\\](?:[\\s\\t]+\\[\\S+\\])*)(?:[\\s\\t]+(recv|send)[\\s\\t]+(\\*|\\[\\S+\\](?:[\\s\\t]+\\[\\S+\\])*))?"),names:["pt","dir1","attrs1","dir2","attrs2"],format:function(e){return"imageattr:%s %s %s"+(e.dir2?" %s %s":"")}},{name:"simulcast",reg:new RegExp("^simulcast:(send|recv) ([a-zA-Z0-9\\-_~;,]+)(?:\\s?(send|recv) ([a-zA-Z0-9\\-_~;,]+))?$"),names:["dir1","list1","dir2","list2"],format:function(e){return"simulcast:%s %s"+(e.dir2?" %s %s":"")}},{name:"simulcast_03",reg:/^simulcast:[\s\t]+([\S+\s\t]+)$/,names:["value"],format:"simulcast: %s"},{name:"framerate",reg:/^framerate:(\d+(?:$|\.\d+))/,format:"framerate:%s"},{name:"sourceFilter",reg:/^source-filter: *(excl|incl) (\S*) (IP4|IP6|\*) (\S*) (.*)/,names:["filterMode","netType","addressTypes","destAddress","srcList"],format:"source-filter: %s %s %s %s %s"},{name:"bundleOnly",reg:/^(bundle-only)/},{name:"label",reg:/^label:(.+)/,format:"label:%s"},{name:"sctpPort",reg:/^sctp-port:(\d+)$/,format:"sctp-port:%s"},{name:"maxMessageSize",reg:/^max-message-size:(\d+)$/,format:"max-message-size:%s"},{push:"tsRefClocks",reg:/^ts-refclk:([^\s=]*)(?:=(\S*))?/,names:["clksrc","clksrcExt"],format:function(e){return"ts-refclk:%s"+(null!=e.clksrcExt?"=%s":"")}},{name:"mediaClk",reg:/^mediaclk:(?:id=(\S*))? *([^\s=]*)(?:=(\S*))?(?: *rate=(\d+)\/(\d+))?/,names:["id","mediaClockName","mediaClockValue","rateNumerator","rateDenominator"],format:function(e){var t="mediaclk:";return t+=null!=e.id?"id=%s %s":"%v%s",t+=null!=e.mediaClockValue?"=%s":"",(t+=null!=e.rateNumerator?" rate=%s":"")+(null!=e.rateDenominator?"/%s":"")}},{name:"keywords",reg:/^keywds:(.+)$/,format:"keywds:%s"},{name:"content",reg:/^content:(.+)/,format:"content:%s"},{name:"bfcpFloorCtrl",reg:/^floorctrl:(c-only|s-only|c-s)/,format:"floorctrl:%s"},{name:"bfcpConfId",reg:/^confid:(\d+)/,format:"confid:%s"},{name:"bfcpUserId",reg:/^userid:(\d+)/,format:"userid:%s"},{name:"bfcpFloorId",reg:/^floorid:(.+) (?:m-stream|mstrm):(.+)/,names:["id","mStream"],format:"floorid:%s mstrm:%s"},{push:"invalid",names:["value"]}]};Object.keys(DC).forEach((function(e){DC[e].forEach((function(e){e.reg||(e.reg=/(.*)/),e.format||(e.format="%s")}))}));var NC=MC.exports;!function(e){var t=function(e){return String(Number(e))===e?Number(e):e},r=function(e,r,n){var o=e.name&&e.names;e.push&&!r[e.push]?r[e.push]=[]:o&&!r[e.name]&&(r[e.name]={});var i=e.push?{}:o?r[e.name]:r;!function(e,r,n,o){if(o&&!n)r[o]=t(e[1]);else for(var i=0;i<n.length;i+=1)null!=e[i+1]&&(r[n[i]]=t(e[i+1]))}(n.match(e.reg),i,e.names,e.name),e.push&&r[e.push].push(i)},n=NC,o=RegExp.prototype.test.bind(/^([a-z])=(.*)/);e.parse=function(e){var t={},i=[],a=t;return e.split(/(\r\n|\r|\n)/).filter(o).forEach((function(e){var t=e[0],o=e.slice(2);"m"===t&&(i.push({rtp:[],fmtp:[]}),a=i[i.length-1]);for(var s=0;s<(n[t]||[]).length;s+=1){var c=n[t][s];if(c.reg.test(o))return r(c,a,o)}})),t.media=i,t};var i=function(e,r){var n=r.split(/=(.+)/,2);return 2===n.length?e[n[0]]=t(n[1]):1===n.length&&r.length>1&&(e[n[0]]=void 0),e};e.parseParams=function(e){return e.split(/;\s?/).reduce(i,{})},e.parseFmtpConfig=e.parseParams,e.parsePayloads=function(e){return e.toString().split(" ").map(Number)},e.parseRemoteCandidates=function(e){for(var r=[],n=e.split(" ").map(t),o=0;o<n.length;o+=3)r.push({component:n[o],ip:n[o+1],port:n[o+2]});return r},e.parseImageAttributes=function(e){return e.split(" ").map((function(e){return e.substring(1,e.length-1).split(",").reduce(i,{})}))},e.parseSimulcastStreamList=function(e){return e.split(";").map((function(e){return e.split(",").map((function(e){var r,n=!1;return"~"!==e[0]?r=t(e):(r=t(e.substring(1,e.length)),n=!0),{scid:r,paused:n}}))}))}}(AC);var LC=NC,UC=/%[sdv%]/g,BC=function(e){var t=1,r=arguments,n=r.length;return e.replace(UC,(function(e){if(t>=n)return e;var o=r[t];switch(t+=1,e){case"%%":return"%";case"%s":return String(o);case"%d":return Number(o);case"%v":return""}}))},FC=function(e,t,r){var n=[e+"="+(t.format instanceof Function?t.format(t.push?r:r[t.name]):t.format)];if(t.names)for(var o=0;o<t.names.length;o+=1){var i=t.names[o];t.name?n.push(r[t.name][i]):n.push(r[t.names[o]])}else n.push(r[t.name]);return BC.apply(null,n)},qC=["v","o","s","i","u","e","p","c","b","t","r","z","a"],WC=["i","c","b","a"],ZC=function(e,t){t=t||{},null==e.version&&(e.version=0),null==e.name&&(e.name=" "),e.media.forEach((function(e){null==e.payloads&&(e.payloads="")}));var r=t.outerOrder||qC,n=t.innerOrder||WC,o=[];return r.forEach((function(t){LC[t].forEach((function(r){r.name in e&&null!=e[r.name]?o.push(FC(t,r,e)):r.push in e&&null!=e[r.push]&&e[r.push].forEach((function(e){o.push(FC(t,r,e))}))}))})),e.media.forEach((function(e){o.push(FC("m",LC.m[0],e)),n.forEach((function(t){LC[t].forEach((function(r){r.name in e&&null!=e[r.name]?o.push(FC(t,r,e)):r.push in e&&null!=e[r.push]&&e[r.push].forEach((function(e){o.push(FC(t,r,e))}))}))}))})),o.join("\r\n")+"\r\n"},HC=AC.parse;const $C="negotiationStarted",VC="negotiationComplete";class GC extends AE{constructor(e){super(),this.pendingCandidates=[],this.restartingIce=!1,this.renegotiate=!1,this.trackBitrates=[],this.remoteStereoMids=[],this.remoteNackMids=[],this.negotiate=VE((e=>{this.emit($C);try{this.createAndSendOffer()}catch(t){if(!e)throw t;e(t)}}),100),this.pc=new RTCPeerConnection(e)}get isICEConnected(){return"connected"===this.pc.iceConnectionState||"completed"===this.pc.iceConnectionState}async addIceCandidate(e){if(this.pc.remoteDescription&&!this.restartingIce)return this.pc.addIceCandidate(e);this.pendingCandidates.push(e)}async setRemoteDescription(e){if("offer"===e.type){let{stereoMids:t,nackMids:r}=function(e){var t;const r=[],n=[],o=HC(null!==(t=e.sdp)&&void 0!==t?t:"");let i=0;return o.media.forEach((e=>{var t;"audio"===e.type&&(e.rtp.some((e=>"opus"===e.codec&&(i=e.payload,!0))),(null===(t=e.rtcpFb)||void 0===t?void 0:t.some((e=>e.payload===i&&"nack"===e.type)))&&n.push(e.mid),e.fmtp.some((t=>t.payload===i&&(t.config.includes("sprop-stereo=1")&&r.push(e.mid),!0))))})),{stereoMids:r,nackMids:n}}(e);this.remoteStereoMids=t,this.remoteNackMids=r}await this.pc.setRemoteDescription(e),this.pendingCandidates.forEach((e=>{this.pc.addIceCandidate(e)})),this.pendingCandidates=[],this.restartingIce=!1,this.renegotiate?(this.renegotiate=!1,this.createAndSendOffer()):"answer"===e.type&&this.emit(VC)}async createAndSendOffer(e){var t;if(void 0===this.onOffer)return;if((null==e?void 0:e.iceRestart)&&(Bk.debug("restarting ICE"),this.restartingIce=!0),"have-local-offer"===this.pc.signalingState){const t=this.pc.remoteDescription;if(!(null==e?void 0:e.iceRestart)||!t)return void(this.renegotiate=!0);await this.pc.setRemoteDescription(t)}else if("closed"===this.pc.signalingState)return void Bk.warn("could not createOffer with closed peer connection");Bk.debug("starting to negotiate");const r=await this.pc.createOffer(e),n=HC(null!==(t=r.sdp)&&void 0!==t?t:"");n.media.forEach((e=>{"audio"===e.type?JC(e,[],[]):"video"===e.type&&this.trackBitrates.some((t=>{if(!e.msid||!e.msid.includes(t.sid))return!1;let r=0;return e.rtp.some((e=>e.codec.toUpperCase()===t.codec.toUpperCase()&&(r=e.payload,!0))),r>0&&(e.fmtp.some((e=>e.payload===r&&(e.config.includes("x-google-max-bitrate")||(e.config+=";x-google-max-bitrate=".concat(t.maxbr)),!0)))||e.fmtp.push({payload:r,config:"x-google-max-bitrate=".concat(t.maxbr)})),!0}))})),this.trackBitrates=[],await this.setMungedLocalDescription(r,ZC(n)),this.onOffer(r)}async createAndSetAnswer(){var e;const t=await this.pc.createAnswer(),r=HC(null!==(e=t.sdp)&&void 0!==e?e:"");return r.media.forEach((e=>{"audio"===e.type&&JC(e,this.remoteStereoMids,this.remoteNackMids)})),await this.setMungedLocalDescription(t,ZC(r)),t}setTrackCodecBitrate(e,t,r){this.trackBitrates.push({sid:e,codec:t,maxbr:r})}close(){this.pc.onconnectionstatechange=null,this.pc.oniceconnectionstatechange=null,this.pc.close()}async setMungedLocalDescription(e,t){const r=e.sdp;e.sdp=t;try{return Bk.debug("setting munged local description"),void await this.pc.setLocalDescription(e)}catch(t){Bk.warn("not able to set ".concat(e.type,", falling back to unmodified sdp"),{error:t}),e.sdp=r}try{await this.pc.setLocalDescription(e)}catch(e){let t="unknown error";throw e instanceof Error?t=e.message:"string"==typeof e&&(t=e),new DP(t)}}}function JC(e,t,r){let n=0;e.rtp.some((e=>"opus"===e.codec&&(n=e.payload,!0))),n>0&&(e.rtcpFb||(e.rtcpFb=[]),r.includes(e.mid)&&!e.rtcpFb.some((e=>e.payload===n&&"nack"===e.type))&&e.rtcpFb.push({payload:n,type:"nack"}),t.includes(e.mid)&&e.fmtp.some((e=>e.payload===n&&(e.config.includes("stereo=1")||(e.config+=";stereo=1"),!0))))}class KC{constructor(e,t){this.lastUpdateAt=0,this.settingsCacheTime=3e3,this.attemptedRegions=[],this.serverUrl=new URL(e),this.token=t}isCloud(){return eE(this.serverUrl)}async getNextBestRegionUrl(e){if(!this.isCloud())throw Error("region availability is only supported for LiveKit Cloud domains");(!this.regionSettings||Date.now()-this.lastUpdateAt>this.settingsCacheTime)&&(this.regionSettings=await this.fetchRegionSettings(e));const t=this.regionSettings.regions.filter((e=>!this.attemptedRegions.find((t=>t.url===e.url))));if(t.length>0){const e=t[0];return this.attemptedRegions.push(e),Bk.debug("next region: ".concat(e.region)),e.url}return null}resetAttempts(){this.attemptedRegions=[]}async fetchRegionSettings(e){const t=await fetch("".concat((r=this.serverUrl,"".concat(r.protocol.replace("ws","http"),"//").concat(r.host,"/settings")),"/regions"),{headers:{authorization:"Bearer ".concat(this.token)},signal:e});var r;if(t.ok){const e=await t.json();return this.lastUpdateAt=Date.now(),e}throw new RP("Could not fetch region settings: ".concat(t.statusText),401===t.status?0:void 0,t.status)}}const YC="_lossy",XC="_reliable",QC="leave-reconnect";var ex,tx,rx;!function(e){e[e.New=0]="New",e[e.Connected=1]="Connected",e[e.Disconnected=2]="Disconnected",e[e.Reconnecting=3]="Reconnecting",e[e.Closed=4]="Closed"}(ex||(ex={}));class nx extends IE.EventEmitter{get isClosed(){return this._isClosed}constructor(e){super(),this.options=e,this.rtcConfig={},this.peerConnectionTimeout=IC.peerConnectionTimeout,this.subscriberPrimary=!1,this.pcState=ex.New,this._isClosed=!0,this.pendingTrackResolvers={},this.hasPublished=!1,this.reconnectAttempts=0,this.reconnectStart=0,this.fullReconnectOnNext=!1,this.attemptingReconnect=!1,this.joinAttempts=0,this.maxJoinAttempts=1,this.shouldFailNext=!1,this.handleDataChannel=async e=>{let{channel:t}=e;if(t){if(t.label===XC)this.reliableDCSub=t;else{if(t.label!==YC)return;this.lossyDCSub=t}Bk.debug("on data channel ".concat(t.id,", ").concat(t.label)),t.onmessage=this.handleDataMessage}},this.handleDataMessage=async e=>{var t,r;const n=await this.dataProcessLock.lock();try{let n;if(e.data instanceof ArrayBuffer)n=e.data;else{if(!(e.data instanceof Blob))return void Bk.error("unsupported data type",e.data);n=await e.data.arrayBuffer()}const o=aS.decode(new Uint8Array(n));"speaker"===(null===(t=o.value)||void 0===t?void 0:t.$case)?this.emit(OP.ActiveSpeakersUpdate,o.value.speaker.speakers):"user"===(null===(r=o.value)||void 0===r?void 0:r.$case)&&this.emit(OP.DataPacketReceived,o.value.user,o.kind)}finally{n()}},this.handleDataError=e=>{const t=0===e.currentTarget.maxRetransmits?"lossy":"reliable";if(e instanceof ErrorEvent){const{error:r}=e.error;Bk.error("DataChannel error on ".concat(t,": ").concat(e.message),r)}else Bk.error("Unknown DataChannel Error on ".concat(t),e)},this.handleBufferedAmountLow=e=>{const t=0===e.currentTarget.maxRetransmits?z_.LOSSY:z_.RELIABLE;this.updateAndEmitDCBufferStatus(t)},this.handleDisconnect=(e,t)=>{if(this._isClosed)return;Bk.warn("".concat(e," disconnected")),0===this.reconnectAttempts&&(this.reconnectStart=Date.now());const r=Date.now()-this.reconnectStart;let n=this.getNextRetryDelay({elapsedMs:r,retryCount:this.reconnectAttempts});null!==n?(e===QC&&(n=0),Bk.debug("reconnecting in ".concat(n,"ms")),this.clearReconnectTimeout(),this.url&&this.token&&eE(new URL(this.url))&&(this.regionUrlProvider=new KC(this.url,this.token)),this.reconnectTimeout=GE.setTimeout((()=>this.attemptReconnect(t)),n)):(e=>{Bk.warn("could not recover connection after ".concat(this.reconnectAttempts," attempts, ").concat(e,"ms. giving up")),this.emit(OP.Disconnected),this.close()})(r)},this.updateAndEmitDCBufferStatus=e=>{const t=this.isBufferStatusLow(e);void 0!==t&&t!==this.dcBufferStatus.get(e)&&(this.dcBufferStatus.set(e,t),this.emit(OP.DCBufferStatusChanged,t,e))},this.isBufferStatusLow=e=>{const t=this.dataChannelForKind(e);if(t)return t.bufferedAmount<=t.bufferedAmountLowThreshold},this.handleBrowserOnLine=()=>{this.client.isReconnecting&&(this.clearReconnectTimeout(),this.attemptReconnect(j_.RR_SIGNAL_DISCONNECTED))},this.client=new EC,this.client.signalLatency=this.options.expSignalLatency,this.reconnectPolicy=this.options.reconnectPolicy,this.registerOnLineListener(),this.closingLock=new hE,this.dataProcessLock=new hE,this.dcBufferStatus=new Map([[z_.LOSSY,!0],[z_.RELIABLE,!0]])}async join(e,t,r,n){this.url=e,this.token=t,this.signalOpts=r;try{this.joinAttempts+=1;const o=await this.client.join(e,t,r,n);return this._isClosed=!1,this.subscriberPrimary=o.subscriberPrimary,this.publisher||this.configure(o),this.subscriberPrimary||this.negotiate(),this.clientConfiguration=o.clientConfiguration,o}catch(o){if(o instanceof RP&&1===o.reason&&(Bk.warn("Couldn't connect to server, attempt ".concat(this.joinAttempts," of ").concat(this.maxJoinAttempts)),this.joinAttempts<this.maxJoinAttempts))return this.join(e,t,r,n);throw o}}async close(){const e=await this.closingLock.lock();if(this.isClosed)e();else try{this._isClosed=!0,this.emit(OP.Closing),this.removeAllListeners(),this.deregisterOnLineListener(),this.clearPendingReconnect(),this.publisher&&"closed"!==this.publisher.pc.signalingState&&(this.publisher.pc.getSenders().forEach((e=>{var t,r;try{(null===(t=this.publisher)||void 0===t?void 0:t.pc.removeTrack)&&(null===(r=this.publisher)||void 0===r||r.pc.removeTrack(e))}catch(e){Bk.warn("could not removeTrack",{error:e})}})),this.publisher.close(),this.publisher=void 0),this.subscriber&&(this.subscriber.close(),this.subscriber=void 0),await this.client.close()}finally{e()}}addTrack(e){if(this.pendingTrackResolvers[e.cid])throw new IP("a track with the same ID has already been published");return new Promise(((t,r)=>{const n=setTimeout((()=>{delete this.pendingTrackResolvers[e.cid],r(new RP("publication of local track timed out, no response from server"))}),1e4);this.pendingTrackResolvers[e.cid]={resolve:e=>{clearTimeout(n),t(e)},reject:()=>{clearTimeout(n),r(new Error("Cancelled publication by calling unpublish"))}},this.client.sendAddTrack(e)}))}removeTrack(e){var t;if(e.track&&this.pendingTrackResolvers[e.track.id]){const{reject:t}=this.pendingTrackResolvers[e.track.id];t&&t(),delete this.pendingTrackResolvers[e.track.id]}try{return null===(t=this.publisher)||void 0===t||t.pc.removeTrack(e),!0}catch(e){Bk.warn("failed to remove track",{error:e,method:"removeTrack"})}return!1}updateMuteStatus(e,t){this.client.sendMuteTrack(e,t)}get dataSubscriberReadyState(){var e;return null===(e=this.reliableDCSub)||void 0===e?void 0:e.readyState}async getConnectedServerAddress(){if(void 0!==this.primaryPC)return async function(e){var t;let r="";const n=new Map,o=new Map;if((await e.getStats()).forEach((e=>{switch(e.type){case"transport":r=e.selectedCandidatePairId;break;case"candidate-pair":""===r&&e.selected&&(r=e.id),n.set(e.id,e);break;case"remote-candidate":o.set(e.id,"".concat(e.address,":").concat(e.port))}})),""===r)return;const i=null===(t=n.get(r))||void 0===t?void 0:t.remoteCandidateId;return void 0!==i?o.get(i):void 0}(this.primaryPC)}configure(e){var t;if(this.publisher||this.subscriber)return;this.participantSid=null===(t=e.participant)||void 0===t?void 0:t.sid;const r=this.makeRTCConfiguration(e);this.publisher=new GC(r),this.subscriber=new GC(r),this.emit(OP.TransportsCreated,this.publisher,this.subscriber),this.publisher.pc.onicecandidate=e=>{e.candidate&&(Bk.trace("adding ICE candidate for peer",e.candidate),this.client.sendIceCandidate(e.candidate,zO.PUBLISHER))},this.subscriber.pc.onicecandidate=e=>{e.candidate&&this.client.sendIceCandidate(e.candidate,zO.SUBSCRIBER)},this.publisher.onOffer=e=>{this.client.sendOffer(e)};let n=this.publisher.pc,o=this.subscriber.pc,i=e.subscriberPrimary;i&&(n=this.subscriber.pc,o=this.publisher.pc,this.subscriber.pc.ondatachannel=this.handleDataChannel),this.primaryPC=n,n.onconnectionstatechange=async()=>{if(Bk.debug("primary PC state changed ".concat(n.connectionState)),"connected"===n.connectionState){const t=this.pcState===ex.New;this.pcState=ex.Connected,t&&this.emit(OP.Connected,e)}else"failed"===n.connectionState&&this.pcState===ex.Connected&&(this.pcState=ex.Disconnected,this.handleDisconnect("primary peerconnection",i?j_.RR_SUBSCRIBER_FAILED:j_.RR_PUBLISHER_FAILED))},o.onconnectionstatechange=async()=>{Bk.debug("secondary PC state changed ".concat(o.connectionState)),"failed"===o.connectionState&&this.handleDisconnect("secondary peerconnection",i?j_.RR_PUBLISHER_FAILED:j_.RR_SUBSCRIBER_FAILED)},this.subscriber.pc.ontrack=e=>{this.emit(OP.MediaTrackAdded,e.track,e.streams[0],e.receiver)},this.createDataChannels(),this.client.onAnswer=async e=>{this.publisher&&(Bk.debug("received server answer",{RTCSdpType:e.type,signalingState:this.publisher.pc.signalingState}),await this.publisher.setRemoteDescription(e))},this.client.onTrickle=(e,t)=>{this.publisher&&this.subscriber&&(Bk.trace("got ICE candidate from peer",{candidate:e,target:t}),t===zO.PUBLISHER?this.publisher.addIceCandidate(e):this.subscriber.addIceCandidate(e))},this.client.onOffer=async e=>{if(!this.subscriber)return;Bk.debug("received server offer",{RTCSdpType:e.type,signalingState:this.subscriber.pc.signalingState}),await this.subscriber.setRemoteDescription(e);const t=await this.subscriber.createAndSetAnswer();this.client.sendAnswer(t)},this.client.onLocalTrackPublished=e=>{Bk.debug("received trackPublishedResponse",e);const{resolve:t}=this.pendingTrackResolvers[e.cid];t?(delete this.pendingTrackResolvers[e.cid],t(e.track)):Bk.error("missing track resolver for ".concat(e.cid))},this.client.onTokenRefresh=e=>{this.token=e},this.client.onClose=()=>{this.handleDisconnect("signal",j_.RR_SIGNAL_DISCONNECTED)},this.client.onLeave=e=>{(null==e?void 0:e.canReconnect)?(this.fullReconnectOnNext=!0,this.primaryPC=void 0,this.handleDisconnect(QC)):(this.emit(OP.Disconnected,null==e?void 0:e.reason),this.close()),Bk.trace("leave request",{leave:e})}}makeRTCConfiguration(e){const t=ES({},this.rtcConfig);if(e.iceServers&&!t.iceServers){const r=[];e.iceServers.forEach((e=>{const t={urls:e.urls};e.username&&(t.username=e.username),e.credential&&(t.credential=e.credential),r.push(t)})),t.iceServers=r}return e.clientConfiguration&&e.clientConfiguration.forceRelay===C_.ENABLED&&(t.iceTransportPolicy="relay"),t.sdpSemantics="unified-plan",t.continualGatheringPolicy="gather_continually",t}createDataChannels(){this.publisher&&(this.lossyDC&&(this.lossyDC.onmessage=null,this.lossyDC.onerror=null),this.reliableDC&&(this.reliableDC.onmessage=null,this.reliableDC.onerror=null),this.lossyDC=this.publisher.pc.createDataChannel(YC,{ordered:!0,maxRetransmits:0}),this.reliableDC=this.publisher.pc.createDataChannel(XC,{ordered:!0}),this.lossyDC.onmessage=this.handleDataMessage,this.reliableDC.onmessage=this.handleDataMessage,this.lossyDC.onerror=this.handleDataError,this.reliableDC.onerror=this.handleDataError,this.lossyDC.bufferedAmountLowThreshold=65535,this.reliableDC.bufferedAmountLowThreshold=65535,this.lossyDC.onbufferedamountlow=this.handleBufferedAmountLow,this.reliableDC.onbufferedamountlow=this.handleBufferedAmountLow)}setPreferredCodec(e,t,r){if(!("getCapabilities"in RTCRtpSender))return;const n=RTCRtpSender.getCapabilities(t);if(!n)return;Bk.debug("get capabilities",n);const o=[],i=[],a=[];n.codecs.forEach((e=>{const t=e.mimeType.toLowerCase();"audio/opus"!==t?t==="video/".concat(r)?"h264"!==r||e.sdpFmtpLine&&e.sdpFmtpLine.includes("profile-level-id=42e01f")?o.push(e):i.push(e):a.push(e):o.push(e)})),function(e){if(!XP())return!1;if(!("setCodecPreferences"in e))return!1;const t=BP();if(!t.browser.name||!t.browser.version)return!1;const r=GP[t.browser.name];return!!r&&function(e,t){const r=e.split("."),n=t.split("."),o=Math.min(e.length,t.length);for(let e=0;e<o;++e){const t=parseInt(r[e],10),o=parseInt(n[e],10);if(t>o)return 1;if(t<o)return-1}return r.length==n.length?0:r.length<n.length?-1:1}(t.browser.version,r)>=0}(e)&&e.setCodecPreferences(o.concat(i,a))}async createSender(e,t,r){if(HP())return this.createTransceiverRTCRtpSender(e,t,r);if($P())return Bk.debug("using add-track fallback"),this.createRTCRtpSender(e.mediaStreamTrack);throw new MP("Required webRTC APIs not supported on this device")}async createSimulcastSender(e,t,r,n){if(HP())return this.createSimulcastTransceiverSender(e,t,r,n);if($P())return Bk.debug("using add-track fallback"),this.createRTCRtpSender(e.mediaStreamTrack);throw new MP("Cannot stream on this device")}async createTransceiverRTCRtpSender(e,t,r){if(!this.publisher)throw new MP("publisher is closed");const n={direction:"sendonly"};r&&(n.sendEncodings=r);const o=await this.publisher.pc.addTransceiver(e.mediaStreamTrack,n);return e.kind===DE.Kind.Video&&t.videoCodec&&(this.setPreferredCodec(o,e.kind,t.videoCodec),e.codec=t.videoCodec),o.sender}async createSimulcastTransceiverSender(e,t,r,n){if(!this.publisher)throw new MP("publisher is closed");const o={direction:"sendonly"};n&&(o.sendEncodings=n);const i=await this.publisher.pc.addTransceiver(t.mediaStreamTrack,o);if(r.videoCodec)return this.setPreferredCodec(i,e.kind,r.videoCodec),e.setSimulcastTrackSender(r.videoCodec,i.sender),i.sender}async createRTCRtpSender(e){if(!this.publisher)throw new MP("publisher is closed");return this.publisher.pc.addTrack(e)}async attemptReconnect(e){var t,r,n;if(!this._isClosed&&!this.attemptingReconnect){(null===(t=this.clientConfiguration)||void 0===t?void 0:t.resumeConnection)!==C_.DISABLED&&"closed"!==(null!==(n=null===(r=this.primaryPC)||void 0===r?void 0:r.signalingState)&&void 0!==n?n:"closed")||(this.fullReconnectOnNext=!0);try{this.attemptingReconnect=!0,this.fullReconnectOnNext?await this.restartConnection():await this.resumeConnection(e),this.clearPendingReconnect(),this.fullReconnectOnNext=!1}catch(e){this.reconnectAttempts+=1;let t=!0;e instanceof MP?(Bk.debug("received unrecoverable error",{error:e}),t=!1):e instanceof ox||(this.fullReconnectOnNext=!0),t?this.handleDisconnect("reconnect",j_.RR_UNKOWN):(Bk.info("could not recover connection after ".concat(this.reconnectAttempts," attempts, ").concat(Date.now()-this.reconnectStart,"ms. giving up")),this.emit(OP.Disconnected),this.close())}finally{this.attemptingReconnect=!1}}}getNextRetryDelay(e){try{return this.reconnectPolicy.nextRetryDelayInMs(e)}catch(e){Bk.warn("encountered error in reconnect policy",{error:e})}return null}async restartConnection(e){var t,r,n,o,i;try{if(!this.url||!this.token)throw new MP("could not reconnect, url or token not saved");let o;Bk.info("reconnecting, attempt: ".concat(this.reconnectAttempts)),this.emit(OP.Restarting),this.client.isConnected&&await this.client.sendLeave(),await this.client.close(),this.primaryPC=void 0,null===(t=this.publisher)||void 0===t||t.close(),this.publisher=void 0,null===(r=this.subscriber)||void 0===r||r.close(),this.subscriber=void 0;try{if(!this.signalOpts)throw Bk.warn("attempted connection restart, without signal options present"),new ox;o=await this.join(null!=e?e:this.url,this.token,this.signalOpts)}catch(e){if(e instanceof RP&&0===e.reason)throw new MP("could not reconnect, token might be expired");throw new ox}if(this.shouldFailNext)throw this.shouldFailNext=!1,new Error("simulated failure");await this.waitForPCReconnected(),this.client.setReconnected(),null===(n=this.regionUrlProvider)||void 0===n||n.resetAttempts(),this.emit(OP.Restarted,o)}catch(e){const t=await(null===(o=this.regionUrlProvider)||void 0===o?void 0:o.getNextBestRegionUrl());if(t)return void await this.restartConnection(t);throw null===(i=this.regionUrlProvider)||void 0===i||i.resetAttempts(),e}}async resumeConnection(e){var t;if(!this.url||!this.token)throw new MP("could not reconnect, url or token not saved");if(!this.publisher||!this.subscriber)throw new MP("publisher and subscriber connections unset");Bk.info("resuming signal connection, attempt ".concat(this.reconnectAttempts)),this.emit(OP.Resuming);try{const t=await this.client.reconnect(this.url,this.token,this.participantSid,e);if(t){const e=this.makeRTCConfiguration(t);this.publisher.pc.setConfiguration(e),this.subscriber.pc.setConfiguration(e)}}catch(e){let t="";if(e instanceof Error&&(t=e.message),e instanceof RP&&0===e.reason)throw new MP("could not reconnect, token might be expired");throw new ox(t)}if(this.emit(OP.SignalResumed),this.shouldFailNext)throw this.shouldFailNext=!1,new Error("simulated failure");this.subscriber.restartingIce=!0,this.hasPublished&&await this.publisher.createAndSendOffer({iceRestart:!0}),await this.waitForPCReconnected(),this.client.setReconnected(),"open"===(null===(t=this.reliableDC)||void 0===t?void 0:t.readyState)&&null===this.reliableDC.id&&this.createDataChannels(),this.emit(OP.Resumed)}async waitForPCInitialConnection(e,t){if(this.pcState!==ex.Connected){if(this.pcState!==ex.New)throw new MP("Expected peer connection to be new on initial connection");return new Promise(((r,n)=>{const o=()=>{Bk.warn("closing engine"),GE.clearTimeout(a),n(new RP("room connection has been cancelled",3))};(null==t?void 0:t.signal.aborted)&&o(),null==t||t.signal.addEventListener("abort",o);const i=()=>{GE.clearTimeout(a),null==t||t.signal.removeEventListener("abort",o),r()},a=GE.setTimeout((()=>{this.off(OP.Connected,i),n(new RP("could not establish pc connection"))}),null!=e?e:this.peerConnectionTimeout);this.once(OP.Connected,i)}))}}async waitForPCReconnected(){var e;const t=Date.now();let r=t;for(this.pcState=ex.Reconnecting,Bk.debug("waiting for peer connection to reconnect");r-t<this.peerConnectionTimeout&&void 0!==this.primaryPC;){if(r-t>2e3&&"connected"===(null===(e=this.primaryPC)||void 0===e?void 0:e.connectionState)&&(this.pcState=ex.Connected),this.pcState===ex.Connected)return;await ZP(100),r=Date.now()}throw new RP("could not establish PC connection")}async sendDataPacket(e,t){const r=aS.encode(e).finish();await this.ensurePublisherConnected(t);const n=this.dataChannelForKind(t);n&&n.send(r),this.updateAndEmitDCBufferStatus(t)}async ensureDataTransportConnected(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:this.subscriberPrimary;var r,n,o;const i=t?this.subscriber:this.publisher,a=t?"Subscriber":"Publisher";if(!i)throw new RP("".concat(a," connection not set"));t||(null===(r=this.publisher)||void 0===r?void 0:r.isICEConnected)||"checking"===(null===(n=this.publisher)||void 0===n?void 0:n.pc.iceConnectionState)||this.negotiate();const s=this.dataChannelForKind(e,t);if("open"===(null==s?void 0:s.readyState))return;const c=(new Date).getTime()+this.peerConnectionTimeout;for(;(new Date).getTime()<c;){if(i.isICEConnected&&"open"===(null===(o=this.dataChannelForKind(e,t))||void 0===o?void 0:o.readyState))return;await ZP(50)}throw new RP("could not establish ".concat(a," connection, state: ").concat(i.pc.iceConnectionState))}async ensurePublisherConnected(e){await this.ensureDataTransportConnected(e,!1)}negotiate(){return new Promise(((e,t)=>{if(!this.publisher)return void t(new DP("publisher is not defined"));this.hasPublished=!0;const r=()=>{Bk.debug("engine disconnected while negotiation was ongoing"),o(),e()};this.on(OP.Closing,r);const n=setTimeout((()=>{t("negotiation timed out"),this.handleDisconnect("negotiation",j_.RR_SIGNAL_DISCONNECTED)}),this.peerConnectionTimeout),o=()=>{clearTimeout(n),this.off(OP.Closing,r)};this.publisher.once($C,(()=>{var t;null===(t=this.publisher)||void 0===t||t.once(VC,(()=>{o(),e()}))})),this.publisher.negotiate((e=>{o(),t(e),e instanceof DP&&(this.fullReconnectOnNext=!0),this.handleDisconnect("negotiation",j_.RR_UNKOWN)}))}))}dataChannelForKind(e,t){if(t){if(e===z_.LOSSY)return this.lossyDCSub;if(e===z_.RELIABLE)return this.reliableDCSub}else{if(e===z_.LOSSY)return this.lossyDC;if(e===z_.RELIABLE)return this.reliableDC}}failNext(){this.shouldFailNext=!0}clearReconnectTimeout(){this.reconnectTimeout&&GE.clearTimeout(this.reconnectTimeout)}clearPendingReconnect(){this.clearReconnectTimeout(),this.reconnectAttempts=0}registerOnLineListener(){XP()&&window.addEventListener("online",this.handleBrowserOnLine)}deregisterOnLineListener(){XP()&&window.removeEventListener("online",this.handleBrowserOnLine)}}class ox extends Error{}!function(e){e.Disconnected="disconnected",e.Connecting="connecting",e.Connected="connected",e.Reconnecting="reconnecting"}(tx||(tx={}));class ix extends IE.EventEmitter{constructor(e){var t;super(),t=this,this.state=tx.Disconnected,this.activeSpeakers=[],this.sid="",this.name="",this.metadata=void 0,this._isRecording=!1,this.audioEnabled=!0,this.connect=async(e,t,r)=>{const n=await this.disconnectLock.lock();if(this.state===tx.Connected)return Bk.info("already connected to room ".concat(this.name)),n(),Promise.resolve();if(this.connectFuture)return n(),this.connectFuture.promise;this.setAndEmitConnectionState(tx.Connecting);const o=new KC(e,t),i=async(a,s,c)=>{var l;this.abortController&&this.abortController.abort(),this.abortController=new AbortController,null==n||n();try{await this.attemptConnection(null!=c?c:e,t,r,this.abortController),this.abortController=void 0,a()}catch(t){if(eE(new URL(e))&&t instanceof RP&&3!==t.reason){let e=null;try{e=await o.getNextBestRegionUrl(null===(l=this.abortController)||void 0===l?void 0:l.signal)}catch(e){if(e instanceof RP&&(401===e.status||3===e.reason))return void s(e)}e?(Bk.debug("initial connection failed, retrying with another region"),await i(a,s,e)):s(t)}else s(t)}};return this.connectFuture=new fE(i,(()=>{this.clearConnectionFutures()})),this.connectFuture.promise},this.connectSignal=async(e,t,r,n,o,i)=>{const a=await r.join(e,t,{autoSubscribe:n.autoSubscribe,publishOnly:n.publishOnly,adaptiveStream:"object"==typeof o.adaptiveStream||o.adaptiveStream,maxRetries:n.maxRetries},i.signal);let s=a.serverInfo;if(s||(s={version:a.serverVersion,region:a.serverRegion}),Bk.debug("connected to Livekit Server ".concat(Object.entries(s).map((e=>{let[t,r]=e;return"".concat(t,": ").concat(r)})).join(", "))),!a.serverVersion)throw new AP("unknown server version");return"0.15.1"===a.serverVersion&&this.options.dynacast&&(Bk.debug("disabling dynacast due to server version"),o.dynacast=!1),a},this.applyJoinResponse=e=>{const t=e.participant;this.localParticipant.sid=t.sid,this.localParticipant.identity=t.identity,this.localParticipant.updateInfo(t),this.setupLocalParticipantEvents(),e.otherParticipants.forEach((e=>{e.sid!==this.localParticipant.sid&&e.identity!==this.localParticipant.identity?this.getOrCreateParticipant(e.sid,e):Bk.warn("received info to create local participant as remote participant",{info:e,localParticipant:this.localParticipant})})),this.name=e.room.name,this.sid=e.room.sid,this.metadata=e.room.metadata,this._isRecording!==e.room.activeRecording&&(this._isRecording=e.room.activeRecording,this.emit(_P.RecordingStatusChanged,e.room.activeRecording))},this.attemptConnection=async(e,t,r,n)=>{var o;this.state===tx.Reconnecting?(Bk.info("Reconnection attempt replaced by new connection attempt"),this.recreateEngine()):this.maybeCreateEngine(),this.acquireAudioContext(),this.connOptions=ES(ES({},IC),r),this.connOptions.rtcConfig&&(this.engine.rtcConfig=this.connOptions.rtcConfig),this.connOptions.peerConnectionTimeout&&(this.engine.peerConnectionTimeout=this.connOptions.peerConnectionTimeout);try{const r=await this.connectSignal(e,t,this.engine,this.connOptions,this.options,n);this.applyJoinResponse(r),this.emit(_P.SignalConnected)}catch(e){this.recreateEngine(),this.handleDisconnect(this.options.stopLocalTrackOnUnpublish);const t=new RP("could not establish signal connection");throw e instanceof Error&&(t.message="".concat(t.message,": ").concat(e.message)),e instanceof RP&&(t.reason=e.reason,t.status=e.status),Bk.debug("error trying to establish signal connection",{error:e}),t}if(n.signal.aborted)throw this.recreateEngine(),this.handleDisconnect(this.options.stopLocalTrackOnUnpublish),new RP("Connection attempt aborted");try{await this.engine.waitForPCInitialConnection(this.connOptions.peerConnectionTimeout,n)}catch(e){throw this.recreateEngine(),this.handleDisconnect(this.options.stopLocalTrackOnUnpublish),e}XP()&&this.options.disconnectOnPageLeave&&(window.addEventListener("pagehide",this.onPageLeave),window.addEventListener("beforeunload",this.onPageLeave),null===(o=navigator.mediaDevices)||void 0===o||o.addEventListener("devicechange",this.handleDeviceChange)),this.setAndEmitConnectionState(tx.Connected),this.emit(_P.Connected)},this.disconnect=async function(){let e=!(arguments.length>0&&void 0!==arguments[0])||arguments[0];var r,n,o,i;const a=await t.disconnectLock.lock();try{if(t.state===tx.Disconnected)return void Bk.debug("already disconnected");Bk.info("disconnect from room",{identity:t.localParticipant.identity}),t.state!==tx.Connecting&&t.state!==tx.Reconnecting||(Bk.warn("abort connection attempt"),null===(r=t.abortController)||void 0===r||r.abort(),null===(o=null===(n=t.connectFuture)||void 0===n?void 0:n.reject)||void 0===o||o.call(n,new RP("Client initiated disconnect")),t.connectFuture=void 0),(null===(i=t.engine)||void 0===i?void 0:i.client.isConnected)&&await t.engine.client.sendLeave(),t.engine&&await t.engine.close(),t.handleDisconnect(e,x_.CLIENT_INITIATED),t.engine=void 0}finally{a()}},this.onPageLeave=async()=>{await this.disconnect()},this.handleRestarting=()=>{for(const e of this.participants.values())this.handleParticipantDisconnected(e.sid,e);this.setAndEmitConnectionState(tx.Reconnecting)&&this.emit(_P.Reconnecting)},this.handleRestarted=async e=>{Bk.debug("reconnected to server",{region:e.serverRegion});try{e.participant&&(this.localParticipant.sid=e.participant.sid,this.handleParticipantUpdates([e.participant])),this.handleParticipantUpdates(e.otherParticipants);const t=[];this.localParticipant.tracks.forEach((e=>{e.track&&t.push(e)})),await Promise.all(t.map((async e=>{const t=e.track;this.localParticipant.unpublishTrack(t,!1),t.isMuted||((t instanceof BE||t instanceof FE)&&!t.isUserProvided&&(Bk.debug("restarting existing track",{track:e.trackSid}),await t.restartTrack()),Bk.debug("publishing new track",{track:e.trackSid}),await this.localParticipant.publishTrack(t,e.options))})))}catch(e){Bk.error("error trying to re-publish tracks after reconnection",{error:e})}finally{this.setAndEmitConnectionState(tx.Connected),this.emit(_P.Reconnected)}},this.handleParticipantUpdates=e=>{e.forEach((e=>{if(e.identity===this.localParticipant.identity)return void this.localParticipant.updateInfo(e);const t=this.identityToSid.get(e.identity);t&&t!==e.sid&&this.handleParticipantDisconnected(t,this.participants.get(t));let r=this.participants.get(e.sid);const n=!r;e.state===T_.DISCONNECTED?this.handleParticipantDisconnected(e.sid,r):(r=this.getOrCreateParticipant(e.sid,e),n||r.updateInfo(e))}))},this.handleActiveSpeakersUpdate=e=>{const t=[],r={};e.forEach((e=>{if(r[e.sid]=!0,e.sid===this.localParticipant.sid)this.localParticipant.audioLevel=e.level,this.localParticipant.setIsSpeaking(!0),t.push(this.localParticipant);else{const r=this.participants.get(e.sid);r&&(r.audioLevel=e.level,r.setIsSpeaking(!0),t.push(r))}})),r[this.localParticipant.sid]||(this.localParticipant.audioLevel=0,this.localParticipant.setIsSpeaking(!1)),this.participants.forEach((e=>{r[e.sid]||(e.audioLevel=0,e.setIsSpeaking(!1))})),this.activeSpeakers=t,this.emitWhenConnected(_P.ActiveSpeakersChanged,t)},this.handleSpeakersChanged=e=>{const t=new Map;this.activeSpeakers.forEach((e=>{t.set(e.sid,e)})),e.forEach((e=>{let r=this.participants.get(e.sid);e.sid===this.localParticipant.sid&&(r=this.localParticipant),r&&(r.audioLevel=e.level,r.setIsSpeaking(e.active),e.active?t.set(e.sid,r):t.delete(e.sid))}));const r=Array.from(t.values());r.sort(((e,t)=>t.audioLevel-e.audioLevel)),this.activeSpeakers=r,this.emitWhenConnected(_P.ActiveSpeakersChanged,r)},this.handleStreamStateUpdate=e=>{e.streamStates.forEach((e=>{const t=this.participants.get(e.participantSid);if(!t)return;const r=t.getTrackPublication(e.trackSid);r&&r.track&&(r.track.streamState=DE.streamStateFromProto(e.state),t.emit(SP.TrackStreamStateChanged,r,r.track.streamState),this.emitWhenConnected(_P.TrackStreamStateChanged,r,r.track.streamState,t))}))},this.handleSubscriptionPermissionUpdate=e=>{const t=this.participants.get(e.participantSid);if(!t)return;const r=t.getTrackPublication(e.trackSid);r&&r.setAllowed(e.allowed)},this.handleDataPacket=(e,t)=>{const r=this.participants.get(e.participantSid);this.emit(_P.DataReceived,e.payload,r,t,e.topic),null==r||r.emit(SP.DataReceived,e.payload,t)},this.handleAudioPlaybackStarted=()=>{this.canPlaybackAudio||(this.audioEnabled=!0,this.emit(_P.AudioPlaybackStatusChanged,!0))},this.handleAudioPlaybackFailed=e=>{Bk.warn("could not playback audio",e),this.canPlaybackAudio&&(this.audioEnabled=!1,this.emit(_P.AudioPlaybackStatusChanged,!1))},this.handleDeviceChange=async()=>{this.emit(_P.MediaDevicesChanged)},this.handleRoomUpdate=e=>{this._isRecording!==e.activeRecording&&(this._isRecording=e.activeRecording,this.emit(_P.RecordingStatusChanged,e.activeRecording)),this.metadata!==e.metadata&&(this.metadata=e.metadata,this.emitWhenConnected(_P.RoomMetadataChanged,e.metadata))},this.handleConnectionQualityUpdate=e=>{e.updates.forEach((e=>{if(e.participantSid===this.localParticipant.sid)return void this.localParticipant.setConnectionQuality(e.quality);const t=this.participants.get(e.participantSid);t&&t.setConnectionQuality(e.quality)}))},this.onLocalParticipantMetadataChanged=e=>{this.emit(_P.ParticipantMetadataChanged,e,this.localParticipant)},this.onLocalTrackMuted=e=>{this.emit(_P.TrackMuted,e,this.localParticipant)},this.onLocalTrackUnmuted=e=>{this.emit(_P.TrackUnmuted,e,this.localParticipant)},this.onLocalTrackPublished=async e=>{this.emit(_P.LocalTrackPublished,e,this.localParticipant),e.track instanceof BE&&await e.track.checkForSilence()&&this.emit(_P.LocalAudioSilenceDetected,e)},this.onLocalTrackUnpublished=e=>{this.emit(_P.LocalTrackUnpublished,e,this.localParticipant)},this.onLocalConnectionQualityChanged=e=>{this.emit(_P.ConnectionQualityChanged,e,this.localParticipant)},this.onMediaDevicesError=e=>{this.emit(_P.MediaDevicesError,e)},this.onLocalParticipantPermissionsChanged=e=>{this.emit(_P.ParticipantPermissionsChanged,e,this.localParticipant)},this.setMaxListeners(100),this.participants=new Map,this.identityToSid=new Map,this.options=ES(ES({},zC),e),this.options.audioCaptureDefaults=ES(ES({},TC),null==e?void 0:e.audioCaptureDefaults),this.options.videoCaptureDefaults=ES(ES({},RC),null==e?void 0:e.videoCaptureDefaults),this.options.publishDefaults=ES(ES({},jC),null==e?void 0:e.publishDefaults),this.maybeCreateEngine(),this.disconnectLock=new hE,this.localParticipant=new SC("","",this.engine,this.options)}maybeCreateEngine(){this.engine||(this.engine=new nx(this.options),this.engine.client.onParticipantUpdate=this.handleParticipantUpdates,this.engine.client.onRoomUpdate=this.handleRoomUpdate,this.engine.client.onSpeakersChanged=this.handleSpeakersChanged,this.engine.client.onStreamStateUpdate=this.handleStreamStateUpdate,this.engine.client.onSubscriptionPermissionUpdate=this.handleSubscriptionPermissionUpdate,this.engine.client.onConnectionQuality=this.handleConnectionQualityUpdate,this.engine.on(OP.MediaTrackAdded,((e,t,r)=>{this.onTrackAdded(e,t,r)})).on(OP.Disconnected,(e=>{this.handleDisconnect(this.options.stopLocalTrackOnUnpublish,e)})).on(OP.ActiveSpeakersUpdate,this.handleActiveSpeakersUpdate).on(OP.DataPacketReceived,this.handleDataPacket).on(OP.Resuming,(()=>{this.setAndEmitConnectionState(tx.Reconnecting)&&this.emit(_P.Reconnecting)})).on(OP.Resumed,(()=>{this.setAndEmitConnectionState(tx.Connected),this.emit(_P.Reconnected),this.updateSubscriptions()})).on(OP.SignalResumed,(()=>{this.state===tx.Reconnecting&&this.sendSyncState()})).on(OP.Restarting,this.handleRestarting).on(OP.Restarted,this.handleRestarted).on(OP.DCBufferStatusChanged,((e,t)=>{this.emit(_P.DCBufferStatusChanged,e,t)})),this.localParticipant&&this.localParticipant.setupEngine(this.engine))}static getLocalDevices(e){let t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];return yE.getInstance().getDevices(e,t)}async prepareConnection(e){await fetch("http".concat(e.substring(2)),{method:"HEAD"})}getParticipantByIdentity(e){if(this.localParticipant.identity===e)return this.localParticipant;const t=this.identityToSid.get(e);return t?this.participants.get(t):void 0}clearConnectionFutures(){this.connectFuture=void 0}get isRecording(){return this._isRecording}async simulateScenario(e){let t,r=()=>{};switch(e){case"signal-reconnect":await this.engine.client.close(),this.engine.client.onClose&&this.engine.client.onClose("simulate disconnect");break;case"speaker":t=bP.fromPartial({scenario:{$case:"speakerUpdate",speakerUpdate:3}});break;case"node-failure":t=bP.fromPartial({scenario:{$case:"nodeFailure",nodeFailure:!0}});break;case"server-leave":t=bP.fromPartial({scenario:{$case:"serverLeave",serverLeave:!0}});break;case"migration":t=bP.fromPartial({scenario:{$case:"migration",migration:!0}});break;case"resume-reconnect":this.engine.failNext(),await this.engine.client.close(),this.engine.client.onClose&&this.engine.client.onClose("simulate resume-reconnect");break;case"force-tcp":case"force-tls":t=bP.fromPartial({scenario:{$case:"switchCandidateProtocol",switchCandidateProtocol:"force-tls"===e?2:1}}),r=async()=>{const e=this.engine.client.onLeave;e&&e({reason:x_.CLIENT_INITIATED,canReconnect:!0})}}t&&(this.engine.client.sendSimulateScenario(t),r())}async startAudio(){await this.acquireAudioContext();const e=[];this.participants.forEach((t=>{t.audioTracks.forEach((t=>{t.track&&t.track.attachedElements.forEach((t=>{e.push(t)}))}))}));try{await Promise.all(e.map((e=>(e.muted=!1,e.play())))),this.handleAudioPlaybackStarted()}catch(e){throw this.handleAudioPlaybackFailed(e),e}}get canPlaybackAudio(){return this.audioEnabled}getActiveAudioOutputDevice(){var e,t;return null!==(t=null===(e=this.options.audioOutput)||void 0===e?void 0:e.deviceId)&&void 0!==t?t:""}async switchActiveDevice(e,t){var r,n;const o=arguments.length>2&&void 0!==arguments[2]&&arguments[2]?{exact:t}:t;if("audioinput"===e){const e=this.options.audioCaptureDefaults.deviceId;this.options.audioCaptureDefaults.deviceId=o;const t=Array.from(this.localParticipant.audioTracks.values()).filter((e=>e.source===DE.Source.Microphone));try{await Promise.all(t.map((e=>{var t;return null===(t=e.audioTrack)||void 0===t?void 0:t.setDeviceId(o)})))}catch(t){throw this.options.audioCaptureDefaults.deviceId=e,t}}else if("videoinput"===e){const e=this.options.videoCaptureDefaults.deviceId;this.options.videoCaptureDefaults.deviceId=o;const t=Array.from(this.localParticipant.videoTracks.values()).filter((e=>e.source===DE.Source.Camera));try{await Promise.all(t.map((e=>{var t;return null===(t=e.videoTrack)||void 0===t?void 0:t.setDeviceId(o)})))}catch(t){throw this.options.videoCaptureDefaults.deviceId=e,t}}else if("audiooutput"===e){if(!VP())throw new Error("cannot switch audio output, setSinkId not supported");null!==(r=(n=this.options).audioOutput)&&void 0!==r||(n.audioOutput={});const e=this.options.audioOutput.deviceId;this.options.audioOutput.deviceId=t;try{await Promise.all(Array.from(this.participants.values()).map((e=>e.setAudioOutput({deviceId:t}))))}catch(t){throw this.options.audioOutput.deviceId=e,t}}}setupLocalParticipantEvents(){this.localParticipant.on(SP.ParticipantMetadataChanged,this.onLocalParticipantMetadataChanged).on(SP.TrackMuted,this.onLocalTrackMuted).on(SP.TrackUnmuted,this.onLocalTrackUnmuted).on(SP.LocalTrackPublished,this.onLocalTrackPublished).on(SP.LocalTrackUnpublished,this.onLocalTrackUnpublished).on(SP.ConnectionQualityChanged,this.onLocalConnectionQualityChanged).on(SP.MediaDevicesError,this.onMediaDevicesError).on(SP.ParticipantPermissionsChanged,this.onLocalParticipantPermissionsChanged)}recreateEngine(){var e;null===(e=this.engine)||void 0===e||e.close(),this.engine=void 0,this.participants.clear(),this.maybeCreateEngine()}onTrackAdded(e,t,r){if(this.state===tx.Connecting||this.state===tx.Reconnecting){const n=()=>{this.onTrackAdded(e,t,r),o()},o=()=>{this.off(_P.Reconnected,n),this.off(_P.Connected,n),this.off(_P.Disconnected,o)};return this.once(_P.Reconnected,n),this.once(_P.Connected,n),void this.once(_P.Disconnected,o)}if(this.state===tx.Disconnected)return void Bk.warn("skipping incoming track after Room disconnected");const n=function(e){const t=e.split("|");return t.length>1?[t[0],e.substr(t[0].length+1)]:[e,""]}(t.id),o=n[0];let i=n[1];if(i&&""!==i||(i=e.id),o===this.localParticipant.sid)return void Bk.warn("tried to create RemoteParticipant for local participant");const a=this.getOrCreateParticipant(o);let s;this.options.adaptiveStream&&(s="object"==typeof this.options.adaptiveStream?this.options.adaptiveStream:{}),a.addSubscribedMediaTrack(e,i,t,r,s)}handleDisconnect(){let e=!(arguments.length>0&&void 0!==arguments[0])||arguments[0],t=arguments.length>1?arguments[1]:void 0;var r;this.state!==tx.Disconnected&&(this.participants.forEach((e=>{e.tracks.forEach((t=>{e.unpublishTrack(t.trackSid)}))})),this.localParticipant.tracks.forEach((t=>{var r,n;t.track&&this.localParticipant.unpublishTrack(t.track,e),e&&(null===(r=t.track)||void 0===r||r.detach(),null===(n=t.track)||void 0===n||n.stop())})),this.localParticipant.off(SP.ParticipantMetadataChanged,this.onLocalParticipantMetadataChanged).off(SP.TrackMuted,this.onLocalTrackMuted).off(SP.TrackUnmuted,this.onLocalTrackUnmuted).off(SP.LocalTrackPublished,this.onLocalTrackPublished).off(SP.LocalTrackUnpublished,this.onLocalTrackUnpublished).off(SP.ConnectionQualityChanged,this.onLocalConnectionQualityChanged).off(SP.MediaDevicesError,this.onMediaDevicesError).off(SP.ParticipantPermissionsChanged,this.onLocalParticipantPermissionsChanged),this.localParticipant.tracks.clear(),this.localParticipant.videoTracks.clear(),this.localParticipant.audioTracks.clear(),this.participants.clear(),this.activeSpeakers=[],this.audioContext&&"boolean"==typeof this.options.expWebAudioMix&&(this.audioContext.close(),this.audioContext=void 0),XP()&&(window.removeEventListener("beforeunload",this.onPageLeave),window.removeEventListener("pagehide",this.onPageLeave),null===(r=navigator.mediaDevices)||void 0===r||r.removeEventListener("devicechange",this.handleDeviceChange)),this.setAndEmitConnectionState(tx.Disconnected),this.emit(_P.Disconnected,t))}handleParticipantDisconnected(e,t){this.participants.delete(e),t&&(this.identityToSid.delete(t.identity),t.tracks.forEach((e=>{t.unpublishTrack(e.trackSid,!0)})),this.emit(_P.ParticipantDisconnected,t))}async acquireAudioContext(){var e,t;"boolean"!=typeof this.options.expWebAudioMix&&this.options.expWebAudioMix.audioContext?(this.audioContext=this.options.expWebAudioMix.audioContext,await this.audioContext.resume()):this.audioContext=null!==(e=WP())&&void 0!==e?e:void 0,this.options.expWebAudioMix&&this.participants.forEach((e=>e.setAudioContext(this.audioContext)));const r="running"===(null===(t=this.audioContext)||void 0===t?void 0:t.state);r!==this.canPlaybackAudio&&(this.audioEnabled=r,this.emit(_P.AudioPlaybackStatusChanged,r))}createParticipant(e,t){let r;return r=t?_C.fromParticipantInfo(this.engine.client,t):new _C(this.engine.client,e,"",void 0,void 0),this.options.expWebAudioMix&&r.setAudioContext(this.audioContext),r}getOrCreateParticipant(e,t){if(this.participants.has(e))return this.participants.get(e);const r=this.createParticipant(e,t);return this.participants.set(e,r),t&&(this.identityToSid.set(t.identity,t.sid),this.emitWhenConnected(_P.ParticipantConnected,r)),r.on(SP.TrackPublished,(e=>{this.emitWhenConnected(_P.TrackPublished,e,r)})).on(SP.TrackSubscribed,((e,t)=>{e.kind===DE.Kind.Audio&&(e.on(PP.AudioPlaybackStarted,this.handleAudioPlaybackStarted),e.on(PP.AudioPlaybackFailed,this.handleAudioPlaybackFailed)),this.emit(_P.TrackSubscribed,e,t,r)})).on(SP.TrackUnpublished,(e=>{this.emit(_P.TrackUnpublished,e,r)})).on(SP.TrackUnsubscribed,((e,t)=>{this.emit(_P.TrackUnsubscribed,e,t,r)})).on(SP.TrackSubscriptionFailed,(e=>{this.emit(_P.TrackSubscriptionFailed,e,r)})).on(SP.TrackMuted,(e=>{this.emitWhenConnected(_P.TrackMuted,e,r)})).on(SP.TrackUnmuted,(e=>{this.emitWhenConnected(_P.TrackUnmuted,e,r)})).on(SP.ParticipantMetadataChanged,(e=>{this.emitWhenConnected(_P.ParticipantMetadataChanged,e,r)})).on(SP.ConnectionQualityChanged,(e=>{this.emitWhenConnected(_P.ConnectionQualityChanged,e,r)})).on(SP.ParticipantPermissionsChanged,(e=>{this.emitWhenConnected(_P.ParticipantPermissionsChanged,e,r)})).on(SP.TrackSubscriptionStatusChanged,((e,t)=>{this.emitWhenConnected(_P.TrackSubscriptionStatusChanged,e,t,r)})).on(SP.TrackSubscriptionPermissionChanged,((e,t)=>{this.emitWhenConnected(_P.TrackSubscriptionPermissionChanged,e,t,r)})),t&&r.updateInfo(t),r}sendSyncState(){var e,t;if(void 0===this.engine.subscriber||null===this.engine.subscriber.pc.localDescription)return;const r=this.engine.subscriber.pc.localDescription,n=this.engine.subscriber.pc.remoteDescription,o=null===(t=null===(e=this.connOptions)||void 0===e?void 0:e.autoSubscribe)||void 0===t||t,i=new Array;this.participants.forEach((e=>{e.tracks.forEach((e=>{e.isDesired!==o&&i.push(e.trackSid)}))})),this.engine.client.sendSyncState({answer:xC({sdp:r.sdp,type:r.type}),offer:n?xC({sdp:n.sdp,type:n.type}):void 0,subscription:{trackSids:i,subscribe:!o,participantTracks:[]},publishTracks:this.localParticipant.publishedTracksInfo(),dataChannels:this.localParticipant.dataChannelsInfo()})}updateSubscriptions(){for(const e of this.participants.values())for(const t of e.videoTracks.values())t.isSubscribed&&t instanceof wC&&t.emitTrackUpdate()}setAndEmitConnectionState(e){return e!==this.state&&(this.state=e,this.emit(_P.ConnectionStateChanged,this.state),!0)}emitWhenConnected(e){if(this.state===tx.Connected){for(var t=arguments.length,r=new Array(t>1?t-1:0),n=1;n<t;n++)r[n-1]=arguments[n];return this.emit(e,...r)}return!1}async simulateParticipants(e){var t,r;const n=ES({audio:!0,video:!0,useRealTracks:!1},e.publish),o=ES({count:9,audio:!1,video:!0,aspectRatios:[1.66,1.7,1.3]},e.participants);if(this.handleDisconnect(),this.name="simulated-room",this.localParticipant.updateInfo(rS.fromPartial({identity:"simulated-local",name:"local-name"})),this.setupLocalParticipantEvents(),this.emit(_P.SignalConnected),this.emit(_P.Connected),this.setAndEmitConnectionState(tx.Connected),n.video){const e=new QE(DE.Kind.Video,oS.fromPartial({source:O_.CAMERA,sid:Math.floor(1e4*Math.random()).toString(),type:S_.AUDIO,name:"video-dummy"}),new FE(n.useRealTracks?(await navigator.mediaDevices.getUserMedia({video:!0})).getVideoTracks()[0]:dE(null!==(t=160*o.aspectRatios[0])&&void 0!==t?t:1,160,!0,!0)));this.localParticipant.addTrackPublication(e),this.localParticipant.emit(SP.LocalTrackPublished,e)}if(n.audio){const e=new QE(DE.Kind.Audio,oS.fromPartial({source:O_.MICROPHONE,sid:Math.floor(1e4*Math.random()).toString(),type:S_.AUDIO}),new BE(n.useRealTracks?(await navigator.mediaDevices.getUserMedia({audio:!0})).getAudioTracks()[0]:pE()));this.localParticipant.addTrackPublication(e),this.localParticipant.emit(SP.LocalTrackPublished,e)}for(let e=0;e<o.count-1;e+=1){let t=rS.fromPartial({sid:Math.floor(1e4*Math.random()).toString(),identity:"simulated-".concat(e),state:T_.ACTIVE,tracks:[],joinedAt:Date.now()});const n=this.getOrCreateParticipant(t.identity,t);if(o.video){const i=dE(null!==(r=160*o.aspectRatios[e%o.aspectRatios.length])&&void 0!==r?r:1,160,!1,!0),a=oS.fromPartial({source:O_.CAMERA,sid:Math.floor(1e4*Math.random()).toString(),type:S_.AUDIO});n.addSubscribedMediaTrack(i,a.sid,new MediaStream([i])),t.tracks=[...t.tracks,a]}if(o.audio){const e=pE(),r=oS.fromPartial({source:O_.MICROPHONE,sid:Math.floor(1e4*Math.random()).toString(),type:S_.AUDIO});n.addSubscribedMediaTrack(e,r.sid,new MediaStream([e])),t.tracks=[...t.tracks,r]}n.updateInfo(t)}}emit(e){for(var t=arguments.length,r=new Array(t>1?t-1:0),n=1;n<t;n++)r[n-1]=arguments[n];return e!==_P.ActiveSpeakersChanged&&Bk.debug("room event ".concat(e),{event:e,args:r}),super.emit(e,...r)}}function ax(e){return e.split("-")[1]}function sx(e){return"y"===e?"height":"width"}function cx(e){return e.split("-")[0]}function lx(e){return["top","bottom"].includes(cx(e))?"x":"y"}function ux(e,t,r){let{reference:n,floating:o}=e;const i=n.x+n.width/2-o.width/2,a=n.y+n.height/2-o.height/2,s=lx(t),c=sx(s),l=n[c]/2-o[c]/2,u="x"===s;let d;switch(cx(t)){case"top":d={x:i,y:n.y-o.height};break;case"bottom":d={x:i,y:n.y+n.height};break;case"right":d={x:n.x+n.width,y:a};break;case"left":d={x:n.x-o.width,y:a};break;default:d={x:n.x,y:n.y}}switch(ax(t)){case"start":d[s]-=l*(r&&u?-1:1);break;case"end":d[s]+=l*(r&&u?-1:1)}return d}!function(e){e[e.IDLE=0]="IDLE",e[e.RUNNING=1]="RUNNING",e[e.SKIPPED=2]="SKIPPED",e[e.SUCCESS=3]="SUCCESS",e[e.FAILED=4]="FAILED"}(rx||(rx={})),IE.EventEmitter,a(4521);const dx=async(e,t,r)=>{const{placement:n="bottom",strategy:o="absolute",middleware:i=[],platform:a}=r,s=i.filter(Boolean),c=await(null==a.isRTL?void 0:a.isRTL(t));let l=await a.getElementRects({reference:e,floating:t,strategy:o}),{x:u,y:d}=ux(l,n,c),p=n,f={},h=0;for(let r=0;r<s.length;r++){const{name:i,fn:m}=s[r],{x:y,y:g,data:b,reset:v}=await m({x:u,y:d,initialPlacement:n,placement:p,strategy:o,middlewareData:f,rects:l,platform:a,elements:{reference:e,floating:t}});u=null!=y?y:u,d=null!=g?g:d,f={...f,[i]:{...f[i],...b}},v&&h<=50&&(h++,"object"==typeof v&&(v.placement&&(p=v.placement),v.rects&&(l=!0===v.rects?await a.getElementRects({reference:e,floating:t,strategy:o}):v.rects),({x:u,y:d}=ux(l,p,c))),r=-1)}return{x:u,y:d,placement:p,strategy:o,middlewareData:f}};function px(e){return{...e,top:e.y,left:e.x,right:e.x+e.width,bottom:e.y+e.height}}async function fx(e,t){var r;void 0===t&&(t={});const{x:n,y:o,platform:i,rects:a,elements:s,strategy:c}=e,{boundary:l="clippingAncestors",rootBoundary:u="viewport",elementContext:d="floating",altBoundary:p=!1,padding:f=0}=t,h=function(e){return"number"!=typeof e?function(e){return{top:0,right:0,bottom:0,left:0,...e}}(e):{top:e,right:e,bottom:e,left:e}}(f),m=s[p?"floating"===d?"reference":"floating":d],y=px(await i.getClippingRect({element:null==(r=await(null==i.isElement?void 0:i.isElement(m)))||r?m:m.contextElement||await(null==i.getDocumentElement?void 0:i.getDocumentElement(s.floating)),boundary:l,rootBoundary:u,strategy:c})),g="floating"===d?{...a.floating,x:n,y:o}:a.reference,b=await(null==i.getOffsetParent?void 0:i.getOffsetParent(s.floating)),v=await(null==i.isElement?void 0:i.isElement(b))&&await(null==i.getScale?void 0:i.getScale(b))||{x:1,y:1},k=px(i.convertOffsetParentRelativeRectToViewportRelativeRect?await i.convertOffsetParentRelativeRectToViewportRelativeRect({rect:g,offsetParent:b,strategy:c}):g);return{top:(y.top-k.top+h.top)/v.y,bottom:(k.bottom-y.bottom+h.bottom)/v.y,left:(y.left-k.left+h.left)/v.x,right:(k.right-y.right+h.right)/v.x}}const hx=Math.min,mx=Math.max;function yx(e,t,r){return mx(e,hx(t,r))}const gx=(["top","right","bottom","left"].reduce(((e,t)=>e.concat(t,t+"-start",t+"-end")),[]),{left:"right",right:"left",bottom:"top",top:"bottom"});function bx(e){return e.replace(/left|right|bottom|top/g,(e=>gx[e]))}function vx(e,t,r){void 0===r&&(r=!1);const n=ax(e),o=lx(e),i=sx(o);let a="x"===o?n===(r?"end":"start")?"right":"left":"start"===n?"bottom":"top";return t.reference[i]>t.floating[i]&&(a=bx(a)),{main:a,cross:bx(a)}}const kx={start:"end",end:"start"};function wx(e){return e.replace(/start|end/g,(e=>kx[e]))}const _x=function(e){return void 0===e&&(e={}),{name:"flip",options:e,async fn(t){var r;const{placement:n,middlewareData:o,rects:i,initialPlacement:a,platform:s,elements:c}=t,{mainAxis:l=!0,crossAxis:u=!0,fallbackPlacements:d,fallbackStrategy:p="bestFit",fallbackAxisSideDirection:f="none",flipAlignment:h=!0,...m}=e,y=cx(n),g=cx(a)===a,b=await(null==s.isRTL?void 0:s.isRTL(c.floating)),v=d||(g||!h?[bx(a)]:function(e){const t=bx(e);return[wx(e),t,wx(t)]}(a));d||"none"===f||v.push(...function(e,t,r,n){const o=ax(e);let i=function(e,t,r){const n=["left","right"],o=["right","left"],i=["top","bottom"],a=["bottom","top"];switch(e){case"top":case"bottom":return r?t?o:n:t?n:o;case"left":case"right":return t?i:a;default:return[]}}(cx(e),"start"===r,n);return o&&(i=i.map((e=>e+"-"+o)),t&&(i=i.concat(i.map(wx)))),i}(a,h,f,b));const k=[a,...v],w=await fx(t,m),_=[];let S=(null==(r=o.flip)?void 0:r.overflows)||[];if(l&&_.push(w[y]),u){const{main:e,cross:t}=vx(n,i,b);_.push(w[e],w[t])}if(S=[...S,{placement:n,overflows:_}],!_.every((e=>e<=0))){var O,P;const e=((null==(O=o.flip)?void 0:O.index)||0)+1,t=k[e];if(t)return{data:{index:e,overflows:S},reset:{placement:t}};let r=null==(P=S.filter((e=>e.overflows[0]<=0)).sort(((e,t)=>e.overflows[1]-t.overflows[1]))[0])?void 0:P.placement;if(!r)switch(p){case"bestFit":{var E;const e=null==(E=S.map((e=>[e.placement,e.overflows.filter((e=>e>0)).reduce(((e,t)=>e+t),0)])).sort(((e,t)=>e[1]-t[1]))[0])?void 0:E[0];e&&(r=e);break}case"initialPlacement":r=a}if(n!==r)return{reset:{placement:r}}}return{}}}},Sx=function(e){return void 0===e&&(e=0),{name:"offset",options:e,async fn(t){const{x:r,y:n}=t,o=await async function(e,t){const{placement:r,platform:n,elements:o}=e,i=await(null==n.isRTL?void 0:n.isRTL(o.floating)),a=cx(r),s=ax(r),c="x"===lx(r),l=["left","top"].includes(a)?-1:1,u=i&&c?-1:1,d="function"==typeof t?t(e):t;let{mainAxis:p,crossAxis:f,alignmentAxis:h}="number"==typeof d?{mainAxis:d,crossAxis:0,alignmentAxis:null}:{mainAxis:0,crossAxis:0,alignmentAxis:null,...d};return s&&"number"==typeof h&&(f="end"===s?-1*h:h),c?{x:f*u,y:p*l}:{x:p*l,y:f*u}}(t,e);return{x:r+o.x,y:n+o.y,data:o}}}};const Ox=function(e){return void 0===e&&(e={}),{name:"shift",options:e,async fn(t){const{x:r,y:n,placement:o}=t,{mainAxis:i=!0,crossAxis:a=!1,limiter:s={fn:e=>{let{x:t,y:r}=e;return{x:t,y:r}}},...c}=e,l={x:r,y:n},u=await fx(t,c),d=lx(cx(o)),p=function(e){return"x"===e?"y":"x"}(d);let f=l[d],h=l[p];if(i){const e="y"===d?"bottom":"right";f=yx(f+u["y"===d?"top":"left"],f,f-u[e])}if(a){const e="y"===p?"bottom":"right";h=yx(h+u["y"===p?"top":"left"],h,h-u[e])}const m=s.fn({...t,[d]:f,[p]:h});return{...m,data:{x:m.x-r,y:m.y-n}}}}};function Px(e){var t;return(null==(t=e.ownerDocument)?void 0:t.defaultView)||window}function Ex(e){return Px(e).getComputedStyle(e)}function Cx(e){return e instanceof Px(e).Node}function xx(e){return Cx(e)?(e.nodeName||"").toLowerCase():""}let jx;function Tx(){if(jx)return jx;const e=navigator.userAgentData;return e&&Array.isArray(e.brands)?(jx=e.brands.map((e=>e.brand+"/"+e.version)).join(" "),jx):navigator.userAgent}function Rx(e){return e instanceof Px(e).HTMLElement}function zx(e){return e instanceof Px(e).Element}function Ix(e){return"undefined"!=typeof ShadowRoot&&(e instanceof Px(e).ShadowRoot||e instanceof ShadowRoot)}function Ax(e){const{overflow:t,overflowX:r,overflowY:n,display:o}=Ex(e);return/auto|scroll|overlay|hidden|clip/.test(t+n+r)&&!["inline","contents"].includes(o)}function Mx(e){return["table","td","th"].includes(xx(e))}function Dx(e){const t=/firefox/i.test(Tx()),r=Ex(e),n=r.backdropFilter||r.WebkitBackdropFilter;return"none"!==r.transform||"none"!==r.perspective||!!n&&"none"!==n||t&&"filter"===r.willChange||t&&!!r.filter&&"none"!==r.filter||["transform","perspective"].some((e=>r.willChange.includes(e)))||["paint","layout","strict","content"].some((e=>{const t=r.contain;return null!=t&&t.includes(e)}))}function Nx(){return/^((?!chrome|android).)*safari/i.test(Tx())}function Lx(e){return["html","body","#document"].includes(xx(e))}const Ux=Math.min,Bx=Math.max,Fx=Math.round;function qx(e){const t=Ex(e);let r=parseFloat(t.width),n=parseFloat(t.height);const o=Rx(e),i=o?e.offsetWidth:r,a=o?e.offsetHeight:n,s=Fx(r)!==i||Fx(n)!==a;return s&&(r=i,n=a),{width:r,height:n,fallback:s}}function Wx(e){return zx(e)?e:e.contextElement}const Zx={x:1,y:1};function Hx(e){const t=Wx(e);if(!Rx(t))return Zx;const r=t.getBoundingClientRect(),{width:n,height:o,fallback:i}=qx(t);let a=(i?Fx(r.width):r.width)/n,s=(i?Fx(r.height):r.height)/o;return a&&Number.isFinite(a)||(a=1),s&&Number.isFinite(s)||(s=1),{x:a,y:s}}function $x(e,t,r,n){var o,i;void 0===t&&(t=!1),void 0===r&&(r=!1);const a=e.getBoundingClientRect(),s=Wx(e);let c=Zx;t&&(n?zx(n)&&(c=Hx(n)):c=Hx(e));const l=s?Px(s):window,u=Nx()&&r;let d=(a.left+(u&&(null==(o=l.visualViewport)?void 0:o.offsetLeft)||0))/c.x,p=(a.top+(u&&(null==(i=l.visualViewport)?void 0:i.offsetTop)||0))/c.y,f=a.width/c.x,h=a.height/c.y;if(s){const e=Px(s),t=n&&zx(n)?Px(n):n;let r=e.frameElement;for(;r&&n&&t!==e;){const e=Hx(r),t=r.getBoundingClientRect(),n=getComputedStyle(r);t.x+=(r.clientLeft+parseFloat(n.paddingLeft))*e.x,t.y+=(r.clientTop+parseFloat(n.paddingTop))*e.y,d*=e.x,p*=e.y,f*=e.x,h*=e.y,d+=t.x,p+=t.y,r=Px(r).frameElement}}return px({width:f,height:h,x:d,y:p})}function Vx(e){return((Cx(e)?e.ownerDocument:e.document)||window.document).documentElement}function Gx(e){return zx(e)?{scrollLeft:e.scrollLeft,scrollTop:e.scrollTop}:{scrollLeft:e.pageXOffset,scrollTop:e.pageYOffset}}function Jx(e){return $x(Vx(e)).left+Gx(e).scrollLeft}function Kx(e){if("html"===xx(e))return e;const t=e.assignedSlot||e.parentNode||Ix(e)&&e.host||Vx(e);return Ix(t)?t.host:t}function Yx(e){const t=Kx(e);return Lx(t)?t.ownerDocument.body:Rx(t)&&Ax(t)?t:Yx(t)}function Xx(e,t){var r;void 0===t&&(t=[]);const n=Yx(e),o=n===(null==(r=e.ownerDocument)?void 0:r.body),i=Px(n);return o?t.concat(i,i.visualViewport||[],Ax(n)?n:[]):t.concat(n,Xx(n))}function Qx(e,t,r){let n;if("viewport"===t)n=function(e,t){const r=Px(e),n=Vx(e),o=r.visualViewport;let i=n.clientWidth,a=n.clientHeight,s=0,c=0;if(o){i=o.width,a=o.height;const e=Nx();(!e||e&&"fixed"===t)&&(s=o.offsetLeft,c=o.offsetTop)}return{width:i,height:a,x:s,y:c}}(e,r);else if("document"===t)n=function(e){const t=Vx(e),r=Gx(e),n=e.ownerDocument.body,o=Bx(t.scrollWidth,t.clientWidth,n.scrollWidth,n.clientWidth),i=Bx(t.scrollHeight,t.clientHeight,n.scrollHeight,n.clientHeight);let a=-r.scrollLeft+Jx(e);const s=-r.scrollTop;return"rtl"===Ex(n).direction&&(a+=Bx(t.clientWidth,n.clientWidth)-o),{width:o,height:i,x:a,y:s}}(Vx(e));else if(zx(t))n=function(e,t){const r=$x(e,!0,"fixed"===t),n=r.top+e.clientTop,o=r.left+e.clientLeft,i=Rx(e)?Hx(e):{x:1,y:1};return{width:e.clientWidth*i.x,height:e.clientHeight*i.y,x:o*i.x,y:n*i.y}}(t,r);else{const r={...t};if(Nx()){var o,i;const t=Px(e);r.x-=(null==(o=t.visualViewport)?void 0:o.offsetLeft)||0,r.y-=(null==(i=t.visualViewport)?void 0:i.offsetTop)||0}n=r}return px(n)}function ej(e,t){return Rx(e)&&"fixed"!==Ex(e).position?t?t(e):e.offsetParent:null}function tj(e,t){const r=Px(e);if(!Rx(e))return r;let n=ej(e,t);for(;n&&Mx(n)&&"static"===Ex(n).position;)n=ej(n,t);return n&&("html"===xx(n)||"body"===xx(n)&&"static"===Ex(n).position&&!Dx(n))?r:n||function(e){let t=Kx(e);for(;Rx(t)&&!Lx(t);){if(Dx(t))return t;t=Kx(t)}return null}(e)||r}function rj(e,t,r){const n=Rx(t),o=Vx(t),i=$x(e,!0,"fixed"===r,t);let a={scrollLeft:0,scrollTop:0};const s={x:0,y:0};if(n||!n&&"fixed"!==r)if(("body"!==xx(t)||Ax(o))&&(a=Gx(t)),Rx(t)){const e=$x(t,!0);s.x=e.x+t.clientLeft,s.y=e.y+t.clientTop}else o&&(s.x=Jx(o));return{x:i.left+a.scrollLeft-s.x,y:i.top+a.scrollTop-s.y,width:i.width,height:i.height}}const nj={getClippingRect:function(e){let{element:t,boundary:r,rootBoundary:n,strategy:o}=e;const i="clippingAncestors"===r?function(e,t){const r=t.get(e);if(r)return r;let n=Xx(e).filter((e=>zx(e)&&"body"!==xx(e))),o=null;const i="fixed"===Ex(e).position;let a=i?Kx(e):e;for(;zx(a)&&!Lx(a);){const e=Ex(a),t=Dx(a);"fixed"===e.position&&(o=null),(i?t||o:t||"static"!==e.position||!o||!["absolute","fixed"].includes(o.position))?o=e:n=n.filter((e=>e!==a)),a=Kx(a)}return t.set(e,n),n}(t,this._c):[].concat(r),a=[...i,n],s=a[0],c=a.reduce(((e,r)=>{const n=Qx(t,r,o);return e.top=Bx(n.top,e.top),e.right=Ux(n.right,e.right),e.bottom=Ux(n.bottom,e.bottom),e.left=Bx(n.left,e.left),e}),Qx(t,s,o));return{width:c.right-c.left,height:c.bottom-c.top,x:c.left,y:c.top}},convertOffsetParentRelativeRectToViewportRelativeRect:function(e){let{rect:t,offsetParent:r,strategy:n}=e;const o=Rx(r),i=Vx(r);if(r===i)return t;let a={scrollLeft:0,scrollTop:0},s={x:1,y:1};const c={x:0,y:0};if((o||!o&&"fixed"!==n)&&(("body"!==xx(r)||Ax(i))&&(a=Gx(r)),Rx(r))){const e=$x(r);s=Hx(r),c.x=e.x+r.clientLeft,c.y=e.y+r.clientTop}return{width:t.width*s.x,height:t.height*s.y,x:t.x*s.x-a.scrollLeft*s.x+c.x,y:t.y*s.y-a.scrollTop*s.y+c.y}},isElement:zx,getDimensions:function(e){return qx(e)},getOffsetParent:tj,getDocumentElement:Vx,getScale:Hx,async getElementRects(e){let{reference:t,floating:r,strategy:n}=e;const o=this.getOffsetParent||tj,i=this.getDimensions;return{reference:rj(t,await o(r),n),floating:{x:0,y:0,...await i(r)}}},getClientRects:e=>Array.from(e.getClientRects()),isRTL:e=>"rtl"===Ex(e).direction};var oj=a(8804);function ij(e){return"function"==typeof e}function aj(e){return function(t){if(function(e){return ij(null==e?void 0:e.lift)}(t))return t.lift((function(t){try{return e(t,this)}catch(e){this.error(e)}}));throw new TypeError("Unable to lift unknown Observable type")}}var sj=function(e,t){return sj=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r])},sj(e,t)};function cj(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");function r(){this.constructor=e}sj(e,t),e.prototype=null===t?Object.create(t):(r.prototype=t.prototype,new r)}function lj(e,t){var r,n,o,i,a={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return i={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function s(s){return function(c){return function(s){if(r)throw new TypeError("Generator is already executing.");for(;i&&(i=0,s[0]&&(a=0)),a;)try{if(r=1,n&&(o=2&s[0]?n.return:s[0]?n.throw||((o=n.return)&&o.call(n),0):n.next)&&!(o=o.call(n,s[1])).done)return o;switch(n=0,o&&(s=[2&s[0],o.value]),s[0]){case 0:case 1:o=s;break;case 4:return a.label++,{value:s[1],done:!1};case 5:a.label++,n=s[1],s=[0];continue;case 7:s=a.ops.pop(),a.trys.pop();continue;default:if(!((o=(o=a.trys).length>0&&o[o.length-1])||6!==s[0]&&2!==s[0])){a=0;continue}if(3===s[0]&&(!o||s[1]>o[0]&&s[1]<o[3])){a.label=s[1];break}if(6===s[0]&&a.label<o[1]){a.label=o[1],o=s;break}if(o&&a.label<o[2]){a.label=o[2],a.ops.push(s);break}o[2]&&a.ops.pop(),a.trys.pop();continue}s=t.call(e,a)}catch(e){s=[6,e],n=0}finally{r=o=0}if(5&s[0])throw s[1];return{value:s[0]?s[1]:void 0,done:!0}}([s,c])}}}function uj(e){var t="function"==typeof Symbol&&Symbol.iterator,r=t&&e[t],n=0;if(r)return r.call(e);if(e&&"number"==typeof e.length)return{next:function(){return e&&n>=e.length&&(e=void 0),{value:e&&e[n++],done:!e}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")}function dj(e,t){var r="function"==typeof Symbol&&e[Symbol.iterator];if(!r)return e;var n,o,i=r.call(e),a=[];try{for(;(void 0===t||t-- >0)&&!(n=i.next()).done;)a.push(n.value)}catch(e){o={error:e}}finally{try{n&&!n.done&&(r=i.return)&&r.call(i)}finally{if(o)throw o.error}}return a}function pj(e,t,r){if(r||2===arguments.length)for(var n,o=0,i=t.length;o<i;o++)!n&&o in t||(n||(n=Array.prototype.slice.call(t,0,o)),n[o]=t[o]);return e.concat(n||Array.prototype.slice.call(t))}function fj(e){return this instanceof fj?(this.v=e,this):new fj(e)}function hj(e){var t=e((function(e){Error.call(e),e.stack=(new Error).stack}));return t.prototype=Object.create(Error.prototype),t.prototype.constructor=t,t}Object.create,Object.create;var mj=hj((function(e){return function(t){e(this),this.message=t?t.length+" errors occurred during unsubscription:\n"+t.map((function(e,t){return t+1+") "+e.toString()})).join("\n  "):"",this.name="UnsubscriptionError",this.errors=t}}));function yj(e,t){if(e){var r=e.indexOf(t);0<=r&&e.splice(r,1)}}var gj=function(){function e(e){this.initialTeardown=e,this.closed=!1,this._parentage=null,this._finalizers=null}return e.prototype.unsubscribe=function(){var e,t,r,n,o;if(!this.closed){this.closed=!0;var i=this._parentage;if(i)if(this._parentage=null,Array.isArray(i))try{for(var a=uj(i),s=a.next();!s.done;s=a.next())s.value.remove(this)}catch(t){e={error:t}}finally{try{s&&!s.done&&(t=a.return)&&t.call(a)}finally{if(e)throw e.error}}else i.remove(this);var c=this.initialTeardown;if(ij(c))try{c()}catch(e){o=e instanceof mj?e.errors:[e]}var l=this._finalizers;if(l){this._finalizers=null;try{for(var u=uj(l),d=u.next();!d.done;d=u.next()){var p=d.value;try{kj(p)}catch(e){o=null!=o?o:[],e instanceof mj?o=pj(pj([],dj(o)),dj(e.errors)):o.push(e)}}}catch(e){r={error:e}}finally{try{d&&!d.done&&(n=u.return)&&n.call(u)}finally{if(r)throw r.error}}}if(o)throw new mj(o)}},e.prototype.add=function(t){var r;if(t&&t!==this)if(this.closed)kj(t);else{if(t instanceof e){if(t.closed||t._hasParent(this))return;t._addParent(this)}(this._finalizers=null!==(r=this._finalizers)&&void 0!==r?r:[]).push(t)}},e.prototype._hasParent=function(e){var t=this._parentage;return t===e||Array.isArray(t)&&t.includes(e)},e.prototype._addParent=function(e){var t=this._parentage;this._parentage=Array.isArray(t)?(t.push(e),t):t?[t,e]:e},e.prototype._removeParent=function(e){var t=this._parentage;t===e?this._parentage=null:Array.isArray(t)&&yj(t,e)},e.prototype.remove=function(t){var r=this._finalizers;r&&yj(r,t),t instanceof e&&t._removeParent(this)},e.EMPTY=function(){var t=new e;return t.closed=!0,t}(),e}(),bj=gj.EMPTY;function vj(e){return e instanceof gj||e&&"closed"in e&&ij(e.remove)&&ij(e.add)&&ij(e.unsubscribe)}function kj(e){ij(e)?e():e.unsubscribe()}var wj={onUnhandledError:null,onStoppedNotification:null,Promise:void 0,useDeprecatedSynchronousErrorHandling:!1,useDeprecatedNextContext:!1},_j={setTimeout:function(e){function t(t,r){return e.apply(this,arguments)}return t.toString=function(){return e.toString()},t}((function(e,t){for(var r=[],n=2;n<arguments.length;n++)r[n-2]=arguments[n];var o=_j.delegate;return(null==o?void 0:o.setTimeout)?o.setTimeout.apply(o,pj([e,t],dj(r))):setTimeout.apply(void 0,pj([e,t],dj(r)))})),clearTimeout:function(e){function t(t){return e.apply(this,arguments)}return t.toString=function(){return e.toString()},t}((function(e){var t=_j.delegate;return((null==t?void 0:t.clearTimeout)||clearTimeout)(e)})),delegate:void 0};function Sj(e){_j.setTimeout((function(){var t=wj.onUnhandledError;if(!t)throw e;t(e)}))}function Oj(){}var Pj=Ej("C",void 0,void 0);function Ej(e,t,r){return{kind:e,value:t,error:r}}var Cj=null;function xj(e){if(wj.useDeprecatedSynchronousErrorHandling){var t=!Cj;if(t&&(Cj={errorThrown:!1,error:null}),e(),t){var r=Cj,n=r.errorThrown,o=r.error;if(Cj=null,n)throw o}}else e()}var jj=function(e){function t(t){var r=e.call(this)||this;return r.isStopped=!1,t?(r.destination=t,vj(t)&&t.add(r)):r.destination=Dj,r}return cj(t,e),t.create=function(e,t,r){return new Ij(e,t,r)},t.prototype.next=function(e){this.isStopped?Mj(function(e){return Ej("N",e,void 0)}(e),this):this._next(e)},t.prototype.error=function(e){this.isStopped?Mj(Ej("E",void 0,e),this):(this.isStopped=!0,this._error(e))},t.prototype.complete=function(){this.isStopped?Mj(Pj,this):(this.isStopped=!0,this._complete())},t.prototype.unsubscribe=function(){this.closed||(this.isStopped=!0,e.prototype.unsubscribe.call(this),this.destination=null)},t.prototype._next=function(e){this.destination.next(e)},t.prototype._error=function(e){try{this.destination.error(e)}finally{this.unsubscribe()}},t.prototype._complete=function(){try{this.destination.complete()}finally{this.unsubscribe()}},t}(gj),Tj=Function.prototype.bind;function Rj(e,t){return Tj.call(e,t)}var zj=function(){function e(e){this.partialObserver=e}return e.prototype.next=function(e){var t=this.partialObserver;if(t.next)try{t.next(e)}catch(e){Aj(e)}},e.prototype.error=function(e){var t=this.partialObserver;if(t.error)try{t.error(e)}catch(e){Aj(e)}else Aj(e)},e.prototype.complete=function(){var e=this.partialObserver;if(e.complete)try{e.complete()}catch(e){Aj(e)}},e}(),Ij=function(e){function t(t,r,n){var o,i,a=e.call(this)||this;return ij(t)||!t?o={next:null!=t?t:void 0,error:null!=r?r:void 0,complete:null!=n?n:void 0}:a&&wj.useDeprecatedNextContext?((i=Object.create(t)).unsubscribe=function(){return a.unsubscribe()},o={next:t.next&&Rj(t.next,i),error:t.error&&Rj(t.error,i),complete:t.complete&&Rj(t.complete,i)}):o=t,a.destination=new zj(o),a}return cj(t,e),t}(jj);function Aj(e){var t;wj.useDeprecatedSynchronousErrorHandling?(t=e,wj.useDeprecatedSynchronousErrorHandling&&Cj&&(Cj.errorThrown=!0,Cj.error=t)):Sj(e)}function Mj(e,t){var r=wj.onStoppedNotification;r&&_j.setTimeout((function(){return r(e,t)}))}var Dj={closed:!0,next:Oj,error:function(e){throw e},complete:Oj};function Nj(e,t,r,n,o){return new Lj(e,t,r,n,o)}var Lj=function(e){function t(t,r,n,o,i,a){var s=e.call(this,t)||this;return s.onFinalize=i,s.shouldUnsubscribe=a,s._next=r?function(e){try{r(e)}catch(e){t.error(e)}}:e.prototype._next,s._error=o?function(e){try{o(e)}catch(e){t.error(e)}finally{this.unsubscribe()}}:e.prototype._error,s._complete=n?function(){try{n()}catch(e){t.error(e)}finally{this.unsubscribe()}}:e.prototype._complete,s}return cj(t,e),t.prototype.unsubscribe=function(){var t;if(!this.shouldUnsubscribe||this.shouldUnsubscribe()){var r=this.closed;e.prototype.unsubscribe.call(this),!r&&(null===(t=this.onFinalize)||void 0===t||t.call(this))}},t}(jj);function Uj(e,t){return aj((function(r,n){var o=0;r.subscribe(Nj(n,(function(r){n.next(e.call(t,r,o++))})))}))}var Bj=function(e){return e&&"number"==typeof e.length&&"function"!=typeof e};function Fj(e){return ij(null==e?void 0:e.then)}var qj="function"==typeof Symbol&&Symbol.observable||"@@observable";function Wj(e){return e}var Zj=function(){function e(e){e&&(this._subscribe=e)}return e.prototype.lift=function(t){var r=new e;return r.source=this,r.operator=t,r},e.prototype.subscribe=function(e,t,r){var n=this,o=function(e){return e&&e instanceof jj||function(e){return e&&ij(e.next)&&ij(e.error)&&ij(e.complete)}(e)&&vj(e)}(e)?e:new Ij(e,t,r);return xj((function(){var e=n,t=e.operator,r=e.source;o.add(t?t.call(o,r):r?n._subscribe(o):n._trySubscribe(o))})),o},e.prototype._trySubscribe=function(e){try{return this._subscribe(e)}catch(t){e.error(t)}},e.prototype.forEach=function(e,t){var r=this;return new(t=Hj(t))((function(t,n){var o=new Ij({next:function(t){try{e(t)}catch(e){n(e),o.unsubscribe()}},error:n,complete:t});r.subscribe(o)}))},e.prototype._subscribe=function(e){var t;return null===(t=this.source)||void 0===t?void 0:t.subscribe(e)},e.prototype[qj]=function(){return this},e.prototype.pipe=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return(0===(r=e).length?Wj:1===r.length?r[0]:function(e){return r.reduce((function(e,t){return t(e)}),e)})(this);var r},e.prototype.toPromise=function(e){var t=this;return new(e=Hj(e))((function(e,r){var n;t.subscribe((function(e){return n=e}),(function(e){return r(e)}),(function(){return e(n)}))}))},e.create=function(t){return new e(t)},e}();function Hj(e){var t;return null!==(t=null!=e?e:wj.Promise)&&void 0!==t?t:Promise}function $j(e){return ij(e[qj])}function Vj(e){return Symbol.asyncIterator&&ij(null==e?void 0:e[Symbol.asyncIterator])}function Gj(e){return Gj="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Gj(e)}function Jj(e){return new TypeError("You provided "+(null!==e&&"object"===Gj(e)?"an invalid object":"'"+e+"'")+" where a stream was expected. You can provide an Observable, Promise, ReadableStream, Array, AsyncIterable, or Iterable.")}var Kj="function"==typeof Symbol&&Symbol.iterator?Symbol.iterator:"@@iterator";function Yj(e){return ij(null==e?void 0:e[Kj])}function Xj(e){return function(e,t,r){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var n,o=r.apply(e,t||[]),i=[];return n={},a("next"),a("throw"),a("return"),n[Symbol.asyncIterator]=function(){return this},n;function a(e){o[e]&&(n[e]=function(t){return new Promise((function(r,n){i.push([e,t,r,n])>1||s(e,t)}))})}function s(e,t){try{!function(e){e.value instanceof fj?Promise.resolve(e.value.v).then(c,l):u(i[0][2],e)}(o[e](t))}catch(e){u(i[0][3],e)}}function c(e){s("next",e)}function l(e){s("throw",e)}function u(e,t){e(t),i.shift(),i.length&&s(i[0][0],i[0][1])}}(this,arguments,(function(){var t,r,n;return lj(this,(function(o){switch(o.label){case 0:t=e.getReader(),o.label=1;case 1:o.trys.push([1,,9,10]),o.label=2;case 2:return[4,fj(t.read())];case 3:return r=o.sent(),n=r.value,r.done?[4,fj(void 0)]:[3,5];case 4:return[2,o.sent()];case 5:return[4,fj(n)];case 6:return[4,o.sent()];case 7:return o.sent(),[3,2];case 8:return[3,10];case 9:return t.releaseLock(),[7];case 10:return[2]}}))}))}function Qj(e){return ij(null==e?void 0:e.getReader)}function eT(e){if(e instanceof Zj)return e;if(null!=e){if($j(e))return function(e){return new Zj((function(t){var r=e[qj]();if(ij(r.subscribe))return r.subscribe(t);throw new TypeError("Provided object does not correctly implement Symbol.observable")}))}(e);if(Bj(e))return n=e,new Zj((function(e){for(var t=0;t<n.length&&!e.closed;t++)e.next(n[t]);e.complete()}));if(Fj(e))return r=e,new Zj((function(e){r.then((function(t){e.closed||(e.next(t),e.complete())}),(function(t){return e.error(t)})).then(null,Sj)}));if(Vj(e))return tT(e);if(Yj(e))return t=e,new Zj((function(e){var r,n;try{for(var o=uj(t),i=o.next();!i.done;i=o.next()){var a=i.value;if(e.next(a),e.closed)return}}catch(e){r={error:e}}finally{try{i&&!i.done&&(n=o.return)&&n.call(o)}finally{if(r)throw r.error}}e.complete()}));if(Qj(e))return tT(Xj(e))}var t,r,n;throw Jj(e)}function tT(e){return new Zj((function(t){(function(e,t){var r,n,o,i,a,s,c,l;return a=this,s=void 0,l=function(){var a,s;return lj(this,(function(c){switch(c.label){case 0:c.trys.push([0,5,6,11]),r=function(e){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var t,r=e[Symbol.asyncIterator];return r?r.call(e):(e=uj(e),t={},n("next"),n("throw"),n("return"),t[Symbol.asyncIterator]=function(){return this},t);function n(r){t[r]=e[r]&&function(t){return new Promise((function(n,o){!function(e,t,r,n){Promise.resolve(n).then((function(t){e({value:t,done:r})}),t)}(n,o,(t=e[r](t)).done,t.value)}))}}}(e),c.label=1;case 1:return[4,r.next()];case 2:if((n=c.sent()).done)return[3,4];if(a=n.value,t.next(a),t.closed)return[2];c.label=3;case 3:return[3,1];case 4:return[3,11];case 5:return s=c.sent(),o={error:s},[3,11];case 6:return c.trys.push([6,,9,10]),n&&!n.done&&(i=r.return)?[4,i.call(r)]:[3,8];case 7:c.sent(),c.label=8;case 8:return[3,10];case 9:if(o)throw o.error;return[7];case 10:return[7];case 11:return t.complete(),[2]}}))},new((c=void 0)||(c=Promise))((function(e,t){function r(e){try{o(l.next(e))}catch(e){t(e)}}function n(e){try{o(l.throw(e))}catch(e){t(e)}}function o(t){t.done?e(t.value):function(e){return e instanceof c?e:new c((function(t){t(e)}))}(t.value).then(r,n)}o((l=l.apply(a,s||[])).next())}))})(e,t).catch((function(e){return t.error(e)}))}))}function rT(e,t,r,n,o){void 0===n&&(n=0),void 0===o&&(o=!1);var i=t.schedule((function(){r(),o?e.add(this.schedule(null,n)):this.unsubscribe()}),n);if(e.add(i),!o)return i}function nT(e,t,r){return void 0===r&&(r=1/0),ij(t)?nT((function(r,n){return Uj((function(e,o){return t(r,e,n,o)}))(eT(e(r,n)))}),r):("number"==typeof t&&(r=t),aj((function(t,n){return function(e,t,r,n,o,i,a,s){var c=[],l=0,u=0,d=!1,p=function(){!d||c.length||l||t.complete()},f=function(e){return l<n?h(e):c.push(e)},h=function e(o){l++;var i=!1;eT(r(o,u++)).subscribe(Nj(t,(function(e){t.next(e)}),(function(){i=!0}),void 0,(function(){if(i)try{l--;for(;c.length&&l<n;)r=void 0,r=c.shift(),e(r);p()}catch(e){t.error(e)}var r})))};return e.subscribe(Nj(t,f,(function(){d=!0,p()}))),function(){}}(t,n,e,r)})))}function oT(e){return void 0===e&&(e=1/0),nT(Wj,e)}function iT(e){return e[e.length-1]}function aT(e){return function(e){return e&&ij(e.schedule)}(iT(e))?e.pop():void 0}function sT(e,t){return void 0===t&&(t=0),aj((function(r,n){r.subscribe(Nj(n,(function(r){return rT(n,e,(function(){return n.next(r)}),t)}),(function(){return rT(n,e,(function(){return n.complete()}),t)}),(function(r){return rT(n,e,(function(){return n.error(r)}),t)})))}))}function cT(e,t){return void 0===t&&(t=0),aj((function(r,n){n.add(e.schedule((function(){return r.subscribe(n)}),t))}))}function lT(e,t){if(!e)throw new Error("Iterable cannot be null");return new Zj((function(r){rT(r,t,(function(){var n=e[Symbol.asyncIterator]();rT(r,t,(function(){n.next().then((function(e){e.done?r.complete():r.next(e.value)}))}),0,!0)}))}))}function uT(e,t){return t?function(e,t){if(null!=e){if($j(e))return function(e,t){return eT(e).pipe(cT(t),sT(t))}(e,t);if(Bj(e))return function(e,t){return new Zj((function(r){var n=0;return t.schedule((function(){n===e.length?r.complete():(r.next(e[n++]),r.closed||this.schedule())}))}))}(e,t);if(Fj(e))return function(e,t){return eT(e).pipe(cT(t),sT(t))}(e,t);if(Vj(e))return lT(e,t);if(Yj(e))return function(e,t){return new Zj((function(r){var n;return rT(r,t,(function(){n=e[Kj](),rT(r,t,(function(){var e,t,o;try{t=(e=n.next()).value,o=e.done}catch(e){return void r.error(e)}o?r.complete():r.next(t)}),0,!0)})),function(){return ij(null==n?void 0:n.return)&&n.return()}}))}(e,t);if(Qj(e))return function(e,t){return lT(Xj(e),t)}(e,t)}throw Jj(e)}(e,t):eT(e)}function dT(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return oT(1)(uT(e,aT(e)))}function pT(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];var r=aT(e);return aj((function(t,n){(r?dT(e,t,r):dT(e,t)).subscribe(n)}))}var fT=hj((function(e){return function(){e(this),this.name="ObjectUnsubscribedError",this.message="object unsubscribed"}})),hT=function(e){function t(){var t=e.call(this)||this;return t.closed=!1,t.currentObservers=null,t.observers=[],t.isStopped=!1,t.hasError=!1,t.thrownError=null,t}return cj(t,e),t.prototype.lift=function(e){var t=new mT(this,this);return t.operator=e,t},t.prototype._throwIfClosed=function(){if(this.closed)throw new fT},t.prototype.next=function(e){var t=this;xj((function(){var r,n;if(t._throwIfClosed(),!t.isStopped){t.currentObservers||(t.currentObservers=Array.from(t.observers));try{for(var o=uj(t.currentObservers),i=o.next();!i.done;i=o.next())i.value.next(e)}catch(e){r={error:e}}finally{try{i&&!i.done&&(n=o.return)&&n.call(o)}finally{if(r)throw r.error}}}}))},t.prototype.error=function(e){var t=this;xj((function(){if(t._throwIfClosed(),!t.isStopped){t.hasError=t.isStopped=!0,t.thrownError=e;for(var r=t.observers;r.length;)r.shift().error(e)}}))},t.prototype.complete=function(){var e=this;xj((function(){if(e._throwIfClosed(),!e.isStopped){e.isStopped=!0;for(var t=e.observers;t.length;)t.shift().complete()}}))},t.prototype.unsubscribe=function(){this.isStopped=this.closed=!0,this.observers=this.currentObservers=null},Object.defineProperty(t.prototype,"observed",{get:function(){var e;return(null===(e=this.observers)||void 0===e?void 0:e.length)>0},enumerable:!1,configurable:!0}),t.prototype._trySubscribe=function(t){return this._throwIfClosed(),e.prototype._trySubscribe.call(this,t)},t.prototype._subscribe=function(e){return this._throwIfClosed(),this._checkFinalizedStatuses(e),this._innerSubscribe(e)},t.prototype._innerSubscribe=function(e){var t=this,r=this,n=r.hasError,o=r.isStopped,i=r.observers;return n||o?bj:(this.currentObservers=null,i.push(e),new gj((function(){t.currentObservers=null,yj(i,e)})))},t.prototype._checkFinalizedStatuses=function(e){var t=this,r=t.hasError,n=t.thrownError,o=t.isStopped;r?e.error(n):o&&e.complete()},t.prototype.asObservable=function(){var e=new Zj;return e.source=this,e},t.create=function(e,t){return new mT(e,t)},t}(Zj),mT=function(e){function t(t,r){var n=e.call(this)||this;return n.destination=t,n.source=r,n}return cj(t,e),t.prototype.next=function(e){var t,r;null===(r=null===(t=this.destination)||void 0===t?void 0:t.next)||void 0===r||r.call(t,e)},t.prototype.error=function(e){var t,r;null===(r=null===(t=this.destination)||void 0===t?void 0:t.error)||void 0===r||r.call(t,e)},t.prototype.complete=function(){var e,t;null===(t=null===(e=this.destination)||void 0===e?void 0:e.complete)||void 0===t||t.call(e)},t.prototype._subscribe=function(e){var t,r;return null!==(r=null===(t=this.source)||void 0===t?void 0:t.subscribe(e))&&void 0!==r?r:bj},t}(hT),yT=function(e){function t(t){var r=e.call(this)||this;return r._value=t,r}return cj(t,e),Object.defineProperty(t.prototype,"value",{get:function(){return this.getValue()},enumerable:!1,configurable:!0}),t.prototype._subscribe=function(t){var r=e.prototype._subscribe.call(this,t);return!r.closed&&t.next(this._value),r},t.prototype.getValue=function(){var e=this,t=e.hasError,r=e.thrownError,n=e._value;if(t)throw r;return this._throwIfClosed(),n},t.prototype.next=function(t){e.prototype.next.call(this,this._value=t)},t}(hT),gT=Array.isArray;function bT(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];var r=aT(e),n=function(e,t){return"number"==typeof iT(e)?e.pop():1/0}(e);return e=function(e){return 1===e.length&&gT(e[0])?e[0]:e}(e),aj((function(t,o){oT(n)(uT(pj([t],dj(e)),r)).subscribe(o)}))}function vT(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return uT(e,aT(e))}var kT=Array.isArray;var wT=["addListener","removeListener"],_T=["addEventListener","removeEventListener"],ST=["on","off"];function OT(e,t,r,n){if(ij(r)&&(n=r,r=void 0),n)return OT(e,t,r).pipe((o=n,Uj((function(e){return function(e,t){return kT(t)?e.apply(void 0,pj([],dj(t))):e(t)}(o,e)}))));var o,i=dj(function(e){return ij(e.addEventListener)&&ij(e.removeEventListener)}(e)?_T.map((function(n){return function(o){return e[n](t,o,r)}})):function(e){return ij(e.addListener)&&ij(e.removeListener)}(e)?wT.map(PT(e,t)):function(e){return ij(e.on)&&ij(e.off)}(e)?ST.map(PT(e,t)):[],2),a=i[0],s=i[1];if(!a&&Bj(e))return nT((function(e){return OT(e,t,r)}))(eT(e));if(!a)throw new TypeError("Invalid event target");return new Zj((function(e){var t=function(){for(var t=[],r=0;r<arguments.length;r++)t[r]=arguments[r];return e.next(1<t.length?t:t[0])};return a(t),function(){return s(t)}}))}function PT(e,t){return function(r){return function(n){return e[r](t,n)}}}var ET=function(e){function t(t,r){return e.call(this)||this}return cj(t,e),t.prototype.schedule=function(e,t){return void 0===t&&(t=0),this},t}(gj),CT={setInterval:function(e){function t(t,r){return e.apply(this,arguments)}return t.toString=function(){return e.toString()},t}((function(e,t){for(var r=[],n=2;n<arguments.length;n++)r[n-2]=arguments[n];var o=CT.delegate;return(null==o?void 0:o.setInterval)?o.setInterval.apply(o,pj([e,t],dj(r))):setInterval.apply(void 0,pj([e,t],dj(r)))})),clearInterval:function(e){function t(t){return e.apply(this,arguments)}return t.toString=function(){return e.toString()},t}((function(e){var t=CT.delegate;return((null==t?void 0:t.clearInterval)||clearInterval)(e)})),delegate:void 0},xT=function(e){function t(t,r){var n=e.call(this,t,r)||this;return n.scheduler=t,n.work=r,n.pending=!1,n}return cj(t,e),t.prototype.schedule=function(e,t){var r;if(void 0===t&&(t=0),this.closed)return this;this.state=e;var n=this.id,o=this.scheduler;return null!=n&&(this.id=this.recycleAsyncId(o,n,t)),this.pending=!0,this.delay=t,this.id=null!==(r=this.id)&&void 0!==r?r:this.requestAsyncId(o,this.id,t),this},t.prototype.requestAsyncId=function(e,t,r){return void 0===r&&(r=0),CT.setInterval(e.flush.bind(e,this),r)},t.prototype.recycleAsyncId=function(e,t,r){if(void 0===r&&(r=0),null!=r&&this.delay===r&&!1===this.pending)return t;null!=t&&CT.clearInterval(t)},t.prototype.execute=function(e,t){if(this.closed)return new Error("executing a cancelled action");this.pending=!1;var r=this._execute(e,t);if(r)return r;!1===this.pending&&null!=this.id&&(this.id=this.recycleAsyncId(this.scheduler,this.id,null))},t.prototype._execute=function(e,t){var r,n=!1;try{this.work(e)}catch(e){n=!0,r=e||new Error("Scheduled action threw falsy error")}if(n)return this.unsubscribe(),r},t.prototype.unsubscribe=function(){if(!this.closed){var t=this.id,r=this.scheduler,n=r.actions;this.work=this.state=this.scheduler=null,this.pending=!1,yj(n,this),null!=t&&(this.id=this.recycleAsyncId(r,t,null)),this.delay=null,e.prototype.unsubscribe.call(this)}},t}(ET),jT={now:function(){return(jT.delegate||Date).now()},delegate:void 0},TT=function(){function e(t,r){void 0===r&&(r=e.now),this.schedulerActionCtor=t,this.now=r}return e.prototype.schedule=function(e,t,r){return void 0===t&&(t=0),new this.schedulerActionCtor(this,e).schedule(r,t)},e.now=jT.now,e}(),RT=function(e){function t(t,r){void 0===r&&(r=TT.now);var n=e.call(this,t,r)||this;return n.actions=[],n._active=!1,n}return cj(t,e),t.prototype.flush=function(e){var t=this.actions;if(this._active)t.push(e);else{var r;this._active=!0;do{if(r=e.execute(e.state,e.delay))break}while(e=t.shift());if(this._active=!1,r){for(;e=t.shift();)e.unsubscribe();throw r}}},t}(TT),zT=new RT(xT),IT=hj((function(e){return function(t){void 0===t&&(t=null),e(this),this.message="Timeout has occurred",this.name="TimeoutError",this.info=t}}));function AT(e){throw new IT(e)}function MT(e,t){return e===t}Object.defineProperty,Object.defineProperties,Object.getOwnPropertyDescriptors,Object.getOwnPropertySymbols,Object.prototype.hasOwnProperty,Object.prototype.propertyIsEnumerable;var DT=(e,t,r)=>new Promise(((n,o)=>{var i=e=>{try{s(r.next(e))}catch(e){o(e)}},a=e=>{try{s(r.throw(e))}catch(e){o(e)}},s=e=>e.done?n(e.value):Promise.resolve(e.value).then(i,a);s((r=r.apply(e,t)).next())})),NT="lk";var LT=[_P.ConnectionStateChanged,_P.RoomMetadataChanged,_P.ActiveSpeakersChanged,_P.ConnectionQualityChanged,_P.ParticipantConnected,_P.ParticipantDisconnected,_P.ParticipantPermissionsChanged,_P.ParticipantMetadataChanged,_P.TrackMuted,_P.TrackUnmuted,_P.TrackPublished,_P.TrackUnpublished,_P.TrackStreamStateChanged,_P.TrackSubscriptionFailed,_P.TrackSubscriptionPermissionChanged,_P.TrackSubscriptionStatusChanged,_P.LocalTrackPublished,_P.LocalTrackUnpublished],UT=(SP.ConnectionQualityChanged,SP.IsSpeakingChanged,SP.ParticipantMetadataChanged,SP.ParticipantPermissionsChanged,SP.TrackMuted,SP.TrackUnmuted,SP.TrackPublished,SP.TrackUnpublished,SP.TrackStreamStateChanged,SP.TrackSubscriptionFailed,SP.TrackSubscriptionPermissionChanged,SP.TrackSubscriptionStatusChanged,SP.LocalTrackPublished,SP.LocalTrackUnpublished,oj.getLogger("lk-components-js"));UT.setDefaultLevel("WARN");var BT=UT,FT=[{columns:1,rows:1,name:"1x1",minTiles:1,maxTiles:1,minWidth:0,minHeight:0},{columns:1,rows:2,name:"1x2",minTiles:2,maxTiles:2,minWidth:0,minHeight:0},{columns:2,rows:1,name:"2x1",minTiles:2,maxTiles:2,minWidth:800,minHeight:0},{columns:2,rows:2,name:"2x2",minTiles:3,maxTiles:4,minWidth:560,minHeight:0},{columns:3,rows:3,name:"3x3",minTiles:5,maxTiles:9,minWidth:700,minHeight:0},{columns:4,rows:4,name:"4x4",minTiles:10,maxTiles:16,minWidth:960,minHeight:0},{columns:5,rows:5,name:"5x5",minTiles:17,maxTiles:25,minWidth:1100,minHeight:0}];function qT(e,t,r,n){let o=0,i=e.find(((e,r,n)=>{o=r;const i=-1!==n.findIndex(((t,n)=>{const o=n>r,i=t.maxTiles===e.maxTiles;return o&&i}));return e.maxTiles>=t&&!i}));if(void 0===i){if(i=e[e.length-1],!i)throw new Error("No layout or fallback layout found.");BT.warn(`No layout found for: participantCount: ${t}, width/height: ${r}/${n} fallback to biggest available layout (${i.name}).`)}if((r<i.minWidth||n<i.minHeight)&&o>0){const t=e[o-1];i=qT(e.slice(0,o),t.maxTiles,r,n)}return i}function WT(e){return"object"==typeof e}function ZT(e){return Array.isArray(e)&&e.filter(WT).length>0}function HT(e){return void 0!==e&&(function(e){var t;return!!e&&(e.hasOwnProperty("participant")&&e.hasOwnProperty("source")&&e.hasOwnProperty("track")&&void 0!==(null==(t=e.publication)?void 0:t.track))}(e)||function(e){return!!e&&(e.hasOwnProperty("participant")&&e.hasOwnProperty("source")&&e.hasOwnProperty("publication")&&void 0!==e.publication)}(e))}function $T(e){return!!e&&e.hasOwnProperty("participant")&&e.hasOwnProperty("source")&&void 0===e.publication}function VT(e){return"string"==typeof e||"number"==typeof e?`${e}`:HT(e)?`${e.participant.identity}_${e.publication.source}`:`${e.participant.identity}_${e.source}`}function GT(e,t){var r,n,o,i;return(null!=(n=null==(r=e.joinedAt)?void 0:r.getTime())?n:0)-(null!=(i=null==(o=t.joinedAt)?void 0:o.getTime())?i:0)}function JT(e,t){const r=Math.max(e.length,t.length);return new Array(r).fill([]).map(((r,n)=>[e[n],t[n]]))}function KT(e,t,r){return e.filter((e=>!t.map((e=>r(e))).includes(r(e))))}function YT(e){return e.map((e=>"string"==typeof e||"number"==typeof e?`${e}`:VT(e)))}function XT(e,t){const r=t.findIndex((t=>VT(t)===VT(e)));if(-1===r)throw new Error(`Element not part of the array: ${VT(e)} not in ${YT(t)}`);return r}function QT(e,t){var r;return r=t,e.reduce(((e,t,n)=>n%r==0?[...e,[t]]:[...e.slice(0,-1),[...e.slice(-1)[0],t]]),[])}function eR(e,...t){return new Zj((r=>{const n=()=>{r.next(e)};return t.forEach((t=>{e.on(t,n)})),()=>{t.forEach((t=>{e.off(t,n)}))}})).pipe(pT(e))}function tR(e){return`${NT}-${e}`}function rR(e){if(HT(e))return e.publication;{const{source:t,name:r,participant:n}=e;if(t&&r)return n.getTracks().find((e=>e.source===t&&e.trackName===r));if(r)return n.getTrackByName(r);if(t)return n.getTrack(t);throw new Error("At least one of source and name needs to be defined")}}function nR(e,...t){return new Zj((r=>{const n=()=>{r.next(e)};return t.forEach((t=>{e.on(t,n)})),()=>{t.forEach((t=>{e.off(t,n)}))}})).pipe(pT(e))}function oR(e){const t=nR(e,SP.TrackMuted,SP.TrackUnmuted,SP.ParticipantPermissionsChanged,SP.TrackPublished,SP.TrackUnpublished,SP.TrackSubscribed,SP.TrackUnsubscribed,SP.LocalTrackPublished,SP.LocalTrackUnpublished).pipe(Uj((e=>{const{isMicrophoneEnabled:t,isCameraEnabled:r,isScreenShareEnabled:n}=e,o=e.getTrack(DE.Source.Microphone);return{isCameraEnabled:r,isMicrophoneEnabled:t,isScreenShareEnabled:n,cameraTrack:e.getTrack(DE.Source.Camera),microphoneTrack:o,participant:e}})));return t}function iR(e,t){return new Zj((r=>{const n=(...e)=>{r.next(e)};return e.on(t,n),()=>{e.off(t,n)}}))}function aR(e,t){var r,n;return nR(e,SP.TrackMuted,SP.TrackUnmuted,SP.TrackSubscribed,SP.TrackUnsubscribed,SP.LocalTrackPublished,SP.LocalTrackUnpublished).pipe(Uj((e=>{var r;const n=e.getTrack(t);return null==(r=null==n?void 0:n.isMuted)||r})),pT(null==(n=null==(r=e.getTrack(t))?void 0:r.isMuted)||n))}function sR(e,t){const r=new yT(void 0),n=t?oR(t.localParticipant).pipe(Uj((t=>{var r,n,o;let i;switch(e){case"videoinput":i=null==(r=t.cameraTrack)?void 0:r.track;break;case"audioinput":i=null==(n=t.microphoneTrack)?void 0:n.track;break;default:i=void 0}return null==(o=null==i?void 0:i.mediaStreamTrack.getSettings())?void 0:o.deviceId})),function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return bT.apply(void 0,pj([],dj(e)))}(r)):r.asObservable();return{className:tR("media-device-select"),activeDeviceObservable:n,setActiveMediaDevice:n=>DT(this,null,(function*(){var o,i,a,s;if(t){BT.debug(`Switching active device of kind "${e}" with id ${n}.`),yield t.switchActiveDevice(e,n);let c=n;"videoinput"===e?c=yield null==(i=null==(o=t.localParticipant.getTrack(DE.Source.Camera))?void 0:o.track)?void 0:i.getDeviceId():"audioinput"===e&&(c=yield null==(s=null==(a=t.localParticipant.getTrack(DE.Source.Microphone))?void 0:a.track)?void 0:s.getDeviceId()),c!==n&&"default"!==n&&BT.warn(`Failed to select the desired device. Desired: ${n}. Actual: ${c}`),r.next("default"===n?n:c)}else BT.debug("Skip the device switch because the room object is not available. "),r.next(n)}))}}function cR(e){return eR(e,_P.AudioPlaybackStatusChanged).pipe(Uj((e=>({canPlayAudio:e.canPlaybackAudio}))))}function lR(){return{className:tR("start-audio-button"),roomAudioPlaybackAllowedObservable:cR,handleStartAudioPlayback:e=>DT(this,null,(function*(){BT.info("Start Audio for room: ",e),yield e.startAudio()}))}}function uR(e,t,r=!0){const n=[e.localParticipant,...Array.from(e.participants.values())],o=[];return n.forEach((e=>{t.forEach((t=>{const n=Array.from(e.tracks.values()).filter((e=>e.source===t&&(!r||e.track))).map((t=>({participant:e,publication:t,track:t.track,source:t.source})));o.push(...n)}))})),{trackReferences:o,participants:n}}function dR(e,t=1e3){if(null===e)return vT(!1);const r=OT(e,"mousemove").pipe(Uj((()=>!0))),n=r.pipe(function(e,t){var r=function(e){return e instanceof Date&&!isNaN(e)}(e)?{first:e}:"number"==typeof e?{each:e}:e,n=r.first,o=r.each,i=r.with,a=void 0===i?AT:i,s=r.scheduler,c=void 0===s?null!=t?t:zT:s,l=r.meta,u=void 0===l?null:l;if(null==n&&null==o)throw new TypeError("No timeout provided.");return aj((function(e,t){var r,i,s=null,l=0,d=function(e){i=rT(t,c,(function(){try{r.unsubscribe(),eT(a({meta:u,lastValue:s,seen:l})).subscribe(t)}catch(e){t.error(e)}}),e)};r=e.subscribe(Nj(t,(function(e){null==i||i.unsubscribe(),l++,t.next(s=e),o>0&&d(o)}),void 0,void 0,(function(){(null==i?void 0:i.closed)||null==i||i.unsubscribe(),s=null}))),!l&&d(null!=n?"number"==typeof n?n:+n-c.now():o)}))}({each:t,with:()=>{return dT(vT(!1),n.pipe((e=r,aj((function(t,r){var n=!1,o=Nj(r,(function(){null==o||o.unsubscribe(),n=!0}),Oj);eT(e).subscribe(o),t.subscribe(Nj(r,(function(e){return n&&r.next(e)})))})))));var e}}),(void 0===i&&(i=Wj),o=null!=o?o:MT,aj((function(e,t){var r,n=!0;e.subscribe(Nj(t,(function(e){var a=i(e);!n&&o(r,a)||(n=!1,r=a,t.next(e))})))}))));var o,i;return n}new TextEncoder,new TextDecoder;var pR=BT,fR=Object.defineProperty,hR=Object.defineProperties,mR=Object.getOwnPropertyDescriptors,yR=Object.getOwnPropertySymbols,gR=Object.prototype.hasOwnProperty,bR=Object.prototype.propertyIsEnumerable,vR=(e,t,r)=>t in e?fR(e,t,{enumerable:!0,configurable:!0,writable:!0,value:r}):e[t]=r,kR=(e,t)=>{for(var r in t||(t={}))gR.call(t,r)&&vR(e,r,t[r]);if(yR)for(var r of yR(t))bR.call(t,r)&&vR(e,r,t[r]);return e},wR=(e,t)=>hR(e,mR(t)),_R=(e,t)=>{var r={};for(var n in e)gR.call(e,n)&&t.indexOf(n)<0&&(r[n]=e[n]);if(null!=e&&yR)for(var n of yR(e))t.indexOf(n)<0&&bR.call(e,n)&&(r[n]=e[n]);return r};function SR(...e){return(...t)=>{for(const r of e)"function"==typeof r&&r(...t)}}function OR(...e){const t=kR({},e[0]);for(let r=1;r<e.length;r++){const n=e[r];for(const e in n){const r=t[e],o=n[e];"function"==typeof r&&"function"==typeof o&&"o"===e[0]&&"n"===e[1]&&e.charCodeAt(2)>=65&&e.charCodeAt(2)<=90?t[e]=SR(r,o):t[e]="className"!==e&&"UNSAFE_className"!==e||"string"!=typeof r||"string"!=typeof o?void 0!==o?o:r:(0,Vt.Z)(r,o)}}return t}function PR(e){return void 0!==e}function ER(...e){return OR(...e.filter(PR))}var CR=e.createContext(void 0);function xR(){return e.useContext(CR)}var jR=e.createContext(void 0);var TR=e.createContext(void 0);function RR(){return e.useContext(TR)}function zR(t){var r;const n=RR(),o=e.useContext(jR),i=null!=(r=null!=t?t:n)?r:null==o?void 0:o.participant;if(!i)throw new Error("No participant provided, make sure you are inside a participant context or pass the participant explicitly");return i}var IR=e.createContext(void 0);function AR(){const t=e.useContext(IR);if(!t)throw Error("tried to access room context outside of livekit room component");return t}function MR(){return e.useContext(IR)}function DR(e){const t=MR(),r=null!=e?e:t;if(!r)throw new Error("No room provided, make sure you are inside a Room context or pass the room explicitly");return r}function NR(t,r){const[n,o]=e.useState(r);return e.useEffect((()=>{if("undefined"==typeof window||!t)return;const e=t.subscribe(o);return()=>e.unsubscribe()}),[t]),n}function LR(t){const r=DR(t),n=e.useMemo((()=>function(e){return function(e,t){return new Zj((r=>{const n=(...e)=>{r.next(e)};return e.on(t,n),()=>{e.off(t,n)}}))}(e,_P.ConnectionStateChanged).pipe(Uj((([e])=>e)),pT(e.state))}(r)),[r]);return NR(n,r.state)}function UR(t){var r=t,{room:n}=r,o=_R(r,["room"]);const i=LR(n);return e.createElement("div",kR({},o),i)}function BR({props:t}){const{dispatch:r}=function(){const t=e.useContext(CR);if(!t)throw Error("Tried to access LayoutContext context outside a LayoutContextProvider provider.");return t}().widget,{className:n}=e.useMemo((()=>({className:[tR("button"),tR("chat-toggle")].join(" ")})),[]);return{mergedProps:e.useMemo((()=>ER(t,{className:n,onClick:()=>{r&&r({msg:"toggle_chat"})}})),[t,n,r])}}function FR(t){const{mergedProps:r}=BR({props:t});return e.createElement("button",kR({},r),t.children)}function qR(t){const{buttonProps:r}=function(t){const r=AR(),n=LR(r),o=e.useMemo((()=>{const{className:e,disconnect:o}=function(e){return{className:tR("disconnect-button"),disconnect:t=>{e.disconnect(t)}}}(r);return ER(t,{className:e,onClick:()=>{var e;return o(null==(e=t.stopTracks)||e)},disabled:n===tx.Disconnected})}),[r,t,n]);return{buttonProps:o}}(t);return e.createElement("button",kR({},r),t.children)}var WR=t=>e.createElement("svg",kR({xmlns:"http://www.w3.org/2000/svg",width:16,height:16,fill:"currentColor"},t),e.createElement("path",{d:"M1.354.646a.5.5 0 1 0-.708.708l14 14a.5.5 0 0 0 .708-.708L11 10.293V4.5A1.5 1.5 0 0 0 9.5 3H3.707zM0 4.5a1.5 1.5 0 0 1 .943-1.393l9.532 9.533c-.262.224-.603.36-.975.36h-8A1.5 1.5 0 0 1 0 11.5z"}),e.createElement("path",{d:"m15.2 3.6-2.8 2.1a1 1 0 0 0-.4.8v3a1 1 0 0 0 .4.8l2.8 2.1a.5.5 0 0 0 .8-.4V4a.5.5 0 0 0-.8-.4z"})),ZR=t=>e.createElement("svg",kR({xmlns:"http://www.w3.org/2000/svg",width:16,height:16,fill:"currentColor"},t),e.createElement("path",{d:"M0 4.5A1.5 1.5 0 0 1 1.5 3h8A1.5 1.5 0 0 1 11 4.5v7A1.5 1.5 0 0 1 9.5 13h-8A1.5 1.5 0 0 1 0 11.5zM15.2 3.6l-2.8 2.1a1 1 0 0 0-.4.8v3a1 1 0 0 0 .4.8l2.8 2.1a.5.5 0 0 0 .8-.4V4a.5.5 0 0 0-.8-.4z"})),HR=t=>e.createElement("svg",kR({xmlns:"http://www.w3.org/2000/svg",width:16,height:18,fill:"none"},t),e.createElement("path",{fill:"currentColor",fillRule:"evenodd",d:"M0 2.75A2.75 2.75 0 0 1 2.75 0h10.5A2.75 2.75 0 0 1 16 2.75v13.594a.75.75 0 0 1-1.234.572l-3.691-3.12a1.25 1.25 0 0 0-.807-.296H2.75A2.75 2.75 0 0 1 0 10.75v-8ZM2.75 1.5c-.69 0-1.25.56-1.25 1.25v8c0 .69.56 1.25 1.25 1.25h7.518c.65 0 1.279.23 1.775.65l2.457 2.077V2.75c0-.69-.56-1.25-1.25-1.25H2.75Z",clipRule:"evenodd"}),e.createElement("path",{fill:"currentColor",fillRule:"evenodd",d:"M3 4.5a.5.5 0 0 1 .5-.5h9a.5.5 0 0 1 0 1h-9a.5.5 0 0 1-.5-.5Zm0 2a.5.5 0 0 1 .5-.5h9a.5.5 0 0 1 0 1h-9a.5.5 0 0 1-.5-.5Zm0 2a.5.5 0 0 1 .5-.5h5a.5.5 0 0 1 0 1h-5a.5.5 0 0 1-.5-.5Z",clipRule:"evenodd"})),$R=t=>e.createElement("svg",kR({xmlns:"http://www.w3.org/2000/svg",width:16,height:16,fill:"none"},t),e.createElement("path",{fill:"currentcolor",fillRule:"evenodd",d:"M5.293 2.293a1 1 0 0 1 1.414 0l4.823 4.823a1.25 1.25 0 0 1 0 1.768l-4.823 4.823a1 1 0 0 1-1.414-1.414L9.586 8 5.293 3.707a1 1 0 0 1 0-1.414z",clipRule:"evenodd"})),VR=t=>e.createElement("svg",kR({xmlns:"http://www.w3.org/2000/svg",width:16,height:16,fill:"none"},t),e.createElement("g",{stroke:"currentColor",strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:1.5},e.createElement("path",{d:"M10 1.75h4.25m0 0V6m0-4.25L9 7M6 14.25H1.75m0 0V10m0 4.25L7 9"}))),GR=t=>e.createElement("svg",kR({xmlns:"http://www.w3.org/2000/svg",width:16,height:16,fill:"none"},t),e.createElement("path",{fill:"currentColor",fillRule:"evenodd",d:"M2 2.75A2.75 2.75 0 0 1 4.75 0h6.5A2.75 2.75 0 0 1 14 2.75v10.5A2.75 2.75 0 0 1 11.25 16h-6.5A2.75 2.75 0 0 1 2 13.25v-.5a.75.75 0 0 1 1.5 0v.5c0 .69.56 1.25 1.25 1.25h6.5c.69 0 1.25-.56 1.25-1.25V2.75c0-.69-.56-1.25-1.25-1.25h-6.5c-.69 0-1.25.56-1.25 1.25v.5a.75.75 0 0 1-1.5 0v-.5Z",clipRule:"evenodd"}),e.createElement("path",{fill:"currentColor",fillRule:"evenodd",d:"M8.78 7.47a.75.75 0 0 1 0 1.06l-2.25 2.25a.75.75 0 1 1-1.06-1.06l.97-.97H1.75a.75.75 0 0 1 0-1.5h4.69l-.97-.97a.75.75 0 0 1 1.06-1.06l2.25 2.25Z",clipRule:"evenodd"})),JR=t=>e.createElement("svg",kR({xmlns:"http://www.w3.org/2000/svg",width:16,height:16,fill:"currentColor"},t),e.createElement("path",{d:"M12.227 11.52a5.477 5.477 0 0 0 1.246-2.97.5.5 0 0 0-.995-.1 4.478 4.478 0 0 1-.962 2.359l-1.07-1.07C10.794 9.247 11 8.647 11 8V3a3 3 0 0 0-6 0v1.293L1.354.646a.5.5 0 1 0-.708.708l14 14a.5.5 0 0 0 .708-.708zM8 12.5c.683 0 1.33-.152 1.911-.425l.743.743c-.649.359-1.378.59-2.154.66V15h2a.5.5 0 0 1 0 1h-5a.5.5 0 0 1 0-1h2v-1.522a5.502 5.502 0 0 1-4.973-4.929.5.5 0 0 1 .995-.098A4.5 4.5 0 0 0 8 12.5z"}),e.createElement("path",{d:"M8.743 10.907 5 7.164V8a3 3 0 0 0 3.743 2.907z"})),KR=t=>e.createElement("svg",kR({xmlns:"http://www.w3.org/2000/svg",width:16,height:16,fill:"currentColor"},t),e.createElement("path",{fillRule:"evenodd",d:"M2.975 8.002a.5.5 0 0 1 .547.449 4.5 4.5 0 0 0 8.956 0 .5.5 0 1 1 .995.098A5.502 5.502 0 0 1 8.5 13.478V15h2a.5.5 0 0 1 0 1h-5a.5.5 0 0 1 0-1h2v-1.522a5.502 5.502 0 0 1-4.973-4.929.5.5 0 0 1 .448-.547z",clipRule:"evenodd"}),e.createElement("path",{d:"M5 3a3 3 0 1 1 6 0v5a3 3 0 0 1-6 0z"})),YR=t=>e.createElement("svg",kR({xmlns:"http://www.w3.org/2000/svg",width:16,height:16,fill:"currentcolor"},t),e.createElement("path",{d:"M0 11.5a.5.5 0 0 1 .5-.5h3a.5.5 0 0 1 .5.5v4a.5.5 0 0 1-.5.5h-3a.5.5 0 0 1-.5-.5zm6-5a.5.5 0 0 1 .5-.5h3a.5.5 0 0 1 .5.5v9a.5.5 0 0 1-.5.5h-3a.5.5 0 0 1-.5-.5zm6-6a.5.5 0 0 1 .5-.5h3a.5.5 0 0 1 .5.5v15a.5.5 0 0 1-.5.5h-3a.5.5 0 0 1-.5-.5z"}),e.createElement("path",{d:"M0 11.5a.5.5 0 0 1 .5-.5h3a.5.5 0 0 1 .5.5v4a.5.5 0 0 1-.5.5h-3a.5.5 0 0 1-.5-.5zm6-5a.5.5 0 0 1 .5-.5h3a.5.5 0 0 1 .5.5v9a.5.5 0 0 1-.5.5h-3a.5.5 0 0 1-.5-.5zm6-6a.5.5 0 0 1 .5-.5h3a.5.5 0 0 1 .5.5v15a.5.5 0 0 1-.5.5h-3a.5.5 0 0 1-.5-.5z"})),XR=t=>e.createElement("svg",kR({xmlns:"http://www.w3.org/2000/svg",width:16,height:16,fill:"currentcolor"},t),e.createElement("path",{d:"M0 11.5a.5.5 0 0 1 .5-.5h3a.5.5 0 0 1 .5.5v4a.5.5 0 0 1-.5.5h-3a.5.5 0 0 1-.5-.5zm6-5a.5.5 0 0 1 .5-.5h3a.5.5 0 0 1 .5.5v9a.5.5 0 0 1-.5.5h-3a.5.5 0 0 1-.5-.5z"}),e.createElement("path",{d:"M0 11.5a.5.5 0 0 1 .5-.5h3a.5.5 0 0 1 .5.5v4a.5.5 0 0 1-.5.5h-3a.5.5 0 0 1-.5-.5zm6-5a.5.5 0 0 1 .5-.5h3a.5.5 0 0 1 .5.5v9a.5.5 0 0 1-.5.5h-3a.5.5 0 0 1-.5-.5z"}),e.createElement("g",{opacity:.25},e.createElement("path",{d:"M12 .5a.5.5 0 0 1 .5-.5h3a.5.5 0 0 1 .5.5v15a.5.5 0 0 1-.5.5h-3a.5.5 0 0 1-.5-.5z"}),e.createElement("path",{d:"M12 .5a.5.5 0 0 1 .5-.5h3a.5.5 0 0 1 .5.5v15a.5.5 0 0 1-.5.5h-3a.5.5 0 0 1-.5-.5z"}))),QR=t=>e.createElement("svg",kR({xmlns:"http://www.w3.org/2000/svg",width:16,height:16,fill:"currentcolor"},t),e.createElement("path",{d:"M0 11.5a.5.5 0 0 1 .5-.5h3a.5.5 0 0 1 .5.5v4a.5.5 0 0 1-.5.5h-3a.5.5 0 0 1-.5-.5z"}),e.createElement("path",{d:"M0 11.5a.5.5 0 0 1 .5-.5h3a.5.5 0 0 1 .5.5v4a.5.5 0 0 1-.5.5h-3a.5.5 0 0 1-.5-.5z"}),e.createElement("g",{opacity:.25},e.createElement("path",{d:"M6 6.5a.5.5 0 0 1 .5-.5h3a.5.5 0 0 1 .5.5v9a.5.5 0 0 1-.5.5h-3a.5.5 0 0 1-.5-.5z"}),e.createElement("path",{d:"M6 6.5a.5.5 0 0 1 .5-.5h3a.5.5 0 0 1 .5.5v9a.5.5 0 0 1-.5.5h-3a.5.5 0 0 1-.5-.5zm6-6a.5.5 0 0 1 .5-.5h3a.5.5 0 0 1 .5.5v15a.5.5 0 0 1-.5.5h-3a.5.5 0 0 1-.5-.5z"}),e.createElement("path",{d:"M12 .5a.5.5 0 0 1 .5-.5h3a.5.5 0 0 1 .5.5v15a.5.5 0 0 1-.5.5h-3a.5.5 0 0 1-.5-.5z"}))),ez=t=>e.createElement("svg",kR({xmlns:"http://www.w3.org/2000/svg",width:16,height:16,fill:"currentColor"},t),e.createElement("g",{opacity:.25},e.createElement("path",{d:"M0 11.5a.5.5 0 0 1 .5-.5h3a.5.5 0 0 1 .5.5v4a.5.5 0 0 1-.5.5h-3a.5.5 0 0 1-.5-.5v-4Zm6-5a.5.5 0 0 1 .5-.5h3a.5.5 0 0 1 .5.5v9a.5.5 0 0 1-.5.5h-3a.5.5 0 0 1-.5-.5v-9Zm6-6a.5.5 0 0 1 .5-.5h3a.5.5 0 0 1 .5.5v15a.5.5 0 0 1-.5.5h-3a.5.5 0 0 1-.5-.5V.5Z"}),e.createElement("path",{d:"M0 11.5a.5.5 0 0 1 .5-.5h3a.5.5 0 0 1 .5.5v4a.5.5 0 0 1-.5.5h-3a.5.5 0 0 1-.5-.5v-4Zm6-5a.5.5 0 0 1 .5-.5h3a.5.5 0 0 1 .5.5v9a.5.5 0 0 1-.5.5h-3a.5.5 0 0 1-.5-.5v-9Zm6-6a.5.5 0 0 1 .5-.5h3a.5.5 0 0 1 .5.5v15a.5.5 0 0 1-.5.5h-3a.5.5 0 0 1-.5-.5V.5Z"}))),tz=t=>e.createElement("svg",kR({xmlns:"http://www.w3.org/2000/svg",width:20,height:16,fill:"none"},t),e.createElement("path",{fill:"currentColor",fillRule:"evenodd",d:"M0 2.75A2.75 2.75 0 0 1 2.75 0h14.5A2.75 2.75 0 0 1 20 2.75v10.5A2.75 2.75 0 0 1 17.25 16H2.75A2.75 2.75 0 0 1 0 13.25V2.75ZM2.75 1.5c-.69 0-1.25.56-1.25 1.25v10.5c0 .69.56 1.25 1.25 1.25h14.5c.69 0 1.25-.56 1.25-1.25V2.75c0-.69-.56-1.25-1.25-1.25H2.75Z",clipRule:"evenodd"}),e.createElement("path",{fill:"currentColor",fillRule:"evenodd",d:"M9.47 4.22a.75.75 0 0 1 1.06 0l2.25 2.25a.75.75 0 0 1-1.06 1.06l-.97-.97v4.69a.75.75 0 0 1-1.5 0V6.56l-.97.97a.75.75 0 0 1-1.06-1.06l2.25-2.25Z",clipRule:"evenodd"})),rz=t=>e.createElement("svg",kR({xmlns:"http://www.w3.org/2000/svg",width:20,height:16,fill:"none"},t),e.createElement("g",{fill:"currentColor"},e.createElement("path",{d:"M7.28 4.22a.75.75 0 0 0-1.06 1.06L8.94 8l-2.72 2.72a.75.75 0 1 0 1.06 1.06L10 9.06l2.72 2.72a.75.75 0 1 0 1.06-1.06L11.06 8l2.72-2.72a.75.75 0 0 0-1.06-1.06L10 6.94z"}),e.createElement("path",{fillRule:"evenodd",d:"M2.75 0A2.75 2.75 0 0 0 0 2.75v10.5A2.75 2.75 0 0 0 2.75 16h14.5A2.75 2.75 0 0 0 20 13.25V2.75A2.75 2.75 0 0 0 17.25 0zM1.5 2.75c0-.69.56-1.25 1.25-1.25h14.5c.69 0 1.25.56 1.25 1.25v10.5c0 .69-.56 1.25-1.25 1.25H2.75c-.69 0-1.25-.56-1.25-1.25z",clipRule:"evenodd"}))),nz=t=>e.createElement("svg",kR({xmlns:"http://www.w3.org/2000/svg",width:16,height:16,fill:"none"},t),e.createElement("g",{stroke:"currentColor",strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:1.5},e.createElement("path",{d:"M13.25 7H9m0 0V2.75M9 7l5.25-5.25M2.75 9H7m0 0v4.25M7 9l-5.25 5.25"})));function oz(t){var r=t,{trackSource:n,participant:o}=r,i=_R(r,["trackSource","participant"]);const{mergedProps:a,inFocus:s}=function({trackSource:t,participant:r,props:n}){const o=zR(r),i=xR(),{className:a}=e.useMemo((()=>({className:[tR("button"),tR("focus-toggle-button")].join(" ")})),[]),s=e.useMemo((()=>{const e=o.getTrack(t);return!(!(null==i?void 0:i.pin.state)||!e)&&(r={participant:o,source:t,publication:e},void 0!==(n=i.pin.state)&&(HT(r)?n.some((e=>e.participant.identity===r.participant.identity&&HT(e)&&e.publication.trackSid===r.publication.trackSid)):!!$T(r)&&n.some((e=>e.participant.identity===r.participant.identity&&$T(e)&&e.source===r.source))));var r,n}),[o,t,i]);return{mergedProps:e.useMemo((()=>ER(n,{className:a,onClick:e=>{var r;null==(r=n.onClick)||r.call(n,e);const a=o.getTrack(t);(null==i?void 0:i.pin.dispatch)&&a&&(s?i.pin.dispatch({msg:"clear_pin"}):i.pin.dispatch({msg:"set_pin",trackReference:{participant:o,publication:a,source:a.source}}))}})),[n,a,o,t,s,i]),inFocus:s}}({trackSource:n,participant:o,props:i});return e.createElement(CR.Consumer,null,(t=>void 0!==t&&e.createElement("button",kR({},a),i.children?i.children:s?e.createElement(nz,null):e.createElement(VR,null))))}function iz(t){var r=t,{kind:n,initialSelection:o,onActiveDeviceChange:i,onDeviceListChange:a}=r,s=_R(r,["kind","initialSelection","onActiveDeviceChange","onDeviceListChange"]);const c=MR(),{devices:l,activeDeviceId:u,setActiveMediaDevice:d,className:p}=function({kind:t,room:r}){const n=MR(),o=NR(e.useMemo((()=>function(e,t=!0){var r;const n=()=>DT(this,null,(function*(){const r=yield ix.getLocalDevices(e,t);o.next(r)})),o=new hT,i=o.pipe((a=()=>{var e;null==(e=null==navigator?void 0:navigator.mediaDevices)||e.removeEventListener("devicechange",n)},aj((function(e,t){try{e.subscribe(t)}finally{t.add(a)}}))));var a;if("undefined"!=typeof window){if(!window.isSecureContext)throw new Error("Accessing media devices is available only in secure contexts (HTTPS and localhost), in some or all supporting browsers. See: https://developer.mozilla.org/en-US/docs/Web/API/Navigator/mediaDevices");null==(r=null==navigator?void 0:navigator.mediaDevices)||r.addEventListener("devicechange",n),n()}return i}(t)),[t]),[]),[i,a]=e.useState(""),{className:s,activeDeviceObservable:c,setActiveMediaDevice:l}=e.useMemo((()=>sR(t,null!=r?r:n)),[t,r,n]);return e.useEffect((()=>{const e=c.subscribe((e=>{e&&a(e)}));return()=>{null==e||e.unsubscribe()}}),[c]),{devices:o,className:s,activeDeviceId:i,setActiveMediaDevice:l}}({kind:n,room:c});e.useEffect((()=>{o&&d(o)})),e.useEffect((()=>{"function"==typeof a&&a(l)}),[a,l]);const f=e=>{return t=this,r=null,n=function*(){d(e),null==i||i(e)},new Promise(((e,o)=>{var i=e=>{try{s(n.next(e))}catch(e){o(e)}},a=e=>{try{s(n.throw(e))}catch(e){o(e)}},s=t=>t.done?e(t.value):Promise.resolve(t.value).then(i,a);s((n=n.apply(t,r)).next())}));var t,r,n},h=e.useMemo((()=>ER(s,{className:p},{className:"lk-list"})),[p,s]);return e.createElement("ul",kR({},h),l.map((t=>e.createElement("li",{key:t.deviceId,id:t.deviceId,"data-lk-active":t.deviceId===u,"aria-selected":t.deviceId===u,role:"option"},e.createElement("button",{className:"lk-button",onClick:()=>f(t.deviceId)},t.label)))))}function az(t){var r=t,{label:n="Allow Audio"}=r,o=_R(r,["label"]);const i=AR(),{mergedProps:a}=function({room:t,props:r}){const{className:n,roomAudioPlaybackAllowedObservable:o,handleStartAudioPlayback:i}=e.useMemo((()=>lR()),[]),a=e.useMemo((()=>o(t)),[t,o]),{canPlayAudio:s}=NR(a,{canPlayAudio:!1});return{mergedProps:e.useMemo((()=>ER(r,{className:n,onClick:()=>{i(t)},style:{display:s?"none":"block"}})),[r,n,s,i,t]),canPlayAudio:s}}({room:i,props:o});return e.createElement("button",kR({},a),n)}function sz(t,r){switch(t){case DE.Source.Microphone:return r?e.createElement(KR,null):e.createElement(JR,null);case DE.Source.Camera:return r?e.createElement(ZR,null):e.createElement(WR,null);case DE.Source.ScreenShare:return r?e.createElement(rz,null):e.createElement(tz,null);default:return}}function cz(t){var r=t,{showIcon:n}=r,o=_R(r,["showIcon"]);const{buttonProps:i,enabled:a}=function(t){var r,n=t,{source:o,onChange:i,initialState:a,captureOptions:s}=n,c=_R(n,["source","onChange","initialState","captureOptions"]);const l=MR(),u=null==(r=null==l?void 0:l.localParticipant)?void 0:r.getTrack(o),{toggle:d,className:p,pendingObserver:f,enabledObserver:h}=e.useMemo((()=>l?function(e,t,r){const{localParticipant:n}=t,o=(e,t)=>{let r=!1;switch(e){case DE.Source.Camera:r=t.isCameraEnabled;break;case DE.Source.Microphone:r=t.isMicrophoneEnabled;break;case DE.Source.ScreenShare:r=t.isScreenShareEnabled}return r},i=oR(n).pipe(Uj((t=>o(e,t.participant))),pT(o(e,n))),a=new hT;return{className:tR("button"),toggle:(t,o)=>DT(this,null,(function*(){try{switch(null!=o||(o=r),a.next(!0),e){case DE.Source.Camera:yield n.setCameraEnabled(null!=t?t:!n.isCameraEnabled,o);break;case DE.Source.Microphone:yield n.setMicrophoneEnabled(null!=t?t:!n.isMicrophoneEnabled,o);break;case DE.Source.ScreenShare:yield n.setScreenShareEnabled(null!=t?t:!n.isScreenShareEnabled,o)}}finally{a.next(!1)}})),enabledObserver:i,pendingObserver:a.asObservable()}}(o,l,s):function(){let e=!1;const t=new hT,r=new hT;return{className:tR("button"),toggle:n=>{r.next(!0),e=null!=n?n:!e,t.next(e),r.next(!1)},enabledObserver:t.asObservable(),pendingObserver:r.asObservable()}}()),[l,o,JSON.stringify(s)]),m=NR(f,!1),y=NR(h,null!=a?a:!!(null==u?void 0:u.isEnabled));e.useEffect((()=>{null==i||i(y)}),[y,i]),e.useEffect((()=>{void 0!==a&&(pR.debug("forcing initial toggle state",o,a),d(a))}),[]);const g=e.useMemo((()=>OR(c,{className:p})),[c,p]),b=e.useCallback((e=>{var t;d(),null==(t=c.onClick)||t.call(c,e)}),[c,d]);return{toggle:d,enabled:y,pending:m,track:u,buttonProps:wR(kR({},g),{"aria-pressed":y,"data-lk-source":o,"data-lk-enabled":y,disabled:m,onClick:b})}}(o);return e.createElement("button",kR({},i),(null==n||n)&&sz(o.source,a),o.children)}function lz(t){var r;const{className:n,quality:o}=function(t={}){const r=zR(t.participant),{className:n,connectionQualityObserver:o}=e.useMemo((()=>function(e){const t=tR("connection-quality"),r=function(e){return iR(e,SP.ConnectionQualityChanged).pipe(Uj((([e])=>e)),pT(e.connectionQuality))}(e);return{className:t,connectionQualityObserver:r}}(r)),[r]);return{className:n,quality:NR(o,sC.Unknown)}}(t),i=e.useMemo((()=>wR(kR({},ER(t,{className:n})),{"data-lk-quality":o})),[o,t,n]);return e.createElement("div",kR({},i),null!=(r=t.children)?r:function(t){switch(t){case sC.Excellent:return e.createElement(YR,null);case sC.Good:return e.createElement(XR,null);case sC.Poor:return e.createElement(QR,null);default:return e.createElement(ez,null)}}(o))}function uz(t){var r=t,{participant:n}=r,o=_R(r,["participant"]);const i=zR(n),{className:a,infoObserver:s}=e.useMemo((()=>function(e){const t=function(e){const t=nR(e,SP.ParticipantMetadataChanged).pipe(Uj((({name:e,identity:t,metadata:r})=>({name:e,identity:t,metadata:r}))),pT({name:e.name,identity:e.identity,metadata:e.metadata}));return t}(e);return{className:"lk-participant-name",infoObserver:t}}(i)),[i]),{identity:c,name:l}=NR(s,{name:i.name,identity:i.identity,metadata:i.metadata}),u=e.useMemo((()=>ER(o,{className:a,"data-lk-participant-name":l})),[o,a,l]);return e.createElement("span",kR({},u),""!==l?l:c,o.children)}var dz,pz=t=>{var r,n=t,{source:o,participant:i,show:a="always"}=n,s=_R(n,["source","participant","show"]);const{className:c,isMuted:l}=((t,r={})=>{var n;const o=zR(r.participant),{className:i,mediaMutedObserver:a}=e.useMemo((()=>function(e,t){let r="track-muted-indicator-camera";switch(t){case DE.Source.Camera:r="track-muted-indicator-camera";break;case DE.Source.Microphone:r="track-muted-indicator-microphone"}return{className:tR(r),mediaMutedObserver:aR(e,t)}}(o,t)),[o,t]);return{isMuted:NR(a,!!(null==(n=o.getTrack(t))?void 0:n.isMuted)),className:i}})(o,{participant:i}),u="always"===a||"muted"===a&&l||"unmuted"===a&&!l,d=e.useMemo((()=>ER(s,{className:c})),[c,s]);return u?e.createElement("div",wR(kR({},d),{"data-lk-muted":l}),null!=(r=s.children)?r:sz(o,!l)):null},fz=t=>{const[r,n]=e.useState({width:0,height:0});e.useLayoutEffect((()=>{if(t.current){const{width:e,height:r}=t.current.getBoundingClientRect();n({width:e,height:r})}}),[t.current]);const o=e.useCallback((e=>n(e.contentRect)),[]);return function(t,r){const n=dz||(dz=function(){let e=!1,t=[];const r=new Map;if("undefined"==typeof window)return;const n=new ResizeObserver(((n,o)=>{t=t.concat(n),e||window.requestAnimationFrame((()=>{const n=new Set;for(let e=0;e<t.length;e++){if(n.has(t[e].target))continue;n.add(t[e].target);const i=r.get(t[e].target);null==i||i.forEach((r=>r(t[e],o)))}t=[],e=!1})),e=!0}));return{observer:n,subscribe(e,t){var o;n.observe(e);const i=null!=(o=r.get(e))?o:[];i.push(t),r.set(e,i)},unsubscribe(e,t){var o;const i=null!=(o=r.get(e))?o:[];if(1===i.length)return n.unobserve(e),void r.delete(e);const a=i.indexOf(t);-1!==a&&i.splice(a,1),r.set(e,i)}}}()),o=_i(r);e.useLayoutEffect((()=>{let e=!1;const r=t.current;if(r)return null==n||n.subscribe(r,i),()=>{e=!0,null==n||n.unsubscribe(r,i)};function i(t,r){e||o.current(t,r)}}),[t.current,n,o]),null==n||n.observer}(t,o),r};function hz(t,r){const{width:n,height:o}=fz(t),i=n>0&&o>0?qT(FT,r,n,o):FT[0];return e.useEffect((()=>{t.current&&i&&(t.current.style.setProperty("--lk-col-count",null==i?void 0:i.columns.toString()),t.current.style.setProperty("--lk-row-count",null==i?void 0:i.rows.toString()))}),[t,i]),{layout:i}}function mz(t,r={}){var n;const o=zR(r.participant),[i,a]=e.useState(!!(null==(n=o.getTrack(t))?void 0:n.isMuted));return e.useEffect((()=>{const e=aR(o,t).subscribe(a);return()=>e.unsubscribe()}),[o,t]),i}function yz(t,r={}){const[n,o]=e.useState(rR(t)),[i,a]=e.useState(null==n?void 0:n.isMuted),[s,c]=e.useState(null==n?void 0:n.isSubscribed),[l,u]=e.useState(null==n?void 0:n.track),[d,p]=e.useState("landscape"),f=e.useRef(),{className:h,trackObserver:m}=e.useMemo((()=>function(e){const t=rR(e),r=oR(e.participant).pipe(Uj((()=>rR(e))),pT(t));return{className:tR(e.source===DE.Source.Camera||e.source===DE.Source.ScreenShare?"participant-media-video":"participant-media-audio"),trackObserver:r}}(t)),[t.participant.identity,t.source,HT(t)&&t.publication.trackSid]);return e.useEffect((()=>{const e=m.subscribe((e=>{pR.debug("update track",e),o(e),a(null==e?void 0:e.isMuted),c(null==e?void 0:e.isSubscribed),u(null==e?void 0:e.track)}));return()=>null==e?void 0:e.unsubscribe()}),[m]),e.useEffect((()=>{var e,n;return l&&(f.current&&l.detach(f.current),!(null==(e=r.element)?void 0:e.current)||function(e){return e instanceof SC}(t.participant)&&"audio"===(null==l?void 0:l.kind)||l.attach(r.element.current)),f.current=null==(n=r.element)?void 0:n.current,()=>{f.current&&(null==l||l.detach(f.current))}}),[l,r.element]),e.useEffect((()=>{var e,t;if("number"==typeof(null==(e=null==n?void 0:n.dimensions)?void 0:e.width)&&"number"==typeof(null==(t=null==n?void 0:n.dimensions)?void 0:t.height)){const e=n.dimensions.width>n.dimensions.height?"landscape":"portrait";p(e)}}),[n]),{publication:n,isMuted:i,isSubscribed:s,track:l,elementProps:ER(r.props,kR({className:h,"data-lk-local-participant":t.participant.isLocal,"data-lk-source":null==n?void 0:n.source},(null==n?void 0:n.source)===DE.Source.Camera||(null==n?void 0:n.source)===DE.Source.ScreenShare?{"data-lk-orientation":d}:{}))}}function gz(t,r,n={}){const o=e.useRef([]),i=e.useRef(-1),a=r!==i.current,s="function"==typeof n.customSortFunction?n.customSortFunction(t):function(e){const t=[],r=[],n=[],o=[];e.forEach((e=>{e.participant.isLocal&&e.source===DE.Source.Camera?t.push(e):e.source===DE.Source.ScreenShare?r.push(e):e.source===DE.Source.Camera?n.push(e):o.push(e)}));const i=function(e){const t=[],r=[];return e.forEach((e=>{e.participant.isLocal?t.push(e):r.push(e)})),t.sort(((e,t)=>GT(e.participant,t.participant))),r.sort(((e,t)=>GT(e.participant,t.participant))),[...r,...t]}(r),a=function(e){const t=[],r=[];return e.forEach((e=>{e.participant.isLocal?t.push(e):r.push(e)})),r.sort(((e,t)=>e.participant.isSpeaking&&t.participant.isSpeaking?function(e,t){return t.audioLevel-e.audioLevel}(e.participant,t.participant):e.participant.isSpeaking!==t.participant.isSpeaking?function(e,t){return e.isSpeaking===t.isSpeaking?0:e.isSpeaking?-1:1}(e.participant,t.participant):e.participant.lastSpokeAt!==t.participant.lastSpokeAt?function(e,t){var r,n,o,i;return void 0!==e.lastSpokeAt||void 0!==t.lastSpokeAt?(null!=(n=null==(r=t.lastSpokeAt)?void 0:r.getTime())?n:0)-(null!=(i=null==(o=e.lastSpokeAt)?void 0:o.getTime())?i:0):0}(e.participant,t.participant):HT(e)!==HT(t)?function(e,t){return HT(e)?HT(t)?0:-1:HT(t)?1:0}(e,t):e.participant.isCameraEnabled!==t.participant.isCameraEnabled?function(e,t){const r=e.participant.isCameraEnabled;return r!==t.participant.isCameraEnabled?r?-1:1:0}(e,t):GT(e.participant,t.participant))),[...t,...r]}(n);return[...t,...i,...a,...o]}(t);let c=[...s];if(!1===a)try{c=function(e,t,r){let n=[...e];if(e.length<t.length){const r=KT(t,e,VT);n=[...n,...r]}if(JT(QT(e,r),QT(t,r)).forEach((([e,t],o)=>{if(e&&t){const s={dropped:KT(i=QT(n,r)[o],a=t,VT),added:KT(a,i,VT)};(function(e){return 0!==e.added.length||0!==e.dropped.length})(s)&&(BT.debug(`Detected visual changes on page: ${o}, current: ${YT(e)}, next: ${YT(t)}`,{changes:s}),s.added.length===s.dropped.length&&JT(s.added,s.dropped).forEach((([e,t])=>{if(!e||!t)throw new Error(`For a swap action we need a addition and a removal one is missing: ${e}, ${t}`);n=function(e,t,r){const n=XT(e,r),o=XT(t,r);return r.splice(n,1,t),r.splice(o,1,e),r}(e,t,n)})),0===s.added.length&&s.dropped.length>0&&s.dropped.forEach((e=>{n=function(e,t){const r=XT(e,t);return t.splice(r,1),t}(e,n)})),s.added.length>0&&0===s.dropped.length&&s.added.forEach((e=>{var t,r;t=e,r=n,n=[...r,t]})))}var i,a})),n.length>t.length){const r=KT(e,t,VT);n=n.filter((e=>!r.map(VT).includes(VT(e))))}return n}(o.current,s,r)}catch(e){pR.error("Error while running updatePages(): ",e)}return o.current=a?s:c,i.current=r,c}function bz(t=[DE.Source.Camera,DE.Source.Microphone,DE.Source.ScreenShare,DE.Source.ScreenShareAudio,DE.Source.Unknown],r={}){const n=DR(r.room),[o,i]=e.useState([]),[a,s]=e.useState([]),c=e.useMemo((()=>t.map((e=>WT(e)?e.source:e))),[JSON.stringify(t)]);e.useEffect((()=>{const e=function(e,t,r){var n,o;const i=null!=(n=r.additionalRoomEvents)?n:LT,a=null==(o=r.onlySubscribed)||o;return eR(e,...Array.from(new Set([_P.ParticipantConnected,_P.ConnectionStateChanged,_P.LocalTrackPublished,_P.LocalTrackUnpublished,_P.TrackPublished,_P.TrackUnpublished,_P.TrackSubscriptionStatusChanged,...i]).values())).pipe(Uj((e=>{const r=uR(e,t,a);return BT.debug(`TrackReference[] was updated. (length ${r.trackReferences.length})`,r),r})),pT(uR(e,t,a)))}(n,c,{additionalRoomEvents:r.updateOnlyOn,onlySubscribed:r.onlySubscribed}).subscribe((({trackReferences:e,participants:t})=>{pR.debug("setting track bundles",e,t),i(e),s(t)}));return()=>e.unsubscribe()}),[n,JSON.stringify(r.updateOnlyOn),JSON.stringify(t)]);const l=e.useMemo((()=>{if(ZT(t)){const e=function(e,t){const r=new Map;if(ZT(e)){const n=e.filter((e=>e.withPlaceholder)).map((e=>e.source));t.forEach((e=>{const t=e.getTracks().map((e=>{var t;return null==(t=e.track)?void 0:t.source})).filter((e=>void 0!==e)),o=Array.from(function(e,t){const r=new Set(e);for(const e of t)r.delete(e);return r}(new Set(n),new Set(t)));o.length>0&&r.set(e.identity,o)}))}return r}(t,a),r=Array.from(o);return a.forEach((t=>{var n;e.has(t.identity)&&(null!=(n=e.get(t.identity))?n:[]).forEach((e=>{if(o.find((({participant:r,publication:n})=>t.identity===r.identity&&n.source===e)))return;pR.debug(`Add ${e} placeholder for participant ${t.identity}.`);const n={participant:t,source:e};r.push(n)}))})),r}return o}),[o,a,t]);return l}var vz=t=>e.createElement("svg",kR({width:320,height:320,viewBox:"0 0 320 320",preserveAspectRatio:"xMidYMid meet",fill:"none",xmlns:"http://www.w3.org/2000/svg"},t),e.createElement("path",{d:"M160 180C204.182 180 240 144.183 240 100C240 55.8172 204.182 20 160 20C115.817 20 79.9997 55.8172 79.9997 100C79.9997 144.183 115.817 180 160 180Z",fill:"white",fillOpacity:.25}),e.createElement("path",{d:"M97.6542 194.614C103.267 191.818 109.841 192.481 115.519 195.141C129.025 201.466 144.1 205 159.999 205C175.899 205 190.973 201.466 204.48 195.141C210.158 192.481 216.732 191.818 222.345 194.614C262.703 214.719 291.985 253.736 298.591 300.062C300.15 310.997 291.045 320 280 320H39.9997C28.954 320 19.8495 310.997 21.4087 300.062C28.014 253.736 57.2966 214.72 97.6542 194.614Z",fill:"white",fillOpacity:.25}));function kz(t){var r=t,{onTrackClick:n,onClick:o,onSubscriptionStatusChanged:i,name:a,publication:s,source:c}=r,l=_R(r,["onTrackClick","onClick","onSubscriptionStatusChanged","name","publication","source"]);const u=e.useRef(null),d=zR(l.participant),{elementProps:p,publication:f,isSubscribed:h}=yz({participant:d,name:a,source:c,publication:s},{element:u,props:l});return e.useEffect((()=>{null==i||i(!!h)}),[h,i]),e.createElement("video",wR(kR({ref:u},p),{muted:!0,onClick:e=>{null==o||o(e),null==n||n({participant:d,track:f})}}))}function wz(t){var r=t,{onSubscriptionStatusChanged:n,volume:o}=r,i=_R(r,["onSubscriptionStatusChanged","volume"]);const{source:a,name:s,publication:c}=i,l=e.useRef(null),u=zR(i.participant),{elementProps:d,isSubscribed:p,track:f}=yz({source:a,name:s,participant:u,publication:c},{element:l,props:i});return e.useEffect((()=>{null==n||n(!!p)}),[p,n]),e.useEffect((()=>{o&&f instanceof $E?f.setVolume(o):pR.warn("volume can only be set on remote audio tracks")}),[o,f]),e.createElement("audio",kR({ref:l},d))}function _z({participant:t,source:r,publication:n,onParticipantClick:o,disableSpeakingIndicator:i,htmlProps:a}){const s=zR(t),c=e.useMemo((()=>{const{className:e}={className:tR("participant-tile")};return ER(a,{className:e,onClick:e=>{var t;if(null==(t=a.onClick)||t.call(a,e),"function"==typeof o){const e=null!=n?n:s.getTrack(r);o({participant:s,track:e})}}})}),[a,r,o,s,n]),l=mz(DE.Source.Camera,{participant:t}),u=mz(DE.Source.Microphone,{participant:t}),d=function(t){const r=zR(t),n=e.useMemo((()=>function(e){return iR(e,SP.IsSpeakingChanged).pipe(Uj((([e])=>e)))}(r)),[r]);return NR(n,r.isSpeaking)}(t);return{elementProps:kR({"data-lk-audio-muted":u,"data-lk-video-muted":l,"data-lk-speaking":!0!==i&&d,"data-lk-local-participant":t.isLocal,"data-lk-source":r},c)}}function Sz(t){const r=!!RR();return t.participant&&!r?e.createElement(TR.Provider,{value:t.participant},t.children):e.createElement(e.Fragment,null,t.children)}var Oz=t=>{var r=t,{participant:n,children:o,source:i=DE.Source.Camera,onParticipantClick:a,publication:s,disableSpeakingIndicator:c}=r,l=_R(r,["participant","children","source","onParticipantClick","publication","disableSpeakingIndicator"]);const u=zR(n),{elementProps:d}=_z({participant:u,htmlProps:l,source:i,publication:s,disableSpeakingIndicator:c,onParticipantClick:a}),p=xR(),f=e.useCallback((e=>{i&&!e&&p&&p.pin.dispatch&&function(e,t,r){return void 0!==r&&r.some((({source:r,participant:n})=>r===t&&n.identity===e.identity))}(u,i,p.pin.state)&&p.pin.dispatch({msg:"clear_pin"})}),[u,p,i]);return e.createElement("div",kR({style:{position:"relative"}},d),e.createElement(Sz,{participant:u},null!=o?o:e.createElement(e.Fragment,null,"video"===(null==s?void 0:s.kind)||i===DE.Source.Camera||i===DE.Source.ScreenShare?e.createElement(kz,{participant:u,source:i,publication:s,onSubscriptionStatusChanged:f}):e.createElement(wz,{participant:u,source:i,publication:s,onSubscriptionStatusChanged:f}),e.createElement("div",{className:"lk-participant-placeholder"},e.createElement(vz,null)),e.createElement("div",{className:"lk-participant-metadata"},e.createElement("div",{className:"lk-participant-metadata-item"},i===DE.Source.Camera?e.createElement(e.Fragment,null,e.createElement(pz,{source:DE.Source.Microphone,show:"muted"}),e.createElement(uz,null)):e.createElement(e.Fragment,null,e.createElement(tz,{style:{marginRight:"0.25rem"}}),e.createElement(uz,null,"'s screen"))),e.createElement(lz,{className:"lk-participant-metadata-item"}))),e.createElement(oz,{trackSource:i})))},Pz=t=>{var r=t,{tracks:n}=r,o=_R(r,["tracks"]);return e.createElement(e.Fragment,null,n.map((t=>{const r=HT(t)?t.publication.source:t.source;return e.createElement(jR.Provider,{value:t,key:`${t.participant.identity}_${r}`},function(t,r,n){return e.Children.map(t,(o=>e.isValidElement(o)&&e.Children.only(t)?e.cloneElement(o,wR(kR({},r),{key:n})):o))}(o.children))})))};function Ez({totalPageCount:t,nextPage:r,prevPage:n,currentPage:o,pagesContainer:i}){const[a,s]=e.useState(!1);return e.useEffect((()=>{let e;return i&&(e=dR(i.current,2e3).subscribe(s)),()=>{e&&e.unsubscribe()}}),[i]),e.createElement("div",{className:"lk-pagination-control","data-lk-user-interaction":a},e.createElement("button",{className:"lk-button",onClick:n},e.createElement($R,null)),e.createElement("span",{className:"lk-pagination-count"},`${o} of ${t}`),e.createElement("button",{className:"lk-button",onClick:r},e.createElement($R,null)))}function Cz({totalPageCount:t,currentPage:r}){const n=new Array(t).fill("").map(((t,n)=>n+1===r?e.createElement("span",{"data-lk-active":!0,key:n}):e.createElement("span",{key:n})));return e.createElement("div",{className:"lk-pagination-indicator"},n)}function xz(t){var r=t,{tracks:n}=r,o=_R(r,["tracks"]);const i=e.createRef(),a=e.useMemo((()=>ER(o,{className:"lk-grid-layout"})),[o]),{layout:s}=hz(i,n.length),c=function(t,r){const[n,o]=e.useState(1),i=Math.max(Math.ceil(r.length/t),1);n>i&&o(i);const a=n*t,s=a-t,c=e=>{o((t=>"next"===e?t===i?t:t+1:1===t?t:t-1))},l=gz(r,t);return{totalPageCount:i,nextPage:()=>c("next"),prevPage:()=>c("previous"),setPage:e=>{o(e>i?i:e<1?1:e)},firstItemIndex:s,lastItemIndex:a,tracks:l.slice(s,a),currentPage:n}}(s.maxTiles,n);return function(t,r={}){var n;const o=e.useRef(null),i=e.useRef(null),a=null!=(n=r.minSwipeDistance)?n:50,s=e=>{i.current=null,o.current=e.targetTouches[0].clientX},c=e=>{i.current=e.targetTouches[0].clientX},l=e.useCallback((()=>{if(!o.current||!i.current)return;const e=o.current-i.current,t=e<-a;e>a&&r.onLeftSwipe&&r.onLeftSwipe(),t&&r.onRightSwipe&&r.onRightSwipe()}),[a,r]);e.useEffect((()=>{const e=t.current;return e&&(e.addEventListener("touchstart",s),e.addEventListener("touchmove",c),e.addEventListener("touchend",l)),()=>{e&&(e.removeEventListener("touchstart",s),e.removeEventListener("touchmove",c),e.removeEventListener("touchend",l))}}),[t,l])}(i,{onLeftSwipe:c.nextPage,onRightSwipe:c.prevPage}),e.createElement("div",kR({ref:i,"data-lk-pagination":c.totalPageCount>1},a),e.createElement(Pz,{tracks:c.tracks},o.children),n.length>s.maxTiles&&e.createElement(e.Fragment,null,e.createElement(Cz,{totalPageCount:c.totalPageCount,currentPage:c.currentPage}),e.createElement(Ez,kR({pagesContainer:i},c))))}var jz={connect:!0,audio:!1,video:!1};function Tz(t){const{room:r,htmlProps:n}=function(t){const r=kR(kR({},jz),t),{token:n,serverUrl:o,options:i,room:a,connectOptions:s,connect:c,audio:l,video:u,screen:d,onConnected:p,onDisconnected:f,onError:h,onMediaDeviceFailure:m,simulateParticipants:y}=r,g=_R(r,["token","serverUrl","options","room","connectOptions","connect","audio","video","screen","onConnected","onDisconnected","onError","onMediaDeviceFailure","simulateParticipants"]);i&&a&&pR.warn("when using a manually created room, the options object will be ignored. set the desired options directly when creating the room instead.");const[b,v]=e.useState();e.useEffect((()=>{v(null!=a?a:new ix(i))}),[i,a]);const k=e.useMemo((()=>ER(g,{className:"lk-room-container"})),[g]);return e.useEffect((()=>{if(!b)return;const e=()=>{const e=b.localParticipant;try{pR.debug("trying to publish local tracks"),e.setMicrophoneEnabled(!!l,"boolean"!=typeof l?l:void 0),e.setCameraEnabled(!!u,"boolean"!=typeof u?u:void 0),e.setScreenShareEnabled(!!d,"boolean"!=typeof d?d:void 0)}catch(e){pR.warn(e),null==h||h(e)}},t=e=>{const t=wP.getFailure(e);null==m||m(t)};return b.on(_P.SignalConnected,e),b.on(_P.MediaDevicesError,t),()=>{b.off(_P.SignalConnected,e),b.off(_P.MediaDevicesError,t)}}),[b,l,u,d,h]),e.useEffect((()=>{if(b)if(y)b.simulateParticipants({participants:{count:y},publish:{audio:!0,useRealTracks:!0}});else{if(n)return o?void(c?(pR.debug("connecting"),b.connect(o,n,s).catch((e=>{pR.warn(e),null==h||h(e)}))):(pR.debug("disconnecting because connect is false"),b.disconnect())):(pR.warn("no livekit url provided"),void(null==h||h(Error("no livekit url provided"))));pR.debug("no token yet")}}),[c,n,s,b,h,o,y]),e.useEffect((()=>{if(!b)return;const e=e=>{switch(e){case tx.Disconnected:f&&f();break;case tx.Connected:p&&p()}};return b.on(_P.ConnectionStateChanged,e),()=>{b.off(_P.ConnectionStateChanged,e)}}),[n,p,f,b]),e.useEffect((()=>{if(b)return()=>{pR.info("disconnecting on onmount"),b.disconnect()}}),[b]),{room:b,htmlProps:k}}(t);return e.createElement("div",kR({},n),r&&e.createElement(IR.Provider,{value:r},t.children))}var Rz=t=>{var r=t,{childrenPosition:n="before",children:o}=r,i=_R(r,["childrenPosition","children"]);const{name:a}=function(t={}){const r=DR(t.room),n=e.useMemo((()=>function(e){const t=eR(e,_P.RoomMetadataChanged,_P.ConnectionStateChanged).pipe(Uj((e=>({name:e.name,metadata:e.metadata}))));return t}(r)),[r]),{name:o,metadata:i}=NR(n,{name:r.name,metadata:r.metadata});return{name:o,metadata:i}}();return e.createElement("span",kR({},i),"before"===n&&o,a,"after"===n&&o)},zz=t=>{var r=t,{kind:n,initialSelection:o,onActiveDeviceChange:i}=r,a=_R(r,["kind","initialSelection","onActiveDeviceChange"]);const[s,c]=e.useState(!1),[l,u]=e.useState([]),[d,p]=e.useState(!0),f=(e,t)=>{pR.debug("handle device change"),c(!1),null==i||i(e,t)},h=e.useRef(null),m=e.useRef(null);e.useLayoutEffect((()=>{h.current&&m.current&&(l||d)&&function(e,t){return DT(this,null,(function*(){const{x:r,y:n}=yield((e,t,r)=>{const n=new Map,o={platform:nj,...r},i={...o.platform,_c:n};return dx(e,t,{...o,platform:i})})(e,t,{placement:"top",middleware:[Sx(6),_x(),Ox({padding:5})]});return{x:r,y:n}}))}(h.current,m.current).then((({x:e,y:t})=>{m.current&&Object.assign(m.current.style,{left:`${e}px`,top:`${t}px`})})),p(!1)}),[h,m,l,d]);const y=e.useCallback((e=>{m.current&&e.target!==h.current&&s&&function(e,t){return!e.contains(t.target)}(m.current,e)&&c(!1)}),[s,m,h]);return e.useEffect((()=>(document.addEventListener("click",y),window.addEventListener("resize",(()=>p(!0))),()=>{document.removeEventListener("click",y),window.removeEventListener("resize",(()=>p(!0)))})),[y,p]),e.createElement(e.Fragment,null,e.createElement("button",wR(kR({className:"lk-button lk-button-menu","aria-pressed":s},a),{onClick:()=>c(!s),ref:h}),a.children),e.createElement("div",{className:"lk-device-menu",ref:m,style:{visibility:s?"visible":"hidden"}},n?e.createElement(iz,{initialSelection:o,onActiveDeviceChange:e=>f(n,e),onDeviceListChange:u,kind:n}):e.createElement(e.Fragment,null,e.createElement("div",{className:"lk-device-menu-heading"},"Audio inputs"),e.createElement(iz,{kind:"audioinput",onActiveDeviceChange:e=>f("audioinput",e),onDeviceListChange:u}),e.createElement("div",{className:"lk-device-menu-heading"},"Video inputs"),e.createElement(iz,{kind:"videoinput",onActiveDeviceChange:e=>f("videoinput",e),onDeviceListChange:u}))))};function Iz(t){var r,n=t,{variation:o,controls:i}=n,a=_R(n,["variation","controls"]);const[s,c]=e.useState(!1),l=xR();e.useEffect((()=>{var e,t;void 0!==(null==(e=null==l?void 0:l.widget.state)?void 0:e.showChat)&&c(null==(t=null==l?void 0:l.widget.state)?void 0:t.showChat)}),[null==(r=null==l?void 0:l.widget.state)?void 0:r.showChat]);const u=function(t){const r=e=>"undefined"!=typeof window&&window.matchMedia(e).matches,[n,o]=e.useState(r(t));function i(){o(r(t))}return e.useEffect((()=>{const e=window.matchMedia(t);return i(),e.addListener?e.addListener(i):e.addEventListener("change",i),()=>{e.removeListener?e.removeListener(i):e.removeEventListener("change",i)}}),[t]),n}(`(max-width: ${s?1e3:760}px)`);null!=o||(o=u?"minimal":"verbose");const d=kR({leave:!0},i),p=function(){const t=AR();return NR(e.useMemo((()=>{return iR(e=t.localParticipant,SP.ParticipantPermissionsChanged).pipe(Uj((()=>e.permissions)),pT(e.permissions));var e}),[t]),t.localParticipant.permissions)}();p?(null!=d.camera||(d.camera=p.canPublish),null!=d.microphone||(d.microphone=p.canPublish),null!=d.screenShare||(d.screenShare=p.canPublish),null!=d.chat||(d.chat=p.canPublishData&&(null==i?void 0:i.chat))):(d.camera=!1,d.chat=!1,d.microphone=!1,d.screenShare=!1);const f=e.useMemo((()=>"minimal"===o||"verbose"===o),[o]),h=e.useMemo((()=>"textOnly"===o||"verbose"===o),[o]),m=e.useMemo((()=>"undefined"!=typeof document&&/Mobi/i.test(window.navigator.userAgent)),[]),[y,g]=e.useState(!1);return e.createElement("div",kR({className:"lk-control-bar"},a),d.microphone&&e.createElement("div",{className:"lk-button-group"},e.createElement(cz,{source:DE.Source.Microphone,showIcon:f},h&&"Microphone"),e.createElement("div",{className:"lk-button-group-menu"},e.createElement(zz,{kind:"audioinput"}))),d.camera&&e.createElement("div",{className:"lk-button-group"},e.createElement(cz,{source:DE.Source.Camera,showIcon:f},h&&"Camera"),e.createElement("div",{className:"lk-button-group-menu"},e.createElement(zz,{kind:"videoinput"}))),d.screenShare&&!m&&e.createElement(cz,{source:DE.Source.ScreenShare,captureOptions:{audio:!0,selfBrowserSurface:"include"},showIcon:f,onChange:e=>{g(e)}},h&&(y?"Stop screen share":"Share screen")),d.chat&&e.createElement(FR,null,f&&e.createElement(HR,null),h&&"Chat"),d.leave&&e.createElement(qR,null,f&&e.createElement(GR,null),h&&"Leave"),e.createElement(az,{label:"Start Audio"}))}function Az(e){return Az="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Az(e)}function Mz(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function Dz(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?Mz(Object(r),!0).forEach((function(t){Nz(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Mz(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function Nz(e,t,r){return(t=function(e){var t=function(e,t){if("object"!==Az(e)||null===e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,"string");if("object"!==Az(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"===Az(t)?t:String(t)}(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Lz(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var r=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=r){var n,o,i,a,s=[],c=!0,l=!1;try{if(i=(r=r.call(e)).next,0===t){if(Object(r)!==r)return;c=!1}else for(;!(c=(n=i.call(r)).done)&&(s.push(n.value),s.length!==t);c=!0);}catch(e){l=!0,o=e}finally{try{if(!c&&null!=r.return&&(a=r.return(),Object(a)!==a))return}finally{if(l)throw o}}return s}}(e,t)||function(e,t){if(e){if("string"==typeof e)return Uz(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?Array.from(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?Uz(e,t):void 0}}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Uz(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function Bz(){var e=bz([DE.Source.Camera]),r=bz([DE.Source.ScreenShare])[0];return t().createElement(t().Fragment,null,r&&t().createElement(Oz,r),t().createElement(xz,{tracks:e},t().createElement(jR.Consumer,null,(function(e){return t().createElement(Oz,e)}))))}var Fz=function(r){var n=r.url,o=r.token,i=(r.onRoomConnected,r.style),a=(r.stageRenderer,Lz((0,e.useState)(!0),2)),s=a[0],c=a[1],l=Lz((0,e.useState)(!1),2),u=l[0],d=l[1];return t().createElement("div",{className:"roomContainer",style:Dz({color:"white"},i)},t().createElement(Tz,{serverUrl:n,token:o,connect:s,audio:!0,video:!0,onConnected:function(){return d(!0)},onDisconnected:function(){c(!1),d(!1)}},t().createElement(Rz,null),t().createElement(UR,null),u&&t().createElement(Bz,null),t().createElement(Iz,null)))};function qz(e){return qz="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},qz(e)}function Wz(){return Wz=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Wz.apply(this,arguments)}function Zz(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,Hz(n.key),n)}}function Hz(e){var t=function(e,t){if("object"!==qz(e)||null===e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,"string");if("object"!==qz(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"===qz(t)?t:String(t)}function $z(e,t){return $z=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},$z(e,t)}function Vz(e){return Vz=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},Vz(e)}var Gz={inline:{backgroundColor:"rgba(0,0,0)"},fullscreen:{position:"absolute",top:0,left:0,bottom:0,right:0,padding:30,zIndex:1e3,backgroundColor:"rgba(0,0,0,0.75)",overflowY:"auto"}},Jz=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&$z(e,t)}(c,e);var r,o,i,a,s=(i=c,a=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,t=Vz(i);if(a){var r=Vz(this).constructor;e=Reflect.construct(t,arguments,r)}else e=t.apply(this,arguments);return function(e,t){if(t&&("object"===qz(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}(this,e)});function c(e){var t;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,c),(t=s.call(this,e)).state={mode:"inline"},t}return r=c,(o=[{key:"componentWillUnmount",value:function(){this.videoRoomConnected&&this.videoRoomConnected.disconnect()}},{key:"toggleMode",value:function(){this.videoRoomConnected&&this.videoRoomConnected.disconnect();var e=this.state.mode;this.setState({mode:"inline"===e?"fullscreen":"inline"})}},{key:"render",value:function(){var e=this,r=this.state.mode,o=t().createElement("div",{style:Gz[r]},t().createElement("a",{style:{color:"white"},onClick:function(){return e.toggleMode()}},"Toogle"),t().createElement(Fz,Wz({},this.props,{stageRenderer:void 0,onRoomConnected:function(t){e.videoRoomConnected=t}})));return"inline"===r?o:n().createPortal(o,document.body)}}])&&Zz(r.prototype,o),Object.defineProperty(r,"prototype",{writable:!1}),c}(t().Component);const Kz=Jz;function Yz(){return Yz=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Yz.apply(this,arguments)}const Xz=(0,k.DropTarget)(p.NODE_PROVIDER,{hover:function(e,t){},canDrop:function(e,t){return!0},drop:function(e,t){var r=t.getItem().node,n=e.onDropNode;return n&&r&&n(r),{}}},h)((function(e){var r,o=e.canDrop,i=e.isOver,a=e.connectDropTarget;return o&&i&&(r="chat-droppable-active"),t().createElement("div",Yz({},e,{className:r,ref:function(e){var t=n().findDOMNode(e);"function"==typeof a&&a(t)}}))}));function Qz(e){return Qz="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Qz(e)}function eI(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function tI(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?eI(Object(r),!0).forEach((function(t){rI(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):eI(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function rI(e,t,r){return(t=function(e){var t=function(e,t){if("object"!==Qz(e)||null===e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,"string");if("object"!==Qz(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"===Qz(t)?t:String(t)}(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function nI(){return nI=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},nI.apply(this,arguments)}function oI(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var r=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=r){var n,o,i,a,s=[],c=!0,l=!1;try{if(i=(r=r.call(e)).next,0===t){if(Object(r)!==r)return;c=!1}else for(;!(c=(n=i.call(r)).done)&&(s.push(n.value),s.length!==t);c=!0);}catch(e){l=!0,o=e}finally{try{if(!c&&null!=r.return&&(a=r.return(),Object(a)!==a))return}finally{if(l)throw o}}return s}}(e,t)||iI(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function iI(e,t){if(e){if("string"==typeof e)return aI(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?Array.from(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?aI(e,t):void 0}}function aI(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}var sI=W().requireLib("boot").moment;a(2207);var cI={style:{width:20,height:20,padding:1,marginLeft:4},iconStyle:{fontSize:16,color:"var(--md-sys-color-primary)"},tooltipPosition:"top-left"},lI=function(r){var n=r.roomType,o=r.roomObjectId,i=r.style,a=r.msgContainerStyle,s=r.chatUsersStyle,c=r.fieldContainerStyle,l=r.fieldHint,u=r.textFieldProps,d=r.emptyStateProps,p=r.pydio,f=r.pushMessagesToBottom,h=r.computePresenceFromACLs,m=r.readonly,y=r.muiTheme,g=r.popoverPanel,b=oI((0,e.useState)([]),2),k=b[0],w=b[1],_=oI((0,e.useState)(null),2),S=_[0],O=_[1],P=oI((0,e.useState)(null),2),E=P[0],C=P[1],x=oI((0,e.useState)({}),2),j=x[0],T=x[1],R=oI((0,e.useState)(""),2),z=R[0],I=R[1],A=oI((0,e.useState)(null),2),M=A[0],D=A[1],N=oI((0,e.useState)(!0),2),L=N[0],U=N[1],B=oI((0,e.useState)(null),2),F=B[0],q=B[1],W=oI((0,e.useState)(-1),2),Z=W[0],H=W[1],$=(0,e.useRef)(),V=(0,e.useRef)(),G=bk({pydio:p,roomType:n,roomObjectId:o,loadSize:40,setMessages:w,setVideoData:O,setHasMoreBefore:T}),J=G.room,K=G.postMessage,Y=G.deleteMessage,Q=G.editMessage,ee=G.loadMore,te=function(e){return p.MessageHash["chat."+e]||e},re=k.length?parseFloat(k[k.length-1].Timestamp):0,ne=function(t){var r=(0,e.useRef)();return(0,e.useEffect)((function(){r.current=t})),r.current}(re);(0,e.useEffect)((function(){$.current&&re>=ne&&$.current.scrollIntoView({behavior:"smooth",block:"end",inline:"end"})}),[k]),(0,e.useEffect)((function(){Z>-1&&V.current&&(V.current.input.refs.input.setSelectionRange(Z,Z),H(-1))}),[z]);var oe,ie,ae,se,ce,le=[];k.forEach((function(e,r){var n,o=sI(1e3*parseFloat(e.Timestamp)).fromNow(),i=oe&&oe===o,a=ie&&ie===e.Author&&i;0===r&&j.Timestamp>0&&j.Timestamp<=e.Timestamp&&(n=function(){ee(j.Offset,j.Limit)}),le.push(t().createElement(Tk,{key:e.Uuid,pydio:p,message:e,hideDate:i,sameAuthor:a,onDeleteMessage:function(){Y(e),q(null)},onEditMessage:function(e,t){return e.Message=t,Q(e)},edit:F===e.Uuid,setEdit:function(t){return q(t?e.Uuid:null)},moreLoader:n,muiTheme:y,actionIconProps:cI})),oe=o,ie=e.Author})),f&&(ae={display:"flex",flexDirection:"column"},le&&le.length&&(se=t().createElement("span",{style:{flex:1}}))),!d||le&&le.length||(ce=t().createElement(mo,nI({pydio:p},d)));var ue=!J,de={color:X()(y.palette.mui3["on-surface-variant"]).fade(.5).toString(),whiteSpace:"nowrap"};u&&u.hintStyle&&(de=tI(tI({},de),u.hintStyle)),ue&&(de=tI(tI({},de),{},{fontStyle:"italic"}));var pe=tI({backgroundColor:y.palette.mui3[g?"surface-variant":"surface"]||"white",position:"relative",paddingLeft:16,paddingRight:16,borderRadius:"0 0 10px 10px"},c),fe=M&&M.isLeaf()&&p.Registry.findEditorsForMime(M.getAjxpMime(),!0).length>0;return t().createElement(Xz,{onDropNode:function(e){D(e),V.current&&V.current.focus()},style:tI({padding:0},i)},void 0!==h&&t().createElement("div",{className:"chat-handle",style:s},t().createElement(Bg,{acls:h,max:12,onlines:J?J.Users:[]})),t().createElement("div",{className:"comments_feed",style:tI(tI({maxHeight:300,overflowY:"auto"},ae),a)},se,le,ce,t().createElement("span",{id:"intoView",ref:$})),t().createElement("div",{style:pe,className:"textfield-container"},M&&t().createElement("div",{className:"dropping-panel"},t().createElement("div",{style:{display:"flex",alignItems:"center"}},t().createElement("span",{className:"mdi mdi-"+(M.isLeaf()?"file":"folder"),style:{marginRight:5}}),t().createElement("span",{style:{flex:1}},M.getLabel()),t().createElement("div",{className:"mdi mdi-close",title:te("dropzone.remove"),onClick:function(){return D(null)}})),t().createElement("div",{style:{display:"flex",alignItems:"center",marginTop:10}},fe&&t().createElement("div",{style:{flex:1},className:"include-action",onClick:function(){return U(!L)}},t().createElement("span",{className:"mdi mdi-checkbox-"+(L?"marked":"blank")+"-outline",style:{marginRight:5}}),te("dropzone.preview")),t().createElement("div",{className:"include-action",onClick:function(){var e=M.getMetadata().get("uuid"),t=M.getLabel();I("".concat(z,"[").concat(t,"](doc://").concat(e,")")),D(null)},style:{cursor:"pointer"}},t().createElement("span",{className:"mdi mdi-arrow-down-left"})," ",te("dropzone.inline")))),t().createElement(v.TextField,nI({ref:V,hintText:ue?p.MessageHash[466]:l,value:z,onChange:function(e,t){return I(t)},multiLine:!0,onKeyDown:function(e){if("ArrowUp"!==e.key||z||F){if("Enter"===e.key)if(e.metaKey||e.ctrlKey){var t=gk(e,z),r=t.cursor,n=t.newValue;H(r),I(n)}else{e.preventDefault();var o=z;if(M){var i=M.getMetadata().get("uuid"),a=M.getLabel(),s=L?"?preview":"";o="".concat(z,"\n[").concat(a,"](doc://").concat(i).concat(s,")")}K(o)&&(I(""),U(!0),D(null))}}else{var c=(l=k,function(e){if(Array.isArray(e))return aI(e)}(l)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(l)||iI(l)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()).reverse().filter((function(e){return e.Author===p.user.id}));c.length&&q(c[0].Uuid)}var l},fullWidth:!0,underlineShow:!1,disabled:m||ue},u,{hintStyle:de})),S&&t().createElement("div",{style:{position:"absolute",top:0,right:0}},t().createElement(v.IconButton,{iconStyle:{color:E?"#F44336":"#4CAF4F"},iconClassName:"mdi mdi-video"+(E?"-off":""),onClick:function(){return C(!E)}}))),S&&E&&t().createElement(Kz,{url:S.Url,token:S.Token}))};function uI(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}lI=(0,K.muiThemeable)()(lI);var dI=a(5962),pI=a.n(dI),fI=a(7932),hI=a.n(fI),mI=a(1978),yI=a.n(mI),gI=a(8840),bI=a.n(gI),vI=a(7728),kI=a.n(vI),wI=a(208),_I=a.n(wI),SI=a(7576),OI={};function PI(e){return PI="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},PI(e)}function EI(){return EI=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},EI.apply(this,arguments)}function CI(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function xI(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?CI(Object(r),!0).forEach((function(t){jI(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):CI(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function jI(e,t,r){return(t=RI(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function TI(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,RI(n.key),n)}}function RI(e){var t=function(e,t){if("object"!==PI(e)||null===e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,"string");if("object"!==PI(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"===PI(t)?t:String(t)}function zI(e,t){return zI=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},zI(e,t)}function II(e){return II=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},II(e)}OI.styleTagTransform=_I(),OI.setAttributes=bI(),OI.insert=yI().bind(null,"head"),OI.domAPI=hI(),OI.insertStyleElement=kI(),pI()(SI.Z,OI),SI.Z&&SI.Z.locals&&SI.Z.locals;var AI=W().requireLib("form").FileDropZone,MI={root:{paddingTop:20},section:{container:{},title:{},description:{},actions:{}},action:{container:{},icon:{},title:{},description:{}},deleteButton:{},deleteIconProps:{style:{position:"absolute",top:0,right:0},iconStyle:{color:"#bdbdbd",hoverColor:"#9e9e9e"}}},DI=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&zI(e,t)}(s,e);var r,n,o,i,a=(o=s,i=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,t=II(o);if(i){var r=II(this).constructor;e=Reflect.construct(t,arguments,r)}else e=t.apply(this,arguments);return function(e,t){if(t&&("object"===PI(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}(this,e)});function s(e){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,s),e.model||(e.model={Sections:[]}),a.call(this,e)}return r=s,n=[{key:"stProps",value:function(e,t){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"";return{style:MI[e][t],className:"stepper-"+e+"-"+t+(r?" "+r:"")}}},{key:"render",value:function(){var e=this,r=this.props,n=r.model,o=r.style,i=r.onPick;return t().createElement("div",{style:xI(xI({},MI.root),o),className:"bbpanel"},n.Sections.map((function(r){return t().createElement("div",e.stProps("section","container"),t().createElement("div",e.stProps("section","title"),r.title),t().createElement("div",e.stProps("section","description"),r.description),t().createElement("div",e.stProps("section","actions"),r.Actions.map((function(r){var n=t().createElement("div",{style:{fontSize:12,fontWeight:400,padding:10,maxWidth:200,lineHeight:"16px"}},t().createElement("div",{style:{fontWeight:500,paddingBottom:5}},r.title),t().createElement("div",null,r.description)),o=t().createElement(t().Fragment,null,r.tag&&t().createElement("div",{className:"stepper-tag"},r.tag),r.onDelete&&t().createElement("div",e.stProps("action","deleteButton"),t().createElement(v.IconButton,EI({iconClassName:"mdi mdi-close",tooltip:"Remove",onClick:function(e){e.stopPropagation(),r.onDelete()}},MI.deleteIconProps))),t().createElement("div",e.stProps("action","icon"),t().createElement(v.FontIcon,{color:r.tint||"#03A9F4",className:r.icon})),t().createElement("div",EI({},e.stProps("action","title"),{title:r.title}),r.title),t().createElement(Fc,{placement:"bottom",arrow:!0,title:n},t().createElement("div",e.stProps("action","description"),r.description)));return r.dropProps?t().createElement(AI,EI({},e.stProps("action","container","drop-force"),r.dropProps),o):t().createElement(v.Paper,EI({zDepth:0},e.stProps("action","container",r.tag),{onClick:function(){i(r.value)}}),o)}))))})))}}],n&&TI(r.prototype,n),Object.defineProperty(r,"prototype",{writable:!1}),s}(t().Component);const NI=DI;function LI(e){return LI="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},LI(e)}function UI(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function BI(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?UI(Object(r),!0).forEach((function(t){FI(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):UI(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function FI(e,t,r){return(t=WI(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function qI(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,WI(n.key),n)}}function WI(e){var t=function(e,t){if("object"!==LI(e)||null===e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,"string");if("object"!==LI(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"===LI(t)?t:String(t)}function ZI(e,t){return ZI=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},ZI(e,t)}function HI(e){return HI=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},HI(e)}var $I=W().requireLib("hoc").ModernTextField,VI=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&ZI(e,t)}(s,e);var r,n,o,i,a=(o=s,i=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,t=HI(o);if(i){var r=HI(this).constructor;e=Reflect.construct(t,arguments,r)}else e=t.apply(this,arguments);return function(e,t){if(t&&("object"===LI(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}(this,e)});function s(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,s),a.apply(this,arguments)}return r=s,n=[{key:"componentDidMount",value:function(){var e=this.props.onDismiss;this._listener=function(t){"Escape"===t.key&&e()},document.addEventListener("keyup",this._listener)}},{key:"componentWillUnmount",value:function(){document.removeEventListener("keyup",this._listener)}},{key:"componentDidUpdate",value:function(e){e.random!==this.props.random&&this.refs.dialog&&setTimeout((function(){window.dispatchEvent(new Event("resize"))}),0)}},{key:"render",value:function(){var e=this.props,r=e.title,n=e.actions,o=e.open,i=e.onDismiss,a=e.onFilter,s=e.filterHint,c=e.customFilter,l=e.children,u=e.dialogProps,d=r;return(i||a||c)&&(d=t().createElement("div",{style:{position:"relative",display:"flex",alignItems:"center"}},t().createElement("div",{style:{flex:1,whiteSpace:"nowrap",overflow:"hidden",textOverflow:"ellipsis"}},r),a&&t().createElement("div",{style:{flex:1,height:34,marginTop:-10,marginRight:i&&!c?50:10,marginLeft:10}},t().createElement($I,{variant:"compact",hintText:s||W().getMessages()["ajax_gui.bigppanel.filter.default-hint"],onChange:function(e,t){a(t)},fullWidth:!0,focusOnMount:!0})),c&&t().createElement("div",{style:{marginRight:50}},c),i&&t().createElement("div",{style:{position:"absolute",top:11,right:20}},t().createElement(v.IconButton,{iconClassName:"mdi mdi-close",onClick:i})))),t().createElement(v.Dialog,{ref:"dialog",title:d,actions:n,modal:u.modal,open:o,autoDetectWindowHeight:!0,autoScrollBodyContent:!0,contentClassName:"stepper-dialog",bodyStyle:BI({backgroundColor:"rgb(236, 239, 241)",borderRadius:"0 0 6px 6px"},u.bodyStyle),contentStyle:BI({width:"90%",maxWidth:"none",borderRadius:6},u.contentStyle),titleStyle:BI({borderBottom:"none",backgroundColor:"rgb(246, 247, 248)",borderRadius:"6px 6px 0 0"},u.titleStyle)},l,t().createElement("style",{type:"text/css",dangerouslySetInnerHTML:{__html:".stepper-dialog > div{border-radius: 6px !important;}"}}))}}],n&&qI(r.prototype,n),Object.defineProperty(r,"prototype",{writable:!1}),s}(t().Component),GI={SortableList:N,SimpleList:No,NodeListCustomProvider:Ho,ListEntry:de,ListPaginator:Sn,MaterialTable:si,Masonry:Za,Timeline:rs,TreeView:Ss,DNDTreeView:_s,FoldersTree:Os,ClipboardTextField:Ys,LabelWithTip:Is,EmptyStateView:mo,SimpleFigureBadge:Fs,ModalAppBar:function(e){var r=e.style,n=e.titleStyle,o=e.iconStyleRight,i=e.iconStyleLeft,a=function(e,t){if(null==e)return{};var r,n,o=function(e,t){if(null==e)return{};var r,n,o={},i=Object.keys(e);for(n=0;n<i.length;n++)r=i[n],t.indexOf(r)>=0||(o[r]=e[r]);return o}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(n=0;n<i.length;n++)r=i[n],t.indexOf(r)>=0||Object.prototype.propertyIsEnumerable.call(e,r)&&(o[r]=e[r])}return o}(e,ml),s={style:bl({flexShrink:0},r),titleStyle:bl({lineHeight:"56px",height:56,marginLeft:-8},n),iconStyleRight:bl({marginTop:4},o),iconStyleLeft:bl({marginTop:4},i)};return t().createElement(v.AppBar,yl({},a,s))},GenericCard:sl,GenericLine:al,Mui3CardLine:il,QuotaUsageLine:fl,ReactEditorOpener:Cl,DynamicGrid:du,DynamicGridItemMixin:yu,asGridItem:function(e,t){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{gridWidth:4,gridHeight:12},n=arguments.length>3&&void 0!==arguments[3]?arguments[3]:void 0,o=e.displayName||e.name;e=xu()(e);var i=function(t){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&Su(e,t)}(s,t);var r,n,o,i,a=(o=s,i=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,t=Ou(o);if(i){var r=Ou(this).constructor;e=Reflect.construct(t,arguments,r)}else e=t.apply(this,arguments);return function(e,t){if(t&&("object"===gu(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}(this,e)});function s(e,t){var r;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,s),(r=a.call(this,e,t)).state={focus:!1,showCloseAction:!1},r}return r=s,n=[{key:"focusItem",value:function(){this.setState({focus:!0})}},{key:"blurItem",value:function(){this.setState({focus:!1})}},{key:"mergeStyleWithFocus",value:function(){return vu(vu({},this.props.style),{},{zIndex:this.state.focus?1:null})}},{key:"toggleEditMode",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:void 0;void 0===e?this.setState({showCloseAction:!(this.state&&this.state.showCloseAction)}):this.setState({showCloseAction:e})}},{key:"getCloseButton",value:function(){var e=function(){};return this.props.onCloseAction&&(e=this.props.onCloseAction),React.createElement("div",{style:{position:"absolute",backgroundColor:"rgba(0,0,0,0.53)",zIndex:10,top:0,left:0,bottom:0,right:0,display:"flex",alignItems:"center",justifyContent:"center"}},React.createElement(Cu,{label:this.props.pydio.MessageHash["ajxp_admin.home.48"],className:"card-close-button",onClick:e,style:{color:"white"}}))}},{key:"render",value:function(){var t=vu(vu({},this.props),{},{style:this.mergeStyleWithFocus(),closeButton:this.state.showCloseAction?this.getCloseButton():null,onFocusItem:this.focusItem.bind(this),onBlurItem:this.blurItem.bind(this)});return React.createElement(e,t)}}],n&&wu(r.prototype,n),Object.defineProperty(r,"prototype",{writable:!1}),s}(Eu);return i.propTypes={onCloseAction:Pu.func},i.displayName=o,i.builderDisplayName=t,i.getGridLayout=function(e,t){return{x:e||0,y:t||0,w:r.gridWidth||4,h:r.gridHeight||12,isResizable:!1}},i.hasBuilderFields=function(){return void 0!==n},i.getBuilderFields=function(){return n},i},DynamicGridStore:Nl,DND:{Types:p,collect:f,collectDrop:h,nodeDragSource:g,nodeDropTarget:b,DNDActionParameter:m},DNDActionParameter:m,UserAvatar:Np,SharedAvatar:Mg,UsersCompleter:jg,TeamCreationForm:Wh,AddressBook:mg,DirectoryLayout:Xy,ListStylesCompact:cd,SharedUsersStack:Bg,ContextMenu:Sb,Toolbar:rv,ButtonMenu:Qg,IconButtonMenu:cn,MenuItemsConsumer:Kr,MenuUtils:Br,Chat:lI,ChatIcon:function(r){var n=r.pydio,o=r.roomType,i=r.objectId,a=function(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var r=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=r){var n,o,i,a,s=[],c=!0,l=!1;try{if(i=(r=r.call(e)).next,0===t){if(Object(r)!==r)return;c=!1}else for(;!(c=(n=i.call(r)).done)&&(s.push(n.value),s.length!==t);c=!0);}catch(e){l=!0,o=e}finally{try{if(!c&&null!=r.return&&(a=r.return(),Object(a)!==a))return}finally{if(l)throw o}}return s}}(e,t)||function(e,t){if(e){if("string"==typeof e)return uI(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?Array.from(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?uI(e,t):void 0}}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}((0,e.useState)(0),2),s=a[0],c=a[1];if(function(t){var r=t.pydio,n=t.roomType,o=t.roomObjectId,i=t.setNewMessages,a=hv.getInstance(r),s=function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];e["@type"]!==pk&&e["@type"]!==fk&&(t?(i((function(e){return Math.max(0,e-1)})),ik.setState({newMessages:Math.max(0,ik.state.newMessages-1)})):i((function(e){return e+1})))};(0,e.useEffect)((function(){if(!o)return function(){};a.joinRoom(n,o,s,null);var e=n,t=o;return function(){a.leaveRoom(e,t,s)}}),[n,o])}({pydio:n,roomType:o,roomObjectId:i,setNewMessages:c}),0===s)return null;return t().createElement("span",{onClick:function(){n.Controller.fireAction("toggle_chat_panel"),c(0)},className:"mdi mdi-comment",style:{display:"inline-block",padding:"0 5px",fontSize:15,textAlign:"center",color:"#8BC34A",fontWeight:500,position:"relative"}},t().createElement("span",{style:{fontSize:13,display:"inline-block",position:"absolute",top:-1,marginLeft:2}},s))},ChatClient:hv,ResourcePoliciesPanel:tf,CellActionsRenderer:sd,Stepper:{PanelBigButtons:NI,Dialog:VI}}})(),window.PydioComponents=s})();