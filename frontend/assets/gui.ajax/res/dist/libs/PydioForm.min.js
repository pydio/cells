(()=>{var t={9873:(t,e,r)=>{"use strict";var n=r(8307)("ArrayBuffer.prototype.byteLength",!0),o=r(316);t.exports=function(t){return o(t)?n?n(t):t.byteLength:NaN}},8307:(t,e,r)=>{"use strict";var n=r(6374),o=r(4447),i=o(n("String.prototype.indexOf"));t.exports=function(t,e){var r=n(t,!!e);return"function"==typeof r&&i(t,".prototype.")>-1?o(r):r}},4447:(t,e,r)=>{"use strict";var n=r(5087),o=r(6374),i=r(7780),a=r(8819),u=o("%Function.prototype.apply%"),c=o("%Function.prototype.call%"),l=o("%Reflect.apply%",!0)||n.call(c,u),s=r(5502),p=o("%Math.max%");t.exports=function(t){if("function"!=typeof t)throw new a("a function is required");var e=l(n,c,arguments);return i(e,1+p(0,t.length-(arguments.length-1)),!0)};var f=function(){return l(n,u,arguments)};s?s(t.exports,"apply",{value:f}):t.exports.apply=f},5840:(t,e,r)=>{"use strict";function n(t){return n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},n(t)}var o=r(5353),i=r(8307),a=r(1048),u=r(6374),c=r(565),l=r(3104),s=r(7239),p=r(2894),f=r(6820),y=r(316),b=r(8321),m=r(993),h=r(7383),d=r(2148),v=r(4962),g=r(8716),S=r(8713),O=r(9873),w=i("SharedArrayBuffer.prototype.byteLength",!0),j=i("Date.prototype.getTime"),P=Object.getPrototypeOf,E=i("Object.prototype.toString"),x=u("%Set%",!0),_=i("Map.prototype.has",!0),T=i("Map.prototype.get",!0),k=i("Map.prototype.size",!0),C=i("Set.prototype.add",!0),A=i("Set.prototype.delete",!0),I=i("Set.prototype.has",!0),R=i("Set.prototype.size",!0);function D(t,e,r,n){for(var o,i=c(t);(o=i.next())&&!o.done;)if(L(e,o.value,r,n))return A(t,o.value),!0;return!1}function M(t){return void 0===t?null:"object"!==n(t)?"symbol"!==n(t)&&("string"!=typeof t&&"number"!=typeof t||+t==+t):void 0}function N(t,e,r,n,i,a){var u=M(r);if(null!=u)return u;var c=T(e,u),l=o({},i,{strict:!1});return!(void 0===c&&!_(e,u)||!L(n,c,l,a))&&!_(t,u)&&L(n,c,l,a)}function F(t,e,r){var n=M(r);return null!=n?n:I(e,n)&&!I(t,n)}function B(t,e,r,n,o,i){for(var a,u,l=c(t);(a=l.next())&&!a.done;)if(L(r,u=a.value,o,i)&&L(n,T(e,u),o,i))return A(t,u),!0;return!1}function L(t,e,r,i){var u=r||{};if(u.strict?s(t,e):t===e)return!0;if(v(t)!==v(e))return!1;if(!t||!e||"object"!==n(t)&&"object"!==n(e))return u.strict?s(t,e):t==e;var l,A=i.has(t),M=i.has(e);if(A&&M){if(i.get(t)===i.get(e))return!0}else l={};return A||i.set(t,l),M||i.set(e,l),function(t,e,r,i){var u,l;if(n(t)!==n(e))return!1;if(null==t||null==e)return!1;if(E(t)!==E(e))return!1;if(p(t)!==p(e))return!1;if(f(t)!==f(e))return!1;var s=t instanceof Error,v=e instanceof Error;if(s!==v)return!1;if((s||v)&&(t.name!==e.name||t.message!==e.message))return!1;var A=m(t),M=m(e);if(A!==M)return!1;if((A||M)&&(t.source!==e.source||a(t)!==a(e)))return!1;var U=b(t),W=b(e);if(U!==W)return!1;if((U||W)&&j(t)!==j(e))return!1;if(r.strict&&P&&P(t)!==P(e))return!1;var H=S(t),G=S(e);if(H!==G)return!1;if(H||G){if(t.length!==e.length)return!1;for(u=0;u<t.length;u++)if(t[u]!==e[u])return!1;return!0}var q=V(t),$=V(e);if(q!==$)return!1;if(q||$){if(t.length!==e.length)return!1;for(u=0;u<t.length;u++)if(t[u]!==e[u])return!1;return!0}var z=y(t),J=y(e);if(z!==J)return!1;if(z||J)return O(t)===O(e)&&"function"==typeof Uint8Array&&L(new Uint8Array(t),new Uint8Array(e),r,i);var K=h(t),Y=h(e);if(K!==Y)return!1;if(K||Y)return w(t)===w(e)&&"function"==typeof Uint8Array&&L(new Uint8Array(t),new Uint8Array(e),r,i);if(n(t)!==n(e))return!1;var X=d(t),Z=d(e);if(X.length!==Z.length)return!1;for(X.sort(),Z.sort(),u=X.length-1;u>=0;u--)if(X[u]!=Z[u])return!1;for(u=X.length-1;u>=0;u--)if(!L(t[l=X[u]],e[l],r,i))return!1;var Q=g(t),tt=g(e);return Q===tt&&("Set"===Q||"Set"===tt?function(t,e,r,o){if(R(t)!==R(e))return!1;for(var i,a,u,l=c(t),s=c(e);(i=l.next())&&!i.done;)if(i.value&&"object"===n(i.value))u||(u=new x),C(u,i.value);else if(!I(e,i.value)){if(r.strict)return!1;if(!F(t,e,i.value))return!1;u||(u=new x),C(u,i.value)}if(u){for(;(a=s.next())&&!a.done;)if(a.value&&"object"===n(a.value)){if(!D(u,a.value,r.strict,o))return!1}else if(!r.strict&&!I(t,a.value)&&!D(u,a.value,r.strict,o))return!1;return 0===R(u)}return!0}(t,e,r,i):"Map"!==Q||function(t,e,r,i){if(k(t)!==k(e))return!1;for(var a,u,l,s,p,f,y=c(t),b=c(e);(a=y.next())&&!a.done;)if(s=a.value[0],p=a.value[1],s&&"object"===n(s))l||(l=new x),C(l,s);else if(void 0===(f=T(e,s))&&!_(e,s)||!L(p,f,r,i)){if(r.strict)return!1;if(!N(t,e,s,p,r,i))return!1;l||(l=new x),C(l,s)}if(l){for(;(u=b.next())&&!u.done;)if(s=u.value[0],f=u.value[1],s&&"object"===n(s)){if(!B(l,t,s,f,r,i))return!1}else if(!(r.strict||t.has(s)&&L(T(t,s),f,r,i)||B(l,t,s,f,o({},r,{strict:!1}),i)))return!1;return 0===R(l)}return!0}(t,e,r,i))}(t,e,u,i)}function V(t){return!(!t||"object"!==n(t)||"number"!=typeof t.length||"function"!=typeof t.copy||"function"!=typeof t.slice||t.length>0&&"number"!=typeof t[0]||!(t.constructor&&t.constructor.isBuffer&&t.constructor.isBuffer(t)))}t.exports=function(t,e,r){return L(t,e,r,l())}},2765:(t,e,r)=>{"use strict";function n(t){return n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},n(t)}var o=r(5502),i=r(3052),a=r(8819),u=r(6861);t.exports=function(t,e,r){if(!t||"object"!==n(t)&&"function"!=typeof t)throw new a("`obj` must be an object or a function`");if("string"!=typeof e&&"symbol"!==n(e))throw new a("`property` must be a string or a symbol`");if(arguments.length>3&&"boolean"!=typeof arguments[3]&&null!==arguments[3])throw new a("`nonEnumerable`, if provided, must be a boolean or null");if(arguments.length>4&&"boolean"!=typeof arguments[4]&&null!==arguments[4])throw new a("`nonWritable`, if provided, must be a boolean or null");if(arguments.length>5&&"boolean"!=typeof arguments[5]&&null!==arguments[5])throw new a("`nonConfigurable`, if provided, must be a boolean or null");if(arguments.length>6&&"boolean"!=typeof arguments[6])throw new a("`loose`, if provided, must be a boolean");var c=arguments.length>3?arguments[3]:null,l=arguments.length>4?arguments[4]:null,s=arguments.length>5?arguments[5]:null,p=arguments.length>6&&arguments[6],f=!!u&&u(t,e);if(o)o(t,e,{configurable:null===s&&f?f.configurable:!s,enumerable:null===c&&f?f.enumerable:!c,value:r,writable:null===l&&f?f.writable:!l});else{if(!p&&(c||l||s))throw new i("This environment does not support defining a property as non-configurable, non-writable, or non-enumerable.");t[e]=r}}},6541:(t,e,r)=>{"use strict";function n(t){return n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},n(t)}var o=r(2148),i="function"==typeof Symbol&&"symbol"===n(Symbol("foo")),a=Object.prototype.toString,u=Array.prototype.concat,c=r(2765),l=r(6708)(),s=function(t,e,r,n){if(e in t)if(!0===n){if(t[e]===r)return}else if("function"!=typeof(o=n)||"[object Function]"!==a.call(o)||!n())return;var o;l?c(t,e,r,!0):c(t,e,r)},p=function(t,e){var r=arguments.length>2?arguments[2]:{},n=o(e);i&&(n=u.call(n,Object.getOwnPropertySymbols(e)));for(var a=0;a<n.length;a+=1)s(t,n[a],e[n[a]],r[n[a]])};p.supportsDescriptors=!!l,t.exports=p},5502:(t,e,r)=>{"use strict";var n=r(6374)("%Object.defineProperty%",!0)||!1;if(n)try{n({},"a",{value:1})}catch(t){n=!1}t.exports=n},7565:t=>{"use strict";t.exports=EvalError},9119:t=>{"use strict";t.exports=Error},7362:t=>{"use strict";t.exports=RangeError},5354:t=>{"use strict";t.exports=ReferenceError},3052:t=>{"use strict";t.exports=SyntaxError},8819:t=>{"use strict";t.exports=TypeError},7593:t=>{"use strict";t.exports=URIError},9749:(t,e,r)=>{"use strict";var n=r(6111),o=Object.prototype.toString,i=Object.prototype.hasOwnProperty;t.exports=function(t,e,r){if(!n(e))throw new TypeError("iterator must be a function");var a;arguments.length>=3&&(a=r),"[object Array]"===o.call(t)?function(t,e,r){for(var n=0,o=t.length;n<o;n++)i.call(t,n)&&(null==r?e(t[n],n,t):e.call(r,t[n],n,t))}(t,e,a):"string"==typeof t?function(t,e,r){for(var n=0,o=t.length;n<o;n++)null==r?e(t.charAt(n),n,t):e.call(r,t.charAt(n),n,t)}(t,e,a):function(t,e,r){for(var n in t)i.call(t,n)&&(null==r?e(t[n],n,t):e.call(r,t[n],n,t))}(t,e,a)}},8737:t=>{"use strict";var e=Object.prototype.toString,r=Math.max,n=function(t,e){for(var r=[],n=0;n<t.length;n+=1)r[n]=t[n];for(var o=0;o<e.length;o+=1)r[o+t.length]=e[o];return r};t.exports=function(t){var o=this;if("function"!=typeof o||"[object Function]"!==e.apply(o))throw new TypeError("Function.prototype.bind called on incompatible "+o);for(var i,a=function(t){for(var e=[],r=1,n=0;r<t.length;r+=1,n+=1)e[n]=t[r];return e}(arguments),u=r(0,o.length-a.length),c=[],l=0;l<u;l++)c[l]="$"+l;if(i=Function("binder","return function ("+function(t){for(var e="",r=0;r<t.length;r+=1)e+=t[r],r+1<t.length&&(e+=",");return e}(c)+"){ return binder.apply(this,arguments); }")((function(){if(this instanceof i){var e=o.apply(this,n(a,arguments));return Object(e)===e?e:this}return o.apply(t,n(a,arguments))})),o.prototype){var s=function(){};s.prototype=o.prototype,i.prototype=new s,s.prototype=null}return i}},5087:(t,e,r)=>{"use strict";var n=r(8737);t.exports=Function.prototype.bind||n},5861:t=>{"use strict";var e=function(){return"string"==typeof function(){}.name},r=Object.getOwnPropertyDescriptor;if(r)try{r([],"length")}catch(t){r=null}e.functionsHaveConfigurableNames=function(){if(!e()||!r)return!1;var t=r((function(){}),"name");return!!t&&!!t.configurable};var n=Function.prototype.bind;e.boundFunctionsHaveNames=function(){return e()&&"function"==typeof n&&""!==function(){}.bind().name},t.exports=e},6374:(t,e,r)=>{"use strict";function n(t){return n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},n(t)}var o,i=r(9119),a=r(7565),u=r(7362),c=r(5354),l=r(3052),s=r(8819),p=r(7593),f=Function,y=function(t){try{return f('"use strict"; return ('+t+").constructor;")()}catch(t){}},b=Object.getOwnPropertyDescriptor;if(b)try{b({},"")}catch(t){b=null}var m=function(){throw new s},h=b?function(){try{return m}catch(t){try{return b(arguments,"callee").get}catch(t){return m}}}():m,d=r(4163)(),v=r(5493)(),g=Object.getPrototypeOf||(v?function(t){return t.__proto__}:null),S={},O="undefined"!=typeof Uint8Array&&g?g(Uint8Array):o,w={__proto__:null,"%AggregateError%":"undefined"==typeof AggregateError?o:AggregateError,"%Array%":Array,"%ArrayBuffer%":"undefined"==typeof ArrayBuffer?o:ArrayBuffer,"%ArrayIteratorPrototype%":d&&g?g([][Symbol.iterator]()):o,"%AsyncFromSyncIteratorPrototype%":o,"%AsyncFunction%":S,"%AsyncGenerator%":S,"%AsyncGeneratorFunction%":S,"%AsyncIteratorPrototype%":S,"%Atomics%":"undefined"==typeof Atomics?o:Atomics,"%BigInt%":"undefined"==typeof BigInt?o:BigInt,"%BigInt64Array%":"undefined"==typeof BigInt64Array?o:BigInt64Array,"%BigUint64Array%":"undefined"==typeof BigUint64Array?o:BigUint64Array,"%Boolean%":Boolean,"%DataView%":"undefined"==typeof DataView?o:DataView,"%Date%":Date,"%decodeURI%":decodeURI,"%decodeURIComponent%":decodeURIComponent,"%encodeURI%":encodeURI,"%encodeURIComponent%":encodeURIComponent,"%Error%":i,"%eval%":eval,"%EvalError%":a,"%Float32Array%":"undefined"==typeof Float32Array?o:Float32Array,"%Float64Array%":"undefined"==typeof Float64Array?o:Float64Array,"%FinalizationRegistry%":"undefined"==typeof FinalizationRegistry?o:FinalizationRegistry,"%Function%":f,"%GeneratorFunction%":S,"%Int8Array%":"undefined"==typeof Int8Array?o:Int8Array,"%Int16Array%":"undefined"==typeof Int16Array?o:Int16Array,"%Int32Array%":"undefined"==typeof Int32Array?o:Int32Array,"%isFinite%":isFinite,"%isNaN%":isNaN,"%IteratorPrototype%":d&&g?g(g([][Symbol.iterator]())):o,"%JSON%":"object"===("undefined"==typeof JSON?"undefined":n(JSON))?JSON:o,"%Map%":"undefined"==typeof Map?o:Map,"%MapIteratorPrototype%":"undefined"!=typeof Map&&d&&g?g((new Map)[Symbol.iterator]()):o,"%Math%":Math,"%Number%":Number,"%Object%":Object,"%parseFloat%":parseFloat,"%parseInt%":parseInt,"%Promise%":"undefined"==typeof Promise?o:Promise,"%Proxy%":"undefined"==typeof Proxy?o:Proxy,"%RangeError%":u,"%ReferenceError%":c,"%Reflect%":"undefined"==typeof Reflect?o:Reflect,"%RegExp%":RegExp,"%Set%":"undefined"==typeof Set?o:Set,"%SetIteratorPrototype%":"undefined"!=typeof Set&&d&&g?g((new Set)[Symbol.iterator]()):o,"%SharedArrayBuffer%":"undefined"==typeof SharedArrayBuffer?o:SharedArrayBuffer,"%String%":String,"%StringIteratorPrototype%":d&&g?g(""[Symbol.iterator]()):o,"%Symbol%":d?Symbol:o,"%SyntaxError%":l,"%ThrowTypeError%":h,"%TypedArray%":O,"%TypeError%":s,"%Uint8Array%":"undefined"==typeof Uint8Array?o:Uint8Array,"%Uint8ClampedArray%":"undefined"==typeof Uint8ClampedArray?o:Uint8ClampedArray,"%Uint16Array%":"undefined"==typeof Uint16Array?o:Uint16Array,"%Uint32Array%":"undefined"==typeof Uint32Array?o:Uint32Array,"%URIError%":p,"%WeakMap%":"undefined"==typeof WeakMap?o:WeakMap,"%WeakRef%":"undefined"==typeof WeakRef?o:WeakRef,"%WeakSet%":"undefined"==typeof WeakSet?o:WeakSet};if(g)try{null.error}catch(t){var j=g(g(t));w["%Error.prototype%"]=j}var P=function t(e){var r;if("%AsyncFunction%"===e)r=y("async function () {}");else if("%GeneratorFunction%"===e)r=y("function* () {}");else if("%AsyncGeneratorFunction%"===e)r=y("async function* () {}");else if("%AsyncGenerator%"===e){var n=t("%AsyncGeneratorFunction%");n&&(r=n.prototype)}else if("%AsyncIteratorPrototype%"===e){var o=t("%AsyncGenerator%");o&&g&&(r=g(o.prototype))}return w[e]=r,r},E={__proto__:null,"%ArrayBufferPrototype%":["ArrayBuffer","prototype"],"%ArrayPrototype%":["Array","prototype"],"%ArrayProto_entries%":["Array","prototype","entries"],"%ArrayProto_forEach%":["Array","prototype","forEach"],"%ArrayProto_keys%":["Array","prototype","keys"],"%ArrayProto_values%":["Array","prototype","values"],"%AsyncFunctionPrototype%":["AsyncFunction","prototype"],"%AsyncGenerator%":["AsyncGeneratorFunction","prototype"],"%AsyncGeneratorPrototype%":["AsyncGeneratorFunction","prototype","prototype"],"%BooleanPrototype%":["Boolean","prototype"],"%DataViewPrototype%":["DataView","prototype"],"%DatePrototype%":["Date","prototype"],"%ErrorPrototype%":["Error","prototype"],"%EvalErrorPrototype%":["EvalError","prototype"],"%Float32ArrayPrototype%":["Float32Array","prototype"],"%Float64ArrayPrototype%":["Float64Array","prototype"],"%FunctionPrototype%":["Function","prototype"],"%Generator%":["GeneratorFunction","prototype"],"%GeneratorPrototype%":["GeneratorFunction","prototype","prototype"],"%Int8ArrayPrototype%":["Int8Array","prototype"],"%Int16ArrayPrototype%":["Int16Array","prototype"],"%Int32ArrayPrototype%":["Int32Array","prototype"],"%JSONParse%":["JSON","parse"],"%JSONStringify%":["JSON","stringify"],"%MapPrototype%":["Map","prototype"],"%NumberPrototype%":["Number","prototype"],"%ObjectPrototype%":["Object","prototype"],"%ObjProto_toString%":["Object","prototype","toString"],"%ObjProto_valueOf%":["Object","prototype","valueOf"],"%PromisePrototype%":["Promise","prototype"],"%PromiseProto_then%":["Promise","prototype","then"],"%Promise_all%":["Promise","all"],"%Promise_reject%":["Promise","reject"],"%Promise_resolve%":["Promise","resolve"],"%RangeErrorPrototype%":["RangeError","prototype"],"%ReferenceErrorPrototype%":["ReferenceError","prototype"],"%RegExpPrototype%":["RegExp","prototype"],"%SetPrototype%":["Set","prototype"],"%SharedArrayBufferPrototype%":["SharedArrayBuffer","prototype"],"%StringPrototype%":["String","prototype"],"%SymbolPrototype%":["Symbol","prototype"],"%SyntaxErrorPrototype%":["SyntaxError","prototype"],"%TypedArrayPrototype%":["TypedArray","prototype"],"%TypeErrorPrototype%":["TypeError","prototype"],"%Uint8ArrayPrototype%":["Uint8Array","prototype"],"%Uint8ClampedArrayPrototype%":["Uint8ClampedArray","prototype"],"%Uint16ArrayPrototype%":["Uint16Array","prototype"],"%Uint32ArrayPrototype%":["Uint32Array","prototype"],"%URIErrorPrototype%":["URIError","prototype"],"%WeakMapPrototype%":["WeakMap","prototype"],"%WeakSetPrototype%":["WeakSet","prototype"]},x=r(5087),_=r(1805),T=x.call(Function.call,Array.prototype.concat),k=x.call(Function.apply,Array.prototype.splice),C=x.call(Function.call,String.prototype.replace),A=x.call(Function.call,String.prototype.slice),I=x.call(Function.call,RegExp.prototype.exec),R=/[^%.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|%$))/g,D=/\\(\\)?/g,M=function(t,e){var r,n=t;if(_(E,n)&&(n="%"+(r=E[n])[0]+"%"),_(w,n)){var o=w[n];if(o===S&&(o=P(n)),void 0===o&&!e)throw new s("intrinsic "+t+" exists, but is not available. Please file an issue!");return{alias:r,name:n,value:o}}throw new l("intrinsic "+t+" does not exist!")};t.exports=function(t,e){if("string"!=typeof t||0===t.length)throw new s("intrinsic name must be a non-empty string");if(arguments.length>1&&"boolean"!=typeof e)throw new s('"allowMissing" argument must be a boolean');if(null===I(/^%?[^%]*%?$/,t))throw new l("`%` may not be present anywhere but at the beginning and end of the intrinsic name");var r=function(t){var e=A(t,0,1),r=A(t,-1);if("%"===e&&"%"!==r)throw new l("invalid intrinsic syntax, expected closing `%`");if("%"===r&&"%"!==e)throw new l("invalid intrinsic syntax, expected opening `%`");var n=[];return C(t,R,(function(t,e,r,o){n[n.length]=r?C(o,D,"$1"):e||t})),n}(t),n=r.length>0?r[0]:"",o=M("%"+n+"%",e),i=o.name,a=o.value,u=!1,c=o.alias;c&&(n=c[0],k(r,T([0,1],c)));for(var p=1,f=!0;p<r.length;p+=1){var y=r[p],m=A(y,0,1),h=A(y,-1);if(('"'===m||"'"===m||"`"===m||'"'===h||"'"===h||"`"===h)&&m!==h)throw new l("property names with quotes must have matching quotes");if("constructor"!==y&&f||(u=!0),_(w,i="%"+(n+="."+y)+"%"))a=w[i];else if(null!=a){if(!(y in a)){if(!e)throw new s("base intrinsic for "+t+" exists, but the property is not available.");return}if(b&&p+1>=r.length){var d=b(a,y);a=(f=!!d)&&"get"in d&&!("originalValue"in d.get)?d.get:a[y]}else f=_(a,y),a=a[y];f&&!u&&(w[i]=a)}}return a}},6861:(t,e,r)=>{"use strict";var n=r(6374)("%Object.getOwnPropertyDescriptor%",!0);if(n)try{n([],"length")}catch(t){n=null}t.exports=n},4864:t=>{"use strict";var e="undefined"!=typeof BigInt&&BigInt;t.exports=function(){return"function"==typeof e&&"function"==typeof BigInt&&"bigint"==typeof e(42)&&"bigint"==typeof BigInt(42)}},6708:(t,e,r)=>{"use strict";var n=r(5502),o=function(){return!!n};o.hasArrayLengthDefineBug=function(){if(!n)return null;try{return 1!==n([],"length",{value:1}).length}catch(t){return!0}},t.exports=o},5493:t=>{"use strict";var e={__proto__:null,foo:{}},r=Object;t.exports=function(){return{__proto__:e}.foo===e.foo&&!(e instanceof r)}},4163:(t,e,r)=>{"use strict";function n(t){return n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},n(t)}var o="undefined"!=typeof Symbol&&Symbol,i=r(5153);t.exports=function(){return"function"==typeof o&&"function"==typeof Symbol&&"symbol"===n(o("foo"))&&"symbol"===n(Symbol("bar"))&&i()}},5153:t=>{"use strict";function e(t){return e="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},e(t)}t.exports=function(){if("function"!=typeof Symbol||"function"!=typeof Object.getOwnPropertySymbols)return!1;if("symbol"===e(Symbol.iterator))return!0;var t={},r=Symbol("test"),n=Object(r);if("string"==typeof r)return!1;if("[object Symbol]"!==Object.prototype.toString.call(r))return!1;if("[object Symbol]"!==Object.prototype.toString.call(n))return!1;for(r in t[r]=42,t)return!1;if("function"==typeof Object.keys&&0!==Object.keys(t).length)return!1;if("function"==typeof Object.getOwnPropertyNames&&0!==Object.getOwnPropertyNames(t).length)return!1;var o=Object.getOwnPropertySymbols(t);if(1!==o.length||o[0]!==r)return!1;if(!Object.prototype.propertyIsEnumerable.call(t,r))return!1;if("function"==typeof Object.getOwnPropertyDescriptor){var i=Object.getOwnPropertyDescriptor(t,r);if(42!==i.value||!0!==i.enumerable)return!1}return!0}},7626:(t,e,r)=>{"use strict";var n=r(5153);t.exports=function(){return n()&&!!Symbol.toStringTag}},1805:(t,e,r)=>{"use strict";var n=Function.prototype.call,o=Object.prototype.hasOwnProperty,i=r(5087);t.exports=i.call(n,o)},15:(t,e,r)=>{"use strict";function n(t){return n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},n(t)}var o=r(1805),i=r(3104)(),a=r(8819),u={assert:function(t,e){if(!t||"object"!==n(t)&&"function"!=typeof t)throw new a("`O` is not an object");if("string"!=typeof e)throw new a("`slot` must be a string");if(i.assert(t),!u.has(t,e))throw new a("`"+e+"` is not present on `O`")},get:function(t,e){if(!t||"object"!==n(t)&&"function"!=typeof t)throw new a("`O` is not an object");if("string"!=typeof e)throw new a("`slot` must be a string");var r=i.get(t);return r&&r["$"+e]},has:function(t,e){if(!t||"object"!==n(t)&&"function"!=typeof t)throw new a("`O` is not an object");if("string"!=typeof e)throw new a("`slot` must be a string");var r=i.get(t);return!!r&&o(r,"$"+e)},set:function(t,e,r){if(!t||"object"!==n(t)&&"function"!=typeof t)throw new a("`O` is not an object");if("string"!=typeof e)throw new a("`slot` must be a string");var o=i.get(t);o||(o={},i.set(t,o)),o["$"+e]=r}};Object.freeze&&Object.freeze(u),t.exports=u},2894:(t,e,r)=>{"use strict";function n(t){return n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},n(t)}var o=r(7626)(),i=r(8307)("Object.prototype.toString"),a=function(t){return!(o&&t&&"object"===n(t)&&Symbol.toStringTag in t)&&"[object Arguments]"===i(t)},u=function(t){return!!a(t)||null!==t&&"object"===n(t)&&"number"==typeof t.length&&t.length>=0&&"[object Array]"!==i(t)&&"[object Function]"===i(t.callee)},c=function(){return a(arguments)}();a.isLegacyArguments=u,t.exports=c?a:u},316:(t,e,r)=>{"use strict";function n(t){return n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},n(t)}var o=r(4447),i=r(8307),a=r(6374)("%ArrayBuffer%",!0),u=i("ArrayBuffer.prototype.byteLength",!0),c=i("Object.prototype.toString"),l=!!a&&!u&&new a(0).slice,s=!!l&&o(l);t.exports=u||s?function(t){if(!t||"object"!==n(t))return!1;try{return u?u(t):s(t,0),!0}catch(t){return!1}}:a?function(t){return"[object ArrayBuffer]"===c(t)}:function(t){return!1}},9188:(t,e,r)=>{"use strict";function n(t){return n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},n(t)}if(r(4864)()){var o=BigInt.prototype.valueOf;t.exports=function(t){return null!=t&&"boolean"!=typeof t&&"string"!=typeof t&&"number"!=typeof t&&"symbol"!==n(t)&&"function"!=typeof t&&("bigint"==typeof t||function(t){try{return o.call(t),!0}catch(t){}return!1}(t))}}else t.exports=function(t){return!1}},4065:(t,e,r)=>{"use strict";function n(t){return n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},n(t)}var o=r(8307),i=o("Boolean.prototype.toString"),a=o("Object.prototype.toString"),u=r(7626)();t.exports=function(t){return"boolean"==typeof t||null!==t&&"object"===n(t)&&(u&&Symbol.toStringTag in t?function(t){try{return i(t),!0}catch(t){return!1}}(t):"[object Boolean]"===a(t))}},6111:t=>{"use strict";function e(t){return e="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},e(t)}var r,n,o=Function.prototype.toString,i="object"===("undefined"==typeof Reflect?"undefined":e(Reflect))&&null!==Reflect&&Reflect.apply;if("function"==typeof i&&"function"==typeof Object.defineProperty)try{r=Object.defineProperty({},"length",{get:function(){throw n}}),n={},i((function(){throw 42}),null,r)}catch(t){t!==n&&(i=null)}else i=null;var a=/^\s*class\b/,u=function(t){try{var e=o.call(t);return a.test(e)}catch(t){return!1}},c=function(t){try{return!u(t)&&(o.call(t),!0)}catch(t){return!1}},l=Object.prototype.toString,s="function"==typeof Symbol&&!!Symbol.toStringTag,p=!(0 in[,]),f=function(){return!1};if("object"===("undefined"==typeof document?"undefined":e(document))){var y=document.all;l.call(y)===l.call(document.all)&&(f=function(t){if((p||!t)&&(void 0===t||"object"===e(t)))try{var r=l.call(t);return("[object HTMLAllCollection]"===r||"[object HTML document.all class]"===r||"[object HTMLCollection]"===r||"[object Object]"===r)&&null==t("")}catch(t){}return!1})}t.exports=i?function(t){if(f(t))return!0;if(!t)return!1;if("function"!=typeof t&&"object"!==e(t))return!1;try{i(t,null,r)}catch(t){if(t!==n)return!1}return!u(t)&&c(t)}:function(t){if(f(t))return!0;if(!t)return!1;if("function"!=typeof t&&"object"!==e(t))return!1;if(s)return c(t);if(u(t))return!1;var r=l.call(t);return!("[object Function]"!==r&&"[object GeneratorFunction]"!==r&&!/^\[object HTML/.test(r))&&c(t)}},8321:(t,e,r)=>{"use strict";function n(t){return n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},n(t)}var o=Date.prototype.getDay,i=Object.prototype.toString,a=r(7626)();t.exports=function(t){return"object"===n(t)&&null!==t&&(a?function(t){try{return o.call(t),!0}catch(t){return!1}}(t):"[object Date]"===i.call(t))}},3390:t=>{"use strict";function e(t){return e="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},e(t)}var r,n="function"==typeof Map&&Map.prototype?Map:null,o="function"==typeof Set&&Set.prototype?Set:null;n||(r=function(t){return!1});var i=n?Map.prototype.has:null,a=o?Set.prototype.has:null;r||i||(r=function(t){return!1}),t.exports=r||function(t){if(!t||"object"!==e(t))return!1;try{if(i.call(t),a)try{a.call(t)}catch(t){return!0}return t instanceof n}catch(t){}return!1}},5103:(t,e,r)=>{"use strict";function n(t){return n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},n(t)}var o=Number.prototype.toString,i=Object.prototype.toString,a=r(7626)();t.exports=function(t){return"number"==typeof t||"object"===n(t)&&(a?function(t){try{return o.call(t),!0}catch(t){return!1}}(t):"[object Number]"===i.call(t))}},993:(t,e,r)=>{"use strict";function n(t){return n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},n(t)}var o,i,a,u,c=r(8307),l=r(7626)();if(l){o=c("Object.prototype.hasOwnProperty"),i=c("RegExp.prototype.exec"),a={};var s=function(){throw a};u={toString:s,valueOf:s},"symbol"===n(Symbol.toPrimitive)&&(u[Symbol.toPrimitive]=s)}var p=c("Object.prototype.toString"),f=Object.getOwnPropertyDescriptor;t.exports=l?function(t){if(!t||"object"!==n(t))return!1;var e=f(t,"lastIndex");if(!e||!o(e,"value"))return!1;try{i(t,u)}catch(t){return t===a}}:function(t){return!(!t||"object"!==n(t)&&"function"!=typeof t)&&"[object RegExp]"===p(t)}},3078:t=>{"use strict";function e(t){return e="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},e(t)}var r,n="function"==typeof Map&&Map.prototype?Map:null,o="function"==typeof Set&&Set.prototype?Set:null;o||(r=function(t){return!1});var i=n?Map.prototype.has:null,a=o?Set.prototype.has:null;r||a||(r=function(t){return!1}),t.exports=r||function(t){if(!t||"object"!==e(t))return!1;try{if(a.call(t),i)try{i.call(t)}catch(t){return!0}return t instanceof o}catch(t){}return!1}},7383:(t,e,r)=>{"use strict";function n(t){return n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},n(t)}var o=r(8307)("SharedArrayBuffer.prototype.byteLength",!0);t.exports=o?function(t){if(!t||"object"!==n(t))return!1;try{return o(t),!0}catch(t){return!1}}:function(t){return!1}},3379:(t,e,r)=>{"use strict";function n(t){return n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},n(t)}var o=String.prototype.valueOf,i=Object.prototype.toString,a=r(7626)();t.exports=function(t){return"string"==typeof t||"object"===n(t)&&(a?function(t){try{return o.call(t),!0}catch(t){return!1}}(t):"[object String]"===i.call(t))}},2278:(t,e,r)=>{"use strict";function n(t){return n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},n(t)}var o=Object.prototype.toString;if(r(4163)()){var i=Symbol.prototype.toString,a=/^Symbol\(.*\)$/;t.exports=function(t){if("symbol"===n(t))return!0;if("[object Symbol]"!==o.call(t))return!1;try{return function(t){return"symbol"===n(t.valueOf())&&a.test(i.call(t))}(t)}catch(t){return!1}}}else t.exports=function(t){return!1}},8941:t=>{"use strict";function e(t){return e="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},e(t)}var r,n="function"==typeof WeakMap&&WeakMap.prototype?WeakMap:null,o="function"==typeof WeakSet&&WeakSet.prototype?WeakSet:null;n||(r=function(t){return!1});var i=n?n.prototype.has:null,a=o?o.prototype.has:null;r||i||(r=function(t){return!1}),t.exports=r||function(t){if(!t||"object"!==e(t))return!1;try{if(i.call(t,i),a)try{a.call(t,a)}catch(t){return!0}return t instanceof n}catch(t){}return!1}},6526:(t,e,r)=>{"use strict";function n(t){return n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},n(t)}var o=r(6374),i=r(8307),a=o("%WeakSet%",!0),u=i("WeakSet.prototype.has",!0);if(u){var c=i("WeakMap.prototype.has",!0);t.exports=function(t){if(!t||"object"!==n(t))return!1;try{if(u(t,u),c)try{c(t,c)}catch(t){return!0}return t instanceof a}catch(t){}return!1}}else t.exports=function(t){return!1}},6820:t=>{var e={}.toString;t.exports=Array.isArray||function(t){return"[object Array]"==e.call(t)}},6307:(t,e,r)=>{function n(t){return n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},n(t)}var o="function"==typeof Map&&Map.prototype,i=Object.getOwnPropertyDescriptor&&o?Object.getOwnPropertyDescriptor(Map.prototype,"size"):null,a=o&&i&&"function"==typeof i.get?i.get:null,u=o&&Map.prototype.forEach,c="function"==typeof Set&&Set.prototype,l=Object.getOwnPropertyDescriptor&&c?Object.getOwnPropertyDescriptor(Set.prototype,"size"):null,s=c&&l&&"function"==typeof l.get?l.get:null,p=c&&Set.prototype.forEach,f="function"==typeof WeakMap&&WeakMap.prototype?WeakMap.prototype.has:null,y="function"==typeof WeakSet&&WeakSet.prototype?WeakSet.prototype.has:null,b="function"==typeof WeakRef&&WeakRef.prototype?WeakRef.prototype.deref:null,m=Boolean.prototype.valueOf,h=Object.prototype.toString,d=Function.prototype.toString,v=String.prototype.match,g=String.prototype.slice,S=String.prototype.replace,O=String.prototype.toUpperCase,w=String.prototype.toLowerCase,j=RegExp.prototype.test,P=Array.prototype.concat,E=Array.prototype.join,x=Array.prototype.slice,_=Math.floor,T="function"==typeof BigInt?BigInt.prototype.valueOf:null,k=Object.getOwnPropertySymbols,C="function"==typeof Symbol&&"symbol"===n(Symbol.iterator)?Symbol.prototype.toString:null,A="function"==typeof Symbol&&"object"===n(Symbol.iterator),I="function"==typeof Symbol&&Symbol.toStringTag&&(n(Symbol.toStringTag),1)?Symbol.toStringTag:null,R=Object.prototype.propertyIsEnumerable,D=("function"==typeof Reflect?Reflect.getPrototypeOf:Object.getPrototypeOf)||([].__proto__===Array.prototype?function(t){return t.__proto__}:null);function M(t,e){if(t===1/0||t===-1/0||t!=t||t&&t>-1e3&&t<1e3||j.call(/e/,e))return e;var r=/[0-9](?=(?:[0-9]{3})+(?![0-9]))/g;if("number"==typeof t){var n=t<0?-_(-t):_(t);if(n!==t){var o=String(n),i=g.call(e,o.length+1);return S.call(o,r,"$&_")+"."+S.call(S.call(i,/([0-9]{3})/g,"$&_"),/_$/,"")}}return S.call(e,r,"$&_")}var N=r(150),F=N.custom,B=q(F)?F:null,L={__proto__:null,double:'"',single:"'"},V={__proto__:null,double:/(["\\])/g,single:/(['\\])/g};function U(t,e,r){var n=r.quoteStyle||e,o=L[n];return o+t+o}function W(t){return S.call(String(t),/"/g,"&quot;")}function H(t){return!("[object Array]"!==J(t)||I&&"object"===n(t)&&I in t)}function G(t){return!("[object RegExp]"!==J(t)||I&&"object"===n(t)&&I in t)}function q(t){if(A)return t&&"object"===n(t)&&t instanceof Symbol;if("symbol"===n(t))return!0;if(!t||"object"!==n(t)||!C)return!1;try{return C.call(t),!0}catch(t){}return!1}t.exports=function t(e,o,i,c){var l=o||{};if(z(l,"quoteStyle")&&!z(L,l.quoteStyle))throw new TypeError('option "quoteStyle" must be "single" or "double"');if(z(l,"maxStringLength")&&("number"==typeof l.maxStringLength?l.maxStringLength<0&&l.maxStringLength!==1/0:null!==l.maxStringLength))throw new TypeError('option "maxStringLength", if provided, must be a positive integer, Infinity, or `null`');var h=!z(l,"customInspect")||l.customInspect;if("boolean"!=typeof h&&"symbol"!==h)throw new TypeError("option \"customInspect\", if provided, must be `true`, `false`, or `'symbol'`");if(z(l,"indent")&&null!==l.indent&&"\t"!==l.indent&&!(parseInt(l.indent,10)===l.indent&&l.indent>0))throw new TypeError('option "indent" must be "\\t", an integer > 0, or `null`');if(z(l,"numericSeparator")&&"boolean"!=typeof l.numericSeparator)throw new TypeError('option "numericSeparator", if provided, must be `true` or `false`');var O=l.numericSeparator;if(void 0===e)return"undefined";if(null===e)return"null";if("boolean"==typeof e)return e?"true":"false";if("string"==typeof e)return Y(e,l);if("number"==typeof e){if(0===e)return 1/0/e>0?"0":"-0";var j=String(e);return O?M(e,j):j}if("bigint"==typeof e){var _=String(e)+"n";return O?M(e,_):_}var k=void 0===l.depth?5:l.depth;if(void 0===i&&(i=0),i>=k&&k>0&&"object"===n(e))return H(e)?"[Array]":"[Object]";var F,V=function(t,e){var r;if("\t"===t.indent)r="\t";else{if(!("number"==typeof t.indent&&t.indent>0))return null;r=E.call(Array(t.indent+1)," ")}return{base:r,prev:E.call(Array(e+1),r)}}(l,i);if(void 0===c)c=[];else if(K(c,e)>=0)return"[Circular]";function $(e,r,n){if(r&&(c=x.call(c)).push(r),n){var o={depth:l.depth};return z(l,"quoteStyle")&&(o.quoteStyle=l.quoteStyle),t(e,o,i+1,c)}return t(e,l,i+1,c)}if("function"==typeof e&&!G(e)){var X=function(t){if(t.name)return t.name;var e=v.call(d.call(t),/^function\s*([\w$]+)/);return e?e[1]:null}(e),nt=rt(e,$);return"[Function"+(X?": "+X:" (anonymous)")+"]"+(nt.length>0?" { "+E.call(nt,", ")+" }":"")}if(q(e)){var ot=A?S.call(String(e),/^(Symbol\(.*\))_[^)]*$/,"$1"):C.call(e);return"object"!==n(e)||A?ot:Z(ot)}if((F=e)&&"object"===n(F)&&("undefined"!=typeof HTMLElement&&F instanceof HTMLElement||"string"==typeof F.nodeName&&"function"==typeof F.getAttribute)){for(var it="<"+w.call(String(e.nodeName)),at=e.attributes||[],ut=0;ut<at.length;ut++)it+=" "+at[ut].name+"="+U(W(at[ut].value),"double",l);return it+=">",e.childNodes&&e.childNodes.length&&(it+="..."),it+"</"+w.call(String(e.nodeName))+">"}if(H(e)){if(0===e.length)return"[]";var ct=rt(e,$);return V&&!function(t){for(var e=0;e<t.length;e++)if(K(t[e],"\n")>=0)return!1;return!0}(ct)?"["+et(ct,V)+"]":"[ "+E.call(ct,", ")+" ]"}if(function(t){return!("[object Error]"!==J(t)||I&&"object"===n(t)&&I in t)}(e)){var lt=rt(e,$);return"cause"in Error.prototype||!("cause"in e)||R.call(e,"cause")?0===lt.length?"["+String(e)+"]":"{ ["+String(e)+"] "+E.call(lt,", ")+" }":"{ ["+String(e)+"] "+E.call(P.call("[cause]: "+$(e.cause),lt),", ")+" }"}if("object"===n(e)&&h){if(B&&"function"==typeof e[B]&&N)return N(e,{depth:k-i});if("symbol"!==h&&"function"==typeof e.inspect)return e.inspect()}if(function(t){if(!a||!t||"object"!==n(t))return!1;try{a.call(t);try{s.call(t)}catch(t){return!0}return t instanceof Map}catch(t){}return!1}(e)){var st=[];return u&&u.call(e,(function(t,r){st.push($(r,e,!0)+" => "+$(t,e))})),tt("Map",a.call(e),st,V)}if(function(t){if(!s||!t||"object"!==n(t))return!1;try{s.call(t);try{a.call(t)}catch(t){return!0}return t instanceof Set}catch(t){}return!1}(e)){var pt=[];return p&&p.call(e,(function(t){pt.push($(t,e))})),tt("Set",s.call(e),pt,V)}if(function(t){if(!f||!t||"object"!==n(t))return!1;try{f.call(t,f);try{y.call(t,y)}catch(t){return!0}return t instanceof WeakMap}catch(t){}return!1}(e))return Q("WeakMap");if(function(t){if(!y||!t||"object"!==n(t))return!1;try{y.call(t,y);try{f.call(t,f)}catch(t){return!0}return t instanceof WeakSet}catch(t){}return!1}(e))return Q("WeakSet");if(function(t){if(!b||!t||"object"!==n(t))return!1;try{return b.call(t),!0}catch(t){}return!1}(e))return Q("WeakRef");if(function(t){return!("[object Number]"!==J(t)||I&&"object"===n(t)&&I in t)}(e))return Z($(Number(e)));if(function(t){if(!t||"object"!==n(t)||!T)return!1;try{return T.call(t),!0}catch(t){}return!1}(e))return Z($(T.call(e)));if(function(t){return!("[object Boolean]"!==J(t)||I&&"object"===n(t)&&I in t)}(e))return Z(m.call(e));if(function(t){return!("[object String]"!==J(t)||I&&"object"===n(t)&&I in t)}(e))return Z($(String(e)));if("undefined"!=typeof window&&e===window)return"{ [object Window] }";if("undefined"!=typeof globalThis&&e===globalThis||void 0!==r.g&&e===r.g)return"{ [object globalThis] }";if(!function(t){return!("[object Date]"!==J(t)||I&&"object"===n(t)&&I in t)}(e)&&!G(e)){var ft=rt(e,$),yt=D?D(e)===Object.prototype:e instanceof Object||e.constructor===Object,bt=e instanceof Object?"":"null prototype",mt=!yt&&I&&Object(e)===e&&I in e?g.call(J(e),8,-1):bt?"Object":"",ht=(yt||"function"!=typeof e.constructor?"":e.constructor.name?e.constructor.name+" ":"")+(mt||bt?"["+E.call(P.call([],mt||[],bt||[]),": ")+"] ":"");return 0===ft.length?ht+"{}":V?ht+"{"+et(ft,V)+"}":ht+"{ "+E.call(ft,", ")+" }"}return String(e)};var $=Object.prototype.hasOwnProperty||function(t){return t in this};function z(t,e){return $.call(t,e)}function J(t){return h.call(t)}function K(t,e){if(t.indexOf)return t.indexOf(e);for(var r=0,n=t.length;r<n;r++)if(t[r]===e)return r;return-1}function Y(t,e){if(t.length>e.maxStringLength){var r=t.length-e.maxStringLength,n="... "+r+" more character"+(r>1?"s":"");return Y(g.call(t,0,e.maxStringLength),e)+n}var o=V[e.quoteStyle||"single"];return o.lastIndex=0,U(S.call(S.call(t,o,"\\$1"),/[\x00-\x1f]/g,X),"single",e)}function X(t){var e=t.charCodeAt(0),r={8:"b",9:"t",10:"n",12:"f",13:"r"}[e];return r?"\\"+r:"\\x"+(e<16?"0":"")+O.call(e.toString(16))}function Z(t){return"Object("+t+")"}function Q(t){return t+" { ? }"}function tt(t,e,r,n){return t+" ("+e+") {"+(n?et(r,n):E.call(r,", "))+"}"}function et(t,e){if(0===t.length)return"";var r="\n"+e.prev+e.base;return r+E.call(t,","+r)+"\n"+e.prev}function rt(t,e){var r=H(t),n=[];if(r){n.length=t.length;for(var o=0;o<t.length;o++)n[o]=z(t,o)?e(t[o],t):""}var i,a="function"==typeof k?k(t):[];if(A){i={};for(var u=0;u<a.length;u++)i["$"+a[u]]=a[u]}for(var c in t)z(t,c)&&(r&&String(Number(c))===c&&c<t.length||A&&i["$"+c]instanceof Symbol||(j.call(/[^\w$]/,c)?n.push(e(c,t)+": "+e(t[c],t)):n.push(c+": "+e(t[c],t))));if("function"==typeof k)for(var l=0;l<a.length;l++)R.call(t,a[l])&&n.push("["+e(a[l])+"]: "+e(t[a[l]],t));return n}},8473:t=>{"use strict";var e=function(t){return t!=t};t.exports=function(t,r){return 0===t&&0===r?1/t==1/r:t===r||!(!e(t)||!e(r))}},7239:(t,e,r)=>{"use strict";var n=r(6541),o=r(4447),i=r(8473),a=r(8028),u=r(5158),c=o(a(),Object);n(c,{getPolyfill:a,implementation:i,shim:u}),t.exports=c},8028:(t,e,r)=>{"use strict";var n=r(8473);t.exports=function(){return"function"==typeof Object.is?Object.is:n}},5158:(t,e,r)=>{"use strict";var n=r(8028),o=r(6541);t.exports=function(){var t=n();return o(Object,{is:t},{is:function(){return Object.is!==t}}),t}},4344:(t,e,r)=>{"use strict";function n(t){return n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},n(t)}var o;if(!Object.keys){var i=Object.prototype.hasOwnProperty,a=Object.prototype.toString,u=r(9376),c=Object.prototype.propertyIsEnumerable,l=!c.call({toString:null},"toString"),s=c.call((function(){}),"prototype"),p=["toString","toLocaleString","valueOf","hasOwnProperty","isPrototypeOf","propertyIsEnumerable","constructor"],f=function(t){var e=t.constructor;return e&&e.prototype===t},y={$applicationCache:!0,$console:!0,$external:!0,$frame:!0,$frameElement:!0,$frames:!0,$innerHeight:!0,$innerWidth:!0,$onmozfullscreenchange:!0,$onmozfullscreenerror:!0,$outerHeight:!0,$outerWidth:!0,$pageXOffset:!0,$pageYOffset:!0,$parent:!0,$scrollLeft:!0,$scrollTop:!0,$scrollX:!0,$scrollY:!0,$self:!0,$webkitIndexedDB:!0,$webkitStorageInfo:!0,$window:!0},b=function(){if("undefined"==typeof window)return!1;for(var t in window)try{if(!y["$"+t]&&i.call(window,t)&&null!==window[t]&&"object"===n(window[t]))try{f(window[t])}catch(t){return!0}}catch(t){return!0}return!1}();o=function(t){var e=null!==t&&"object"===n(t),r="[object Function]"===a.call(t),o=u(t),c=e&&"[object String]"===a.call(t),y=[];if(!e&&!r&&!o)throw new TypeError("Object.keys called on a non-object");var m=s&&r;if(c&&t.length>0&&!i.call(t,0))for(var h=0;h<t.length;++h)y.push(String(h));if(o&&t.length>0)for(var d=0;d<t.length;++d)y.push(String(d));else for(var v in t)m&&"prototype"===v||!i.call(t,v)||y.push(String(v));if(l)for(var g=function(t){if("undefined"==typeof window||!b)return f(t);try{return f(t)}catch(t){return!1}}(t),S=0;S<p.length;++S)g&&"constructor"===p[S]||!i.call(t,p[S])||y.push(p[S]);return y}}t.exports=o},2148:(t,e,r)=>{"use strict";var n=Array.prototype.slice,o=r(9376),i=Object.keys,a=i?function(t){return i(t)}:r(4344),u=Object.keys;a.shim=function(){if(Object.keys){var t=function(){var t=Object.keys(arguments);return t&&t.length===arguments.length}(1,2);t||(Object.keys=function(t){return o(t)?u(n.call(t)):u(t)})}else Object.keys=a;return Object.keys||a},t.exports=a},9376:t=>{"use strict";function e(t){return e="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},e(t)}var r=Object.prototype.toString;t.exports=function(t){var n=r.call(t),o="[object Arguments]"===n;return o||(o="[object Array]"!==n&&null!==t&&"object"===e(t)&&"number"==typeof t.length&&t.length>=0&&"[object Function]"===r.call(t.callee)),o}},1135:(t,e,r)=>{"use strict";var n=r(2148),o=r(5153)(),i=r(8307),a=Object,u=i("Array.prototype.push"),c=i("Object.prototype.propertyIsEnumerable"),l=o?Object.getOwnPropertySymbols:null;t.exports=function(t,e){if(null==t)throw new TypeError("target must be an object");var r=a(t);if(1===arguments.length)return r;for(var i=1;i<arguments.length;++i){var s=a(arguments[i]),p=n(s),f=o&&(Object.getOwnPropertySymbols||l);if(f)for(var y=f(s),b=0;b<y.length;++b){var m=y[b];c(s,m)&&u(p,m)}for(var h=0;h<p.length;++h){var d=p[h];if(c(s,d)){var v=s[d];r[d]=v}}}return r}},5353:(t,e,r)=>{"use strict";var n=r(6541),o=r(4447),i=r(1135),a=r(782),u=r(4396),c=o.apply(a()),l=function(t,e){return c(Object,arguments)};n(l,{getPolyfill:a,implementation:i,shim:u}),t.exports=l},782:(t,e,r)=>{"use strict";var n=r(1135);t.exports=function(){return Object.assign?function(){if(!Object.assign)return!1;for(var t="abcdefghijklmnopqrst",e=t.split(""),r={},n=0;n<e.length;++n)r[e[n]]=e[n];var o=Object.assign({},r),i="";for(var a in o)i+=a;return t!==i}()||function(){if(!Object.assign||!Object.preventExtensions)return!1;var t=Object.preventExtensions({1:2});try{Object.assign(t,"xy")}catch(e){return"y"===t[1]}return!1}()?n:Object.assign:n}},4396:(t,e,r)=>{"use strict";var n=r(6541),o=r(782);t.exports=function(){var t=o();return n(Object,{assign:t},{assign:function(){return Object.assign!==t}}),t}},8974:t=>{"use strict";t.exports=["Float32Array","Float64Array","Int8Array","Int16Array","Int32Array","Uint8Array","Uint8ClampedArray","Uint16Array","Uint32Array","BigInt64Array","BigUint64Array"]},4524:(t,e,r)=>{"use strict";var n=r(9251),o=r(8819),i=Object;t.exports=n((function(){if(null==this||this!==i(this))throw new o("RegExp.prototype.flags getter called on non-object");var t="";return this.hasIndices&&(t+="d"),this.global&&(t+="g"),this.ignoreCase&&(t+="i"),this.multiline&&(t+="m"),this.dotAll&&(t+="s"),this.unicode&&(t+="u"),this.unicodeSets&&(t+="v"),this.sticky&&(t+="y"),t}),"get flags",!0)},1048:(t,e,r)=>{"use strict";var n=r(6541),o=r(4447),i=r(4524),a=r(3609),u=r(1063),c=o(a());n(c,{getPolyfill:a,implementation:i,shim:u}),t.exports=c},3609:(t,e,r)=>{"use strict";var n=r(4524),o=r(6541).supportsDescriptors,i=Object.getOwnPropertyDescriptor;t.exports=function(){if(o&&"gim"===/a/gim.flags){var t=i(RegExp.prototype,"flags");if(t&&"function"==typeof t.get&&"dotAll"in RegExp.prototype&&"hasIndices"in RegExp.prototype){var e="",r={};if(Object.defineProperty(r,"hasIndices",{get:function(){e+="d"}}),Object.defineProperty(r,"sticky",{get:function(){e+="y"}}),t.get.call(r),"dy"===e)return t.get}}return n}},1063:(t,e,r)=>{"use strict";var n=r(6541).supportsDescriptors,o=r(3609),i=Object.getOwnPropertyDescriptor,a=Object.defineProperty,u=TypeError,c=Object.getPrototypeOf,l=/a/;t.exports=function(){if(!n||!c)throw new u("RegExp.prototype.flags requires a true ES5 environment that supports property descriptors");var t=o(),e=c(l),r=i(e,"flags");return r&&r.get===t||a(e,"flags",{configurable:!0,enumerable:!1,get:t}),t}},7780:(t,e,r)=>{"use strict";var n=r(6374),o=r(2765),i=r(6708)(),a=r(6861),u=r(8819),c=n("%Math.floor%");t.exports=function(t,e){if("function"!=typeof t)throw new u("`fn` is not a function");if("number"!=typeof e||e<0||e>4294967295||c(e)!==e)throw new u("`length` must be a positive 32-bit integer");var r=arguments.length>2&&!!arguments[2],n=!0,l=!0;if("length"in t&&a){var s=a(t,"length");s&&!s.configurable&&(n=!1),s&&!s.writable&&(l=!1)}return(n||l||!r)&&(i?o(t,"length",e,!0,!0):o(t,"length",e)),t}},9251:(t,e,r)=>{"use strict";var n=r(2765),o=r(6708)(),i=r(5861).functionsHaveConfigurableNames(),a=r(8819);t.exports=function(t,e){if("function"!=typeof t)throw new a("`fn` is not a function");return arguments.length>2&&!!arguments[2]&&!i||(o?n(t,"name",e,!0,!0):n(t,"name",e)),t}},3104:(t,e,r)=>{"use strict";function n(t){return n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},n(t)}var o=r(6374),i=r(8307),a=r(6307),u=r(8819),c=o("%WeakMap%",!0),l=o("%Map%",!0),s=i("WeakMap.prototype.get",!0),p=i("WeakMap.prototype.set",!0),f=i("WeakMap.prototype.has",!0),y=i("Map.prototype.get",!0),b=i("Map.prototype.set",!0),m=i("Map.prototype.has",!0),h=function(t,e){for(var r,n=t;null!==(r=n.next);n=r)if(r.key===e)return n.next=r.next,r.next=t.next,t.next=r,r};t.exports=function(){var t,e,r,o={assert:function(t){if(!o.has(t))throw new u("Side channel does not contain "+a(t))},get:function(o){if(c&&o&&("object"===n(o)||"function"==typeof o)){if(t)return s(t,o)}else if(l){if(e)return y(e,o)}else if(r)return function(t,e){var r=h(t,e);return r&&r.value}(r,o)},has:function(o){if(c&&o&&("object"===n(o)||"function"==typeof o)){if(t)return f(t,o)}else if(l){if(e)return m(e,o)}else if(r)return function(t,e){return!!h(t,e)}(r,o);return!1},set:function(o,i){c&&o&&("object"===n(o)||"function"==typeof o)?(t||(t=new c),p(t,o,i)):l?(e||(e=new l),b(e,o,i)):(r||(r={key:{},next:null}),function(t,e,r){var n=h(t,e);n?n.value=r:t.next={key:e,next:t.next,value:r}}(r,o,i))}};return o}},9234:(t,e,r)=>{"use strict";function n(t){return n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},n(t)}var o=r(15),i=SyntaxError,a="object"===("undefined"==typeof StopIteration?"undefined":n(StopIteration))?StopIteration:null;t.exports=function(t){if(!a)throw new i("this environment lacks StopIteration");o.set(t,"[[Done]]",!1);var e={next:function(){var t=o.get(this,"[[Iterator]]"),e=o.get(t,"[[Done]]");try{return{done:e,value:e?void 0:t.next()}}catch(e){if(o.set(t,"[[Done]]",!0),e!==a)throw e;return{done:!0,value:void 0}}}};return o.set(e,"[[Iterator]]",t),e}},4962:(t,e,r)=>{"use strict";function n(t){return n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},n(t)}var o=r(3379),i=r(5103),a=r(4065),u=r(2278),c=r(9188);t.exports=function(t){return null==t||"object"!==n(t)&&"function"!=typeof t?null:o(t)?"String":i(t)?"Number":a(t)?"Boolean":u(t)?"Symbol":c(t)?"BigInt":void 0}},8716:(t,e,r)=>{"use strict";function n(t){return n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},n(t)}var o=r(3390),i=r(3078),a=r(8941),u=r(6526);t.exports=function(t){if(t&&"object"===n(t)){if(o(t))return"Map";if(i(t))return"Set";if(a(t))return"WeakMap";if(u(t))return"WeakSet"}return!1}},8713:(t,e,r)=>{"use strict";function n(t){return n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},n(t)}var o=r(9749),i=r(1688),a=r(4447),u=r(8307),c=r(6861),l=u("Object.prototype.toString"),s=r(7626)(),p="undefined"==typeof globalThis?r.g:globalThis,f=i(),y=u("String.prototype.slice"),b=Object.getPrototypeOf,m=u("Array.prototype.indexOf",!0)||function(t,e){for(var r=0;r<t.length;r+=1)if(t[r]===e)return r;return-1},h={__proto__:null};o(f,s&&c&&b?function(t){var e=new p[t];if(Symbol.toStringTag in e){var r=b(e),n=c(r,Symbol.toStringTag);if(!n){var o=b(r);n=c(o,Symbol.toStringTag)}h["$"+t]=a(n.get)}}:function(t){var e=new p[t],r=e.slice||e.set;r&&(h["$"+t]=a(r))}),t.exports=function(t){if(!t||"object"!==n(t))return!1;if(!s){var e=y(l(t),8,-1);return m(f,e)>-1?e:"Object"===e&&function(t){var e=!1;return o(h,(function(r,n){if(!e)try{r(t),e=y(n,1)}catch(t){}})),e}(t)}return c?function(t){var e=!1;return o(h,(function(r,n){if(!e)try{"$"+r(t)===n&&(e=y(n,1))}catch(t){}})),e}(t):null}},9862:t=>{"use strict";t.exports=require("lodash.debounce")},6146:t=>{"use strict";t.exports=require("material-ui")},9825:t=>{"use strict";t.exports=require("prop-types")},4217:t=>{"use strict";t.exports=require("pydio")},7919:t=>{"use strict";t.exports=require("pydio/util/lang")},2015:t=>{"use strict";t.exports=require("react")},150:()=>{},1688:(t,e,r)=>{"use strict";var n=r(8974),o="undefined"==typeof globalThis?r.g:globalThis;t.exports=function(){for(var t=[],e=0;e<n.length;e++)"function"==typeof o[n[e]]&&(t[t.length]=n[e]);return t}},565:(t,e,r)=>{"use strict";var n=r(2894),o=r(9234);if(r(4163)()||r(5153)()){var i=Symbol.iterator;t.exports=function(t){return null!=t&&void 0!==t[i]?t[i]():n(t)?Array.prototype[i].call(t):void 0}}else{var a=r(6820),u=r(3379),c=r(6374),l=c("%Map%",!0),s=c("%Set%",!0),p=r(8307),f=p("Array.prototype.push"),y=p("String.prototype.charCodeAt"),b=p("String.prototype.slice"),m=function(t){var e=0;return{next:function(){var r,n=e>=t.length;return n||(r=t[e],e+=1),{done:n,value:r}}}},h=function(t,e){if(a(t)||n(t))return m(t);if(u(t)){var r=0;return{next:function(){var e=function(t,e){if(e+1>=t.length)return e+1;var r=y(t,e);if(r<55296||r>56319)return e+1;var n=y(t,e+1);return n<56320||n>57343?e+1:e+2}(t,r),n=b(t,r,e);return r=e,{done:e>t.length,value:n}}}}return e&&void 0!==t["_es6-shim iterator_"]?t["_es6-shim iterator_"]():void 0};if(l||s){var d=r(3390),v=r(3078),g=p("Map.prototype.forEach",!0),S=p("Set.prototype.forEach",!0);if("undefined"==typeof process||!process.versions||!process.versions.node)var O=p("Map.prototype.iterator",!0),w=p("Set.prototype.iterator",!0);var j=p("Map.prototype.@@iterator",!0)||p("Map.prototype._es6-shim iterator_",!0),P=p("Set.prototype.@@iterator",!0)||p("Set.prototype._es6-shim iterator_",!0);t.exports=function(t){return function(t){if(d(t)){if(O)return o(O(t));if(j)return j(t);if(g){var e=[];return g(t,(function(t,r){f(e,[r,t])})),m(e)}}if(v(t)){if(w)return o(w(t));if(P)return P(t);if(S){var r=[];return S(t,(function(t){f(r,t)})),m(r)}}}(t)||h(t)}}else t.exports=function(t){if(null!=t)return h(t,!0)}}}},e={};function r(n){var o=e[n];if(void 0!==o)return o.exports;var i=e[n]={exports:{}};return t[n](i,i.exports,r),i.exports}r.n=t=>{var e=t&&t.__esModule?()=>t.default:()=>t;return r.d(e,{a:e}),e},r.d=(t,e)=>{for(var n in e)r.o(e,n)&&!r.o(t,n)&&Object.defineProperty(t,n,{enumerable:!0,get:e[n]})},r.g=function(){if("object"==typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(t){if("object"==typeof window)return window}}(),r.o=(t,e)=>Object.prototype.hasOwnProperty.call(t,e),r.r=t=>{"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})};var n={};(()=>{"use strict";r.r(n),r.d(n,{default:()=>Bn});var t=r(2015),e=r.n(t);const o=require("pydio/util/xml");var i=r.n(o),a=r(4217),u=r.n(a);function c(t){return c="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},c(t)}function l(){return l=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)({}).hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},l.apply(null,arguments)}function s(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),r.push.apply(r,n)}return r}function p(t,e,r){return(e=y(e))in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function f(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,y(n.key),n)}}function y(t){var e=function(t){if("object"!=c(t)||!t)return t;var e=t[Symbol.toPrimitive];if(void 0!==e){var r=e.call(t,"string");if("object"!=c(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}(t);return"symbol"==c(e)?e:e+""}function b(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))}catch(t){}return(b=function(){return!!t})()}function m(t){return m=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},m(t)}function h(t,e){return h=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t},h(t,e)}const d=function(t){var r=arguments.length>1&&void 0!==arguments[1]&&arguments[1],n=function(n){function o(t){var e;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,o),t=function(t){for(var e=1;e<arguments.length;e++){var r=null!=arguments[e]?arguments[e]:{};e%2?s(Object(r),!0).forEach((function(e){p(t,e,r[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):s(Object(r)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(r,e))}))}return t}({displayContext:"form",disabled:!1},t),(e=function(t,e,r){return e=m(e),function(t,e){if(e&&("object"==c(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}(t,b()?Reflect.construct(e,r||[],m(t).constructor):e.apply(t,r))}(this,o,[t])).state={editMode:!1,dirty:!1,value:e.props.value},e}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&h(t,e)}(o,n),i=o,a=[{key:"isDisplayGrid",value:function(){return"grid"===this.props.displayContext}},{key:"isDisplayForm",value:function(){return"form"===this.props.displayContext}},{key:"toggleEditMode",value:function(){if(!this.isDisplayForm()){var t=!this.state.editMode;this.setState({editMode:t}),this.props.onChangeEditMode&&this.props.onChangeEditMode(t)}}},{key:"enterToToggle",value:function(t){"Enter"===t.key&&this.toggleEditMode()}},{key:"bufferChanges",value:function(t,e){this.triggerPropsOnChange(t,e)}},{key:"onChange",value:function(t,e){void 0===e&&(e=t.currentTarget.getValue?t.currentTarget.getValue():t.currentTarget.value),this.changeTimeout&&clearTimeout(this.changeTimeout);var n=e,o=this.state.value;if(r&&this.triggerPropsOnChange(n,o),this.setState({dirty:!0,value:n}),!r){var i=250;"password"===this.props.attributes.type&&(i=1200),this.changeTimeout=setTimeout(function(){this.bufferChanges(n,o)}.bind(this),i)}}},{key:"triggerPropsOnChange",value:function(t,e){"password"===this.props.attributes.type?(this.toggleEditMode(),this.props.onChange(t,e,{type:this.props.attributes.type})):this.props.onChange(t,e)}},{key:"componentWillReceiveProps",value:function(t){this.setState({value:t.value,dirty:!1})}},{key:"isValid",value:function(){return!this.refs.internal||!this.refs.internal.isValid||this.refs.internal.isValid()}},{key:"render",value:function(){var r=this;return e().createElement(t,l({},this.props,this.state,{ref:"internal",onChange:function(t,e){return r.onChange(t,e)},toggleEditMode:function(){return r.toggleEditMode()},enterToToggle:function(t){return r.enterToToggle(t)},isDisplayGrid:function(){return r.isDisplayGrid()},isDisplayForm:function(){return r.isDisplayForm()}}))}}],a&&f(i.prototype,a),Object.defineProperty(i,"prototype",{writable:!1}),i;var i,a}(e().Component);return n},v=require("pydio/util/pass");var g=r.n(v);function S(t){return S="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},S(t)}function O(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,w(n.key),n)}}function w(t){var e=function(t){if("object"!=S(t)||!t)return t;var e=t[Symbol.toPrimitive];if(void 0!==e){var r=e.call(t,"string");if("object"!=S(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}(t);return"symbol"==S(e)?e:e+""}function j(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))}catch(t){}return(j=function(){return!!t})()}function P(t){return P=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},P(t)}function E(t,e){return E=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t},E(t,e)}var x=u().requireLib("hoc").ModernTextField;const _=d(function(t){function r(t){var e;if(function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,r),(e=function(t,e,r){return e=P(e),function(t,e){if(e&&("object"==S(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}(t,j()?Reflect.construct(e,r||[],P(t).constructor):e.apply(t,r))}(this,r,[t])).state={},t.value){var n=g().isValidLogin(t.value);e.state={valid:!n,err:n}}return e}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&E(t,e)}(r,t),n=r,o=[{key:"textValueChanged",value:function(t,e){var r=g().isValidLogin(e),n=!r;(this.state&&this.state.valid)!==n&&this.props.onValidStatusChange&&this.props.onValidStatusChange(n),this.setState({valid:n,err:r}),this.props.onChange(t,e)}},{key:"isValid",value:function(){return this.state&&this.state.valid}},{key:"render",value:function(){var t=this,r=this.props,n=r.isDisplayGrid,o=r.isDisplayForm,i=r.editMode,a=r.disabled,u=r.errorText,c=r.enterToToggle,l=r.toggleEditMode,s=r.attributes,p=r.variant,f=this.props.value;if(n()&&!i)return"password"===s.type&&f&&(f="***********"),e().createElement("div",{onClick:a?function(){}:l,className:f?"":"paramValue-empty"},f||"Empty");var y=this.state&&this.state.err,b=e().createElement(x,{floatingLabelText:o()?s.label:null,value:f||"",onChange:function(e,r){return t.textValueChanged(e,r)},onKeyDown:c,type:"password"===s.type?"password":null,multiLine:"textarea"===s.type,disabled:a,errorText:u||y,autoComplete:"off",fullWidth:!0,variant:p});return"password"===s.type?e().createElement("form",{autoComplete:"off",onSubmit:function(t){t.stopPropagation(),t.preventDefault()},style:{display:"inline"}},b):e().createElement("span",null,b)}}],o&&O(n.prototype,o),Object.defineProperty(n,"prototype",{writable:!1}),n;var n,o}(e().Component));var T=r(6146);function k(t){return k="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},k(t)}function C(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,A(n.key),n)}}function A(t){var e=function(t){if("object"!=k(t)||!t)return t;var e=t[Symbol.toPrimitive];if(void 0!==e){var r=e.call(t,"string");if("object"!=k(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}(t);return"symbol"==k(e)?e:e+""}function I(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))}catch(t){}return(I=function(){return!!t})()}function R(t){return R=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},R(t)}function D(t,e){return D=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t},D(t,e)}var M=u().requireLib("hoc").ModernTextField;const N=d(function(t){function r(){return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,r),function(t,e,r){return e=R(e),function(t,e){if(e&&("object"==k(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}(t,I()?Reflect.construct(e,r||[],R(t).constructor):e.apply(t,r))}(this,r,arguments)}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&D(t,e)}(r,t),n=r,o=[{key:"render",value:function(){var t=this.props,r=t.editMode,n=t.value,o=t.variant,i=t.isDisplayGrid,a=t.isDisplayForm,u=t.onChange,c=t.enterToToggle,l=t.attributes,s=t.disabled,p=t.errorText,f=t.toggleEditMode;if(i()&&!r){var y=n;return"password"===l.type&&n&&(y="***********"),e().createElement("div",{onClick:s?function(){}:f,className:y?"":"paramValue-empty"},y||"Empty")}var b=e().createElement(M,{hintText:a()?l.label:null,value:n||"",onChange:u,onKeyDown:c,type:"password"===l.type?"password":null,multiLine:"textarea"===l.type,disabled:s,errorText:p,autoComplete:"off",fullWidth:!0,variant:o});return"password"===this.props.attributes.type?e().createElement("form",{autoComplete:"off",onSubmit:function(t){t.stopPropagation(),t.preventDefault()},style:{display:"inline"}},b):e().createElement("span",null,b)}}],o&&C(n.prototype,o),Object.defineProperty(n,"prototype",{writable:!1}),n;var n,o}(e().Component));function F(t){return F="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},F(t)}function B(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,L(n.key),n)}}function L(t){var e=function(t){if("object"!=F(t)||!t)return t;var e=t[Symbol.toPrimitive];if(void 0!==e){var r=e.call(t,"string");if("object"!=F(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}(t);return"symbol"==F(e)?e:e+""}function V(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))}catch(t){}return(V=function(){return!!t})()}function U(t){return U=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},U(t)}function W(t,e){return W=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t},W(t,e)}var H=function(t){function r(){return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,r),function(t,e,r){return e=U(e),function(t,e){if(e&&("object"==F(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}(t,V()?Reflect.construct(e,r||[],U(t).constructor):e.apply(t,r))}(this,r,arguments)}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&W(t,e)}(r,t),n=r,(o=[{key:"render",value:function(){var t,r=this.props,n=r.attributes,o=r.altIcon,i=void 0===o?"mdi mdi-toggle-switch":o,a=r.altIconText,u=void 0===a?"mdi mdi-textbox":a,c=r.altTip,l=void 0===c?"Switch to text version":c,s=r.onAltTextSwitch,p=r.variantShowLegend,f=n.alternativeText;return t=f?e().createElement(N,this.props):this.props.children,p?t:e().createElement("div",{style:{display:"flex"}},e().createElement("div",{style:{flex:1}},t),e().createElement("div",null,e().createElement(T.IconButton,{iconClassName:f?i:u,title:l,onClick:function(){return s(n.name,!f)},iconStyle:{opacity:.3,fontSize:20},style:{padding:"14px 8px",width:42,height:42}})))}}])&&B(n.prototype,o),Object.defineProperty(n,"prototype",{writable:!1}),n;var n,o}(e().Component);function G(t){return G="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},G(t)}function q(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,$(n.key),n)}}function $(t){var e=function(t){if("object"!=G(t)||!t)return t;var e=t[Symbol.toPrimitive];if(void 0!==e){var r=e.call(t,"string");if("object"!=G(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}(t);return"symbol"==G(e)?e:e+""}function z(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))}catch(t){}return(z=function(){return!!t})()}function J(t){return J=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},J(t)}function K(t,e){return K=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t},K(t,e)}var Y=u().requireLib("hoc"),X=Y.ModernTextField,Z=Y.ModernSelectField;const Q=d(function(t){function r(){return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,r),function(t,e,r){return e=J(e),function(t,e){if(e&&("object"==G(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}(t,z()?Reflect.construct(e,r||[],J(t).constructor):e.apply(t,r))}(this,r,arguments)}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&K(t,e)}(r,t),n=r,o=[{key:"divide",value:function(t){for(var e=["k","M","G","T","P"],r={bytesValue:t,unit:""},n=0;n<e.length;n++){var o=this.multiple(1,e[n]);t>=o&&t%o==0&&(r={bytesValue:t/o,unit:e[n]})}return r}},{key:"multiple",value:function(t,e){var r=parseFloat(t);switch(e){case"k":return 1024*r;case"M":return 1024*r*1024;case"G":return 1024*r*1024*1024;case"T":return 1024*r*1024*1024*1024;case"P":return 1024*r*1024*1024*1024*1024;default:return r}}},{key:"render",value:function(){var t=this,r=u().getMessages().byte_unit_symbol||"B",n=this.props,o=n.value,i=n.onChange,a=n.isDisplayGrid,c=n.isDisplayForm,l=n.editMode,s=n.disabled,p=n.toggleEditMode,f=n.attributes,y=n.variant,b=0,m="";if(o){var h=this.divide(parseInt(o)),d=h.bytesValue,v=h.unit;b=d,m=v}return a()&&!l?e().createElement("div",{onClick:s?function(){}:p,className:o?"":"paramValue-empty"},o?b+m+r:"Empty"):e().createElement("div",null,e().createElement("div",{style:{display:"flex",height:"v2"===y?66:null}},e().createElement(X,{value:b,hintText:c()?f.label:null,style:{flex:2},type:"number",variant:y,hasRightBlock:!0,disabled:s,onChange:function(e,r){var n=Math.max(0,r)||0;i(e,t.multiple(n,m))}}),e().createElement(Z,{value:m||"b",variant:y,hintText:"Unit",hasLeftBlock:!0,disabled:s,onChange:function(e,r,n){i(e,t.multiple(b,n))},style:{flex:1}},e().createElement(T.MenuItem,{value:"b",primaryText:r}),e().createElement(T.MenuItem,{value:"k",primaryText:"K"+r}),e().createElement(T.MenuItem,{value:"M",primaryText:"M"+r}),e().createElement(T.MenuItem,{value:"G",primaryText:"G"+r}),e().createElement(T.MenuItem,{value:"T",primaryText:"T"+r}),e().createElement(T.MenuItem,{value:"P",primaryText:"P"+r}))))}}],o&&q(n.prototype,o),Object.defineProperty(n,"prototype",{writable:!1}),n;var n,o}(e().Component)),tt=require("material-ui/styles");function et(t){return et="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},et(t)}function rt(){return rt=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)({}).hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},rt.apply(null,arguments)}function nt(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),r.push.apply(r,n)}return r}function ot(t){for(var e=1;e<arguments.length;e++){var r=null!=arguments[e]?arguments[e]:{};e%2?nt(Object(r),!0).forEach((function(e){it(t,e,r[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):nt(Object(r)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(r,e))}))}return t}function it(t,e,r){return(e=ut(e))in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function at(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,ut(n.key),n)}}function ut(t){var e=function(t){if("object"!=et(t)||!t)return t;var e=t[Symbol.toPrimitive];if(void 0!==e){var r=e.call(t,"string");if("object"!=et(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}(t);return"symbol"==et(e)?e:e+""}function ct(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))}catch(t){}return(ct=function(){return!!t})()}function lt(t){return lt=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},lt(t)}function st(t,e){return st=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t},st(t,e)}var pt=u().requireLib("hoc").ThemedModernStyles,ft={position:"absolute",fontSize:16,lineHeight:"22px",top:25,transition:"all 450ms cubic-bezier(0.23, 1, 0.32, 1) 0ms",zIndex:1,transform:"scale(0.75) translate(0px, -28px)",transformOrigin:"left top",pointerEvents:"none",userSelect:"none",color:"rgba(0, 0, 0, 0.3)",left:8,whiteSpace:"nowrap",overflow:"hidden",textOverflow:"ellipsis",width:"127%"},yt=function(t){function r(){return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,r),function(t,e,r){return e=lt(e),function(t,e){if(e&&("object"==et(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}(t,ct()?Reflect.construct(e,r||[],lt(t).constructor):e.apply(t,r))}(this,r,arguments)}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&st(t,e)}(r,t),n=r,o=[{key:"render",value:function(){var t=this.props.value,r=this.props,n=r.variant,o=r.disabled,i=r.onChange,a=r.attributes,u=r.isDisplayForm,c=r.muiTheme;"string"==typeof t&&(t="true"===t);var l=pt(c);if("v2"===n){"mui3"===c.userTheme&&(ft.color=c.palette.mui3["on-surface-variant"]);var s=ot({},l.toggleFieldV2);return e().createElement("div",{style:{position:"relative",height:58}},e().createElement("div",{style:ot(ot({},ft),{},{display:"none"})},a.description),e().createElement(T.Checkbox,rt({checked:t,onCheck:function(t,e){return i(t,e)},disabled:o,label:u()?a.label:null,labelPosition:"right"},s)))}return e().createElement(T.Toggle,rt({toggled:t,onToggle:function(t,e){return i(t,e)},disabled:o,label:u()?a.label:null,labelPosition:u()?"left":"right"},l.toggleField))}}],o&&at(n.prototype,o),Object.defineProperty(n,"prototype",{writable:!1}),n;var n,o}(e().Component);const bt=d((0,tt.muiThemeable)()(yt),!0);function mt(t){return mt="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},mt(t)}function ht(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),r.push.apply(r,n)}return r}function dt(t){for(var e=1;e<arguments.length;e++){var r=null!=arguments[e]?arguments[e]:{};e%2?ht(Object(r),!0).forEach((function(e){vt(t,e,r[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):ht(Object(r)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(r,e))}))}return t}function vt(t,e,r){return(e=St(e))in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function gt(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,St(n.key),n)}}function St(t){var e=function(t){if("object"!=mt(t)||!t)return t;var e=t[Symbol.toPrimitive];if(void 0!==e){var r=e.call(t,"string");if("object"!=mt(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}(t);return"symbol"==mt(e)?e:e+""}function Ot(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))}catch(t){}return(Ot=function(){return!!t})()}function wt(t){return wt=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},wt(t)}function jt(t,e){return jt=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t},jt(t,e)}var Pt=u().requireLib("hoc").ModernTextField;const Et=d(function(t){function r(t){var e;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,r),(e=function(t,e,r){return e=wt(e),function(t,e){if(e&&("object"==mt(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}(t,Ot()?Reflect.construct(e,r||[],wt(t).constructor):e.apply(t,r))}(this,r,[t])).state={},e}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&jt(t,e)}(r,t),n=r,o=[{key:"isValid",value:function(){return this.state.valid}},{key:"checkMinLength",value:function(t){var e=parseInt(u().getInstance().getPluginConfigs("core.auth").get("PASSWORD_MINLENGTH"));return!(t&&t.length<e)}},{key:"getMessage",value:function(t){return u().getMessages()[t]||t}},{key:"updatePassState",value:function(){var t=this.state.valid,e=g().getState(this.refs.pass.getValue(),this.refs.confirm?this.refs.confirm.getValue():"");e.value=this.refs.pass.getValue(),this.setState(e),t!==e.valid&&this.props.onValidStatusChange&&this.props.onValidStatusChange(e.valid)}},{key:"onPasswordChange",value:function(t,e){this.updatePassState(),this.props.onChange(t,e)}},{key:"onConfirmChange",value:function(t,e){this.setState({confirmValue:e}),this.updatePassState(),this.props.onChange(t,this.state.value)}},{key:"render",value:function(){var t=this.props,r=t.disabled,n=t.className,o=t.attributes,i=t.dialogField,a=this.props,u=a.isDisplayGrid,c=(a.isDisplayForm,a.editMode),l=a.value,s=a.toggleEditMode,p=a.enterToToggle,f=a.variant;if(u()&&!c)return e().createElement("div",{onClick:r?function(){}:s,className:l?"":"paramValue-empty"},l||"Empty");var y={overflow:"hidden",whiteSpace:"nowrap",textOverflow:"ellipsis",width:"100%"},b=this.state.valid?"":"mui-error-as-hint";n&&(b=n+" "+b);var m,h={display:"flex"},d={flex:1};"v2"===f&&(h.height=66),"column"===o.direction&&(d=void 0,h.display="block",h.height="auto");var v=i?T.TextField:Pt;return l&&!r&&(m=[e().createElement("div",{key:"sep",style:{width:8}}),e().createElement(v,{key:"confirm",ref:"confirm",floatingLabelText:this.getMessage(199),floatingLabelShrinkStyle:dt(dt({},y),{},{width:"130%"}),floatingLabelStyle:y,className:b,value:this.state.confirmValue,onChange:this.onConfirmChange.bind(this),type:"password",multiLine:!1,disabled:r,fullWidth:!0,style:d,errorText:this.state.confirmErrorText,errorStyle:i?{bottom:15}:null,variant:f})]),e().createElement("form",{autoComplete:"off",onSubmit:function(t){t.stopPropagation(),t.preventDefault()}},e().createElement("div",{style:h},e().createElement(v,{ref:"pass",floatingLabelText:u()?null:o.label,floatingLabelShrinkStyle:dt(dt({},y),{},{width:"130%"}),floatingLabelStyle:y,className:b,value:this.state.value,onChange:this.onPasswordChange.bind(this),onKeyDown:p,type:"password",multiLine:!1,disabled:r,errorText:this.state.passErrorText,fullWidth:!0,style:d,errorStyle:i?{bottom:15}:null,variant:f}),m))}}],o&&gt(n.prototype,o),Object.defineProperty(n,"prototype",{writable:!1}),n;var n,o}(e().Component));function xt(t){return xt="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},xt(t)}function _t(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,Tt(n.key),n)}}function Tt(t){var e=function(t){if("object"!=xt(t)||!t)return t;var e=t[Symbol.toPrimitive];if(void 0!==e){var r=e.call(t,"string");if("object"!=xt(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}(t);return"symbol"==xt(e)?e:e+""}function kt(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))}catch(t){}return(kt=function(){return!!t})()}function Ct(t){return Ct=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},Ct(t)}function At(t,e){return At=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t},At(t,e)}var It=u().requireLib("hoc").ModernTextField;const Rt=d(function(t){function r(){return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,r),function(t,e,r){return e=Ct(e),function(t,e){if(e&&("object"==xt(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}(t,kt()?Reflect.construct(e,r||[],Ct(t).constructor):e.apply(t,r))}(this,r,arguments)}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&At(t,e)}(r,t),n=r,o=[{key:"keyDown",value:function(t){var e=0,r=1;if("Enter"!==t.key){"ArrowUp"===t.key?e=1:"ArrowDown"===t.key&&(e=-1),t.shiftKey&&(r=10);var n=parseInt(this.props.value);isNaN(n)&&(n=0);var o=n+e*r;this.props.onChange(null,o)}else this.props.toggleEditMode()}},{key:"render",value:function(){var t,r=this,n=this.props,o=n.value,i=n.isDisplayGrid,a=n.isDisplayForm,u=n.editMode,c=n.disabled,l=n.toggleEditMode,s=n.attributes,p=n.variant;return i()&&!u?e().createElement("div",{onClick:c?function(){}:l,className:o?"":"paramValue-empty"},o||"Empty"):(o?(t=parseInt(o)+"",isNaN(t)&&(t=o+"")):t="0",e().createElement("span",{className:"integer-input"},e().createElement(It,{value:t,onChange:function(t,e){return r.props.onChange(t,e)},onKeyDown:function(t){return r.keyDown(t)},disabled:c,fullWidth:!0,variant:p,hintText:a()?s.label:null})))}}],o&&_t(n.prototype,o),Object.defineProperty(n,"prototype",{writable:!1}),n;var n,o}(e().Component)),Dt=require("pydio/http/api");var Mt=r.n(Dt);function Nt(t){return Nt="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Nt(t)}function Ft(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),r.push.apply(r,n)}return r}function Bt(t){for(var e=1;e<arguments.length;e++){var r=null!=arguments[e]?arguments[e]:{};e%2?Ft(Object(r),!0).forEach((function(e){Lt(t,e,r[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):Ft(Object(r)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(r,e))}))}return t}function Lt(t,e,r){return(e=Ut(e))in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function Vt(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,Ut(n.key),n)}}function Ut(t){var e=function(t){if("object"!=Nt(t)||!t)return t;var e=t[Symbol.toPrimitive];if(void 0!==e){var r=e.call(t,"string");if("object"!=Nt(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}(t);return"symbol"==Nt(e)?e:e+""}function Wt(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))}catch(t){}return(Wt=function(){return!!t})()}function Ht(t){return Ht=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},Ht(t)}function Gt(t,e){return Gt=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t},Gt(t,e)}var qt=r(2015);const $t=function(t){function e(t){var r;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e),(r=function(t,e,r){return e=Ht(e),function(t,e){if(e&&("object"==Nt(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}(t,Wt()?Reflect.construct(e,r||[],Ht(t).constructor):e.apply(t,r))}(this,e,[Bt({onDrop:function(){}},t)])).state={isDragActive:!1,supportClick:void 0===t.supportClick||t.supportClick,multiple:void 0===t.multiple||t.multiple},r}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&Gt(t,e)}(e,t),r=e,n=[{key:"onDragLeave",value:function(t){this.setState({isDragActive:!1})}},{key:"onDragOver",value:function(t){t.preventDefault(),t.dataTransfer.dropEffect="copy",this.setState({isDragActive:!0})}},{key:"onFilePicked",value:function(t){if(t.target&&t.target.files){var e=t.target.files,r=this.state.multiple?e.length:1;e=Array.prototype.slice.call(e,0,r),this.props.onDrop&&this.props.onDrop(e,t,this)}}},{key:"onFolderPicked",value:function(t){this.props.onFolderPicked&&this.props.onFolderPicked(t.target.files)}},{key:"onDrop",value:function(t){if(this.setState({isDragActive:!1}),t.preventDefault(),!this.props.ignoreNativeDrop){var e;t.dataTransfer?e=t.dataTransfer.files:t.target&&(e=t.target.files);for(var r=this.state.multiple?e.length:1,n=0;n<r;n++)e[n].preview=URL.createObjectURL(e[n]);this.props.onDrop&&(e=Array.prototype.slice.call(e,0,r),this.props.onDrop(e,t,this))}}},{key:"onClick",value:function(){!0===this.state.supportClick&&this.open()}},{key:"open",value:function(){this.refs.fileInput.click()}},{key:"openFolderPicker",value:function(){this.refs.folderInput.setAttribute("webkitdirectory","true"),this.refs.folderInput.click()}},{key:"render",value:function(){var t=this,e=this.props.className||"file-dropzone";this.state.isDragActive&&(e+=" active");var r,n={width:this.props.size||100,height:this.props.size||100};return this.props.style&&(n=Bt(Bt({},n),this.props.style)),this.state.isDragActive&&this.props.dragActiveStyle&&(n=Bt(Bt({},n),this.props.dragActiveStyle)),this.props.enableFolders&&(r=qt.createElement("input",{style:{display:"none"},name:"userfolder",type:"file",ref:"folderInput",onChange:function(e){return t.onFolderPicked(e)}})),qt.createElement("div",{className:e,style:n,onClick:this.onClick.bind(this),onDragLeave:this.onDragLeave.bind(this),onDragOver:this.onDragOver.bind(this),onDrop:this.onDrop.bind(this)},qt.createElement("input",{style:{display:"none"},name:"userfile",type:"file",multiple:this.state.multiple,ref:"fileInput",value:"",onChange:this.onFilePicked.bind(this),accept:this.props.accept}),r,this.props.children)}}],n&&Vt(r.prototype,n),Object.defineProperty(r,"prototype",{writable:!1}),r;var r,n}(qt.Component);var zt=r(7919),Jt=r.n(zt);function Kt(t){return Kt="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Kt(t)}function Yt(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),r.push.apply(r,n)}return r}function Xt(t){for(var e=1;e<arguments.length;e++){var r=null!=arguments[e]?arguments[e]:{};e%2?Yt(Object(r),!0).forEach((function(e){Zt(t,e,r[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):Yt(Object(r)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(r,e))}))}return t}function Zt(t,e,r){return(e=te(e))in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function Qt(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,te(n.key),n)}}function te(t){var e=function(t){if("object"!=Kt(t)||!t)return t;var e=t[Symbol.toPrimitive];if(void 0!==e){var r=e.call(t,"string");if("object"!=Kt(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}(t);return"symbol"==Kt(e)?e:e+""}function ee(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))}catch(t){}return(ee=function(){return!!t})()}function re(t){return re=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},re(t)}function ne(t,e){return ne=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t},ne(t,e)}var oe=(0,u().requireLib("hoc").NativeFileDropProvider)($t,(function(t,e,r){}));const ie=function(t){function r(t){var e,n,o;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,r),(e=function(t,e,r){return e=re(e),function(t,e){if(e&&("object"==Kt(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}(t,ee()?Reflect.construct(e,r||[],re(t).constructor):e.apply(t,r))}(this,r,[t])).props.value?(n=e.getBinaryUrl(e.props),o=e.props.value):e.props.attributes.defaultImage&&(n=e.props.attributes.defaultImage),e.state={imageSrc:n,originalBinary:o,value:e.props.value},e}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&ne(t,e)}(r,t),n=r,(o=[{key:"componentWillReceiveProps",value:function(t){var e;(t.value||t.binary_context&&t.binary_context!==this.props.binary_context)&&!this.state.reset?e=this.getBinaryUrl(t,this.state.temporaryBinary&&this.state.temporaryBinary===t.value):t.attributes.defaultImage&&(e=t.attributes.defaultImage),e&&this.setState({imageSrc:e,reset:!1,value:t.value})}},{key:"getBinaryUrl",value:function(t){var e=Mt().getClient().getPydioObject().Parameters.get("ENDPOINT_REST_API")+t.attributes.loadAction,r=t.value;return t.binary_context&&0===t.binary_context.indexOf("user_id=")&&(r=t.binary_context.replace("user_id=","")),e.replace("{BINARY}",r)}},{key:"getUploadUrl",value:function(){var t,e=Mt().getClient().getPydioObject().Parameters.get("ENDPOINT_REST_API")+this.props.attributes.uploadAction;return t=this.props.binary_context&&0===this.props.binary_context.indexOf("user_id=")?this.props.binary_context.replace("user_id=",""):this.props.value?this.props.value:Jt().computeStringSlug(this.props.attributes.name+".png"),e.replace("{BINARY}",t)}},{key:"uploadComplete",value:function(t){var e=this.state.value;if(this.setState({temporaryBinary:t,value:null}),this.props.onChange){var r={type:"binary"};this.state.originalBinary&&(r.original_binary=this.state.originalBinary),this.props.onChange(t,e,r),this.setState({dirty:!0,value:t})}}},{key:"htmlUpload",value:function(){window.formManagerHiddenIFrameSubmission=function(t){this.uploadComplete(t.trim()),window.formManagerHiddenIFrameSubmission=null}.bind(this),this.refs.uploadForm.submit()}},{key:"onDrop",value:function(t,e,r){var n=this;if(0!==t.length){var o=u().getMessages();"avatar"===this.props.name&&t[0].size>5242880?this.setState({error:o["form.input-image.avatarMax"]}):-1!==["image/jpeg","image/png","image/bmp","image/tiff","image/webp"].indexOf(t[0].type)?(this.setState({error:null}),Mt().supportsUpload()?(this.setState({loading:!0}),Mt().getRestClient().getOrUpdateJwt().then((function(e){var r={customHeaders:{Authorization:"Bearer "+e}};Mt().getClient().uploadFile(t[0],"userfile","",(function(t){var e=JSON.parse(t.responseText);e&&e.binary&&n.uploadComplete(e.binary),n.setState({loading:!1})}),(function(t){n.setState({loading:!1,error:t})}),(function(t){}),n.getUploadUrl(),r)}))):this.htmlUpload()):this.setState({error:o["form.input-image.fileTypes"]})}}},{key:"clearImage",value:function(){if(confirm(u().getMessages()["form.input-image.clearConfirm"])){var t=this.state.value;this.setState({value:null,error:null,reset:!0},function(){this.props.onChange("",t,{type:"binary"})}.bind(this))}}},{key:"render",value:function(){var t=this,r=this.state,n=r.loading,o=r.error,i=this.state.imageSrc,a=this.props.attributes,c=a.defaultImage===i;i.indexOf("[mode]")>-1&&(i=i.replace("[mode]","light"));var l,s={backgroundImage:"url("+i+")",backgroundPosition:"50% 50%",backgroundSize:"cover",position:"relative"},p={};o?(p={backgroundColor:"rgba(255, 255, 255, 0.77)",borderRadius:"50%"},l=e().createElement("div",{style:{color:"#F44336",textAlign:"center",fontSize:11,cursor:"pointer"},onClick:function(){t.setState({error:null})}},e().createElement("span",{className:"mdi mdi-alert",style:{fontSize:40}}),e().createElement("br",null),o)):l=n?e().createElement(T.CircularProgress,{mode:"indeterminate"}):e().createElement("span",{className:"mdi mdi-camera",style:{fontSize:40,opacity:.5,color:c?null:"white"}});var f=this.props.variant;return e().createElement("div",{style:"v2"===f?{backgroundColor:"#f6f6f8"}:null},e().createElement("div",{className:"image-label"},a.label),e().createElement("form",{ref:"uploadForm",encType:"multipart/form-data",target:"uploader_hidden_iframe",method:"post",action:this.getUploadUrl()},e().createElement(oe,{onDrop:this.onDrop.bind(this),accept:"image/*",style:s},e().createElement("div",{style:Xt({width:"100%",height:"100%",display:"flex",alignItems:"center",justifyContent:"center"},p)},l))),!c&&e().createElement("div",{className:"binary-remove-button",onClick:this.clearImage.bind(this)},e().createElement("span",{key:"remove",className:"mdi mdi-close"})," ",u().getMessages()["form.input-image.clearButton"]),e().createElement("iframe",{style:{display:"none"},id:"uploader_hidden_iframe",name:"uploader_hidden_iframe"}))}}])&&Qt(n.prototype,o),Object.defineProperty(n,"prototype",{writable:!1}),n;var n,o}(e().Component),ae=require("pydio/model/repository");var ue=r.n(ae);function ce(t){return ce="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},ce(t)}function le(){return le=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)({}).hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},le.apply(null,arguments)}function se(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,pe(n.key),n)}}function pe(t){var e=function(t){if("object"!=ce(t)||!t)return t;var e=t[Symbol.toPrimitive];if(void 0!==e){var r=e.call(t,"string");if("object"!=ce(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}(t);return"symbol"==ce(e)?e:e+""}function fe(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))}catch(t){}return(fe=function(){return!!t})()}function ye(t){return ye=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},ye(t)}function be(t,e){return be=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t},be(t,e)}var me=r(2015).Component,he=r(4217).requireLib("boot").PydioContextConsumer;function de(t){return he(function(e){function r(t,e){var n;!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,r),n=function(t,e,r){return e=ye(e),function(t,e){if(e&&("object"==ce(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}(t,fe()?Reflect.construct(e,r||[],ye(t).constructor):e.apply(t,r))}(this,r,[t,e]);var o=new Map;return o.set("0",n.props.pydio?n.props.pydio.MessageHash["ajxp_admin.home.6"]:" ... "),n.state={choices:o,choicesParsed:!1},n}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&be(t,e)}(r,e),n=r,o=[{key:"loadExternalValues",value:function(t){var e,r=this,n=this.props.pydio,o=!0;if(t instanceof Map)return this.onChoicesLoaded&&this.onChoicesLoaded(t),{choices:t,parsed:o};var i=new Map;if(0===t.indexOf("json_file:"))o=!1,e=t.replace("json_file:",""),i.set("0",n.MessageHash["ajxp_admin.home.6"]),Mt().getClient().loadFile(e,(function(e){var n=new Map;if(e.responseJSON)e.responseJSON.forEach((function(t){n.set(t.key,t.label)}));else if(e.responseText)try{JSON.parse(e.responseText).forEach((function(t){n.set(t.key,t.label)}))}catch(e){console.log("Error while parsing list "+t,e)}r.setState({choices:n},(function(){r.onChoicesLoaded&&r.onChoicesLoaded(n)}))}));else if("PYDIO_AVAILABLE_LANGUAGES"===t)n.listLanguagesWithCallback((function(t,e){i.set(t,e)})),this.onChoicesLoaded&&this.onChoicesLoaded(i);else if("PYDIO_AVAILABLE_REPOSITORIES"===t){if(n.user){var a=[],u=[];n.user.repositories.forEach((function(t){ue().isInternal(t.getId())?u.push({id:t.getId(),label:"["+n.MessageHash[331]+"] "+t.getLabel()}):"cell"!==t.getRepositoryType()&&a.push({id:t.getId(),label:t.getLabel()})})),a.sort((function(t,e){return t.label.localeCompare(e.label,void 0,{numeric:!0})})),a.push.apply(a,u),a.forEach((function(t){return i.set(t.id,t.label)}))}this.onChoicesLoaded&&this.onChoicesLoaded(i)}else t.split(",").map((function(t){var e,r,o=t.split("|");o.length>1?(r=o[0],e=o[1]):r=e=t,n.MessageHash[e]&&(e=n.MessageHash[e]),i.set(r,e)}));return{choices:i,parsed:o}}},{key:"componentDidMount",value:function(){if(this.props.attributes.choices){var t=this.loadExternalValues(this.props.attributes.choices),e=t.choices,r=t.parsed;this.setState({choices:e,choicesParsed:r})}}},{key:"componentWillReceiveProps",value:function(t){if(t.attributes.choices&&t.attributes.choices!==this.props.attributes.choices){var e=this.loadExternalValues(t.attributes.choices),r=e.choices,n=e.parsed;this.setState({choices:r,choicesParsed:n})}}},{key:"render",value:function(){return React.createElement(t,le({},this.props,this.state))}}],o&&se(n.prototype,o),Object.defineProperty(n,"prototype",{writable:!1}),n;var n,o}(me))}function ve(t){return ve="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},ve(t)}function ge(){return ge=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)({}).hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},ge.apply(null,arguments)}function Se(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,Oe(n.key),n)}}function Oe(t){var e=function(t){if("object"!=ve(t)||!t)return t;var e=t[Symbol.toPrimitive];if(void 0!==e){var r=e.call(t,"string");if("object"!=ve(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}(t);return"symbol"==ve(e)?e:e+""}function we(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))}catch(t){}return(we=function(){return!!t})()}function je(t){return je=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},je(t)}function Pe(t,e){return Pe=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t},Pe(t,e)}var Ee=r(6146),xe=Ee.MenuItem,_e=Ee.Chip,Te=r(7919),ke=u().requireLib("hoc").ModernSelectField,Ce=function(r){function n(){return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,n),function(t,e,r){return e=je(e),function(t,e){if(e&&("object"==ve(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}(t,we()?Reflect.construct(e,r||[],je(t).constructor):e.apply(t,r))}(this,n,arguments)}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&Pe(t,e)}(n,r),o=n,i=[{key:"onDropDownChange",value:function(t,e,r){this.props.onChange(t,r),this.props.toggleEditMode()}},{key:"onMultipleSelect",value:function(t,e,r){if(-1!==r){var n=this.props.value,o="string"==typeof n?n.split(","):n;-1===o.indexOf(r)&&(o.push(r),this.props.onChange(t,o.join(","))),this.props.toggleEditMode()}}},{key:"onMultipleRemove",value:function(t){var e=this.props.value,r="string"==typeof e?e.split(","):e;-1!==r.indexOf(t)&&(r=Te.arrayWithout(r,r.indexOf(t)),this.props.onChange(null,r.join(",")))}},{key:"render",value:function(){var r=this,n=this.props.value,o=[],i=this.props,a=i.attributes,u=i.isDisplayGrid,c=i.toggleEditMode,l=i.editMode,s=i.disabled,p=i.multiple,f=i.className,y=i.variant;a.mandatory&&"true"===a.mandatory||o.push(e().createElement(xe,{value:-1,primaryText:e().createElement(t.Fragment,null,a.label,"...")}));var b=this.props.choices;if(b.forEach((function(t,r){o.push(e().createElement(xe,{value:r,primaryText:t}))})),u()&&!l){var m=this.props.value;return b.get(m)&&(m=b.get(m)),e().createElement("div",{onClick:s?function(){}:c,className:m?"":"paramValue-empty"},m||"Empty"," ",e().createElement("span",{className:"mdi mdi-chevron-down"}))}if(p&&!0===p){var h=n;"string"==typeof n&&(h=n.split(","));var d=e().createElement("div",{style:{display:"flex",flexWrap:"wrap",marginTop:"v2"===y?22:8}},h.map((function(t){return e().createElement(_e,{style:{marginRight:8},onRequestDelete:function(){r.onMultipleRemove(t)}},b.get(t)||t)}))),v={};return"v2"===y&&(o=[e().createElement(xe,{value:-1,primaryText:d})],b.forEach((function(t,r){o.push(e().createElement(xe,{value:r,primaryText:t}))})),v.hintText=a.label,v.style={height:72},v.dropDownMenuProps={iconStyle:{fill:"#9e9e9e",top:22,right:0}}),e().createElement("span",{className:"multiple has-value"},"v2"!==y&&d,e().createElement(ke,ge({value:-1,onChange:function(t,e,n){return r.onMultipleSelect(t,e,n)},fullWidth:!0,className:f,variant:y,disabled:s},v),o))}return e().createElement("span",null,e().createElement(ke,{hintText:a.label,value:n,onChange:function(t,e,n){return r.onDropDownChange(t,e,n)},fullWidth:!0,className:f,variant:y,disabled:s},o))}}],i&&Se(o.prototype,i),Object.defineProperty(o,"prototype",{writable:!1}),o;var o,i}(e().Component);function Ae(t){return Ae="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Ae(t)}function Ie(){return Ie=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)({}).hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},Ie.apply(null,arguments)}function Re(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,De(n.key),n)}}function De(t){var e=function(t){if("object"!=Ae(t)||!t)return t;var e=t[Symbol.toPrimitive];if(void 0!==e){var r=e.call(t,"string");if("object"!=Ae(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}(t);return"symbol"==Ae(e)?e:e+""}function Me(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))}catch(t){}return(Me=function(){return!!t})()}function Ne(t){return Ne=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},Ne(t)}function Fe(t,e){return Fe=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t},Fe(t,e)}Ce=de(Ce=d(Ce,!0));var Be=r(2015),Le=r(6146),Ve=Le.AutoComplete,Ue=Le.MenuItem,We=Le.RefreshIndicator,He=u().requireLib("hoc"),Ge=He.ThemedModernStyles,qe=He.ModernAutoComplete,$e=function(t){function e(){return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e),function(t,e,r){return e=Ne(e),function(t,e){if(e&&("object"==Ae(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}(t,Me()?Reflect.construct(e,r||[],Ne(t).constructor):e.apply(t,r))}(this,e,arguments)}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&Fe(t,e)}(e,t),r=e,(n=[{key:"handleUpdateInput",value:function(t){}},{key:"handleNewRequest",value:function(t){void 0===t.key?this.props.onChange(null,t):this.props.onChange(null,t.key)}},{key:"render",value:function(){var t=this,e=this.props,r=e.choices,n=e.isDisplayGrid,o=e.editMode,i=e.disabled,a=e.toggleEditMode,u=e.variant,c=e.muiTheme,l=[],s={};r.forEach((function(t,e){l.push({key:e,text:t,value:Be.createElement(Ue,null,t)}),s[e]=t}));var p=this.props.value;return s&&s[p]&&(p=s[p]),n()&&!o||i?(r.get(p)&&(p=r.get(p)),Be.createElement("div",{onClick:i?function(){}:a,className:p?"":"paramValue-empty"},p||"Empty"," ",Be.createElement("span",{className:"mdi mdi-chevron-down"}))):Be.createElement("div",{className:"pydioform_autocomplete",style:{position:"relative"}},!l.length&&Be.createElement(We,{size:30,right:10,top:0,status:"loading"}),"v2"!==u&&l.length&&Be.createElement(Ve,Ie({fullWidth:!0,searchText:p,onUpdateInput:function(e){return t.handleUpdateInput(e)},onNewRequest:function(e){return t.handleNewRequest(e)},dataSource:l,hintText:this.props.attributes.label,filter:function(t,e){return!(!e||!t)&&0===e.toLowerCase().indexOf(t.toLowerCase())},openOnFocus:!0,menuProps:{maxHeight:200}},Ge(c).textField)),"v2"===u&&l.length&&Be.createElement(qe,{fullWidth:!0,searchText:p,onUpdateInput:function(e){return t.handleUpdateInput(e)},onNewRequest:function(e){return t.handleNewRequest(e)},dataSource:l,hintText:this.props.attributes.label,filter:function(t,e){return!(!e||!t)&&0===e.toLowerCase().indexOf(t.toLowerCase())},openOnFocus:!0,menuProps:{maxHeight:200},autoComplete:"no-completion"}))}}])&&Re(r.prototype,n),Object.defineProperty(r,"prototype",{writable:!1}),r;var r,n}(Be.Component);function ze(t){return ze="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},ze(t)}function Je(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,Ke(n.key),n)}}function Ke(t){var e=function(t){if("object"!=ze(t)||!t)return t;var e=t[Symbol.toPrimitive];if(void 0!==e){var r=e.call(t,"string");if("object"!=ze(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}(t);return"symbol"==ze(e)?e:e+""}function Ye(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))}catch(t){}return(Ye=function(){return!!t})()}function Xe(t){return Xe=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},Xe(t)}function Ze(t,e){return Ze=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t},Ze(t,e)}$e=de($e=d($e=(0,tt.muiThemeable)()($e)));var Qe=r(2015),tr=r(9862),er=r(6146),rr=er.AutoComplete,nr=er.MenuItem,or=er.RefreshIndicator,ir=er.FontIcon;const ar=d(function(t){function e(){return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e),function(t,e,r){return e=Xe(e),function(t,e){if(e&&("object"==ze(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}(t,Ye()?Reflect.construct(e,r||[],Xe(t).constructor):e.apply(t,r))}(this,e,arguments)}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&Ze(t,e)}(e,t),r=e,n=[{key:"handleUpdateInput",value:function(t){this.debounced(),this.setState({searchText:t})}},{key:"handleNewRequest",value:function(t){var e;e=void 0===t.key?t:t.key,this.props.onChange(null,e),this.loadValues(e)}},{key:"componentWillMount",value:function(){this.debounced=tr(this.loadValues.bind(this),300),this.lastSearch=null;var t="";this.props.value&&(t=this.props.value),this.loadValues(t)}},{key:"loadValues",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",e=t;if(!t&&this.state.searchText){var r=this.state.searchText.lastIndexOf("/");e=this.state.searchText.substr(0,r)}null!==this.lastSearch&&this.lastSearch===e||(this.lastSearch=e)}},{key:"render",value:function(){var t=[];this.state&&this.state.nodes&&this.state.nodes.forEach((function(e){var r="mdi mdi-folder";e.uuid.startsWith("DATASOURCE:")&&(r="mdi mdi-database"),t.push({key:e.path,text:e.path,value:Qe.createElement(nr,null,Qe.createElement(ir,{className:r,color:"#616161",style:{float:"left",marginRight:8}})," ",e.path)})}));var e=this.state.value;return Qe.createElement("div",{className:"pydioform_autocomplete",style:{position:"relative"}},!t.length&&Qe.createElement(or,{size:30,right:10,top:0,status:"loading"}),Qe.createElement(rr,{fullWidth:!0,searchText:e,onUpdateInput:this.handleUpdateInput.bind(this),onNewRequest:this.handleNewRequest.bind(this),dataSource:t,floatingLabelText:this.props.attributes.label,filter:function(t,e){return 0===e.toLowerCase().indexOf(t.toLowerCase())},openOnFocus:!0,menuProps:{maxHeight:200}}))}}],n&&Je(r.prototype,n),Object.defineProperty(r,"prototype",{writable:!1}),r;var r,n}(Qe.Component));function ur(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),r.push.apply(r,n)}return r}function cr(t){for(var e=1;e<arguments.length;e++){var r=null!=arguments[e]?arguments[e]:{};e%2?ur(Object(r),!0).forEach((function(e){lr(t,e,r[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):ur(Object(r)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(r,e))}))}return t}function lr(t,e,r){return(e=yr(e))in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function sr(t){return sr="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},sr(t)}function pr(){return pr=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)({}).hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},pr.apply(null,arguments)}function fr(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,yr(n.key),n)}}function yr(t){var e=function(t){if("object"!=sr(t)||!t)return t;var e=t[Symbol.toPrimitive];if(void 0!==e){var r=e.call(t,"string");if("object"!=sr(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}(t);return"symbol"==sr(e)?e:e+""}var br=function(){function t(){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t)}return n=t,o=[{key:"hasHelper",value:function(e,r){var n=t.getHelpersCache();return n[e]&&n[e].parameters[r]}},{key:"getHelpersCache",value:function(){if(!t.HELPERS_CACHE){for(var e={},r=i().XPathSelectNodes(window.pydio.Registry.getXML(),'plugins/*/client_settings/resources/js[@type="helper"]'),n=0;n<r.length;n++){var o=r[n],a=o.getAttribute("plugin");e[a]={namespace:o.getAttribute("className"),parameters:{}};for(var u=i().XPathSelectNodes(o,"parameter"),c=0;c<u.length;c++){var l=u[c];e[a].parameters[l.getAttribute("name")]=!0}}t.HELPERS_CACHE=e}return t.HELPERS_CACHE}},{key:"parseParameters",value:function(e,r){return i().XPathSelectNodes(e,r).map(function(e){return t.parameterNodeToHash(e)}.bind(this))}},{key:"parameterNodeToHash",value:function(t){var e=t.attributes,n={};t.parentNode&&t.parentNode.parentNode&&t.parentNode.parentNode.getAttribute&&(n.pluginId=t.parentNode.parentNode.getAttribute("id"));for(var o=!1,i=r.g.pydio.MessageHash,a=0;a<e.length;a++){var u=e.item(a).nodeName,c=e.item(a).value;"label"!==u&&"description"!==u&&"group"!==u&&0!==u.indexOf("group_switch_")||!i[c]||(c=i[c]),"cdatavalue"!==u?n[u]=c:o=!0}return o&&(n.value=t.firstChild.value),"boolean"===n.type?(void 0!==n.value&&(n.value="true"===n.value),void 0!==n.default&&(n.default="true"===n.default)):"integer"!==n.type&&"integer-bytes"!==n.type||(void 0!==n.value&&(n.value=parseInt(n.value)),void 0!==n.default&&(n.default=parseInt(n.default))),n}},{key:"createFormElement",value:function(t){var r,n=t.attributes,o=t.onAltTextSwitch,i=t.altTextSwitchIcon,a={onAltTextSwitch:o,altTip:t.altTextSwitchTip,altIconText:i};switch(n.type){case"boolean":r=e().createElement(bt,t),o&&(r=e().createElement(H,pr({},t,a,{altIcon:"mdi mdi-toggle-switch"}),r));break;case"string":case"textarea":case"password":r=e().createElement(N,t);break;case"valid-password":r=e().createElement(Et,t);break;case"valid-login":r=e().createElement(_,t);break;case"integer":case"integer-bytes":r="integer-bytes"===n.type?e().createElement(Q,t):e().createElement(Rt,t),o&&(r=e().createElement(H,pr({},t,a,{altIcon:"mdi mdi-number"}),r));break;case"image":r=e().createElement(ie,t);break;case"select":r=e().createElement(Ce,t),o&&(r=e().createElement(H,pr({},t,a,{altIcon:"mdi mdi-view-list"}),r));break;case"autocomplete":r=e().createElement($e,t);break;case"autocomplete-tree":r=e().createElement(ar,t);break;case"legend":case"hidden":r=null;break;default:r=t.value?t.value:e().createElement("span",{className:"paramValue-empty"},"Empty")}return r}},{key:"SlashesToJson",value:function(e){if(void 0===e||"object"!==sr(e))return e;var r={},n={};return Object.keys(e).forEach((function(t){var o=e[t];if(t.indexOf("/")>0){var i=t.split("/"),a=i.shift(),u=i.join("/");r[a]?"string"==typeof r[a]&&(r[a]={"@value":r[a]}):r[a]={},r[a][u]=o,n[a]=a}else r[t]&&"object"===sr(r[t])?r[t]["@value"]=o:r[t]=o})),Object.keys(n).map((function(e){r[e]=t.SlashesToJson(r[e])})),r}},{key:"JsonToSlashes",value:function(e){var r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"",n={};return Object.keys(e).forEach((function(o){if("object"===sr(e[o])){var i=t.JsonToSlashes(e[o],r+o+"/");n=cr(cr({},n),i),e[o]["@value"]&&(n[r+o]=e[o]["@value"])}else n[r+o]=e[o]})),n}},{key:"getValuesForPOST",value:function(t,e){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"DRIVER_OPTION_",n=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null,o={};for(var i in e)if(e.hasOwnProperty(i)){o[r+i]=e[i];for(var a=null,u=0;u<t.length;u++)if(t[u].name==i){a=t[u].type;break}if(!a){var c,l,s=i.split("/");s.length>1&&(c=s.pop(),l=s.pop());for(var p=0;p<t.length;p++)if(void 0!==c){if(t[p].name==c&&t[p].group_switch_name&&t[p].group_switch_name==l){a=t[p].type;break}}else if(t[p].name==i){a=t[p].type;break}}if(a&&("image"==a&&(a="binary"),o[r+i+"_ajxptype"]=a),n&&n[i])for(var f in n[i])n[i].hasOwnProperty(f)&&(o[r+i+"_"+f]=n[i][f])}var y=Object.keys(o);y.sort(),y.reverse();var b={};for(i in y.map((function(t){if(-1!==t.indexOf("/")&&!t.endsWith("_ajxptype")){for(var e,r=t+"_ajxptype",n=t.split("/"),i=n.shift();n.length>0;)e||(e=b),e[i]||(e[i]={}),e=e[i],i=n.shift();var a=o[r];if(delete o[r],e&&!e[i])if("boolean"===a){var u=o[t];e[i]="true"===u||1===u||!0===u}else"integer"===a||"integer-bytes"===a?e[i]=parseInt(o[t]):a&&a.startsWith("group_switch:")&&"string"==typeof o[t]?e[i]={group_switch_value:o[t]}:e[i]=o[t];else e&&a&&a.startsWith("group_switch:")&&(e[i].group_switch_value=o[t]);delete o[t]}})),b)if(b.hasOwnProperty(i)){var m=b[i];o[i+"_ajxptype"]&&0===o[i+"_ajxptype"].indexOf("group_switch:")&&!m.group_switch_value&&(m.group_switch_value=o[i]),o[i]=JSON.stringify(m),o[i+"_ajxptype"]="text/json"}for(var h in o)o.hasOwnProperty(h)&&(-1==h.indexOf("/")&&o[h]&&o[h+"_ajxptype"]&&o[h+"_ajxptype"].startsWith("group_switch:")&&"string"==typeof o[h]&&(o[h]=JSON.stringify({group_switch_value:o[h]}),o[h+"_ajxptype"]="text/json"),o.hasOwnProperty(h)&&h.endsWith("_group_switch")&&delete o[h]);return o}}],null&&fr(n.prototype,null),o&&fr(n,o),Object.defineProperty(n,"prototype",{writable:!1}),n;var n,o}();const mr=require("create-react-class");var hr=r.n(mr);function dr(t){return dr="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},dr(t)}function vr(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,jr(n.key),n)}}function gr(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))}catch(t){}return(gr=function(){return!!t})()}function Sr(t){return Sr=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},Sr(t)}function Or(t,e){return Or=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t},Or(t,e)}function wr(t,e,r){return(e=jr(e))in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function jr(t){var e=function(t){if("object"!=dr(t)||!t)return t;var e=t[Symbol.toPrimitive];if(void 0!==e){var r=e.call(t,"string");if("object"!=dr(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}(t);return"symbol"==dr(e)?e:e+""}var Pr=r(2015),Er=r(9825),xr=r(7919),_r=function(t){function e(){var t;!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e);for(var r=arguments.length,n=new Array(r),o=0;o<r;o++)n[o]=arguments[o];return wr(t=function(t,e,r){return e=Sr(e),function(t,e){if(e&&("object"==dr(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}(t,gr()?Reflect.construct(e,r||[],Sr(t).constructor):e.apply(t,r))}(this,e,[].concat(n)),"computeSubPanelParameters",(function(){var e=t.props.paramAttributes.type.split(":").pop(),r=t.props.paramAttributes.name,n={},o=[];for(var i in t.props.parameters.map(function(t){if(t.group_switch_name)if(t.group_switch_name===e){var i=t.group_switch_value;n[i]||(n[i]={label:t.group_switch_label,fields:[],values:{},fieldsKeys:{}}),delete(t=xr.deepCopy(t)).group_switch_name,t.name=r+"/"+t.name;var a=t.name,u=a;n[i].fieldsKeys[u]||(n[i].fields.push(t),n[i].fieldsKeys[u]=u,this.props.values&&this.props.values[a]&&(n[i].values[u]=this.props.values[a]))}else o.push(t)}.bind(t)),n)if(n.hasOwnProperty(i)){var a=n[i];a.fields=a.fields.concat(o)}return n})),wr(t,"clearSubParametersValues",(function(e,r,n){var o=xr.deepCopy(t.props.values),i={};for(var a in o)o.hasOwnProperty(a)&&0===a.indexOf(e+"/")&&(i[a]="");o[e]=r,n.map((function(t){"hidden"==t.type&&t.default&&!t.group_switch_name||t.group_switch_name==e?(o[t.name]=t.default,void 0!==i[t.name]&&delete i[t.name]):0===t.name.indexOf(e+"/")&&t.default&&(t.type&&t.type.startsWith("group_switch:"),o[t.name]=t.default)})),t.props.onChange(o,!0,i)})),wr(t,"onChange",(function(e,r,n){t.props.onChange(e,!0,n)})),t}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&Or(t,e)}(e,t),r=e,(n=[{key:"render",value:function(){var t=this.props,e=t.variant,r=t.variantShowLegend,n=t.onValidStatusChange,o=t.onParameterChange,i=t.applyButtonAction,a=t.values,u=t.paramAttributes,c=u.name,l=this.computeSubPanelParameters(u),s=new Map;Object.keys(l).map((function(t){s.set(t,l[t].label)}));var p,f,y=function(t){this.clearSubParametersValues(c,t,l[t]?l[t].fields:[])}.bind(this),b=Pr.createElement(Ce,{key:c,name:c,className:"group-switch-selector",attributes:{name:c,choices:s,label:u.label+(r?" - "+u.description:""),mandatory:u.mandatory},value:a[c],onChange:y,displayContext:"form",disabled:this.props.disabled,ref:"subFormSelector",variant:this.props.variant});if(this.props.setHelperData&&this.props.checkHasHelper&&this.props.checkHasHelper(u.name,this.props.helperTestFor)){var m=function(){this.props.setHelperData({paramAttributes:u,values:a})}.bind(this);f=Pr.createElement("span",{className:"mdi mdi-comment-question-outline",onClick:m})}if(a[c]&&l[a[c]]){var h=this.props,d=h.onAltTextSwitch,v=h.altTextSwitchIcon,g=h.altTextSwitchTip;p=Pr.createElement(xn,{onParameterChange:o,onValidStatusChange:n,applyButtonAction:i,disabled:this.props.disabled,ref:c+"-SUB",key:c+"-SUB",className:"sub-form",groupSwitchName:c,groupSwitchValue:a[c],parameters:l[a[c]].fields,values:a,depth:this.props.depth+1,onChange:this.onChange,checkHasHelper:this.props.checkHasHelper,setHelperData:this.props.setHelperData,helperTestFor:a[c],accordionizeIfGroupsMoreThan:5,onAltTextSwitch:d,altTextSwitchIcon:v,altTextSwitchTip:g,variant:this.props.variant,variantShowLegend:this.props.variantShowLegend})}return Pr.createElement("div",{className:"sub-form-group"},"v2"!==e&&Pr.createElement("div",{className:"form-legend"},u.description," ",f),b,p)}}])&&vr(r.prototype,n),Object.defineProperty(r,"prototype",{writable:!1}),r;var r,n}(Pr.Component);function Tr(t){return Tr="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Tr(t)}function kr(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),r.push.apply(r,n)}return r}function Cr(t){for(var e=1;e<arguments.length;e++){var r=null!=arguments[e]?arguments[e]:{};e%2?kr(Object(r),!0).forEach((function(e){Ar(t,e,r[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):kr(Object(r)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(r,e))}))}return t}function Ar(t,e,r){return(e=Dr(e))in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function Ir(){return Ir=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)({}).hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},Ir.apply(null,arguments)}function Rr(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,Dr(n.key),n)}}function Dr(t){var e=function(t){if("object"!=Tr(t)||!t)return t;var e=t[Symbol.toPrimitive];if(void 0!==e){var r=e.call(t,"string");if("object"!=Tr(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}(t);return"symbol"==Tr(e)?e:e+""}function Mr(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))}catch(t){}return(Mr=function(){return!!t})()}function Nr(t){return Nr=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},Nr(t)}function Fr(t,e){return Fr=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t},Fr(t,e)}wr(_r,"propTypes",{paramAttributes:Er.object.isRequired,parameters:Er.array.isRequired,values:Er.object.isRequired,onChange:Er.func.isRequired});var Br="mdi mdi-chevron-up",Lr="mdi mdi-chevron-down",Vr="mdi mdi-delete-circle",Ur="mdi mdi-plus",Wr=function(t){function e(t,r){var n;!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e),n=function(t,e,r){return e=Nr(e),function(t,e){if(e&&("object"==Tr(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}(t,Mr()?Reflect.construct(e,r||[],Nr(t).constructor):e.apply(t,r))}(this,e,[t,r]);var o=t.subValues[t.parameters[0].name]||"";return n.state={toggled:!o},n}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&Fr(t,e)}(e,t),r=e,(n=[{key:"onValidStatusChange",value:function(t,e){var r=this.props,n=r.replicationGroup,o=r.onValidStatusChange;o&&o(t,e,n)}},{key:"render",value:function(){var t=this,e=this.props,r=e.first,n=e.hideSwaps,o=e.onSwapUp,i=e.onSwapDown,a=e.onRemove,u=e.parameters,c=e.subValues,l=e.disabled,s=e.onAddValue,p=this.state.toggled,f=1===u.length,y=c[u[0].name]||React.createElement("span",{style:{color:"rgba(0,0,0,0.33)"}},"Empty Value"),b={width:36,height:36,padding:6};if(f){var m={opacity:.3},h=!a||l?m:{},d=!o||l?m:{},v=!i||l?m:{};return React.createElement("div",{style:{display:"flex",width:"100%"}},React.createElement("div",{style:{flex:1}},React.createElement(xn,Ir({},this.props,{onValidStatusChange:this.onValidStatusChange.bind(this),tabs:null,values:c,onChange:null,className:"replicable-unique",depth:-1,style:{paddingBottom:0}}))),React.createElement("div",{style:{display:"flex",fontSize:24,paddingLeft:4,paddingTop:2}},s&&React.createElement("div",null,React.createElement("div",{className:Ur,style:{padding:"8px 4px",cursor:"pointer"},onClick:s})),React.createElement("div",null,React.createElement("div",{className:Vr,style:Cr({padding:"8px 4px",cursor:"pointer",color:"#9e9e9e"},h),onClick:a})),!n&&React.createElement("div",{style:{display:"flex",flexDirection:"column",padding:"0 4px"}},React.createElement("div",{className:Br,style:Cr({height:16,cursor:"pointer"},d),onClick:o}),React.createElement("div",{className:Lr,style:Cr({height:16,cursor:"pointer"},v),onClick:i}))))}return React.createElement(T.Paper,{zDepth:0,style:{border:"2px solid whitesmoke",marginTop:r?0:-2}},React.createElement("div",{style:{display:"flex",alignItems:"center",paddingRight:2}},React.createElement("div",null,React.createElement(T.IconButton,{iconClassName:"mdi mdi-menu-"+(this.state.toggled?"down":"right"),iconStyle:{color:"rgba(0,0,0,.15)"},onClick:function(){t.setState({toggled:!t.state.toggled})}})),React.createElement("div",{style:{flex:1,fontSize:16,cursor:n?"move":null}},y),React.createElement("div",null,s&&React.createElement(T.IconButton,{style:b,iconClassName:Ur,onClick:s}),React.createElement(T.IconButton,{style:b,iconStyle:{color:"#9e9e9e"},iconClassName:Vr,onClick:a,disabled:!a||l}),!n&&React.createElement(T.IconButton,{style:b,iconClassName:Br,onClick:o,disabled:!o||l}),!n&&React.createElement(T.IconButton,{style:b,iconClassName:Lr,onClick:i,disabled:!i||l}))),p&&React.createElement(xn,Ir({},this.props,{onValidStatusChange:this.onValidStatusChange.bind(this),tabs:null,values:c,onChange:null,className:"replicable-group",depth:-1})))}}])&&Rr(r.prototype,n),Object.defineProperty(r,"prototype",{writable:!1}),r;var r,n}(t.Component);function Hr(t){return Hr="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Hr(t)}function Gr(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,qr(n.key),n)}}function qr(t){var e=function(t){if("object"!=Hr(t)||!t)return t;var e=t[Symbol.toPrimitive];if(void 0!==e){var r=e.call(t,"string");if("object"!=Hr(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}(t);return"symbol"==Hr(e)?e:e+""}function $r(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))}catch(t){}return($r=function(){return!!t})()}function zr(t){return zr=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},zr(t)}function Jr(t,e){return Jr=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t},Jr(t,e)}var Kr=Pydio.requireLib("boot").M3Tooltip,Yr=function(t){function r(){return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,r),function(t,e,r){return e=zr(e),function(t,e){if(e&&("object"==Hr(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}(t,$r()?Reflect.construct(e,r||[],zr(t).constructor):e.apply(t,r))}(this,r,arguments)}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&Jr(t,e)}(r,t),n=r,(o=[{key:"render",value:function(){var t,r=this.props,n=r.attributes,o=r.onAltTextSwitch,i=r.altTextSwitchTip,a=r.altTextSwitchTipOff,u=r.label,c=r.legendLabel,l=r.children;if(o&&["select","boolean","integer","integer-bytes"].indexOf(n.type)>-1){var s=n.alternativeText,p=n.name;t=e().createElement("div",{style:{marginTop:8,textAlign:"right"}},e().createElement("span",{style:{cursor:"pointer",border:"1px solid white",borderRadius:16,display:"inline-block",padding:"0px 4px"},onClick:function(){return o(p,!s)}},e().createElement("span",{className:"mdi mdi-toggle-switch"+(s?"":"-off")}),"",s?a:i))}var f=e().createElement("div",{style:{padding:12}},e().createElement("div",{style:{fontSize:16,paddingBottom:4}},u),e().createElement("div",{style:{fontSize:13}},c),t);return e().createElement(Kr,{title:f,placement:"left"},l)}}])&&Gr(n.prototype,o),Object.defineProperty(n,"prototype",{writable:!1}),n;var n,o}(e().Component);const Xr=require("pydio/http/resources-manager");var Zr=r.n(Xr);function Qr(t){return Qr="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Qr(t)}function tn(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),r.push.apply(r,n)}return r}function en(t){for(var e=1;e<arguments.length;e++){var r=null!=arguments[e]?arguments[e]:{};e%2?tn(Object(r),!0).forEach((function(e){cn(t,e,r[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):tn(Object(r)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(r,e))}))}return t}function rn(){return rn=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)({}).hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},rn.apply(null,arguments)}function nn(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,ln(n.key),n)}}function on(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))}catch(t){}return(on=function(){return!!t})()}function an(t){return an=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},an(t)}function un(t,e){return un=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t},un(t,e)}function cn(t,e,r){return(e=ln(e))in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function ln(t){var e=function(t){if("object"!=Qr(t)||!t)return t;var e=t[Symbol.toPrimitive];if(void 0!==e){var r=e.call(t,"string");if("object"!=Qr(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}(t);return"symbol"==Qr(e)?e:e+""}var sn=r(2015),pn=r(6146).IconButton,fn=r(9825),yn=r(7919),bn=function(t){function e(t){var r;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e),cn(r=function(t,e,r){return e=an(e),function(t,e){if(e&&("object"==Qr(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}(t,on()?Reflect.construct(e,r||[],an(t).constructor):e.apply(t,r))}(this,e,[t]),"buildSubValue",(function(t,e){var r,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,o=0===n?"":"_"+n;return t.map((function(t){var n=t.name;void 0!==e[n+o]&&(r||(r={}),r[n]=e[n+o])})),r||!1})),cn(r,"indexedValues",(function(t){var e={},n=r.props.parameters;return t.map((function(t,r){var o=0===r?"":"_"+r;n.forEach((function(r){var n=r.name,i=t[n];if(void 0===i)if(r.default)i=r.default;else switch(r.type){case"string":case"select":i="";break;case"number":i=0;break;case"boolean":i=!1;break;default:i=null}e[n+o]=i}))})),e})),cn(r,"indexValues",(function(t,e){var n=r.props,o=n.parameters,i=n.onChange,a=n.onValidStatusChange,u=n.replicationGroup,c=r.indexedValues(t);if(i)if(e){var l={},s=t.length-1;o.map((function(t){l[t.name+(s>0?"_"+s:"")]=""})),i(c,!0,l),a&&a(!0,{},u)}else i(c,!0)})),cn(r,"instances",(function(){for(var t,e=r.props,n=e.values,o=e.parameters,i=[],a=0;t=r.buildSubValue(o,n,a);)a++,i.push(t);var u=o[0];if(!i.length&&"true"===u.replicationMandatory){var c={};o.map((function(t){c[t.name]=t.default||""})),i.push(c)}return i})),cn(r,"addRow",(function(){var t={},e=r.instances();r.props.parameters.map((function(e){t[e.name]=e.default||""})),e.push(t),r.indexValues(e)})),cn(r,"removeRow",(function(t){var e=r.instances(),n=e[t];(e=yn.arrayWithout(r.instances(),t)).push(n),r.indexValues(e,!0)})),cn(r,"swapRows",(function(t,e){var n=r.instances(),o=n[e];n[e]=n[t],n[t]=o,r.indexValues(n)})),cn(r,"onChange",(function(t,e,n){var o=r.instances();o[t]=e,r.indexValues(o)})),cn(r,"onParameterChange",(function(t,e,n,o){var i=r.instances();i[t][e]=n,r.indexValues(i)})),r.state={},Zr().loadClass("PydioComponents").then((function(t){r.setState({SortableList:t.SortableList})})),r}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&un(t,e)}(e,t),r=e,(n=[{key:"render",value:function(){var t=this,e=this.props,r=e.parameters,n=e.disabled,o=e.variant,i=e.variantShowLegend,a=e.replicationGroup,u=r[0],c=u.replicationTitle||u.label,l=u.replicationDescription,s="true"===u.replicationMandatory,p=this.state.SortableList,f=this.instances(),y=f.length>1,b=f.map((function(e,r){var n,o,i;y&&r>0&&(n=function(){t.swapRows(r,r-1)}),y&&r<f.length-1&&(o=function(){t.swapRows(r,r+1)}),!y&&s||(i=function(){t.removeRow(r)});var u={onSwapUp:n,onSwapDown:o,onRemove:i,onParameterChange:function(e,n,o){t.onParameterChange(r,e,n,o)}};return sn.createElement(Wr,rn({replicationGroup:a,hideSwaps:!!p,key:r},t.props,u,{subValues:e,first:0===r,last:r===f.length-1}))})),m=b.length?{}:{backgroundColor:"whitesmoke",borderRadius:4},h={marginBottom:14};"v2"===o&&(m=en(en({},m),{},{height:52,backgroundColor:"#f6f6f8",marginTop:8,borderRadius:"4px 4px 0 0"}),b.length||(m=en(en({},m),{},{borderBottom:"1px solid rgba(158,158,158,.3)"}),h={height:58}));var d=sn.createElement("div",{style:en({display:"flex",alignItems:"center"},m)},sn.createElement("div",{className:"title",style:{fontSize:16,flex:1,paddingLeft:10}},c),sn.createElement(pn,{key:"add",iconClassName:"mdi mdi-plus-circle",tooltipPosition:"bottom-left",style:{padding:14},iconStyle:{color:"#05a9f4"},tooltip:"Add value",onClick:function(){return t.addRow()},disabled:n}));return l&&i&&(d=sn.createElement(Yr,{attributes:{type:"replication"},label:c,legendLabel:l},d)),sn.createElement("div",{className:"replicable-field",style:h},d,p&&sn.createElement(p,{values:b.map((function(t,e){return{idx:e,row:t,payload:e,fieldsLength:b.length}})),renderItem:function(t){return t.row},onOrderUpdated:function(e,r,n){t.swapRows(e,r)}}),!p&&b)}}])&&nn(r.prototype,n),Object.defineProperty(r,"prototype",{writable:!1}),r;var r,n}(sn.Component);cn(bn,"propTypes",{parameters:fn.array.isRequired,values:fn.object,onChange:fn.func,disabled:fn.bool,binary_context:fn.string,depth:fn.number});var mn=r(9825),hn=r.n(mn),dn=r(5840),vn=r.n(dn);function gn(t){return gn="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},gn(t)}function Sn(t){return function(t){if(Array.isArray(t))return On(t)}(t)||function(t){if("undefined"!=typeof Symbol&&null!=t[Symbol.iterator]||null!=t["@@iterator"])return Array.from(t)}(t)||function(t,e){if(t){if("string"==typeof t)return On(t,e);var r={}.toString.call(t).slice(8,-1);return"Object"===r&&t.constructor&&(r=t.constructor.name),"Map"===r||"Set"===r?Array.from(t):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?On(t,e):void 0}}(t)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function On(t,e){(null==e||e>t.length)&&(e=t.length);for(var r=0,n=Array(e);r<e;r++)n[r]=t[r];return n}function wn(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),r.push.apply(r,n)}return r}function jn(t){for(var e=1;e<arguments.length;e++){var r=null!=arguments[e]?arguments[e]:{};e%2?wn(Object(r),!0).forEach((function(e){Pn(t,e,r[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):wn(Object(r)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(r,e))}))}return t}function Pn(t,e,r){return(e=function(t){var e=function(t){if("object"!=gn(t)||!t)return t;var e=t[Symbol.toPrimitive];if(void 0!==e){var r=e.call(t,"string");if("object"!=gn(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}(t);return"symbol"==gn(e)?e:e+""}(e))in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function En(){return En=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)({}).hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},En.apply(null,arguments)}const xn=hr()({displayName:"FormPanel",_internalParameters:null,_hiddenValues:{},_internalValid:{},_reducedValid:null,_parametersMetadata:null,propTypes:{parameters:hn().array.isRequired,values:hn().object,onParameterChange:hn().func,onChange:hn().func,onValidStatusChange:hn().func,disabled:hn().bool,binary_context:hn().string,depth:hn().number,header:hn().object,footer:hn().object,additionalPanes:hn().shape({top:hn().array,bottom:hn().array}),tabs:hn().array,onTabChange:hn().func,accordionizeIfGroupsMoreThan:hn().number,onScrollCallback:hn().func,limitToGroups:hn().array,skipFieldsTypes:hn().array,setHelperData:hn().func,checkHasHelper:hn().func,helperTestFor:hn().string},externallySelectTab:function(t){this.setState({tabSelectedIndex:t})},getInitialState:function(){return this.props.onTabChange?{tabSelectedIndex:0}:{}},getDefaultProps:function(){return{depth:0,values:{}}},componentWillReceiveProps:function(t){this._internalParameters&&JSON.stringify(t.parameters)===this._internalParameters||(this._internalValid={},this._reducedValid=null,this._hiddenValues={},this._parametersMetadata={},this._internalParameters=JSON.stringify(t.parameters)),t.values&&!vn()(t.values,this.props.values)&&this.checkValidStatus(t.values)},getValues:function(){return this.props.values},onParameterChange:function(t,e,r){var n=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null,o=Jt().deepCopy(this.getValues());this.props.onParameterChange&&this.props.onParameterChange(t,e,r,n),n&&(this._parametersMetadata||(this._parametersMetadata={}),this._parametersMetadata[t]=n),o[t]=e,this.onChange(o,!0)},onChange:function(t,e,r){if(this.props.onChange){for(var n in this._hiddenValues)!this._hiddenValues.hasOwnProperty(n)||void 0!==t[n]||r&&void 0!==r[n]||(t[n]=this._hiddenValues[n]);this.props.onChange(t,e,r)}this.checkValidStatus(t)},reduceValid:function(){var t=this;return Object.keys(this._internalValid).reduce((function(e,r){return e&&t._internalValid[r]}),!0)},validStatusChange:function(t){var e=this.props,r=e.onValidStatusChange,n=e.forceValidStatusCheck,o=this.reduceValid();(o!==this._reducedValid||n)&&r&&r(o,t),this._reducedValid=o},onSubformChange:function(t,e,r){var n=Jt().mergeObjectsRecursive(this.getValues(),t);if(r)for(var o in r)r.hasOwnProperty(o)&&void 0!==n[o]&&(delete n[o],void 0!==this._hiddenValues[o]&&delete this._hiddenValues[o]);this.onChange(n,e,r)},onSubformValidStatusChange:function(t,e,r){this._internalValid[r]=t,this.validStatusChange(e)},applyButtonAction:function(t,e){this.props.applyButtonAction&&this.props.applyButtonAction(t,e)},getValuesForPOST:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"DRIVER_OPTION_";return br.getValuesForPOST(this.props.parameters,t,e,this._parametersMetadata)},checkValidStatus:function(t){var e=this,r=[],n=this.props,o=n.parameters,i=n.replicationGroup;n.groupSwitchName||(o.filter((function(e){if(e.group_switch_value){var r=e.group_switch_name;return 1===o.filter((function(n){return n.type==="group_switch:"+r&&t[n.name]===e.group_switch_value})).length}return!0})).map((function(n){if(!n.replicationGroup||n.replicationGroup===i){var o=n.group_switch_name?n.group_switch_name+"/"+n.name:n.name;["string","textarea","password","integer","integer-bytes"].indexOf(n.type)>-1&&("true"===n.mandatory||!0===n.mandatory)&&(t&&t.hasOwnProperty(o)&&void 0!==t[o]&&""!==t[o]||r.push(n)),"valid-password"!==n.type&&"valid-login"!==n.type||!e.refs["form-element-"+n.name]||e.refs["form-element-"+n.name].isValid()||r.push(n)}})),this._internalValid.root=!r.length,this.validStatusChange(r))},componentDidMount:function(){this.checkValidStatus(this.props.values)},renderGroupHeader:function(t,r,n,o){var i={key:"group-"+t};if(r){var a=this.state&&this.state.currentActiveGroup?this.state.currentActiveGroup:null;i.className="group-label-"+(o?"active":"inactive"),i.onClick=function(){this.setState({currentActiveGroup:a!==n?n:null})}.bind(this),t=[e().createElement("span",{key:"toggler",className:"group-active-toggler mdi-mdi-chevron-"+(a===n?"down":"right")}),t]}return e().createElement("h"+(3+this.props.depth),i,t)},render:function(){var t=this,r=[],n=["__DEFAULT__"];r.__DEFAULT__={FIELDS:[]};var o={},i=this.props,a=i.parameters,c=i.values,l=i.skipFieldsTypes,s=i.disabled,p=i.binary_context,f=i.variant,y=i.variantShowLegend,b=i.panelStyle,m=this.props,h=m.altTextSwitchIcon,d=m.altTextSwitchTip,v=m.onAltTextSwitch,g=m.altTextSwitchTipOff,S=void 0===g?"Disable Mode Template":g;a.map(function(t){var i,b=this,m=t.type,g=t.name,O=t.replicationGroup;if(!(l&&l.indexOf(m)>-1||t.group_switch_name)){var w=t.group||"__DEFAULT__";if(r[w]||(n.push(w),r[w]={FIELDS:[],LABEL:w}),O){o[O]||(o[O]={PARAMS:[],GROUP:w,POSITION:r[w].FIELDS.length},r[w].FIELDS.push("REPLICATION:"+O));var j=Jt().deepCopy(t);delete j.replicationGroup,delete j.group,o[O].PARAMS.push(j)}else{if(0===m.indexOf("group_switch:"))i=e().createElement(_r,En({},this.props,{onChange:this.onSubformChange.bind(this),paramAttributes:t,parameters:a,values:c,key:g,onScrollCallback:null,limitToGroups:null}));else if("hidden"!==m){var P,E=this.props,x=E.setHelperData,_=E.checkHasHelper,T=E.helperTestFor;if(x&&_&&_(t.name,T)){var k=function(){x({paramAttributes:t,values:c,postValues:this.getValuesForPOST(c),applyButtonAction:this.applyButtonAction},T)}.bind(this);P=e().createElement("span",{className:"mdi mdi-comment-question-outline",onClick:k})}var C=!1,A="form-legend",I=t.errorText,R=t.warningText,D=t.mandatory;I?A="form-legend mandatory-missing":R?A="form-legend warning-message":!D||"true"!==D&&!0!==D||-1===["string","textarea","image","integer","integer-bytes"].indexOf(m)||c[g]||(C=!0,A="form-legend mandatory-missing");var M=t.description,N=t.readonly,F=t.multiple,B=R||M,L=t.label,V={ref:"form-element-"+g,attributes:jn(jn({},t),{},{label:L}),name:g,value:c[g],onChange:function(t,e,r){b.onParameterChange(g,t,e,r)},disabled:s||N,multiple:F,binary_context:p,displayContext:"form",applyButtonAction:this.applyButtonAction,variant:f,variantShowLegend:y,errorText:C?u().getInstance().MessageHash[621]:I||null,onAltTextSwitch:v,altTextSwitchIcon:h,altTextSwitchTip:d};i=e().createElement("div",{key:g,className:"form-entry-"+m},"v2"!==f&&e().createElement("div",{className:A},B," ",P),"v2"===f&&"legend"===t.type&&e().createElement("div",{style:{padding:"6px 3px",color:"#616161",fontSize:14}},B," ",P),br.createFormElement(V)),y&&B&&"legend"!==t.type&&(i=e().createElement(Yr,En({attributes:t,label:L,legendLabel:B,onAltTextSwitch:v,altTextSwitchTip:d,altTextSwitchTipOff:S},this.props),i))}else this._hiddenValues[g]=void 0===c[g]?t.default:c[g];i&&r[w].FIELDS.push(i)}}}.bind(this)),Object.keys(o).forEach((function(n){var i=o[n];r[i.GROUP].FIELDS[i.POSITION]=e().createElement(bn,En({},t.props,{key:"replication-group-"+i.PARAMS[0].name,replicationGroup:n,onChange:t.onSubformChange,onParameterChange:null,values:t.getValues(),depth:t.props.depth+1,parameters:i.PARAMS,applyButtonAction:t.applyButtonAction,onScrollCallback:null,onValidStatusChange:t.onSubformValidStatusChange.bind(t)}))}));var O=[],w=this.props.accordionizeIfGroupsMoreThan&&n.length>this.props.accordionizeIfGroupsMoreThan,j=this.state&&this.state.currentActiveGroup?this.state.currentActiveGroup:0;if(n.map(function(t,o){if(!this.props.limitToGroups||-1!==this.props.limitToGroups.indexOf(t)){var i,a=r[t],u="pydio-form-group",c=!1;w&&(c=j===o,u+=o===j?" form-group-active":" form-group-inactive"),a.FIELDS.length&&(!a.LABEL||this.props.skipFieldsTypes&&this.props.skipFieldsTypes.indexOf("GroupHeader")>-1||(i=this.renderGroupHeader(a.LABEL,w,o,c)),0===this.props.depth?(u+=" z-depth-1",O.push(e().createElement(T.Paper,{className:u,key:"pane-"+t},0===o&&this.props.header?this.props.header:null,i,e().createElement("div",null,a.FIELDS),o===n.length-1&&this.props.footer?this.props.footer:null))):O.push(e().createElement("div",{className:u,key:"pane-"+t},0===o&&this.props.header?this.props.header:null,i,e().createElement("div",null,a.FIELDS),o===n.length-1&&this.props.footer?this.props.footer:null)))}}.bind(this)),this.props.additionalPanes){var P={top:[],bottom:[]},E=this.props.depth,x=0;["top","bottom"].forEach((function(r){(t.props.additionalPanes[r]||[]).map((function(t){0===E?P[r].push(e().createElement(T.Paper,{className:"pydio-form-group additional",key:"other-pane-"+x},t)):P[r].push(e().createElement("div",{className:"pydio-form-group additional",key:"other-pane-"+x},t)),x++}))})),O=[].concat(Sn(P.top),Sn(O),Sn(P.bottom))}if(this.props.tabs){var _=this.props.className,k=0,C=0,A=this.props.tabs.map(function(t){var r=t.label,n=t.groups;t.selected&&(k=C);var o=n.map((function(t){return O[t]?O[t]:null}));return C++,e().createElement(T.Tab,{label:r,key:r,value:this.props.onTabChange?C-1:void 0},e().createElement("div",{className:(_?_+" ":" ")+"pydio-form-panel"+(o.length%2?" form-panel-odd":"")},o))}.bind(this));return void 0!==this.state.tabSelectedIndex&&(k=this.state.tabSelectedIndex),e().createElement("div",{className:"layout-fill vertical-layout tab-vertical-layout"},e().createElement(T.Tabs,{ref:"tabs",initialSelectedIndex:k,value:this.props.onTabChange?k:void 0,onChange:this.props.onTabChange?function(e){t.setState({tabSelectedIndex:e}),t.props.onTabChange(e)}:void 0,style:{flex:1,display:"flex",flexDirection:"column"},contentContainerStyle:{flex:1,overflowY:"auto"}},A))}return e().createElement("div",{className:(this.props.className?this.props.className+" ":" ")+"pydio-form-panel"+(O.length%2?" form-panel-odd":""),onScroll:this.props.onScrollCallback,style:jn({},b)},O)}});function _n(t){return _n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},_n(t)}function Tn(){return Tn=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)({}).hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},Tn.apply(null,arguments)}function kn(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,Dn(n.key),n)}}function Cn(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))}catch(t){}return(Cn=function(){return!!t})()}function An(t){return An=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},An(t)}function In(t,e){return In=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t},In(t,e)}function Rn(t,e,r){return(e=Dn(e))in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function Dn(t){var e=function(t){if("object"!=_n(t)||!t)return t;var e=t[Symbol.toPrimitive];if(void 0!==e){var r=e.call(t,"string");if("object"!=_n(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}(t);return"symbol"==_n(e)?e:e+""}var Mn=r(2015),Nn=r(4217).requireLib("boot").AsyncComponent,Fn=function(t){function e(){var t;!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e);for(var r=arguments.length,n=new Array(r),o=0;o<r;o++)n[o]=arguments[o];return Rn(t=function(t,e,r){return e=An(e),function(t,e){if(e&&("object"==_n(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}(t,Cn()?Reflect.construct(e,r||[],An(t).constructor):e.apply(t,r))}(this,e,[].concat(n)),"closeHelper",(function(){t.props.close()})),t}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&In(t,e)}(e,t),r=e,(n=[{key:"render",value:function(){var t;if(this.props.helperData){var e=br.getHelpersCache()[this.props.helperData.pluginId].namespace;t=Mn.createElement("div",null,Mn.createElement("div",{className:"helper-title"},Mn.createElement("span",{className:"helper-close mdi mdi-close",onClick:this.closeHelper}),"Pydio Companion"),Mn.createElement("div",{className:"helper-content"},Mn.createElement(Nn,Tn({},this.props.helperData,{namespace:e,componentName:"Helper",paramName:this.props.helperData.paramAttributes.name}))))}return Mn.createElement("div",{className:"pydio-form-helper"+(t?" helper-visible":" helper-empty"),style:{zIndex:1}},t)}}])&&kn(r.prototype,n),Object.defineProperty(r,"prototype",{writable:!1}),r;var r,n}(Mn.Component);Rn(Fn,"propTypes",{helperData:hn().object,close:hn().func.isRequired});var Bn={Manager:br,InputText:N,ValidPassword:Et,InputBoolean:bt,InputInteger:Rt,InputIntegerBytes:Q,InputSelectBox:Ce,AutocompleteBox:$e,AutocompleteTree:ar,InputImage:ie,FormPanel:xn,PydioHelper:Fn,FileDropZone:$t,createFormElement:br.createFormElement}})(),window.PydioForm=n})();