mariadb:
  enabled: true
  architecture: standalone
  volumePermissions:
    enabled: true
  tls:
    enabled: true
    existingSecret: "cells-tls"
    certFilename: tls.crt  # Defaults to "tls.crt"
    certKeyFilename: tls.key  # Defaults to "tls.key"
    caFilename: ca.crt  # Defaults to "ca.crt" (optional)
  global:   
    defaultStorageClass: ""
  primary:
    podAnnotations: {
      "sidecar.istio.io/inject": "false"
    }
    configuration: |-
      [mysqld]
      skip-name-resolve
      explicit_defaults_for_timestamp
      basedir=/opt/bitnami/mariadb
      plugin_dir=/opt/bitnami/mariadb/plugin
      port=3306
      socket=/opt/bitnami/mariadb/tmp/mysql.sock
      tmpdir=/opt/bitnami/mariadb/tmp
      max_allowed_packet=128M
      max_connections=2024
      bind-address=*
      pid-file=/opt/bitnami/mariadb/tmp/mysqld.pid
      log-error=/opt/bitnami/mariadb/logs/mysqld.log
      character-set-server=UTF8
      collation-server=utf8_general_ci
      slow_query_log=0
      slow_query_log_file=/opt/bitnami/mariadb/logs/mysqld.log
      long_query_time=10.0

      [client]
      port=3306
      socket=/opt/bitnami/mariadb/tmp/mysql.sock
      default-character-set=UTF8
      plugin_dir=/opt/bitnami/mariadb/plugin

      [manager]
      port=3306
      socket=/opt/bitnami/mariadb/tmp/mysql.sock
      pid-file=/opt/bitnami/mariadb/tmp/mysqld.pid
  commonAnnotations: {
    "sidecar.istio.io/inject": "false"
  }